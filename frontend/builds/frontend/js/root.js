(function(e){function t(t){for(var n,a,o=t[0],l=t[1],c=t[2],d=0,u=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(u.length)u.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,a=1;a<i.length;a++){var o=i[a];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=i[0]))}return e}var n={},a={root:0},r={root:0},s=[];function o(e){return l.p+"js/"+({}[e]||e)+".js"}function l(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(e){var t=[],i={"chunk-148bd346":1,"chunk-21c3a10b":1,"chunk-44a38aaa":1,"chunk-4735cf0b":1,"chunk-4c6d5824":1,"chunk-5b348ede":1,"chunk-63df7391":1,"chunk-747d5350":1,"chunk-97991682":1,"chunk-d085a80a":1};a[e]?t.push(a[e]):0!==a[e]&&i[e]&&t.push(a[e]=new Promise((function(t,i){for(var n="css/"+({}[e]||e)+".css",r=l.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var c=s[o],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===n||d===r))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){c=u[o],d=c.getAttribute("data-href");if(d===n||d===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[e],p.parentNode.removeChild(p),i(s)},p.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){a[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=s);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=o(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(p);var i=r[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",u.name="ChunkLoadError",u.type=n,u.request=a,i[1](u)}r[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/static/frontend/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=d;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"02c7":function(e,t,i){},"0334":function(e,t,i){"use strict";i("862f")},"045b":function(e,t,i){"use strict";i("a525")},"0469":function(e,t,i){e.exports=i.p+"img/detective-working.gif"},"050e":function(e,t,i){"use strict";i("f9b8")},"0585":function(e,t,i){"use strict";i("ec79")},"0692":function(e,t,i){"use strict";var n=i("5f34"),a=i("bb69"),r=i("b579"),s=i("346f"),o=i("2e15"),l=i("1c9d");const c=()=>Object(l["b"])(),d=c(),u={en:{translation:{...a,...s}},zh:{translation:{...r,...o}}};n["a"].init({resources:u,lng:d,fallbackLng:["en"],interpolation:{escapeValue:!1},debug:!0,nsSeparator:!1}),t["a"]=n["a"]},"0714":function(e,t,i){"use strict";i("191b")},"0820":function(e,t,i){},"0886":function(e,t,i){e.exports=i.p+"img/klipperScreenMenu.png"},"092e":function(e,t,i){},"0994":function(e,t,i){"use strict";i("704a")},"0af4":function(e,t,i){"use strict";i("e8c1")},"0c5c":function(e,t,i){"use strict";i("b6d2")},"0dce":function(e,t,i){"use strict";i("5062")},"0fb5":function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return c}));var n=i("a026"),a=i("6c44"),r=i("59cf");const s=n["default"].observable({value:r["c"]});function o(){return Object(r["b"])(s)}function l(){return Object(r["d"])(o(),n["default"].prototype.$syndicate)}function c(e){s.value=e,Object(a["a"])()&&localStorage.setItem("colorTheme",s.value),l(n["default"].prototype.$syndicate)}},"0fcf":function(e,t,i){},1:function(e,t){},"11cb":function(e,t,i){"use strict";i("e4df")},1279:function(e,t,i){"use strict";i("30de")},1705:function(e,t,i){"use strict";i("2e60")},"17ae":function(e,t,i){var n={"./DiscordPlugin":["0f1e","chunk-148bd346"],"./DiscordPlugin.vue":["0f1e","chunk-148bd346"],"./EmailPlugin":["c308","chunk-97991682"],"./EmailPlugin.vue":["c308","chunk-97991682"],"./PushbulletPlugin":["1cfc","chunk-21c3a10b"],"./PushbulletPlugin.vue":["1cfc","chunk-21c3a10b"],"./PushoverPlugin":["46f8","chunk-747d5350"],"./PushoverPlugin.vue":["46f8","chunk-747d5350"],"./SlackPlugin":["ff58","chunk-5b348ede"],"./SlackPlugin.vue":["ff58","chunk-5b348ede"],"./TelegramPlugin":["814e","chunk-4735cf0b"],"./TelegramPlugin.vue":["814e","chunk-4735cf0b"],"./TwilioPlugin":["e2bc","chunk-44a38aaa"],"./TwilioPlugin.vue":["e2bc","chunk-44a38aaa"],"./WebhookPlugin":["e920","chunk-4c6d5824"],"./WebhookPlugin.vue":["e920","chunk-4c6d5824"]};function a(e){if(!i.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return i.e(t[1]).then((function(){return i(a)}))}a.keys=function(){return Object.keys(n)},a.id="17ae",e.exports=a},"18bd":function(e,t,i){},"191b":function(e,t,i){},"1a72":function(e,t,i){},"1ae3":function(e,t,i){"use strict";i("585ae")},"1c3a":function(e,t,i){e.exports=i.p+"img/moonraker_verification_code.png"},"1c9d":function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"f",(function(){return s})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return l})),i.d(t,"b",(function(){return c}));const n=()=>JSON.parse(document.querySelector("#page-context-json").text),a=()=>n()["app_platform"],r=()=>""!==a(),s=()=>JSON.parse(document.querySelector("#user-json").text),o=()=>JSON.parse(document.querySelector("#settings-json").text),l=()=>n()["syndicate"],c=()=>n()["language"]},"1e2a":function(e,t,i){},"1f6a":function(e,t,i){e.exports=i.p+"img/mainsail_logo.png"},"222b":function(e,t,i){e.exports=i.p+"img/octopod.webp"},"262b":function(e,t,i){"use strict";i("1e2a")},2814:function(e,t,i){e.exports=i.p+"img/install_plugin.png"},2951:function(e,t,i){"use strict";i("7ffa")},"295c":function(e,t,i){"use strict";i("092e")},"2a20":function(e,t,i){},"2bcb":function(e,t,i){},"2bfb":function(e,t,i){},"2c72":function(e,t,i){},"2e15":function(e){e.exports=JSON.parse('{"What issues do you see in this snapshot? Select all that apply.":"您在这个快照中看到了什么问题？选择所有适用的。","Raised ripples ({localizedDom})":"凸起的波纹 ({localizedDom})","examples":"示例","Bubbling ({localizedDom})":"起泡 ({localizedDom})","Bumps or rough surfaces ({localizedDom})":"凸起或粗糙表面 ({localizedDom})","Detached or warping ({localizedDom})":"脱落或翘曲 ({localizedDom})","Gaps between lines ({localizedDom})":"线条之间的间隙 ({localizedDom})","Other":"其他","No issues":"没有问题","Oops, this is {localizedDom}":"哎呀，这是 {localizedDom}","not a nozzle camera":"不是喷嘴相机","Previous":"上一个","Finish":"完成","Next":"下一个","Welcome To":"欢迎来到","Your three-month Pro Plan Is Now Active":"您的三个月专业计划现已生效","Unlimited Premium Webcam Streaming":"无限制的高级网络摄像头流媒体","Unlimited AI Failure Detection":"无限AI故障检测","G-Code Remote Uploading and Printing":"G代码远程上传和打印","Unlimited Secure Tunnel to OctoPrint/Klipper":"无限安全隧道至OctoPrint/Klipper","Go To Printer Control Page":"转至打印机控制页面","Sign Up or Sign in to Your Obico Account":"注册或登录您的 Obico 帐户","And get instant access to":"并立即访问","Signup/Sign In":"注册登录","Create an account or Sign in to Choose Your plan":"创建帐户或登录以选择您的计划","AI Failure Detection":"人工智能故障检测","Create Account/Sign In":"创建帐户/登录","{name} AI Detection Hours / month pack":"{{name}} AI 检测小时数/月包","AI Detection Hour Pack not selected":"AI 检测小时包未选择","{name} AI Detection Hours / month":"{{name}} AI 检测小时数/月","No AI Detection Hour Pack":"没有 AI 检测小时包","You need to":"您需要","verify your primary email":"验证您的主要电子邮件","as it will be used for billing communication.":"因为它将被用于账单通讯。","Annual (SAVE 33%)":"年付（节省 33%）","Monthly":"每月","Number of printer(s)":"打印机数量","Add":"添加"," (No change) ":"（无变化）","Remove":"移除","Add Subscribe&Save AI Detection Hour Pack?":"添加订阅并保存 AI 检测小时包？","Popular":"流行","Current":"当前","Total":"总计","Pro plan":"专业计划","1st printer (included)":"第一台打印机（包含在内）","additional":"附加的","50 AI Detection Hours / month (included)":"50 AI 检测小时数/月（包含在内）","This is the total amount on your next bill. Click \'Checkout\' see how much is due today.":"这是您下一张账单的总金额。点击“结账”查看今天应付多少。","Cancel":"取消","Checkout":"结账","Questions You May Have":"您可能有的问题","What currency are your prices in?":"您的价格使用什么货币？","They’re in US dollars.":"它们是美元。","Which plan is right for me?":"哪个计划适合我？","It depends on how many 3D printers you have, and how often you print.":"这取决于您有多少台3D打印机，以及您打印的频率。","The Free plan is for users with only 1 printer and print very in-frequently. Another reason why you may want to choose the Free plan is you don\'t mind slow webcam streaming (up to 5 FPS). The Free plan even comes with 10 free AI Detection Hours per month. And you can get {localizedDom} if you need more.":"免费计划适用于只有1台打印机并且很少打印的用户。您可能想选择免费计划的另一个原因是您不介意慢速网络摄像头流（最高5 FPS）。免费计划甚至每月提供10个免费的AI检测小时。如果您需要更多，您可以获得{localizedDom}。","additional AI Detection Hours":"额外的 AI 检测小时","The Pro plan is for users who want to enjoy watching the webcam feed at the slick 25 FPS rate. It also comes with 50 AI Detection Hours every month. If you occasionally print more than 50 hours a month, you will most likely be ok because the {localizedDom}. When you upgrade to the Pro plan, you are also eligible to the {localizedDom2} at favorable rates.":"专业计划适用于希望以流畅的25 FPS速度观看网络摄像头视频的用户。它还每月提供50个AI检测小时。如果您偶尔一个月打印超过50小时，您最有可能会觉得还好，因为{localizedDom}。当您升级到专业计划时，您也有资格以优惠的价格获得{localizedDom2}。","Subscribe&Save AI Detection Hour Packs":"订阅并保存AI检测小时包","I have X printers and I print Y hours a month. Tell me exactly how much the Pro plan will cost me.":"我有X台打印机，一个月打印Y小时。告诉我专业计划将花费我多少钱。","Oops. We forgot to mention we have built a {localizedDom} for you.":"哎呀。我们忘了提我们为您构建了一个{localizedDom}。","price calculator":"价格计算器","Can I change my plan?":"我可以更改我的计划吗？","Of course! You can change the number of printers, add/change/remove Subcribe&Save AI Detection Hour Pack, or between annual and monthly, at any time as long as your subscription is still active.":"当然可以！只要您的订阅仍然有效，您可以随时更改打印机数量，添加/更改/删除订阅并保存AI检测小时包，或在年付和月付之间更改。","You will keep the unused AI Detection Hours when you change your subscription plan.":"当您更改订阅计划时，您将保留未使用的AI检测小时。","Can I cancel my plan?":"我可以取消我的计划吗？","Yes again! You can cancel your subscription any time.":"再次确认！您可以随时取消您的订阅。","However, the AI Detection Hours included in the plan and Subscribe&Save pack will expire at the end of your subscription period.":"但是，计划中包含的AI检测小时和订阅并保存包将在您的订阅期结束时到期。","What is your refund policy?":"您的退款政策是什么？","We offer a {localizedDom}":"我们提供一个{localizedDom}","30-Day Full Refund Policy":"30天全额退款政策","If you are not happy with the Pro plan, just {localizedDom} within 30 days and we will give you a full refund.":"如果您对专业计划不满意，只需在30天内{localizedDom}，我们将给您全额退款。","email us":"给我们发邮件","After 30 days, you can still cancel the subscription at any time. However, we usually don\'t refund the payment, due to the nature of a subscription service. Instead, we will keep your subscription active until the end of the current billing cycle. This is also a common practice for virtually all other subscription services such as Netflix.":"30天后，您仍然可以随时取消订阅。然而，由于订阅服务的性质，我们通常不会退款。相反，我们将保持您的订阅活跃直到当前账单周期结束。这也是几乎所有其他订阅服务（如Netflix）的常见做法。","However, we are all human and we want to be reasonable. If you have a good reason why we should refund to you after 30 days, {localizedDom} and we will consider your request.":"然而，我们都是人类，我们希望保持合理。如果您有一个好的理由说明为什么我们应该在30天后退款给您，{localizedDom}，我们将考虑您的请求。","Is it safe to give my credit card number to the {brandName} Cloud?":"将我的信用卡号码提供给 {{brandName}} Cloud安全吗？","Wrong question! You will not give credit number to us. Instead, it\'s Chargebee, {localizedDom}, that takes your credit card number and safely stores it.":"问错了！您不会把信用卡号码给我们。相反，是Chargebee，{localizedDom}，会接收您的信用卡号并安全存储。","a fully compliant billing service provider":"一个完全合规的账单服务提供商","Under no circumstances will the {brandName} Cloud process or store your payment information.":"在任何情况下，{{brandName}} Cloud都不会处理或存储您的支付信息。","I have many printers and print a lot. The Pro plan becomes really expensive. Can I still use the {brandName} Cloud?":"我有很多打印机并且打印很多。专业计划变得非常昂贵。我还能使用{{brandName}} Cloud吗？","Please {localizedDom} to customize a plan that works for your budget.":"请{localizedDom}来定制一个符合您预算的计划。","contact us":"联系我们","Failed to cancel subscription":"取消订阅失败","Your subscription will expire at the end of current billing cycle.":"您的订阅将在当前账单周期结束时到期。","I understand I will {localizedDom} when my subscription expires.":"我明白当我的订阅到期时我将{localizedDom}。","lose the unused expirable AI Detection Hours":"失去未使用的可到期的AI检测小时","One last thing. Please tell us why you want to cancel your subscription":"最后一件事。请告诉我们您为什么要取消您的订阅","I changed my mind. I\'ll keep my subscription":"我改变主意了。我会保留我的订阅","I still want to cancel my subscription":"我仍然想要取消我的订阅","Failed to delete account":"删除账户失败","Delete Account":"删除账户","Your account will be permanently deleted!":"您的账户将被永久删除！","I understand I will lose all data.":"我理解我将丢失所有数据。","One last thing. Please tell us why you want to delete your account":"最后一件事。请告诉我们您为什么要删除您的账户","Delete my account":"删除我的账户","You have an active subscription. If you want to delete your account, please {localizedDom}":"您有一个活跃的订阅。如果您想删除您的账户，请{localizedDom}","send us an email":"给我们发送一封邮件","AI Detection Hours":"AI 检测小时","Total AI Detection Hours ({localizedDom})":"总AI检测小时({localizedDom})","details":"详情"," Unlimited ":" 无限 ","Included in subscription plan or Subscribe&Save DH Pack.":"包含在订阅计划或订阅并保存DH包中。","Expires when subscription ends":"订阅结束时到期","Earned or bought with Pre-paid DH Pack.":"通过预付DH包赚取或购买。","(Never expires.)":"(永不过期。)","Running short of AI Detection Hours?":"AI检测小时不足？","Get more >>>":"获取更多 >>>","Renew your subscription plan":"续订您的订阅计划","Click":"点击","here":"这里","to open the billing portal.":"打开账单门户。","Click on your subscription.":"点击您的订阅。","Click \\"Remove scheduled cancellation\\"":"点击“移除预定取消”","It looks like you have a legacy DH Pack that we have discontinued.":"看起来您有一个我们已经停止的遗留DH包。","Please email {name} to change your subscription.":"请发邮件给{{name}}来更改您的订阅。","Subscription Plan":"订阅计划","You are currently on the Free plan.":"您目前处于免费计划。","You can still enjoy essential features such as the {localizedDom} and 10 free {localizedDom2} per month.":"您仍然可以享受基本功能，如{localizedDom}以及每月10个免费的{localizedDom2}。","Basic Webcam Streaming":"基础网络摄像头流","If you want to watch your webcam with the {localizedDom} and get more AI Detection Hours so that Obi can watch your prints for you, you can upgrade to the Pro plan.":"如果您想要用{localizedDom}观看您的网络摄像头并获取更多的AI检测小时，以便Obi可以为您监视您的打印，您可以升级到专业计划。","Premium Webcam Streaming":"高级网络摄像头流","Compare the plans":"比较计划","Your free trial of the Pro plan":"您的专业计划免费试用","will expire":"将会到期","AI Detection Hours will also expire with your free trial":"AI检测小时也将随您的免费试用到期","You can upgrade to Pro now to keep them.":"您现在可以升级到专业版以保留它们。","Upgrade to Pro Now (30-Day Money Back Guarantee)":"立即升级到专业版（30天退款保证）","About the free trial":"关于免费试用","During the 1 month trial period, you have access to all Pro features.":"在1个月的试用期内，您可以访问所有专业功能。","We also gave you 250 free {localizedDom}":"我们还给了您250个免费的{localizedDom}","so you would be able to fully experience the power of {brandName} without having to worry about running out.":"这样您就能充分体验{{brandName}}的力量而不必担心用完。","At the end of the free trial, you can continue the Pro plan with an annual or monthly subscription. Otherwise your account will be automatically converted to the Free plan.":"在免费试用结束时，您可以继续通过年付或月付订阅专业计划。否则您的账户将自动转换为免费计划。","You are currently on the complimentary Pro plan.":"您目前正在使用免费的专业计划。","It\'ll expire {localizedDom}":"它将在{localizedDom}到期","At that time, you can {localizedDom} or do nothing, in which case your account will be converted to Free plan automatically.":"届时，您可以{localizedDom}或什么都不做，在这种情况下，您的账户将自动转换为免费计划。","upgrade to the Pro plan":"升级到专业计划","Compare the plans >>>":"比较计划 >>>","Complimentary Pro plan doesn\'t allows Subscribe&Save AI Detection Hour Pack as add-ons. If you need more AI Detection Hours, you can get Pre-paid AI Detection Hour Pack.":"免费的专业计划不允许将订阅并保存AI检测小时包作为附加组件。如果您需要更多的AI检测小时，您可以获得预付AI检测小时包。","Your Pro plan will end {localizedDom}":"您的专业计划将在{localizedDom}结束","You will lose the remaining expirable AI Detection Hours when your plan ends (see {localizedDom} ).":"当您的计划结束时，您将失去剩余的可到期的AI检测小时（见{localizedDom}）。","To avoid the loss":"为避免损失","renew the plan now":"现在续订计划","You are currently on the Pro plan.":"您目前在专业计划上。","Your next billing date is":"您的下一个账单日期是","Plan total":"计划总额","Plan base":"基础计划","Additional printer(s)":"额外的打印机","You have fewer printers than you subscribed for. You can change your subscription to save money.":"您的打印机数量少于您订阅的数量。您可以更改您的订阅以节省资金。","The total doesn\'t reflect the coupon you may have received. Check your invoice for the final amount you paid.":"总额不反映您可能收到的优惠券。检查您的发票以了解您支付的最终金额。","Change Subscription":"更改订阅","Cancel Subscription":"取消订阅","Need to view invoices or change payment method?":"需要查看发票或更改支付方式吗？","Open the billing portal":"打开账单门户","Subscription":"订阅","Oops...":"哎呀...","Something went wrong! Please":"出了些问题！请","Contact us":"联系我们","for help.":"寻求帮助。","Are you sure?":"你确定吗？","Delete {name} printer? This action can not be undone.":"删除{{name}}打印机？此操作不能撤销。","Yes":"是","No":"否","Printer deleted":"打印机已删除","{name} has been permanently deleted":"{{name}}已被永久删除","Archived Printers":"已存档的打印机","The following printers have been archived because you have more printers than your plan allows.":"以下打印机已被存档，因为您的打印机数量超过了计划允许的数量。","Un-archive":"取消存档","Delete":"删除","You have a few options to un-archive printer(s)":"您有几个选项可以取消存档打印机","Delete or archive the printers you no longer need.":"删除或存档您不再需要的打印机。","Upgrade to the Pro plan. Please remember the Free plan is limited to only 1 printer. Check out {localizedDom}.":"升级到专业计划。请记住免费计划仅限于1台打印机。查看{localizedDom}。","the Pro plan pricing":"专业计划定价","If you are already on the Pro plan, you can change the number of printers on {localizedDom}.":"如果您已经在专业计划上，您可以在{localizedDom}上更改打印机的数量。","your subscription page":"您的订阅页面","Once your account is set up to allow for more printers, come back and un-archive the printers here.":"一旦您的账户设置允许更多打印机，返回此处并取消存档打印机。","Questions on why your printers are archived?":"有关为什么您的打印机被存档的问题？","Contact us.":"联系我们。","You have no archived printers.":"您没有存档的打印机。","Go back to the printer page.":"返回打印机页面。","The {brandName} plugin version is too old to use this function. Please update it to the latest version to test camera!":"{{brandName}}插件版本太旧，无法使用此功能。请将其更新到最新版本以测试相机！","Please confirm the snapshot below came from a":"请确认下面的快照来自于","nozzle camera":"喷嘴相机","not a regular webcam. The AI will NOT function correctly on a regular camera.":"而不是常规网络摄像头。AI在常规摄像头上将无法正确工作。","Unable to connect to your nozzle camera using the URL you entered!":"无法使用您输入的URL连接到您的喷嘴相机！","Please check the instruction for how to find the correct URL for your nozzle camera.":"请检查如何找到喷嘴相机正确URL的说明。","Celestrius Enrollment":"Celestrius 登记","Welcome To Celestrius!":"欢迎来到 Celestrius！","Thank you for choosing to participate in the Celestrius Alpha Program!":"感谢您选择参加 Celestrius Alpha 计划！","Celestrius is {brandName}\'s new First Layer AI model trained to work with your nozzle camera to make sure you have a perfect first layer.":"Celestrius 是 {{brandName}} 的新一层AI模型，经过训练可以与您的喷嘴相机一起工作，以确保您拥有完美的第一层。","Once your nozzle camera is configured, Celestrius will watch your first layer for under extrusion, bed adhesion issues, and other problems that may cause your print to fail.":"一旦配置了您的喷嘴相机，Celestrius 将监视您的第一层以检测挤出不足、床粘附问题和可能导致打印失败的其他问题。","Note: The First Layer AI will only work with {localizedDom}":"注意：第一层AI只会与 {localizedDom} 一起工作","compatible nozzle cameras":"兼容的喷嘴相机","You will get unpredictable results if a regular webcam is used":"如果使用常规网络摄像头，您将得到不可预测的结果","Camera Configuration":"相机配置","Is your nozzle camera installed and connected to OctoPrint or Klipper?":"您的喷嘴相机是否已安装并连接到 OctoPrint 或 Klipper？","Celestrius must be connected to a nozzle camera. You may use a 3DO nozzle camera or an endoscope camera. You will need to mount the camera on your own, but there are printable mounts available for the 3DO nozzle camera and for various endoscopes.":"Celestrius 必须连接到一个喷嘴相机。您可以使用 3DO 喷嘴相机或内窥镜相机。您需要自己安装相机，但有适用于 3DO 喷嘴相机和各种内窥镜的可打印安装座。","Learn more about camera mounting and installation options in the Nozzle Camera configuration guide.":"在喷嘴相机配置指南中了解更多关于相机安装和安装选项的信息。","Once your camera is installed and connected to OctoPrint or Klipper, come back here to configure your camera with Celestrius.":"一旦您的相机安装并连接到 OctoPrint 或 Klipper，请回到这里用 Celestrius 配置您的相机。","Note: When setting up the nozzle camera, take note to remember the camera’s snapshot URL.":"注意：设置喷嘴相机时，请记住相机的快照 URL。","Link Nozzle Camera to Celestrius":"将喷嘴相机链接到 Celestrius","Printers Found":"找到的打印机","Please select which printer(s) you want to configure. Note: AI detection hours are not impacted by Celestrius.":"请选择您想要配置的打印机。注意：AI 检测小时不受 Celestrius 影响。","Please select a printer to configure":"请选择一个打印机进行配置","Nozzle camera URL saved!":"喷嘴相机 URL 已保存！","System: ":"系统：","Please enter your nozzle cameras snapshot URL below. If you the nozzle camera is the only one you have in OctoPrint, you can copy and paste the the url from OctoPrint. Open Octoprint > Go to Settings > Webcam and Timelapse > Find the Snapshot URL. Valid examples: http://127.0.0.1:8080/?action=snapshot, http://yourIP/webcam/?action=snapshot":"请在下方输入您喷嘴相机的快照URL。如果喷嘴相机是您在OctoPrint中唯一的相机，您可以从OctoPrint复制并粘贴URL。打开Octoprint > 转到设置 > 网络摄像头和延时摄影 > 查找快照URL。有效的例子包括：http://127.0.0.1:8080/?action=snapshot, http://yourIP/webcam/?action=snapshot","If you have more than one camera configured, be sure to enter the snapshot url the for the nozzle camera. Click the test button to verify you have the right URL.":"如果您配置了不止一台相机，请确保输入喷嘴相机的快照url。点击测试按钮来验证您有正确的URL。","You have {name} camera(s) configured in Fluidd/Mainsail":"您在Fluidd/Mainsail中配置了{{name}}台相机","Select the nozzle camera from the menu below.":"从下面的菜单中选择喷嘴相机。","Select your nozzle camera to configure":"选择您的喷嘴相机进行配置","Save":"保存","Test Camera":"测试相机","Once you have configured at least one camera with Celestrius, you are ready to start printing! Configure additional printers above, or go to the printer page to start a print with Celestrius activated.":"一旦您至少配置了一台与Celestrius相连的相机，您就可以开始打印了！在上面配置额外的打印机，或者转到打印机页面以激活Celestrius开始打印。","Post first layer scan":"打印第一层扫描","Scan your print after your first layer is done at a lower speed. The scan will produce better images more in focus and with less motion blur. This is opted in by default but you can opt out of it.":"在第一层完成后以较低速度扫描您的打印。扫描将产生更清晰、运动模糊更少的更好图像。这是默认选择的，但您可以选择不使用它。","Note: Please make sure":"注意：请确保","the slicer correctly configured":"切片软件正确配置","Otherwise it won\'t scan.":"否则它不会扫描。","Enable post first layer scan":"启用打印第一层后扫描","Retract before scan":"扫描前回缩","Scan at height":"在特定高度扫描","No printers found!":"未找到打印机！","Slicer Configuration":"切片软件配置","Before you are ready to start, you need to configure your slicer to send the layer information to Klipper.":"在开始之前，您需要配置您的切片软件以将层信息发送到Klipper。","Currently, PrusaSlicer, SuperSlicer and Cura are supported.":"目前支持 PrusaSlicer、SuperSlicer 和 Cura。","Slicer configuration guide ":"切片软件配置指南 ","What to Expect during Alpha Testing.":"在Alpha测试期间可以期待什么。","During Alpha testing, you can continue using your 3D printer as you normally would.":"在Alpha测试期间，您可以继续像平常一样使用您的3D打印机。","Inside the {brandName} mobile and web app, things won’t look different than they did before you started the Celestrius Alpha. When you start a print, Celestrius will collect data while the first layer is printing. When the first layer finishes, the data will be analyzed for issues, and we will send you a report card telling you about the first layer.":"在{{brandName}}移动和网络应用程序内部，事物的外观不会与您开始Celestrius Alpha之前有什么不同。当您开始打印时，Celestrius将在第一层打印时收集数据。当第一层完成时，将对数据进行分析以查找问题，并且我们将发送一张报告卡告诉您有关第一层的信息。","Every email will contain a grade from A-F indicating quality level of the first layer. The email will also have a feedback link a the bottom. Your feedback is extremely helpful during this alpha phase. It will help us improve the model, and it will help us decide what features we still need to improve training for.":"每封电子邮件都会包含从 A 到 F 的等级，指示第一层的质量级别。 该电子邮件的底部还将有一个反馈链接。 您的反馈在此 alpha 阶段非常有帮助。 它将帮助我们改进模型，并将帮助我们决定仍然需要改进哪些特征的训练。","Every time you provide feedback, we will add 3 AI Detection Hours to your account, so the more you participate, the more hours you can stack up!":"每次您提供反馈，我们都会在您的账户中增加3个AI检测小时，因此您参与得越多，您可以积累的小时数就越多！","You just earned 3 AI Detection Hours!":"您刚刚获得了3个AI检测小时！","Having more training data is crucial for a better First Layer AI. Thank you!":"拥有更多的训练数据对于更好的第一层AI至关重要。谢谢您！","You can now close this page":"您现在可以关闭此页面","Okay!":"好的！","First Layer Snapshots":"第一层快照","Help {brandName}\'s First Layer AI (codename: Celestrius) learn and improve quickly by telling her what issues exist in each of these snapshots.":"通过告诉她每个快照中存在的问题，帮助{{brandName}}的第一层AI（代号：Celestrius）快速学习和改进。","Why should I do this?":"我为什么要这么做？","{brandName}\'s First Layer AI is still in her infant time. Just like a human baby, the only way she can learn is to be told by adults what is good and what is bad. By telling her what issues exist in these snapshots, you will help her get better at telling a good first layer apart from a bad one.":"{{brandName}}的第一层AI还处于初期阶段。就像一个人类婴儿，她能学习的唯一方式是被成年人告知什么是好的，什么是坏的。通过告诉她这些快照中存在的问题，您将帮助她更好地区分好的和坏的第一层。","Privacy Notice: By participating in this survey, you grant the {brandName} team members the permission to review all snapshots below.":"隐私声明：通过参与这项调查，您授权{{brandName}}团队成员审查下面的所有快照。","Earn 3 AI Detection Hours!":"赚取3个AI检测小时！","{name} snapshots were selected from your first layer print. Earn 3 AI Detection Hours by telling us if you see any printing issues with these snapshots!":"从您的第一层打印中选择了{{name}}个快照。通过告诉我们您是否在这些快照中看到任何打印问题来赚取3个AI检测小时！","Build Your Pro Plan":"构建您的专业计划","You have already redeemed this coupon.":"您已经兑换了这张优惠券。","Please contact Obico Support at":"请联系 Obico 支持：","Error":"错误","Failed to redeem the coupon code. Please try again later.":"兑换优惠券代码失败。 请稍后再试。","Oops! You already have an Obico Pro Plan...":"哎呀！ 您已经有 Obico Pro 计划...","Contact obico support at":"联系 obico 支持：","Oops! Invalid Coupon!":"哎呀！ 优惠券无效！","Activate Your Three-Month Obico Pro Plan":"激活您的三个月 Obico Pro 计划","As a valued Big Tree Tech customer, once your included plan expires, you can upgrade to a more advanced plan at a special discounted price. This offer is exclusively available for Big Tree Tech customers to ensure you continue to enjoy the benefits of Obico without interruption.":"作为 Big Tree Tech 的尊贵客户，一旦您包含的计划到期，您可以以特别折扣价格升级到更高级的计划。 此优惠专为 Big Tree Tech 客户提供，以确保您继续不间断地享受 Obico 的好处。","Redeem Plan":"兑换计划","Upgrade to an Obico Pro Plan and get a 25% discount as a valued BTT customer!":"升级到 Obico Pro 计划并作为 BTT 尊贵客户享受 25% 的折扣！","Obico has partnered with Big Tree Tech to give you an exclusive discount on an Obico Pro Plan. Get instant access to AI failure detection, first layer AI, webcam streaming, a highly rated mobile app and more for your 3D printer.":"Obico 与 Big Tree Tech 合作，为您提供 Obico Pro 计划的独家折扣。 即时访问适用于您的 3D 打印机的 AI 故障检测、第一层 AI、网络摄像头流、高评价的移动应用程序等。","Choose Plan":"选择计划","What\'s Included with Your Pro Plan":"您的专业计划包含哪些内容","Webcam Streaming":"网络摄像头流媒体","Full Remote Access":"完全远程访问","Mobile & Web App":"移动和网络应用程序","Printer Management":"打印机管理","Compatible with Your Favorite Software":"与您喜爱的软件兼容","Highly Rated Mobile App":"高评价的移动应用程序","Available for iOS and Android":"适用于 iOS 和 Android","Frequently Asked Questions":"经常问的问题","What happens when the three-month Pro Plan expires?":"三个月的专业计划到期后会发生什么？","When your three-month plan expires, you will have the change to upgrade to one of Obico’s Pro Plans at a special discounted rate. Learn more about the plan options":"当您的三个月计划到期时，您将可以以特别折扣价升级到 Obico 的 Pro 计划之一。 了解有关计划选项的更多信息","If you choose not to upgrade, your plan will be automatically reverted to an Obico Free Plan.":"如果您选择不升级，您的计划将自动恢复为 Obico 免费计划。"," for ${month} / month (${hour} / AI Detection Hour). Billed ${year} annually.":" 每月${{month}}（每个AI检测小时${{hour}}）。每年账单${{year}}。"," for ${month} / month (${hour} / AI Detection Hour).":" 每月${{month}}（每个AI检测小时${{hour}}）。","Calculate Plan Cost":"计算计划成本","Cloud Plans":"云计划","Thinking about self-hosting {brandName} Server instead?":"考虑自托管{{brandName}}服务器吗？","Check out self-hosting vs {brandName} Cloud.":"查看自托管与{{brandName}}云的对比。","Free":"免费","Print occasionally.":"偶尔打印。","Limited to 1 printer.":"限于1台打印机。","Get Started":"开始","Basic webcam streaming":"基本网络摄像头流","10 free AI Detection Hours/month included":"包括每月10小时免费AI检测","300MB /mo tunnel data":"每月300MB隧道数据","G-Code cloud storage up to 50MB per file, 1GB total":"G-Code云存储最多每个文件50MB，总共1GB","Companion mobile app for {localizedDom} and {localizedDom2}":"用于{localizedDom}和{localizedDom2}的配套移动应用","Android":"安卓","iOS":"iOS","Remote printer access and control":"远程打印机访问和控制","Notifications via Email, mobile push notification, Telegram, and more.":"通过电子邮件、移动推送通知、Telegram等方式的通知。","300MB /mo integration with your favorite 3rd-party mobile apps":"每月300MB与您最喜爱的第三方移动应用的集成","Community technical support":"社区技术支持","Pro":"专业版","Print every day. 2+ printers.":"每天打印。2台以上打印机。","$":"$","month":"每月","(Billed {name} annually)":"（每年账单{{name}}）","1st printer included":"包括第1台打印机","2+ printers at $":"2台以上打印机每台$","month / printer":"每月/打印机","Calculate cost":"计算成本","View/Change Subscription":"查看/更改订阅","Full refund within 30 days if you are not happy.":"如果您不满意，30天内全额退款。","Upgrade (30-Day Money Back Guarantee)":"升级（30天退款保证）","Start 1 month FREE trial":"开始1个月免费试用","Premium webcam streaming":"高级网络摄像头流","50 free AI Detection Hours/month included":"包括每月50小时免费AI检测","Unlimited tunnel data":"无限隧道数据","G-Code cloud storage up to 500MB per file, 50GB total":"G-Code云存储最多每个文件500MB，总共50GB","Unlimited integration with your favorite 3rd-party mobile apps":"与您最喜爱的第三方移动应用的无限集成","Email technical support":"电子邮件技术支持","Printer feed sharing with premium streaming quality":"具有高级流媒体质量的打印机订阅共享","Failure alerts via SMS (text message)":"通过SMS（短信）的失败警报","AI Detection Hour Packs":"AI检测小时包","Need more AI Detection Hours? Add the right amount of AI Detection Hours without burning a hole on your wallet.":"需要更多AI检测小时吗？在不让您的钱包出现漏洞的情况下添加正确数量的AI检测小时。","Pre-paid Pack":"预付包","Turn on AI failure detection only for the prints.":"仅针对打印打开 AI 故障检测。","Available to all plans.":"适用于所有计划。","Pre-paid AI Detection Hours never expire.":"预付AI检测小时永不过期。","One Time Purchase.":"一次性购买。","for":"为","Start 1 month FREE trial + 250 FREE AI Detection Hours":"开始1个月免费试用+250个免费AI检测小时","Purchase Selected AI Detection Hour Pack":"购买选定的AI检测小时包","Subscribe&Save Packs":"订阅并保存包","AI failure detection for all prints.":"对所有打印进行AI故障检测。","Available only as add-on to the Pro plan.":"仅作为专业计划的附加项提供。","Subscribed AI Detection Hours roll over month to month.":"订阅的AI检测小时从月到月滚动。","Subscribed AI Detection Hours expire when subscription ends.":"订阅结束时，订阅的AI检测小时到期。","You can change AI Detection Hour Pack or remove it from your Pro plan any time you want.":"您随时可以更改AI检测小时包或从您的专业计划中移除它。","Upgrade to Pro with selected AI Detection Hour Pack":"升级至专业版并选择AI检测小时包","Calculate Cost >>>":"计算成本 >>>","The Spaghetti Gallery":"意大利面画廊","End of public time-lapse list.":"公开延时列表的结束。","Loading...":"正在加载...","Your 30-Day {localizedDom} Free Trial Has Started!":"您的30天{localizedDom}免费试用已经开始！","Pro Plan":"专业计划","{trialDaysLeft} Days Left on Your {localizedDom} Free Trial!":"您的{localizedDom}免费试用还剩{trialDaysLeft}天！","Unlimited, 25 FPS Premium Webcam Streaming":"无限制，25 FPS 高级网络摄像头流","250 Hours Watched by AI for Failure Detection":"250小时由AI观看以进行故障检测","G-Code Remote Upload and Printing":"G-Code远程上传和打印","Link your 3D printer now so that you can fully enjoy the 30-Day Free Trial":"现在链接您的3D打印机，以便您可以充分享受30天的免费试用","Link Printer":"链接打印机","It\'s as easy as 1-2-3":"就像1-2-3一样简单","Just Checking Out":"只是查看","Not a whole lot you can see without your printer linked":"如果没有链接您的打印机，您看不到太多内容","Not ready to start yet? {localizedDom} to pause your free trial.":"还没准备好开始？{localizedDom}暂停您的免费试用。","Email us":"给我们发邮件"}')},"2e60":function(e,t,i){},"2e7f":function(e,t,i){e.exports=i.p+"img/octoprint_logo.png"},"2f4c":function(e,t,i){},"2fd9":function(e,t,i){},"30c2":function(e,t,i){},"30de":function(e,t,i){},"32d6":function(e,t,i){"use strict";i("dcd7")},"346f":function(e){e.exports=JSON.parse('{"What issues do you see in this snapshot? Select all that apply.":"What issues do you see in this snapshot? Select all that apply.","Raised ripples ({localizedDom})":"Raised ripples ({localizedDom})","examples":"examples","Bubbling ({localizedDom})":"Bubbling ({localizedDom})","Bumps or rough surfaces ({localizedDom})":"Bumps or rough surfaces ({localizedDom})","Detached or warping ({localizedDom})":"Detached or warping ({localizedDom})","Gaps between lines ({localizedDom})":"Gaps between lines ({localizedDom})","Other":"Other","No issues":"No issues","Oops, this is {localizedDom}":"Oops, this is {localizedDom}","not a nozzle camera":"not a nozzle camera","Previous":"Previous","Finish":"Finish","Next":"Next","Welcome To":"Welcome To","Your three-month Pro Plan Is Now Active":"Your three-month Pro Plan Is Now Active","Unlimited Premium Webcam Streaming":"Unlimited Premium Webcam Streaming","Unlimited AI Failure Detection":"Unlimited AI Failure Detection","G-Code Remote Uploading and Printing":"G-Code Remote Uploading and Printing","Unlimited Secure Tunnel to OctoPrint/Klipper":"Unlimited Secure Tunnel to OctoPrint/Klipper","Go To Printer Control Page":"Go To Printer Control Page","Sign Up or Sign in to Your Obico Account":"Sign Up or Sign in to Your Obico Account","And get instant access to":"And get instant access to","Signup/Sign In":"Signup/Sign In","Create an account or Sign in to Choose Your plan":"Create an account or Sign in to Choose Your plan","AI Failure Detection":"AI Failure Detection","Create Account/Sign In":"Create Account/Sign In","{name} AI Detection Hours / month pack":"{{name}} AI Detection Hours / month pack","AI Detection Hour Pack not selected":"AI Detection Hour Pack not selected","{name} AI Detection Hours / month":"{{name}} AI Detection Hours / month","No AI Detection Hour Pack":"No AI Detection Hour Pack","You need to":"You need to","verify your primary email":"verify your primary email","as it will be used for billing communication.":"as it will be used for billing communication.","Annual (SAVE 33%)":"Annual (SAVE 33%)","Monthly":"Monthly","Number of printer(s)":"Number of printer(s)","Add":"Add"," (No change) ":" (No change) ","Remove":"Remove","Add Subscribe&Save AI Detection Hour Pack?":"Add Subscribe&Save AI Detection Hour Pack?","Popular":"Popular","Current":"Current","Total":"Total","Pro plan":"Pro plan","1st printer (included)":"1st printer (included)","additional":"additional","50 AI Detection Hours / month (included)":"50 AI Detection Hours / month (included)","This is the total amount on your next bill. Click \'Checkout\' see how much is due today.":"This is the total amount on your next bill. Click \'Checkout\' see how much is due today.","Cancel":"Cancel","Checkout":"Checkout","Questions You May Have":"Questions You May Have","What currency are your prices in?":"What currency are your prices in?","They’re in US dollars.":"They’re in US dollars.","Which plan is right for me?":"Which plan is right for me?","It depends on how many 3D printers you have, and how often you print.":"It depends on how many 3D printers you have, and how often you print.","The Free plan is for users with only 1 printer and print very in-frequently. Another reason why you may want to choose the Free plan is you don\'t mind slow webcam streaming (up to 5 FPS). The Free plan even comes with 10 free AI Detection Hours per month. And you can get {localizedDom} if you need more.":"The Free plan is for users with only 1 printer and print very in-frequently. Another reason why you may want to choose the Free plan is you don\'t mind slow webcam streaming (up to 5 FPS). The Free plan even comes with 10 free AI Detection Hours per month. And you can get {localizedDom} if you need more.","additional AI Detection Hours":"additional AI Detection Hours","The Pro plan is for users who want to enjoy watching the webcam feed at the slick 25 FPS rate. It also comes with 50 AI Detection Hours every month. If you occasionally print more than 50 hours a month, you will most likely be ok because the {localizedDom}. When you upgrade to the Pro plan, you are also eligible to the {localizedDom2} at favorable rates.":"The Pro plan is for users who want to enjoy watching the webcam feed at the slick 25 FPS rate. It also comes with 50 AI Detection Hours every month. If you occasionally print more than 50 hours a month, you will most likely be ok because the {localizedDom}. When you upgrade to the Pro plan, you are also eligible to the {localizedDom2} at favorable rates.","Subscribe&Save AI Detection Hour Packs":"Subscribe&Save AI Detection Hour Packs","I have X printers and I print Y hours a month. Tell me exactly how much the Pro plan will cost me.":"I have X printers and I print Y hours a month. Tell me exactly how much the Pro plan will cost me.","Oops. We forgot to mention we have built a {localizedDom} for you.":"Oops. We forgot to mention we have built a {localizedDom} for you.","price calculator":"price calculator","Can I change my plan?":"Can I change my plan?","Of course! You can change the number of printers, add/change/remove Subcribe&Save AI Detection Hour Pack, or between annual and monthly, at any time as long as your subscription is still active.":"Of course! You can change the number of printers, add/change/remove Subcribe&Save AI Detection Hour Pack, or between annual and monthly, at any time as long as your subscription is still active.","You will keep the unused AI Detection Hours when you change your subscription plan.":"You will keep the unused AI Detection Hours when you change your subscription plan.","Can I cancel my plan?":"Can I cancel my plan?","Yes again! You can cancel your subscription any time.":"Yes again! You can cancel your subscription any time.","However, the AI Detection Hours included in the plan and Subscribe&Save pack will expire at the end of your subscription period.":"However, the AI Detection Hours included in the plan and Subscribe&Save pack will expire at the end of your subscription period.","What is your refund policy?":"What is your refund policy?","We offer a {localizedDom}":"We offer a {localizedDom}","30-Day Full Refund Policy":"30-Day Full Refund Policy","If you are not happy with the Pro plan, just {localizedDom} within 30 days and we will give you a full refund.":"If you are not happy with the Pro plan, just {localizedDom} within 30 days and we will give you a full refund.","email us":"email us","After 30 days, you can still cancel the subscription at any time. However, we usually don\'t refund the payment, due to the nature of a subscription service. Instead, we will keep your subscription active until the end of the current billing cycle. This is also a common practice for virtually all other subscription services such as Netflix.":"After 30 days, you can still cancel the subscription at any time. However, we usually don\'t refund the payment, due to the nature of a subscription service. Instead, we will keep your subscription active until the end of the current billing cycle. This is also a common practice for virtually all other subscription services such as Netflix.","However, we are all human and we want to be reasonable. If you have a good reason why we should refund to you after 30 days, {localizedDom} and we will consider your request.":"However, we are all human and we want to be reasonable. If you have a good reason why we should refund to you after 30 days, {localizedDom} and we will consider your request.","Is it safe to give my credit card number to the {brandName} Cloud?":"Is it safe to give my credit card number to the {{brandName}} Cloud?","Wrong question! You will not give credit number to us. Instead, it\'s Chargebee, {localizedDom}, that takes your credit card number and safely stores it.":"Wrong question! You will not give credit number to us. Instead, it\'s Chargebee, {localizedDom}, that takes your credit card number and safely stores it.","a fully compliant billing service provider":"a fully compliant billing service provider","Under no circumstances will the {brandName} Cloud process or store your payment information.":"Under no circumstances will the {{brandName}} Cloud process or store your payment information.","I have many printers and print a lot. The Pro plan becomes really expensive. Can I still use the {brandName} Cloud?":"I have many printers and print a lot. The Pro plan becomes really expensive. Can I still use the {{brandName}} Cloud?","Please {localizedDom} to customize a plan that works for your budget.":"Please {localizedDom} to customize a plan that works for your budget.","contact us":"contact us","Failed to cancel subscription":"Failed to cancel subscription","Your subscription will expire at the end of current billing cycle.":"Your subscription will expire at the end of current billing cycle.","I understand I will {localizedDom} when my subscription expires.":"I understand I will {localizedDom} when my subscription expires.","lose the unused expirable AI Detection Hours":"lose the unused expirable AI Detection Hours","One last thing. Please tell us why you want to cancel your subscription":"One last thing. Please tell us why you want to cancel your subscription","I changed my mind. I\'ll keep my subscription":"I changed my mind. I\'ll keep my subscription","I still want to cancel my subscription":"I still want to cancel my subscription","Failed to delete account":"Failed to delete account","Delete Account":"Delete Account","Your account will be permanently deleted!":"Your account will be permanently deleted!","I understand I will lose all data.":"I understand I will lose all data.","One last thing. Please tell us why you want to delete your account":"One last thing. Please tell us why you want to delete your account","Delete my account":"Delete my account","You have an active subscription. If you want to delete your account, please {localizedDom}":"You have an active subscription. If you want to delete your account, please {localizedDom}","send us an email":"send us an email","AI Detection Hours":"AI Detection Hours","Total AI Detection Hours ({localizedDom})":"Total AI Detection Hours ({localizedDom})","details":"details"," Unlimited ":" Unlimited ","Included in subscription plan or Subscribe&Save DH Pack.":"Included in subscription plan or Subscribe&Save DH Pack.","Expires when subscription ends":"Expires when subscription ends","Earned or bought with Pre-paid DH Pack.":"Earned or bought with Pre-paid DH Pack.","(Never expires.)":"(Never expires.)","Running short of AI Detection Hours?":"Running short of AI Detection Hours?","Get more >>>":"Get more >>>","Renew your subscription plan":"Renew your subscription plan","Click":"Click","here":"here","to open the billing portal.":"to open the billing portal.","Click on your subscription.":"Click on your subscription.","Click \\"Remove scheduled cancellation\\"":"Click \\"Remove scheduled cancellation\\"","It looks like you have a legacy DH Pack that we have discontinued.":"It looks like you have a legacy DH Pack that we have discontinued.","Please email {name} to change your subscription.":"Please email {{name}} to change your subscription.","Subscription Plan":"Subscription Plan","You are currently on the Free plan.":"You are currently on the Free plan.","You can still enjoy essential features such as the {localizedDom} and 10 free {localizedDom2} per month.":"You can still enjoy essential features such as the {localizedDom} and 10 free {localizedDom2} per month.","Basic Webcam Streaming":"Basic Webcam Streaming","If you want to watch your webcam with the {localizedDom} and get more AI Detection Hours so that Obi can watch your prints for you, you can upgrade to the Pro plan.":"If you want to watch your webcam with the {localizedDom} and get more AI Detection Hours so that Obi can watch your prints for you, you can upgrade to the Pro plan.","Premium Webcam Streaming":"Premium Webcam Streaming","Compare the plans":"Compare the plans","Your free trial of the Pro plan":"Your free trial of the Pro plan","will expire":"will expire","AI Detection Hours will also expire with your free trial":"AI Detection Hours will also expire with your free trial","You can upgrade to Pro now to keep them.":"You can upgrade to Pro now to keep them.","Upgrade to Pro Now (30-Day Money Back Guarantee)":"Upgrade to Pro Now (30-Day Money Back Guarantee)","About the free trial":"About the free trial","During the 1 month trial period, you have access to all Pro features.":"During the 1 month trial period, you have access to all Pro features.","We also gave you 250 free {localizedDom}":"We also gave you 250 free {localizedDom}","so you would be able to fully experience the power of {brandName} without having to worry about running out.":"so you would be able to fully experience the power of {{brandName}} without having to worry about running out.","At the end of the free trial, you can continue the Pro plan with an annual or monthly subscription. Otherwise your account will be automatically converted to the Free plan.":"At the end of the free trial, you can continue the Pro plan with an annual or monthly subscription. Otherwise your account will be automatically converted to the Free plan.","You are currently on the complimentary Pro plan.":"You are currently on the complimentary Pro plan.","It\'ll expire {localizedDom}":"It\'ll expire {localizedDom}","At that time, you can {localizedDom} or do nothing, in which case your account will be converted to Free plan automatically.":"At that time, you can {localizedDom} or do nothing, in which case your account will be converted to Free plan automatically.","upgrade to the Pro plan":"upgrade to the Pro plan","Compare the plans >>>":"Compare the plans >>>","Complimentary Pro plan doesn\'t allows Subscribe&Save AI Detection Hour Pack as add-ons. If you need more AI Detection Hours, you can get Pre-paid AI Detection Hour Pack.":"Complimentary Pro plan doesn\'t allows Subscribe&Save AI Detection Hour Pack as add-ons. If you need more AI Detection Hours, you can get Pre-paid AI Detection Hour Pack.","Your Pro plan will end {localizedDom}":"Your Pro plan will end {localizedDom}","You will lose the remaining expirable AI Detection Hours when your plan ends (see {localizedDom} ).":"You will lose the remaining expirable AI Detection Hours when your plan ends (see {localizedDom} ).","To avoid the loss":"To avoid the loss","renew the plan now":"renew the plan now","You are currently on the Pro plan.":"You are currently on the Pro plan.","Your next billing date is":"Your next billing date is","Plan total":"Plan total","Plan base":"Plan base","Additional printer(s)":"Additional printer(s)","You have fewer printers than you subscribed for. You can change your subscription to save money.":"You have fewer printers than you subscribed for. You can change your subscription to save money.","The total doesn\'t reflect the coupon you may have received. Check your invoice for the final amount you paid.":"The total doesn\'t reflect the coupon you may have received. Check your invoice for the final amount you paid.","Change Subscription":"Change Subscription","Cancel Subscription":"Cancel Subscription","Need to view invoices or change payment method?":"Need to view invoices or change payment method?","Open the billing portal":"Open the billing portal","Subscription":"Subscription","Oops...":"Oops...","Something went wrong! Please":"Something went wrong! Please","Contact us":"Contact us","for help.":"for help.","Are you sure?":"Are you sure?","Delete {name} printer? This action can not be undone.":"Delete {{name}} printer? This action can not be undone.","Yes":"Yes","No":"No","Printer deleted":"Printer deleted","{name} has been permanently deleted":"{{name}} has been permanently deleted","Archived Printers":"Archived Printers","The following printers have been archived because you have more printers than your plan allows.":"The following printers have been archived because you have more printers than your plan allows.","Un-archive":"Un-archive","Delete":"Delete","You have a few options to un-archive printer(s)":"You have a few options to un-archive printer(s)","Delete or archive the printers you no longer need.":"Delete or archive the printers you no longer need.","Upgrade to the Pro plan. Please remember the Free plan is limited to only 1 printer. Check out {localizedDom}.":"Upgrade to the Pro plan. Please remember the Free plan is limited to only 1 printer. Check out {localizedDom}.","the Pro plan pricing":"the Pro plan pricing","If you are already on the Pro plan, you can change the number of printers on {localizedDom}.":"If you are already on the Pro plan, you can change the number of printers on {localizedDom}.","your subscription page":"your subscription page","Once your account is set up to allow for more printers, come back and un-archive the printers here.":"Once your account is set up to allow for more printers, come back and un-archive the printers here.","Questions on why your printers are archived?":"Questions on why your printers are archived?","Contact us.":"Contact us.","You have no archived printers.":"You have no archived printers.","Go back to the printer page.":"Go back to the printer page.","The {brandName} plugin version is too old to use this function. Please update it to the latest version to test camera!":"The {{brandName}} plugin version is too old to use this function. Please update it to the latest version to test camera!","Please confirm the snapshot below came from a":"Please confirm the snapshot below came from a","nozzle camera":"nozzle camera","not a regular webcam. The AI will NOT function correctly on a regular camera.":"not a regular webcam. The AI will NOT function correctly on a regular camera.","Unable to connect to your nozzle camera using the URL you entered!":"Unable to connect to your nozzle camera using the URL you entered!","Please check the instruction for how to find the correct URL for your nozzle camera.":"Please check the instruction for how to find the correct URL for your nozzle camera.","Celestrius Enrollment":"Celestrius Enrollment","Welcome To Celestrius!":"Welcome To Celestrius!","Thank you for choosing to participate in the Celestrius Alpha Program!":"Thank you for choosing to participate in the Celestrius Alpha Program!","Celestrius is {brandName}\'s new First Layer AI model trained to work with your nozzle camera to make sure you have a perfect first layer.":"Celestrius is {{brandName}}\'s new First Layer AI model trained to work with your nozzle camera to make sure you have a perfect first layer.","Once your nozzle camera is configured, Celestrius will watch your first layer for under extrusion, bed adhesion issues, and other problems that may cause your print to fail.":"Once your nozzle camera is configured, Celestrius will watch your first layer for under extrusion, bed adhesion issues, and other problems that may cause your print to fail.","Note: The First Layer AI will only work with {localizedDom}":"Note: The First Layer AI will only work with {localizedDom}","compatible nozzle cameras":"compatible nozzle cameras","You will get unpredictable results if a regular webcam is used":"You will get unpredictable results if a regular webcam is used","Camera Configuration":"Camera Configuration","Is your nozzle camera installed and connected to OctoPrint or Klipper?":"Is your nozzle camera installed and connected to OctoPrint or Klipper?","Celestrius must be connected to a nozzle camera. You may use a 3DO nozzle camera or an endoscope camera. You will need to mount the camera on your own, but there are printable mounts available for the 3DO nozzle camera and for various endoscopes.":"Celestrius must be connected to a nozzle camera. You may use a 3DO nozzle camera or an endoscope camera. You will need to mount the camera on your own, but there are printable mounts available for the 3DO nozzle camera and for various endoscopes.","Learn more about camera mounting and installation options in the Nozzle Camera configuration guide.":"Learn more about camera mounting and installation options in the Nozzle Camera configuration guide.","Once your camera is installed and connected to OctoPrint or Klipper, come back here to configure your camera with Celestrius.":"Once your camera is installed and connected to OctoPrint or Klipper, come back here to configure your camera with Celestrius.","Note: When setting up the nozzle camera, take note to remember the camera’s snapshot URL.":"Note: When setting up the nozzle camera, take note to remember the camera’s snapshot URL.","Link Nozzle Camera to Celestrius":"Link Nozzle Camera to Celestrius","Printers Found":"Printers Found","Please select which printer(s) you want to configure. Note: AI detection hours are not impacted by Celestrius.":"Please select which printer(s) you want to configure. Note: AI detection hours are not impacted by Celestrius.","Please select a printer to configure":"Please select a printer to configure","Nozzle camera URL saved!":"Nozzle camera URL saved!","System: ":"System: ","Please enter your nozzle cameras snapshot URL below. If you the nozzle camera is the only one you have in OctoPrint, you can copy and paste the the url from OctoPrint. Open Octoprint > Go to Settings > Webcam and Timelapse > Find the Snapshot URL. Valid examples: http://127.0.0.1:8080/?action=snapshot, http://yourIP/webcam/?action=snapshot":"Please enter your nozzle cameras snapshot URL below. If you the nozzle camera is the only one you have in OctoPrint, you can copy and paste the the url from OctoPrint. Open Octoprint > Go to Settings > Webcam and Timelapse > Find the Snapshot URL. Valid examples: http://127.0.0.1:8080/?action=snapshot, http://yourIP/webcam/?action=snapshot","If you have more than one camera configured, be sure to enter the snapshot url the for the nozzle camera. Click the test button to verify you have the right URL.":"If you have more than one camera configured, be sure to enter the snapshot url the for the nozzle camera. Click the test button to verify you have the right URL.","You have {name} camera(s) configured in Fluidd/Mainsail":"You have {{name}} camera(s) configured in Fluidd/Mainsail","Select the nozzle camera from the menu below.":"Select the nozzle camera from the menu below.","Select your nozzle camera to configure":"Select your nozzle camera to configure","Save":"Save","Test Camera":"Test Camera","Once you have configured at least one camera with Celestrius, you are ready to start printing! Configure additional printers above, or go to the printer page to start a print with Celestrius activated.":"Once you have configured at least one camera with Celestrius, you are ready to start printing! Configure additional printers above, or go to the printer page to start a print with Celestrius activated.","Post first layer scan":"Post first layer scan","Scan your print after your first layer is done at a lower speed. The scan will produce better images more in focus and with less motion blur. This is opted in by default but you can opt out of it.":"Scan your print after your first layer is done at a lower speed. The scan will produce better images more in focus and with less motion blur. This is opted in by default but you can opt out of it.","Note: Please make sure":"Note: Please make sure","the slicer correctly configured":"the slicer correctly configured","Otherwise it won\'t scan.":"Otherwise it won\'t scan.","Enable post first layer scan":"Enable post first layer scan","Retract before scan":"Retract before scan","Scan at height":"Scan at height","No printers found!":"No printers found!","Slicer Configuration":"Slicer Configuration","Before you are ready to start, you need to configure your slicer to send the layer information to Klipper.":"Before you are ready to start, you need to configure your slicer to send the layer information to Klipper.","Currently, PrusaSlicer, SuperSlicer and Cura are supported.":"Currently, PrusaSlicer, SuperSlicer and Cura are supported.","Slicer configuration guide ":"Slicer configuration guide ","What to Expect during Alpha Testing.":"What to Expect during Alpha Testing.","During Alpha testing, you can continue using your 3D printer as you normally would.":"During Alpha testing, you can continue using your 3D printer as you normally would.","Inside the {brandName} mobile and web app, things won’t look different than they did before you started the Celestrius Alpha. When you start a print, Celestrius will collect data while the first layer is printing. When the first layer finishes, the data will be analyzed for issues, and we will send you a report card telling you about the first layer.":"Inside the {{brandName}} mobile and web app, things won’t look different than they did before you started the Celestrius Alpha. When you start a print, Celestrius will collect data while the first layer is printing. When the first layer finishes, the data will be analyzed for issues, and we will send you a report card telling you about the first layer.","Every email will contain a grade from A-F indicating quality level of the first layer. The email will also have a feedback link a the bottom. Your feedback is extremely helpful during this alpha phase. It will help us improve the model, and it will help us decide what features we still need to improve training for.":"Every email will contain a grade from A-F indicating quality level of the first layer. The email will also have a feedback link a the bottom. Your feedback is extremely helpful during this alpha phase. It will help us improve the model, and it will help us decide what features we still need to improve training for.","Every time you provide feedback, we will add 3 AI Detection Hours to your account, so the more you participate, the more hours you can stack up!":"Every time you provide feedback, we will add 3 AI Detection Hours to your account, so the more you participate, the more hours you can stack up!","You just earned 3 AI Detection Hours!":"You just earned 3 AI Detection Hours!","Having more training data is crucial for a better First Layer AI. Thank you!":"Having more training data is crucial for a better First Layer AI. Thank you!","You can now close this page":"You can now close this page","Okay!":"Okay!","First Layer Snapshots":"First Layer Snapshots","Help {brandName}\'s First Layer AI (codename: Celestrius) learn and improve quickly by telling her what issues exist in each of these snapshots.":"Help {{brandName}}\'s First Layer AI (codename: Celestrius) learn and improve quickly by telling her what issues exist in each of these snapshots.","Why should I do this?":"Why should I do this?","{brandName}\'s First Layer AI is still in her infant time. Just like a human baby, the only way she can learn is to be told by adults what is good and what is bad. By telling her what issues exist in these snapshots, you will help her get better at telling a good first layer apart from a bad one.":"{{brandName}}\'s First Layer AI is still in her infant time. Just like a human baby, the only way she can learn is to be told by adults what is good and what is bad. By telling her what issues exist in these snapshots, you will help her get better at telling a good first layer apart from a bad one.","Privacy Notice: By participating in this survey, you grant the {brandName} team members the permission to review all snapshots below.":"Privacy Notice: By participating in this survey, you grant the {{brandName}} team members the permission to review all snapshots below.","Earn 3 AI Detection Hours!":"Earn 3 AI Detection Hours!","{name} snapshots were selected from your first layer print. Earn 3 AI Detection Hours by telling us if you see any printing issues with these snapshots!":"{{name}} snapshots were selected from your first layer print. Earn 3 AI Detection Hours by telling us if you see any printing issues with these snapshots!","Build Your Pro Plan":"Build Your Pro Plan","You have already redeemed this coupon.":"You have already redeemed this coupon.","Please contact Obico Support at":"Please contact Obico Support at","Error":"Error","Failed to redeem the coupon code. Please try again later.":"Failed to redeem the coupon code. Please try again later.","Oops! You already have an Obico Pro Plan...":"Oops! You already have an Obico Pro Plan...","Contact obico support at":"Contact obico support at","Oops! Invalid Coupon!":"Oops! Invalid Coupon!","Activate Your Three-Month Obico Pro Plan":"Activate Your Three-Month Obico Pro Plan","As a valued Big Tree Tech customer, once your included plan expires, you can upgrade to a more advanced plan at a special discounted price. This offer is exclusively available for Big Tree Tech customers to ensure you continue to enjoy the benefits of Obico without interruption.":"As a valued Big Tree Tech customer, once your included plan expires, you can upgrade to a more advanced plan at a special discounted price. This offer is exclusively available for Big Tree Tech customers to ensure you continue to enjoy the benefits of Obico without interruption.","Redeem Plan":"Redeem Plan","Upgrade to an Obico Pro Plan and get a 25% discount as a valued BTT customer!":"Upgrade to an Obico Pro Plan and get a 25% discount as a valued BTT customer!","Obico has partnered with Big Tree Tech to give you an exclusive discount on an Obico Pro Plan. Get instant access to AI failure detection, first layer AI, webcam streaming, a highly rated mobile app and more for your 3D printer.":"Obico has partnered with Big Tree Tech to give you an exclusive discount on an Obico Pro Plan. Get instant access to AI failure detection, first layer AI, webcam streaming, a highly rated mobile app and more for your 3D printer.","Choose Plan":"Choose Plan","What\'s Included with Your Pro Plan":"What\'s Included with Your Pro Plan","Webcam Streaming":"Webcam Streaming","Full Remote Access":"Full Remote Access","Mobile & Web App":"Mobile & Web App","Printer Management":"Printer Management","Compatible with Your Favorite Software":"Compatible with Your Favorite Software","Highly Rated Mobile App":"Highly Rated Mobile App","Available for iOS and Android":"Available for iOS and Android","Frequently Asked Questions":"Frequently Asked Questions","What happens when the three-month Pro Plan expires?":"What happens when the three-month Pro Plan expires?","When your three-month plan expires, you will have the change to upgrade to one of Obico’s Pro Plans at a special discounted rate. Learn more about the plan options":"When your three-month plan expires, you will have the change to upgrade to one of Obico’s Pro Plans at a special discounted rate. Learn more about the plan options","If you choose not to upgrade, your plan will be automatically reverted to an Obico Free Plan.":"If you choose not to upgrade, your plan will be automatically reverted to an Obico Free Plan."," for ${month} / month (${hour} / AI Detection Hour). Billed ${year} annually.":" for ${{month}} / month (${{hour}} / AI Detection Hour). Billed ${{year}} annually."," for ${month} / month (${hour} / AI Detection Hour).":" for ${{month}} / month (${{hour}} / AI Detection Hour).","Calculate Plan Cost":"Calculate Plan Cost","Cloud Plans":"Cloud Plans","Thinking about self-hosting {brandName} Server instead?":"Thinking about self-hosting {{brandName}} Server instead?","Check out self-hosting vs {brandName} Cloud.":"Check out self-hosting vs {{brandName}} Cloud.","Free":"Free","Print occasionally.":"Print occasionally.","Limited to 1 printer.":"Limited to 1 printer.","Get Started":"Get Started","Basic webcam streaming":"Basic webcam streaming","10 free AI Detection Hours/month included":"10 free AI Detection Hours/month included","300MB /mo tunnel data":"300MB /mo tunnel data","G-Code cloud storage up to 50MB per file, 1GB total":"G-Code cloud storage up to 50MB per file, 1GB total","Companion mobile app for {localizedDom} and {localizedDom2}":"Companion mobile app for {localizedDom} and {localizedDom2}","Android":"Android","iOS":"iOS","Remote printer access and control":"Remote printer access and control","Notifications via Email, mobile push notification, Telegram, and more.":"Notifications via Email, mobile push notification, Telegram, and more.","300MB /mo integration with your favorite 3rd-party mobile apps":"300MB /mo integration with your favorite 3rd-party mobile apps","Community technical support":"Community technical support","Pro":"Pro","Print every day. 2+ printers.":"Print every day. 2+ printers.","$":"$","month":"month","(Billed {name} annually)":"(Billed {{name}} annually)","1st printer included":"1st printer included","2+ printers at $":"2+ printers at $","month / printer":"month / printer","Calculate cost":"Calculate cost","View/Change Subscription":"View/Change Subscription","Full refund within 30 days if you are not happy.":"Full refund within 30 days if you are not happy.","Upgrade (30-Day Money Back Guarantee)":"Upgrade (30-Day Money Back Guarantee)","Start 1 month FREE trial":"Start 1 month FREE trial","Premium webcam streaming":"Premium webcam streaming","50 free AI Detection Hours/month included":"50 free AI Detection Hours/month included","Unlimited tunnel data":"Unlimited tunnel data","G-Code cloud storage up to 500MB per file, 50GB total":"G-Code cloud storage up to 500MB per file, 50GB total","Unlimited integration with your favorite 3rd-party mobile apps":"Unlimited integration with your favorite 3rd-party mobile apps","Email technical support":"Email technical support","Printer feed sharing with premium streaming quality":"Printer feed sharing with premium streaming quality","Failure alerts via SMS (text message)":"Failure alerts via SMS (text message)","AI Detection Hour Packs":"AI Detection Hour Packs","Need more AI Detection Hours? Add the right amount of AI Detection Hours without burning a hole on your wallet.":"Need more AI Detection Hours? Add the right amount of AI Detection Hours without burning a hole on your wallet.","Pre-paid Pack":"Pre-paid Pack","Turn on AI failure detection only for the prints.":"Turn on AI failure detection only for the prints.","Available to all plans.":"Available to all plans.","Pre-paid AI Detection Hours never expire.":"Pre-paid AI Detection Hours never expire.","One Time Purchase.":"One Time Purchase.","for":"for","Start 1 month FREE trial + 250 FREE AI Detection Hours":"Start 1 month FREE trial + 250 FREE AI Detection Hours","Purchase Selected AI Detection Hour Pack":"Purchase Selected AI Detection Hour Pack","Subscribe&Save Packs":"Subscribe&Save Packs","AI failure detection for all prints.":"AI failure detection for all prints.","Available only as add-on to the Pro plan.":"Available only as add-on to the Pro plan.","Subscribed AI Detection Hours roll over month to month.":"Subscribed AI Detection Hours roll over month to month.","Subscribed AI Detection Hours expire when subscription ends.":"Subscribed AI Detection Hours expire when subscription ends.","You can change AI Detection Hour Pack or remove it from your Pro plan any time you want.":"You can change AI Detection Hour Pack or remove it from your Pro plan any time you want.","Upgrade to Pro with selected AI Detection Hour Pack":"Upgrade to Pro with selected AI Detection Hour Pack","Calculate Cost >>>":"Calculate Cost >>>","The Spaghetti Gallery":"The Spaghetti Gallery","End of public time-lapse list.":"End of public time-lapse list.","Loading...":"Loading...","Your 30-Day {localizedDom} Free Trial Has Started!":"Your 30-Day {localizedDom} Free Trial Has Started!","Pro Plan":"Pro Plan","{trialDaysLeft} Days Left on Your {localizedDom} Free Trial!":"{trialDaysLeft} Days Left on Your {localizedDom} Free Trial!","Unlimited, 25 FPS Premium Webcam Streaming":"Unlimited, 25 FPS Premium Webcam Streaming","250 Hours Watched by AI for Failure Detection":"250 Hours Watched by AI for Failure Detection","G-Code Remote Upload and Printing":"G-Code Remote Upload and Printing","Link your 3D printer now so that you can fully enjoy the 30-Day Free Trial":"Link your 3D printer now so that you can fully enjoy the 30-Day Free Trial","Link Printer":"Link Printer","It\'s as easy as 1-2-3":"It\'s as easy as 1-2-3","Just Checking Out":"Just Checking Out","Not a whole lot you can see without your printer linked":"Not a whole lot you can see without your printer linked","Not ready to start yet? {localizedDom} to pause your free trial.":"Not ready to start yet? {localizedDom} to pause your free trial.","Email us":"Email us"}')},3476:function(e,t,i){},"366c":function(e,t,i){"use strict";i("cc1d")},3957:function(e,t,i){e.exports=i.p+"img/polymer.webp"},"3ad7":function(e,t,i){},"3c33":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r}));var n=i("6c44");const a=(e,t)=>{var i=Object(n["a"])()?localStorage.getItem(e):null,a=i||t;try{return JSON.parse(a)}catch(r){return a}},r=(e,t)=>{Object(n["a"])()&&localStorage.setItem(e,t)}},"3ec8":function(e,t,i){},"3ee0":function(e,t,i){e.exports=i.p+"img/printoid.webp"},"42db":function(e,t,i){"use strict";i("18bd")},"439d":function(e,t,i){},"459e":function(e,t,i){"use strict";i("742c")},"45c5":function(e,t,i){"use strict";i("6005")},"45e1":function(e,t,i){"use strict";i("7ad3")},4637:function(e,t,i){"use strict";i("70bc")},4650:function(e,t,i){},"47bd":function(e,t,i){"use strict";i("2bcb")},"49b1":function(e,t,i){"use strict";i("559c")},"4de7":function(e,t,i){e.exports=i.p+"img/webpage-multiple.svg"},5062:function(e,t,i){},"53e1":function(e,t,i){"use strict";i("5453")},5453:function(e,t,i){},"559c":function(e,t,i){},"562d":function(e,t,i){},5650:function(e,t,i){"use strict";i("d06f")},"56d7":function(e,t,i){"use strict";i.r(t);var n=i("a026"),a=i("8c4f"),r=i("5886"),s=i("3c33");const o=(e,t,i)=>{let a=document.createElement("div");const r=new n["default"]({render:i=>i(e,{props:t})}).$mount(a);return n["default"].swal({...i,customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:e=>{e.querySelector("#replace-here").replaceWith(r.$el)},onDestroy:()=>{r.$destroy(),a.remove()}})},l=(e,t,i)=>n["default"].swal({...i,customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:t=>{t.querySelector("#replace-here").replaceWith(e)}}),c=(e,t)=>{e.use(r["a"],t);const i=e.swal.mixin({title:"Are you sure?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{container:"dark-backdrop"}}),n=e.swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3}),a=e.swal.mixin({icon:"error",customClass:{container:"dark-backdrop error-alert"}}),c=e.swal.mixin({customClass:{container:"dark-backdrop"}}),d=(t,i)=>{if(!Object(s["a"])(i,!1)){const n={...t,position:"top-end",confirmButtonText:"Gotcha! Don't show this again."};return e.swal(n).then((function(e){e.value&&(Object(s["b"])(i,!0),console.log(e))}))}};e.prototype.$swal["openModalWithComponent"]=o,e.prototype.$swal["openModalWithElement"]=l,e.prototype.$swal["Confirm"]=i,e.prototype.$swal["Toast"]=n,e.prototype.$swal["DismissableToast"]=d,e.prototype.$swal["Reject"]=a,e.prototype.$swal["Prompt"]=c};var d={install:c},u=i("5f5b"),p=i("c0eb"),h=i("2ead"),m=i.n(h);n["default"].filter("floor",e=>Math.floor(e));const f=/(?:^|[-_/])(\w)/g,g="root",v="anonymous component",b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/,y=e=>{const t=b.exec(e);return t?t.slice(1):[]},w=(e,t)=>{let i=y(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},_=e=>{if(!e)return v;if(e.$root===e)return g;if(!e.$options)return v;if(e.$options.name)return e.$options.name;if(e.$options._componentTag)return e.$options._componentTag;if(e.$options.__file){const t=e.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),i=w(t,".vue");return i.replace(f,(e,t)=>t?t.toUpperCase():"")}return v},C=(e,t,i,n,a,r)=>{let s=0;for(let o in t){if(s+=1,s>r)break;"object"==typeof t[o]?a>n&&C(e,t[o],i+"."+o,n+1,a,r):e[i+"."+o]=t[o]}},k=e=>{const t=e.config.errorHandler;e.config.errorHandler=(i,n,a)=>{if(window.Sentry){const e={};let t=n;if(n._original&&(t=n._original),t)try{e.componentName=_(t),C(e,JSON.parse(JSON.stringify(t.$options.propsData)),"props",0,2,10)}catch(r){console.log("Unable to extract metadata from Vue component.")}a&&(e.lifecycleHook=a),setTimeout(()=>{window.Sentry.getCurrentHub().withScope(t=>{t.setContext("vue",e),window.Sentry.getCurrentHub().captureException(i)})})}"function"===typeof t&&t.call(e,i,n,a),e.util&&e.util.warn(`Error in ${a}: "${i.toString()}"`,n),console.error(i)}};var P=k,S=i("0fb5"),D=i("fc02"),x=i.n(D),T=i("eaf3"),F=i("67b0"),I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("b-spinner")],1)},A=[],$={name:"LoadingPlaceholder"},O=$,N=(i("0c5c"),i("2877")),L=Object(N["a"])(O,I,A,!1,null,"26c9d5fe",null),M=L.exports,E=function(){var e=this,t=e._self._c;return t("svg",e._b({},"svg",e.$attrs,!1),[t("use",{attrs:{"xlink:href":e.syndicateAwareHref}})])},z=[],R={name:"SyndicateAwareSVG",props:["href"],computed:{syndicateAwareHref(){return"base"===this.$syndicate?this.href:`#${this.$syndicate}-${this.href.slice(1)}`}}},B=R,U=Object(N["a"])(B,E,z,!1,null,null,null),j=U.exports,W=i("c1df"),H=i.n(W),V=i("be33"),Y=i("ad3d"),G=i("0692"),q=i("d2a3"),K=i.n(q),J=i("11ca"),Z=i("4ab5"),Q=i("1c9d");const X={base:{brandName:"Obico"},yumi:{brandName:"Yumi"},mintion:{brandName:"Mintion"}};n["default"].prototype.$syndicate=Object(Q["e"])().provider,n["default"].prototype.$syndicateText=X[Object(Q["e"])().provider||"base"]||X.base;var ee=(e,t)=>{Object(S["b"])(),P(n["default"]),n["default"].use(a["a"]),n["default"].use(u["a"]),n["default"].use(d),n["default"].use(p["a"]),n["default"].use(m.a),n["default"].use(x.a),n["default"].use(T["a"]),n["default"].use(F["a"]),n["default"].use(K.a,{i18next:G["a"]}),n["default"].mixin({methods:{errorDialog:function(e,t){console.error("logError",e),t&&this.$swal.Reject.fire({title:""+this.$i18next.t("Error"),html:`<p style="line-height: 1.5; max-width: 400px; margin: 0 auto;">\n              ${t}.\n              ${this.$i18next.t("Get help from")} <a href="https://obico.io/discord-obico-klipper">${this.$i18next.t("the {brandName} for Klipper support forum",{brandName:this.$syndicateText.brandName})}</a> ${this.$i18next.t("or")} <a href="https://obico.io/discord">${this.$i18next.t("the {brandName} general support forum",{brandName:this.$syndicateText.brandName})}</a> ${this.$i18next.t("if this error persists.")}\n            </p>`,showConfirmButton:!1,showCancelButton:!0,cancelButtonText:"Close"})}}}),n["default"].component("LoadingPlaceholder",M),n["default"].component("SyndicateAwareSVG",j),V["c"].add(J["r"],J["k"],J["b"],J["c"],J["n"],J["h"],J["a"],J["j"],Z["a"],J["p"],J["f"],J["g"],J["i"],J["o"],J["l"],J["m"],J["e"],J["q"],J["d"]),n["default"].component("FontAwesomeIcon",Y["a"]),document.getElementById("app")&&new n["default"]({router:e,components:t}).$mount("#app"),H.a.updateLocale("en",{week:{dow:0}})},te=(i("13d5"),{email:{displayName:""+G["a"].t("Email"),componentName:"EmailPlugin"},twilio:{displayName:""+G["a"].t("SMS"),componentName:"TwilioPlugin"},pushbullet:{displayName:""+G["a"].t("Pushbullet"),componentName:"PushbulletPlugin"},discord:{displayName:""+G["a"].t("Discord"),componentName:"DiscordPlugin"},telegram:{displayName:""+G["a"].t("Telegram"),componentName:"TelegramPlugin"},pushover:{displayName:""+G["a"].t("Pushover"),componentName:"PushoverPlugin"},slack:{displayName:""+G["a"].t("Slack"),componentName:"SlackPlugin"},webhook:{displayName:""+G["a"].t("Webhook"),componentName:"WebhookPlugin"}});const ie={GeneralPreferences:"/user_preferences/general/",ThemePreferences:"/user_preferences/personalization/",ProfilePreferences:"/user_preferences/profile/",AuthorizedApps:"/user_preferences/authorized_apps/",GeneralNotifications:"/user_preferences/general_notifications/",PushNotifications:"/user_preferences/mobile_push_notifications/"},ne=Object.keys(te).reduce((e,t)=>Object.assign(e,{[t]:`/user_preferences/notification_${t}/`}),{});var ae={...ie,...ne},re=function(){var e=this,t=e._self._c;return t("b-container",[t("b-row",{staticClass:"justify-content-center"},[e.user?t("b-col",{staticClass:"mt-3",attrs:{lg:"8"}},[0===e.printersToShow.length?t("div",{staticClass:"wizard-container full-on-mobile"},[t("b-container",[t("b-row",[t("div",{staticClass:"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3"},[t("svg",{staticClass:"logo-img",attrs:{viewBox:"0 0 1965 240"}},[t("use",{attrs:{href:"#svg-logo-compact"}})])])]),t("b-row",[t("h1",{staticClass:"mx-auto"},[e._v(e._s(e.$t("Welcome To"))+" "+e._s(e.$syndicateText.brandName))])]),t("b-row",[t("b-col",[t("hr")])],1),e.isEnt&&e.trialDaysLeft>0?t("b-row",[t("b-col",[e.trialDaysLeft>=29?t("h3",{staticClass:"py-3"},[t("i18next",{attrs:{translation:e.$t("Your 30-Day {localizedDom} Free Trial Has Started!")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{staticClass:"link",attrs:{target:"_blank",href:"https://www.obico.io/docs/user-guides/upgrade-to-pro/"}},[e._v(e._s(e.$t("Pro Plan")))])]},proxy:!0}],null,!1,1794790487)})],1):t("h3",{staticClass:"py-3"},[t("i18next",{attrs:{translation:e.$t("{trialDaysLeft} Days Left on Your {localizedDom} Free Trial!")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{staticClass:"link",attrs:{target:"_blank",href:"https://www.obico.io/docs/user-guides/upgrade-to-pro/"}},[e._v(e._s(e.$t("Pro Plan"))+" ")])]},proxy:!0},{key:"trialDaysLeft",fn:function(){return[e._v(" "+e._s(e.trialDaysLeft)+" ")]},proxy:!0}],null,!1,826235717)})],1),t("div",{staticClass:"pb-1"},[t("i",{staticClass:"feature-check fas fa-check-circle"}),t("span",{staticClass:"feature-text"},[e._v(e._s(e.$t("Unlimited Secure Tunnel to your {platformDisplayName}",{platformDisplayName:e.platformDisplayName})))])]),t("div",{staticClass:"pb-1"},[t("i",{staticClass:"feature-check fas fa-check-circle"}),t("span",{staticClass:"feature-text"},[e._v(e._s(e.$t("Premium 25 FPS Webcam Streaming")))])]),t("div",{staticClass:"pb-1"},[t("i",{staticClass:"feature-check fas fa-check-circle"}),t("span",{staticClass:"feature-text"},[e._v(e._s(e.$t("250 AI Failure Detection Hours")))])]),t("div",{staticClass:"pb-1"},[t("i",{staticClass:"feature-check fas fa-check-circle"}),t("span",{staticClass:"feature-text"},[e._v(e._s(e.$t("G-Code Remote Upload and Printing")))])]),t("div",{staticClass:"lead py-4"},[e._v(e._s(e.$t("{platformDisplayName} has not been linked to your {brandName} account.",{platformDisplayName:e.platformDisplayName,brandName:e.$syndicateText.brandName})))]),t("div",{staticClass:"d-flex flex-column align-center justify-content-center"},[t("div",[t("a",{staticClass:"btn btn-primary btn-block mx-auto btn-lg",attrs:{href:e.wizardUrl}},[e._v(e._s(e.$t("Link {platformDisplayName} Now",{platformDisplayName:e.platformDisplayName})))])]),t("div",[t("div",{staticClass:"text-muted mx-auto text-center font-weight-light"},[e._v(" "+e._s(e.$t("It's as easy as 1-2-3."))+" ")])])])])],1):e._e(),t("div",{staticClass:"footer-note small"},[t("i18next",{attrs:{translation:e.$t("Not ready to start yet? {localizedDom} to pause your free trial.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"mailto:support@obico.io?subject=Please%20pause%20my%20free%20trial"}},[e._v(e._s(e.$t("Email us")))])]},proxy:!0}],null,!1,51292438)})],1)],1)],1):t("div",[t("div",{staticClass:"text-center"},[t("svg",{attrs:{width:"100",height:"30"}},[t("use",{attrs:{href:"#svg-logo-full"}})])]),e.authorized?t("div",{staticClass:"authorization-successful"},[t("h4",{staticClass:"title"},[e._v(e._s(e.$t("Authorization Successful!")))]),t("p",[e._v(e._s(e.$t("You can close this page")))])]):t("div",[t("div",[t("div",{staticClass:"lead text-center mt-3 mb-5"},[e._v(e._s(e.$t("Tunnel Access Authorization")))]),t("h4",{staticClass:"my-4"},[t("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.appDisplayName))]),e._v(" "+e._s(e.$t("is requesting to access you {platformDisplayName} Tunnel.",{platformDisplayName:e.platformDisplayName}))+" ")]),t("p",{staticClass:"text-muted"},[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/octoprint-tunneling/",target:"_blank"}},[e._v(e._s(e.platformDisplayName)+" "+e._s(e.$t("Tunnel")))]),t("i18next",{attrs:{translation:e.$t("is a secure way provided by {localizedDom} to remotely access your {platformDisplayName}. With the {platformDisplayName} Tunnel, you can use {appDisplayName} to access your {platformDisplayName} from anywhere.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/",target:"_blank"}},[e._v(e._s(e.$syndicateText.brandName))])]},proxy:!0},{key:"platformDisplayName",fn:function(){return[e._v(" "+e._s(e.platformDisplayName)+" ")]},proxy:!0},{key:"appDisplayName",fn:function(){return[e._v(" "+e._s(e.appDisplayName)+" ")]},proxy:!0}],null,!1,145365998)})],1),e.user.is_pro?e._e():t("b-alert",{staticClass:"my-3",attrs:{variant:"warning",dismissible:"",show:""}},[t("div",[t("i",{staticClass:"fas fa-exclamation-triangle"}),t("i18next",{attrs:{translation:e.$t("Tunnel usage of a free account is {localizedDom} to enjoy unlimited tunnel usage.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb",target:"_blank"}},[e._v(e._s(e.$t("capped at 300MB per month")))]),e._v(". "+e._s(e.$t("You can"))+" "),t("a",{attrs:{href:"http://app.obico.io/ent_pub/pricing/",target:"_blank"}},[e._v(e._s(e.$t("upgrade to the {brandName} app Pro plan for 1 Starbucks a month",{brandName:e.$syndicateText.brandName})))])]},proxy:!0}],null,!1,1650990088)})],1)]),e.user.is_pro&&e.trialDaysLeft>0?t("b-alert",{staticClass:"my-3",attrs:{variant:"warning",dismissible:"",show:""}},[t("div",[t("i",{staticClass:"fas fa-exclamation-triangle"}),t("i18next",{attrs:{translation:e.$t("After the Free trial expires, tunnel data usage will be {localizedDom} to continue enjoying unlimited tunnel usage.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb",target:"_blank"}},[e._v(e._s(e.$t("capped at 300MB per month")))]),e._v(". "+e._s(e.$t("You can"))+" "),t("a",{attrs:{href:"http://app.obico.io/ent_pub/pricing/",target:"_blank"}},[e._v(e._s(e.$t("upgrade to the {brandName} app Pro plan for 1 Starbucks a month",{brandName:e.$syndicateText.brandName})))])]},proxy:!0}],null,!1,1650990088)})],1)]):e._e(),t("div",{staticClass:"mt-5"},[t("p",{staticClass:"lead"},[t("i18next",{attrs:{translation:e.$t("Tunnel access by {localizedDom} (make sure you trust it)")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.appDisplayName))])]},proxy:!0}],null,!1,460061086)})],1),0===e.printersToShow.length?t("h5",[e._v(e._s(e.$t("You have 0 active printers")))]):1===e.printersToShow.length?t("h5",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.printersToShow[0].name)+" ")]):e.printersToShow.length>1?t("select",{directives:[{name:"model",rawName:"v-model",value:e.printerToAuthorize,expression:"printerToAuthorize"}],staticClass:"custom-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.printerToAuthorize=t.target.multiple?i:i[0]}}},[t("option",{attrs:{selected:"",disabled:""},domProps:{value:null}},[e._v(e._s(e.$t("Please select a printer")))]),e._l(e.printersToShow,(function(i){return t("option",{key:i.id,domProps:{value:i.id}},[e._v(" "+e._s(i.name)+" ")])}))],2):e._e(),e.printersToShow.length?t("div",{staticClass:"d-flex mt-4 mb-3"},[t("button",{staticClass:"btn btn-primary",staticStyle:{flex:"1"},attrs:{disabled:!e.printerToAuthorize||e.performingAuthRequest},on:{click:e.authorize}},[e.performingAuthRequest?t("b-spinner",{attrs:{small:"",label:"Loading..."}}):t("span",[e._v(e._s(e.$t("Authorize")))])],1),t("a",{staticClass:"btn btn-outline-secondary ml-2",staticStyle:{flex:"1"},attrs:{href:"/user_preferences/authorized_apps"}},[e._v(e._s(e.$t("Manage Apps")))])]):e._e()])],1),t("div",{staticClass:"mt-4"},[t("p",{staticClass:"text-muted small mb-1"},[e._v(e._s(e.$t("Security notes"))+":")]),t("ul",{staticClass:"text-muted small pl-4"},[t("li",[e._v(" "+e._s(e.$t("The app can only access the tunnel, not your {brandName} account info such as your email address.",{brandName:e.$syndicateText.brandName}))+" ")]),t("li",[e._v(" "+e._s(e.$t("The access remains valid until explicitly revoked. You can revoke the access by going to Preferences -> Authorized Apps."))+" ")])])])])]),t("div",{staticClass:"text-center pt-3 w-100"},[t("a",{staticClass:"btn btn-secondary",attrs:{href:e.logoutUrl}},[e._v(e._s(e.$t("Log Out")))])])]):t("b-col",{staticClass:"mt-5"},[t("div",[t("b-container",[t("div",{staticClass:"d-flex justify-content-center align-items-center"},[t("img",{staticClass:"logo-icon",attrs:{src:e.appLogo}}),t("h3",[e._v("⇄")]),t("svg",{staticClass:"logo-icon obico"},[t("use",{attrs:{href:"#svg-logo-compact"}})]),t("h3",[e._v("⇄")]),t("img",{staticClass:"logo-icon",attrs:{src:e.platformLogo}})]),t("div",{staticClass:"my-4"},[t("div",{staticClass:"mx-auto text-center"},[t("h4",[e._v(e._s(e.$t("Free {platformDisplayName} Tunnel",{platformDisplayName:e.platformDisplayName})))]),t("div",{staticClass:"lead"},[e._v(e._s(e.$t("Powered by {brandName}",{brandName:e.$syndicateText.brandName})))])])]),t("div",{staticClass:"account-details"},[t("p",[e._v(" "+e._s(e.$t("With the Free {platformDisplayName} Tunnel by {brandName}, you can now use {appDisplayName} to",{platformDisplayName:e.platformDisplayName,brandName:e.$syndicateText.brandName,appDisplayName:e.appDisplayName}))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/octoprint-tunneling/",target:"_blank"}},[e._v(" "+e._s(e.$t("securely control and monitor your printer from anywhere")))])]),t("ul",{staticClass:"text-muted"},[t("li",[e._v(e._s(e.$t("Unlimited realtime webcam at 0.1FPS.")))]),t("li",[e._v(e._s(e.$t("300MB monthly tunnel data cap (excluding webcam streaming).")))]),t("li",[e._v(e._s(e.$t("10 hours/mo AI failure detection.")))])]),t("div",[e._v(" 🔥🔥🔥 "),t("i18next",{attrs:{translation:e.$t("Upgrade to {brandName} Pro Account ({localizedDom}) to get premium features")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://app.obico.io/ent_pub/pricing/",target:"_blank"}},[e._v(e._s(e.$t("from $4/mo")))])]},proxy:!0},{key:"brandName",fn:function(){return[e._v(" "+e._s(e.$syndicateText.brandName)+" ")]},proxy:!0}])})],1),t("ul",[t("li",[e._v("📷"+e._s(e.$t("Unlimited realtime webcam streaming.")))]),t("li",[e._v("📶 "+e._s(e.$t("Unlimited tunnel data usage.")))]),t("li",[e._v("🤖 "+e._s(e.$t("50 hours/mo AI failure detection.")))]),t("li",[t("a",{attrs:{href:"https://app.obico.io/ent_pub/pricing/",target:"_blank"}},[e._v(e._s(e.$t("And much more...")))])])])]),t("div",[t("div",{staticClass:"my-5 w-100"},[t("a",{staticClass:"btn btn-primary btn-block",attrs:{href:e.loginUrl}},[e._v(e._s(e.$t("SIGN IN ")))]),t("div",{staticClass:"text-center pt-3 w-100"},[t("div",{staticClass:"font-weight-light text-muted"},[e._v(e._s(e.$t("- OR -")))]),t("a",{staticClass:"btn",attrs:{href:e.signupUrl}},[e._v(e._s(e.$t("SIGN UP")))])])])])])],1)])],1)],1)},se=[],oe=(i("5494"),i("14d9"),i("cee4")),le=i("c7f6"),ce=i("9b02"),de=i.n(ce),ue=i("49d5"),pe=i.n(ue),he=i("0e49"),me=i.n(he);const fe=e=>{const t=Math.round(e||0),i=ge(t);if(0!==i.days){const e=i.hours+Math.round(i.minutes/60);return 24===e?i.days+1+"d 0h":`${i.days}d ${e}h`}if(0!==i.hours){if(60===i.minutes){const e=i.hours+1;return 24===e?"1d 0h":i.hours+1+"h 0m"}return`${i.hours}h ${i.minutes}m`}return i.minutes+"m"},ge=e=>{const t=H.a.duration(e||0,"seconds"),i=Math.floor(t.asDays()),n=t.hours(),a=t.minutes()+Math.round(t.seconds()/60);return{days:i,hours:n,minutes:a}},ve=e=>{const t=(e||0)/1e3,i=Math.round(100*t)/100;return i+"m"},be=(e,t="MMM D, h:mm a")=>{if(!e)return"-";let i=new Date,n=new Date(i.setSeconds(i.getSeconds()+e));return H()(n).format(t)},ye=[{name:"estimated_time",faIcon:"fas fa-clock",title:""+G["a"].t("Print duration estimate"),formatter:fe},{name:"filament_total",faIcon:"fas fa-ruler-horizontal",title:""+G["a"].t("Filament usage estimate"),formatter:ve},{name:"first_layer_bed_temp",svgIcon:"bed-temp",title:""+G["a"].t("First layer bed temperature"),formatter:e=>e+"°C"},{name:"first_layer_extr_temp",svgIcon:"extruder",title:""+G["a"].t("First layer extruder temperature"),formatter:e=>e+"°C"},{name:"first_layer_height",faIcon:"fas fa-layer-group",title:""+G["a"].t("First layer height"),formatter:e=>e+"mm"},{name:"layer_height",faIcon:"fas fa-layer-group",title:""+G["a"].t("Layer height"),formatter:e=>e+"mm"},{name:"object_height",faIcon:"fas fa-ruler-vertical",title:""+G["a"].t("Object height"),formatter:e=>Math.round(e)+"mm"},{name:"filament_type",svgIcon:"filament",title:""+G["a"].t("Filament type"),formatter:e=>e},{name:"filament_name",svgIcon:"filament",title:""+G["a"].t("Filament name"),formatter:e=>e},{name:"slicer",svgIcon:"slicer-program",title:""+G["a"].t("Slicer"),formatter:e=>e},{name:"slicer_version",svgIcon:"slicer-version",title:""+G["a"].t("Slicer version"),formatter:e=>e}];var we=i("6c44");const _e={"G-Code Downloading":{fromStates:["Operational"]},Starting:{fromStates:["Operational"]},Pausing:{fromStates:["Printing"]},Resuming:{fromStates:["Paused"]},Cancelling:{fromStates:["Printing","Paused"]}},Ce=(e,t)=>{const i=e.id;if(!Object(we["a"])())return;const n=`printer-${i}-state-transitioning`;localStorage.setItem(n+"-name",t);const a=new Date,r=e.isAgentVersionGte("2.3.7","1.4.2")?15:300,s=new Date(a.getTime()+1e3*r);localStorage.setItem(n+"-timeout",s)},ke=(e,t)=>{var i;const n=e.id;if(!Object(we["a"])())return t;if(!t)return Pe(n),null;const a=`printer-${n}-state-transitioning`,r=localStorage.getItem(a+"-name"),s=localStorage.getItem(a+"-timeout"),o=null===(i=_e[r])||void 0===i?void 0:i.fromStates;let l=t;return r&&s&&o&&(o.includes(t)?new Date>new Date(s)?(Pe(n),Se(e,r,t)):l=r:Pe(n)),l},Pe=e=>{Object(we["a"])()&&(localStorage.removeItem("printer-"+e+"-state-transitioning-name"),localStorage.removeItem("printer-"+e+"-state-transitioning-timeout"))},Se=(e,t,i)=>{var a;null===(a=window.Sentry)||void 0===a||a.captureMessage(`Transient state timeout: "${t}" -> "${i}" (printer ID: ${e.id})`),n["default"].swal.fire({icon:"error",title:""+G["a"].t("Printer not responding"),html:`${G["a"].t("The printer doesn't seem to be responding. Is it powered on and connected to the Internet? Please")} <a href="mailto:support@obico.io">${G["a"].t("report the problem to us")}</a> ${G["a"].t("if this error repeats multiple times.")}`}).then(()=>{window.location.reload()})},De=e=>e?H()(e):null,xe={Printing:{key:"printing",title:"Printing...",isActive:!0},Paused:{key:"paused",title:"Paused",isActive:!0},Finished:{key:"finished",title:"Finished",isActive:!1},Cancelled:{key:"cancelled",title:"Cancelled",isActive:!1}},Te=e=>{if(e.started_at=De(e.started_at),e.uploaded_at=De(e.uploaded_at),e.finished_at=De(e.finished_at),e.cancelled_at=De(e.cancelled_at),e.ended_at=De(e.ended_at),e.ended_at){const t=H.a.duration(e.ended_at.diff(e.started_at));e.duration=fe(t.asSeconds())}return e.has_alerts=Boolean(e.alerted_at),e.printShotFeedbackEligible=e.printshotfeedback_set&&e.printshotfeedback_set.length>0,e.status=e.ended_at?e.cancelled_at?xe.Cancelled:xe.Finished:e.paused_at?xe.Paused:xe.Printing,e.printer&&(e.printer=Ae(e.printer)),e.g_code_file&&(e.g_code_file=Fe(e.g_code_file)),e},Fe=e=>{if(e){if(e.created_at=De(e.created_at),e.updated_at=De(e.updated_at),e.deleted=De(e.deleted),e.filesize=pe()(e.num_bytes),e.print_set&&(e.print_set.map(e=>Te(e)),e.print_set.sort((e,t)=>e.ended_at||t.ended_at?e.ended_at?t.ended_at?e.ended_at>t.ended_at?-1:e.ended_at<t.ended_at?1:0:1:-1:e.started_at>t.started_at?-1:e.started_at<t.started_at?1:0),e.last_print=e.print_set[0],e.failedPrints=e.print_set.filter(e=>e.cancelled_at).length,e.successPrints=e.print_set.filter(e=>e.finished_at).length,e.totalPrints=e.print_set.length),e.metadata={},e.metadata_json)e.metadata=JSON.parse(e.metadata_json);else if(e.analysis){var t;let i;if(e.metadata.object_height=null===(t=e.analysis.dimensions)||void 0===t?void 0:t.height,e.metadata.estimated_time=e.analysis.estimatedPrintTime,e.analysis.filament){const t=Object.keys(e.analysis.filament);t.length&&(i=0,t.forEach(t=>{i+=e.analysis.filament[t].length}))}e.metadata.filament_total=i}else ye.forEach(t=>{e[t.name]&&(e.metadata[t.name]=e[t.name])});return Object.keys(e.metadata).forEach(t=>{null!==e.metadata[t]&&void 0!==e.metadata[t]||delete e.metadata[t]}),e.getBigThumbnailUrl=()=>e.thumbnail1_url||e.thumbnail2_url||e.thumbnail3_url,e.getSmallThumbnailUrl=()=>e.thumbnail3_url||e.thumbnail2_url||e.thumbnail1_url,e}},Ie=e=>(e.created_at=De(e.created_at),e.updated_at=De(e.updated_at),e.numItems=e.g_code_file_count+e.g_code_folder_count,e),Ae=(e,t)=>{const i={createdAt:function(){return De(this.created_at)},progressCompletion:function(){return de()(this,"status.progress.completion",0)},isOffline:function(){return null===de()(this,"status",null)},isPaused:function(){return de()(this,"status.state.flags.paused",!1)},isDisconnected:function(){return de()(this,"status.state.flags.closedOrError",!0)},isActive:function(){const e=de()(this,"status.state.flags");return Boolean(e&&e.operational&&(!e.ready||e.paused))||this.inTransientState()},inTransientState:function(){const e=this.calculatedState();return"Downloading G-Code"===e||e&&e.endsWith("ing")&&"Printing"!==e},calculatedState:function(){var e,t;return ke(this,null===(e=this.status)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.text)},calculatedStateColor:function(){const e=this.calculatedState(),t={secondary:["Offline",void 0,null],success:["Operational"],neutral:["Printing","G-Code Downloading","Downloading G-Code","Starting"],warning:["Paused","Pausing","Resuming"],danger:["Cancelling"]};for(const[i,n]of Object.entries(t))if(n.includes(e))return i;return"neutral"},setTransientState:function(e){Ce(this,e),this.status&&(this.status={...this.status})},inUserInteractionRequired:function(){return de()(this,"status.user_interaction_required",!1)},hasError:function(){return de()(this,"status.state.flags.error")||de()(this,"status.state.text","").toLowerCase().includes("error")},isAgentMoonraker:function(){return"moonraker_obico"===de()(this,"agent_name","")},agentDisplayName:function(){return this.isAgentMoonraker()?"Klipper":"OctoPrint"},isAgentVersionGte:function(e,t){return"octoprint_obico"===de()(this,"settings.agent_name","")&&me()(de()(this,"settings.agent_version","0.0.0"),e)||"moonraker_obico"===de()(this,"settings.agent_name","")&&me()(de()(this,"settings.agent_version","0.0.0"),t)},alertUnacknowledged:function(){return de()(this,"current_print.alerted_at")&&H()(de()(this,"current_print.alerted_at")).isAfter(H()(de()(this,"current_print.alert_acknowledged_at")||0))},isPrintable:function(){return!this.isOffline()&&!this.isDisconnected()&&!this.isActive()&&!this.archived_at},printabilityText:function(){return this.isPrintable()?"Ready":"Unavailable"}};return t?(de()(t,"status._ts",-1)>de()(e,"status._ts",de()(t,"status._ts",0))&&delete e.status,{...t,...e,...i}):{...e,...i}},$e=e=>(e.created_at=De(e.created_at),e);var Oe=i("222b"),Ne=i.n(Oe),Le=i("ca14"),Me=i.n(Le),Ee=i("3957"),ze=i.n(Ee),Re=i("3ee0"),Be=i.n(Re),Ue=i("d61a"),je=i.n(Ue),We=i("d1d5"),He=i.n(We),Ve=i("2e7f"),Ye=i.n(Ve),Ge=i("886f"),qe=i.n(Ge),Ke={name:"NewOctoPrintTunnelPage",components:{},data(){return{user:null,printers:[],printerId:null,printerToAuthorize:null,performingAuthRequest:!1,authorized:!1}},computed:{printersToShow(){return this.printerId?this.printers.filter(e=>e.id==this.printerId):this.printers},loginUrl(){return"/accounts/login/?hide_navbar=true&next="+encodeURIComponent(window.location.pathname+window.location.search)},logoutUrl(){return"/accounts/logout/?hide_navbar=true&next="+encodeURIComponent(window.location.pathname+window.location.search)},signupUrl(){return"/accounts/signup/?hide_navbar=true&next="+encodeURIComponent(window.location.pathname+window.location.search)},wizardUrl(){return"/printers/wizard/?redirectToTunnelCreation="+encodeURIComponent(window.location.pathname+window.location.search)},appName(){return new URLSearchParams(window.location.search).get("app")||"Unknown App"},platform(){return new URLSearchParams(window.location.search).get("platform")},trialDaysLeft(){var e,t;return"pro-trial"!==(null===(e=this.user)||void 0===e||null===(t=e.subscription)||void 0===t?void 0:t.plan_id)?-1:H()(this.user.subscription.expired_at).diff(H()(),"days")+1},appLogo(){switch(this.appName.toLowerCase()){case"octopod":return Ne.a;case"printoid":return Be.a;case"polymer":return ze.a;case"octoapp":return Me.a;case"mobileraker-ios":return je.a;case"mobileraker-android":return je.a;default:return He.a}},appDisplayName(){return this.appName.toLowerCase().includes("mobileraker")?"Mobileraker":this.appName},isKlipper(){if(this.platform){if("klipper"===this.platform.toLowerCase())return!0}else if(this.appName.toLowerCase().includes("mobileraker"))return!0;return!1},platformLogo(){return this.isKlipper?qe.a:Ye.a},platformDisplayName(){return this.isKlipper?"Klipper":"OctoPrint"}},created(){this.user=Object(Q["f"])();const{IS_ENT:e}=Object(Q["d"])();this.isEnt=!!e,this.printerId=new URLSearchParams(window.location.search).get("printer_id"),this.user&&this.fetchPrinters()},methods:{fetchPrinters(){return oe["a"].get(le["a"].printers()).then(e=>{e.data.forEach(e=>{this.printers.push(Ae(e))}),1==this.printersToShow.length&&(this.printerToAuthorize=this.printersToShow[0].id)})},authorize(){this.printersToShow.length&&(this.performingAuthRequest=!0,oe["a"].post(le["a"].tunnels(),{app_name:this.appName,target_printer_id:this.printerToAuthorize||this.printersToShow[0].id}).then(e=>{this.authorized=!0;const t=e.data.tunnel_endpoint,i=new URLSearchParams(window.location.search).get("success_redirect_url")||"/tunnels/succeeded/";window.location.replace(`${i}?tunnel_endpoint=${t}`)}).catch(e=>{this.performingAuthRequest=!1,this.errorDialog(e)}))}}},Je=Ke,Ze=(i("b459"),Object(N["a"])(Je,re,se,!1,null,"009e7b1b",null)),Qe=Ze.exports,Xe=function(){var e=this,t=e._self._c;return t("div",[!e.isPro&&e.usageFetched?t("div",{staticClass:"floating-panel"},[e.showDetails?t("div",{on:{click:function(t){e.showDetails=!1},mouseover:function(t){e.showDetails=!0},mouseleave:function(t){e.showDetails=!1}}},[t("div",{staticClass:"text-muted"},[t("i18next",{attrs:{translation:e.$t("Monthly data usage ({localizedDom})")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users",target:"_blank"}},[e._v(e._s(e.$t("Resets in {daysUntilReset} days",{daysUntilReset:e.daysUntilReset})))])]},proxy:!0}],null,!1,2955270613)})],1),t("div",{class:e.usageClass},[e._v(e._s(e.$t("Used {usageMTD} of {humanizedUsageCap}.",{usageMTD:e.usageMTD,humanizedUsageCap:e.humanizedUsageCap})))]),e.overage?t("div",[e._v(" "+e._s(e.$t("Your month-to-date tunnel data usage is over the Free plan limit."))+" "),t("a",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",href:"/ent_pub/pricing/"}},[e._v(e._s(e.$t("Get Unlimited Tunnel Data")))])]):e._e()]):t("div",{class:e.usageClass,on:{click:function(t){e.showDetails=!0},mouseover:function(t){e.showDetails=!0},mouseleave:function(t){e.showDetails=!1}}},[e._v(" "+e._s(e.percentage)+"% ")])]):e._e(),t("div",[e.printerId?t("iframe",{staticClass:"tunnel-iframe",attrs:{src:e.iframeUrl()+"#temp"}}):e._e()])])},et=[],tt=i("6625"),it=i.n(tt),nt={name:"OctoPrintTunnelPage",components:{},props:{},data:function(){return{bytesMTD:null,usageCap:null,usageFetched:!1,isPro:!0,printerId:null,showDetails:!1}},computed:{usageClass(){return{"text-success":this.bytesMTD<.8*this.usageCap,"text-warning":this.bytesMTD>=.8*this.usageCap&&this.bytesMTD<this.usageCap,"text-danger":this.bytesMTD>=this.usageCap}},usageMTD(){return pe()(this.bytesMTD)},humanizedUsageCap(){return pe()(this.usageCap)},overage(){return this.bytesMTD>=this.usageCap},percentage(){return Math.round(this.bytesMTD/this.usageCap*100)},daysUntilReset(){const e=H()().endOf("month");return e.diff(H()(),"days")+1}},created(){this.isPro=Object(Q["f"])().is_pro,this.printerId=it()(window.location.pathname,"/").slice(-2,-1).pop()},mounted(){const e=Object(we["a"])()?localStorage.getItem("skip-tunneling-warning"):null;"yes"!==e&&(this.$swal.Prompt.fire({html:`\n          <h4 class="text-center p-2">\n            <svg class="menu-icon" style="height: 1.1em; width: 1em; margin-right: 0.75em;">\n              <use href="#svg-tunnel" />\n            </svg>\n            ${this.$i18next.t("OctoPrint/Klipper Secure Tunnel")}\n          </h4>\n          <div class="p-1">\n            ${this.$i18next.t("It may take long time for OctoPrint/Mainsail/Fluidd page to load as it is securely tunneled via the {brandName} app server.",{brandName:this.$syndicateText.brandName})}\n          </div>\n          <div class="p-1">\n            <a target="_blank" href="https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users">\n            ${this.$i18next.t("Learn more about OctoPrint/Klipper tunnel's security and page load speed.")}\n            <i class="fas fa-external-link-alt"></i>\n          </a>\n        </div>\n        `,input:"checkbox",inputPlaceholder:""+this.$i18next.t("Don't show again")},"octoprint-tunnel.warning").then(e=>{e.isConfirmed&&e.value&&Object(we["a"])()&&localStorage.setItem("skip-tunneling-warning","yes")}),window.matchMedia("(pointer:none), (pointer:coarse)")&&document.querySelector(".swal2-popup").classList.add("x150"));const t=this,i=(e=!1)=>{oe["a"].get(le["a"].tunnelUsage()).then(i=>{t.bytesMTD=i.data.total,t.usageCap=i.data.monthly_cap,e&&(t.usageFetched=!0)})};setInterval(i,15e3),setTimeout(()=>{i(!0)},4e3)},methods:{iframeUrl(){return`/octoprint/${this.printerId}/`}}},at=nt,rt=(i("68d7"),i("cb79"),Object(N["a"])(at,Xe,et,!1,null,"e55f5d06",null)),st=rt.exports,ot=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("b-container",{staticClass:"feedback-container"},[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{attrs:{lg:"8"}},[t("div",{staticClass:"card"},[t("h5",{staticClass:"card-header text-center"},[e._v(" F "),t("i",{staticClass:"fas fa-search focused-feedback-icon"}),e._v(e._s(e.$t("CUSED FEEDBACK"))+" ")]),t("loading",{attrs:{active:null===e.print,"is-full-page":!0}}),null!==e.print?t("div",[e.print.access_consented_at?t("div",[t("div",[t("vue-slick-carousel",{ref:"carousel",attrs:{arrows:!1,dots:!0},on:{afterChange:e.onNextShot},scopedSlots:e._u([{key:"customPaging",fn:function(i){return[t("div",{class:e.pageClass(i)},[e._v("•")])]}}],null,!1,3226812120)},e._l(e.shots,(function(i,n){return t("print-shot-card",{key:n,attrs:{shot:i},on:{shotChanged:e.onShotChanged,prev:e.onPrev,next:e.onNext}})})),1)],1),t("br"),t("div",{staticClass:"card-body p-3"},[t("a",{attrs:{href:`/print_history/${e.print.id}/`}},[t("i",{staticClass:"fas fa-chevron-left"}),e._v(" "+e._s(e.$t("Print Page"))+" ")])])]):t("focused-feedback-consent",{attrs:{print:e.print},on:{"continue-btn-pressed":e.consentBtnPressed}})],1):e._e()],1)])],1)],1)]},proxy:!0}])})},lt=[],ct=i("c707"),dt=i.n(ct),ut=i("51f5"),pt=i.n(ut),ht=i("a7ab"),mt=i.n(ht),ft=(i("7b8d"),i("6a2c"),i("18fa")),gt=i.n(ft),vt=(i("e40d"),function(){var e=this,t=e._self._c;return t("div",[t("img",{staticClass:"card-img-top",attrs:{src:e.shot.image_url}}),t("div",{staticClass:"px-3 pt-4"},[t("b-form-group",{attrs:{label:"Do you see any spaghetti in this picture?"}},[t("b-form-radio-group",{attrs:{options:e.options},on:{change:e.updateShot},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}})],1),t("small",{staticClass:"text-muted"},[e._v(" "+e._s(e.$t("Not sure? Look at"))+" "),t("a",{attrs:{target:"_blank",href:"https://www.obico.io/docs/user-guides/how-does-credits-work#spaghetti-examples"}},[e._v(e._s(e.$t("some examples. "))),e._m(0)])]),t("div",{staticClass:"navigation-container my-4",staticStyle:{display:"flex"}},[t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){return e.$emit("prev")}}},[t("i",{staticClass:"fas fa-chevron-left"}),e._v("  "+e._s(e.$t("Previous"))+" ")]),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){return e.$emit("next")}}},[e._v(" "+e._s(e.$t("Next"))+"  "),t("i",{staticClass:"fas fa-chevron-right"})])],1)],1)])}),bt=[function(){var e=this,t=e._self._c;return t("small",[t("i",{staticClass:"fas fa-external-link-alt"})])}],yt=i("8226"),wt=i("2924"),_t={name:"PrintShotCard",components:{BFormGroup:yt["a"],BFormRadioGroup:wt["a"]},props:{shot:{type:Object,required:!0}},data(){return{answer:this.shot.answer,options:[{text:"Yes",value:"LOOKS_BAD"},{text:"No",value:"LOOKS_OK"},{text:"I am not sure",value:"UNDECIDED"}]}},methods:{updateShot:function(e){oe["a"].put(le["a"].printShotFeedback(this.shot.id,this.shot.print_id),{answer:e}).then(e=>{const{instance:t,credited_dhs:i}=e.data;i>0?this.$swal.Prompt.fire({title:""+this.$i18next.t("You are awesome!"),html:`<p>${this.$i18next.t("The AI failure detection just got a little better because of your feedback!")}</p><p>${this.$i18next.t("You just earned 2 non-expirable AI Detection Hours - Yay!")}</p>`,confirmButtonText:""+this.$i18next.t("I'm done!"),showCancelButton:!0,cancelButtonText:""+this.$i18next.t("Change feedback")}).then(e=>{e.isConfirmed?window.location.href="/print_history/":this.$emit("shotChanged",t)}):this.$emit("shotChanged",t)})}}},Ct=_t,kt=(i("53e1"),Object(N["a"])(Ct,vt,bt,!1,null,"32ea0545",null)),Pt=kt.exports,St=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrapper",class:{collapsed:e.collapsed,"is-in-mobile":e.inMobileWebView,"is-in-popup":e.isPopup}},[t("nav",{staticClass:"side-nav"},[t("a",{staticClass:"sidebar-header",attrs:{href:"/"}},[t("SyndicateAwareSVG",{attrs:{href:"#svg-logo-compact",width:"100",height:"30"}})],1),t("ul",{staticClass:"list-unstyled m-0"},[e.isEnt&&!e.user.is_pro?t("li",{class:{active:"/ent_pub/pricing/"===e.path}},[t("a",{staticClass:"primary",attrs:{href:"/ent_pub/pricing/"}},[t("font-awesome-icon",{attrs:{icon:"star"}}),e._v(" "+e._s(e.$t("Upgrade to Pro"))+" ")],1)]):e._e(),e.user?t("li",{class:{active:e.path.includes("/printers/")}},[t("a",{attrs:{href:"/printers/"}},[t("svg",{staticStyle:{"margin-bottom":"5px"},attrs:{width:"1.4em",height:"1.4em"}},[t("use",{attrs:{href:"#svg-3d-printer"}})]),t("br"),e._v(" "+e._s(e.$t("Printers"))+" ")])]):e._e(),e.user?t("li",{class:{active:e.path.includes("/g_code_")}},[t("a",{attrs:{href:"/g_code_folders/cloud/"}},[t("font-awesome-icon",{attrs:{icon:"fa-file-code"}}),e._v(" "+e._s(e.$t("G-Codes"))+" ")],1)]):e._e(),e.user?t("li",{class:{active:e.path.includes("/print_history/")||e.path.includes("/prints/")}},[t("a",{attrs:{href:"/print_history/"}},[t("font-awesome-icon",{attrs:{icon:"fa-calendar-days"}}),e._v(" "+e._s(e.$t("Print History"))+" ")],1)]):e._e(),e.user?t("li",{class:{active:e.path.includes("/stats/")}},[t("a",{attrs:{href:"/stats/"}},[t("font-awesome-icon",{attrs:{icon:"fa-chart-pie"}}),e._v(" "+e._s(e.$t("Statistics"))+" ")],1)]):e._e()]),t("div",{staticClass:"side-nav-footer"},[t("ul",{staticClass:"list-unstyled m-0"},[e.isEnt?t("li",{class:{active:"/ent_pub/pricing/"===e.path}},[t("a",{attrs:{href:"/ent_pub/pricing/"}},[t("font-awesome-icon",{attrs:{icon:"fa-money-check-dollar"}}),e._v(" "+e._s(e.$t("Pricing"))+" ")],1)]):e._e(),t("li",[t("a",{attrs:{href:"https://www.obico.io/help/",target:"_blank"}},[t("font-awesome-icon",{attrs:{icon:"fa-circle-question"}}),e._v(" "+e._s(e.$t("Help"))+" ")],1)]),t("li",[t("a",{attrs:{href:"https://obico.io/discord",target:"_blank"}},[t("font-awesome-icon",{attrs:{icon:"fa-brands fa-discord"}}),e._v(" "+e._s(e.$t("Community"))+" ")],1)]),e._m(0),e.user?t("li",{class:{active:"/printer_events/"===e.path}},[t("a",{attrs:{href:"/printer_events/"}},[t("div",{staticClass:"position-relative"},[t("font-awesome-icon",{attrs:{icon:"fas fa-bell"}}),e.hasUnseenPrinterEvents?t("span",{staticClass:"badge"},[e._v(e._s(e.unseenPrinterEventsDisplay))]):e._e()],1),t("span",{staticClass:"trim-text"},[e._v(e._s(e.$t("Notifications")))])])]):e._e(),e.user?t("li",{class:{active:e.path.includes("/user_preferences/")}},[t("a",{attrs:{href:"/user_preferences/"}},[t("font-awesome-icon",{attrs:{icon:"fas fa-cog"}}),t("span",{staticClass:"trim-text"},[e._v(e._s(e.$t("Preferences")))])],1)]):e._e()])])]),t("div",{staticClass:"content-wrapper",class:{"hide-top-nav":!e.$slots.topBarLeft&&!e.$slots.topBarRight||e.hideHeader}},[t("b-navbar",{staticClass:"top-nav"},[t("div",{staticClass:"d-flex align-items-center"},[t("b-button",{staticClass:"shadow-none p-0 mr-3 position-relative toggle-sidebar",attrs:{variant:"_"},on:{click:function(t){e.collapsed=!e.collapsed}}},[t("i",{staticClass:"fas fa-bars position-relative"},[e.hasUnseenPrinterEvents?t("div",{staticClass:"notification-dot"},[t("svg",{attrs:{width:"8px",height:"8px"}},[t("use",{attrs:{href:"#svg-circle-icon"}})])]):e._e()])]),e._t("topBarLeft")],2),e._t("topBarRight")],2),t("div",{staticClass:"page-content"},[e._t("content")],2)],1),t("div",{staticClass:"content-overlay",on:{click:function(t){e.collapsed=!0}}})])},Dt=[function(){var e=this,t=e._self._c;return t("li",[t("hr",{staticClass:"my-0 mx-2"})])}],xt={name:"PageLayout",props:{isPopup:{type:Boolean,default:!1}},data(){return{collapsed:!0,path:window.location.pathname,user:null,allowSignUp:!1,isEnt:!1}},computed:{inMobileWebView(){return Object(Q["a"])()},hideHeader(){const e=new URLSearchParams(window.location.search);return"true"===e.get("hide_header")},hasUnseenPrinterEvents(){return de()(this.user,"unseen_printer_events",0)>0},unseenPrinterEventsDisplay(){const e=de()(this.user,"unseen_printer_events",0);return e>99?"99+":e}},created(){const{ACCOUNT_ALLOW_SIGN_UP:e,IS_ENT:t}=Object(Q["d"])();this.allowSignUp=!!e,this.isEnt=!!t,this.user=Object(Q["f"])()},mounted(){const e=document.querySelector(".message-snippet");e&&this.inMobileWebView&&e.classList.add("is-in-mobile"),this.inMobileWebView&&(document.querySelector("body").style.paddingBottom=0)}},Tt=xt,Ft=(i("42db"),i("6f7a"),Object(N["a"])(Tt,St,Dt,!1,null,"5822eab8",null)),It=Ft.exports,At=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-body consent-section"},[t("div",[e._v(" "+e._s(e.$t("Number of snapshots"))+": "),t("span",{staticClass:"feedback-estimate"},[e._v(e._s(e.print.printshotfeedback_set.length))])]),t("p",[e._v(" "+e._s(e.$t("Estimated time to finish"))+": "),t("span",{staticClass:"feedback-estimate"},[e._v(e._s(e.estimatedFeedbackTime))])]),t("p",{staticClass:"font-weight-light"},[t("i18next",{attrs:{translation:e.$t("Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of the print. You will earn {localizedDom} after you finish this Focused Feedback. {localizedDom2}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("strong",{staticClass:"text-light"},[e._v(e._s(e.$t("2 non-expirable AI Detection Hours")))])]},proxy:!0},{key:"localizedDom2",fn:function(){return[t("a",{attrs:{target:"_blank",href:"https://www.obico.io/docs/user-guides/how-does-credits-work/"}},[e._v(e._s(e.$t("Learn more"))+". "),t("small",[t("i",{staticClass:"fas fa-external-link-alt"})])])]},proxy:!0}])})],1),t("br"),t("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:!e.consentChecked,type:"button"},on:{click:function(t){return e.$emit("continue-btn-pressed")}}},[e._v(" "+e._s(e.$t("Start Focused Feedback"))+" ")]),t("br"),t("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.consentChecked,expression:"consentChecked"}],staticClass:"custom-control-input",attrs:{id:"consented-checkbox",type:"checkbox",name:"consented"},domProps:{checked:Array.isArray(e.consentChecked)?e._i(e.consentChecked,null)>-1:e.consentChecked},on:{change:function(t){var i=e.consentChecked,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.consentChecked=i.concat([r])):s>-1&&(e.consentChecked=i.slice(0,s).concat(i.slice(s+1)))}else e.consentChecked=a}}}),t("label",{staticClass:"custom-control-label",staticStyle:{"font-size":"16px"},attrs:{for:"consented-checkbox"}},[e._v(" "+e._s(e.$t("I grant the {brandName} app team members the permission to review the time-lapse video of the print shown on this page.",{brandName:e.$t("brandName")}))+" "),t("a",{attrs:{target:"_blank",href:"https://www.obico.io/docs/user-guides/how-does-credits-work#you-need-to-grant-permission-to-tsd-team-to-review-your-time-lapse"}},[e._v(e._s(e.$t("Why is this necessary? "))),e._m(0)])])]),t("br"),t("div",[t("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("File"))+":")]),e._v(" "+e._s(e.print.filename)+" ")]),t("div",[t("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("Printed"))+":")]),e._v(" "+e._s(e.print.started_at.fromNow())+" ")]),t("br"),e.print.video_url?t("video-box",{attrs:{"video-url":e.print.video_url,"poster-url":e.print.poster_url,"full-screen-btn":!1}}):t("div",[t("detective-working")],1)],1)},$t=[function(){var e=this,t=e._self._c;return t("small",[t("i",{staticClass:"fas fa-external-link-alt"})])}],Ot=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-img-top"},[t("video-player",{ref:"videoPlayer",staticClass:"vjs-default-skin vjs-big-play-centered",attrs:{options:e.playerOptions,playsinline:!0},on:{timeupdate:e.onTimeUpdate}}),t("div",{staticClass:"buttons-container"},[e.downloadBtn?t("a",{staticClass:"action-btn",attrs:{role:"button",title:"Download"},on:{click:function(t){return e.$emit("download")}}},[t("i",{staticClass:"fas fa-download",attrs:{"aria-hidden":"true"}})]):e._e(),e.fullscreenBtn?t("a",{staticClass:"action-btn",attrs:{role:"button",title:"Full screen"},on:{click:function(t){return e.$emit("fullscreen")}}},[t("i",{staticClass:"fa fa-expand",attrs:{"aria-hidden":"true"}})]):e._e(),e.exitFullscreenBtn?t("a",{staticClass:"action-btn",attrs:{role:"button",title:"Exit full screen"},on:{click:function(t){return e.$emit("exitFullscreen")}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):e._e()])],1)},Nt=[],Lt=(i("fda2"),i("d6d3")),Mt={name:"VideoBox",components:{videoPlayer:Lt["videoPlayer"]},props:{videoUrl:{type:String,required:!0},posterUrl:{type:String,default:null},fullscreenBtn:{type:Boolean,default:!0},exitFullscreenBtn:{type:Boolean,default:!1},downloadBtn:{type:Boolean,default:!1},fluid:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},defaultFullScreenToggle:{type:Boolean,default:!1}},computed:{playerOptions(){return{muted:!0,preload:"none",language:"en",playbackRates:[.5,1,1.5,2],fluid:this.fluid,fill:!this.fluid,autoplay:this.autoplay,sources:[{type:"video/mp4",src:this.videoUrl}],controlBar:{fullscreenToggle:this.defaultFullScreenToggle},poster:this.posterUrl}}},methods:{onTimeUpdate(e){this.$emit("timeupdate",e.currentTime()/e.duration())}}},Et=Mt,zt=(i("58d0"),Object(N["a"])(Et,Ot,Nt,!1,null,"10df198e",null)),Rt=zt.exports,Bt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card bg-dark text-white"},[t("img",{staticClass:"card-img",attrs:{src:i("0469"),alt:"Obi is still working"}}),t("div",{staticClass:"card-img-overlay",staticStyle:{"background-color":"rgba(0, 0, 0, 0.6)"}},[t("h5",{staticClass:"card-title text-center"},[e._v(e._s(e.$t("Obi is still busy working on your time-lapse")))])])])},Ut=[],jt={name:"DetectiveWorking"},Wt=jt,Ht=(i("a6c8"),Object(N["a"])(Wt,Bt,Ut,!1,null,"5e3b0b22",null)),Vt=Ht.exports,Yt={name:"FocusedFeedbackConsent",components:{VideoBox:Rt,DetectiveWorking:Vt},props:{print:{type:Object,required:!0}},data(){return{consentChecked:!1}},computed:{estimatedFeedbackTime(){const e=12*this.print.printshotfeedback_set.length;return e<60?`${e} ${this.$i18next.t("seconds")}`:H.a.duration(e,"seconds").humanize()}}},Gt=Yt,qt=(i("0994"),Object(N["a"])(Gt,At,$t,!1,null,"0c8d7c24",null)),Kt=qt.exports,Jt={name:"PrintShotFeedbackApp",components:{FocusedFeedbackConsent:Kt,Loading:gt.a,PrintShotCard:Pt,VueSlickCarousel:mt.a,PageLayout:It},props:{config:{default:()=>{},type:Object}},data:function(){return{shots:[],currentShot:0,print:null}},computed:{},mounted(){this.fetchData()},methods:{fetchData(){oe["a"].get(le["a"].print(this.config.printId)).then(e=>{this.print=Te(e.data),this.shots=dt()(this.print.printshotfeedback_set,"id")})},updatePrint(e){oe["a"].patch(le["a"].print(this.print.id),e).then(e=>this.print=e.data)},consentBtnPressed(){this.updatePrint({access_consented_at:H()()})},onShotChanged(e){const t=pt()(this.shots,t=>t.id==e.id);this.$set(this.shots,t,e),this.$refs.carousel.next()},onNextShot(e){this.currentShot=e},onPrev(){this.$refs.carousel.prev()},onNext(){this.$refs.carousel.next()},pageClass(e){return e===this.currentShot?"page-visiting":this.shots[e].answered_at?"text-success":"page-unvisited"}}},Zt=Jt,Qt=(i("86ab"),Object(N["a"])(Zt,ot,lt,!1,null,"65dd3f19",null)),Xt=Qt.exports,ei=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"topBarLeft",fn:function(){return[t("div",{staticClass:"actions-with-selected-desktop"},[t("b-form-group",{staticClass:"m-0"},[t("b-form-checkbox",{attrs:{size:"md"},model:{value:e.allPrintsSelected,callback:function(t){e.allPrintsSelected=t},expression:"allPrintsSelected"}})],1),t("div",[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.selectedPrintIds.size,expression:"!selectedPrintIds.size"}],staticClass:"label",on:{click:function(t){e.allPrintsSelected=!e.allPrintsSelected}}},[e._v(e._s(e.$t("Select all")))]),t("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.selectedPrintIds.size,expression:"selectedPrintIds.size"}],attrs:{"toggle-class":"btn btn-sm actions-with-selected-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v(" "+e._s(e.selectedPrintIds.size)+" item"+e._s(1===e.selectedPrintIds.size?"":"s")+" "+e._s(e.$t("selected"))+" ")]},proxy:!0}])},[t("b-dropdown-item",[t("div",{staticClass:"text-danger",on:{click:e.onDeleteBtnClick}},[t("i",{staticClass:"far fa-trash-alt"}),e._v(e._s(e.$t("Delete"))+" ")])])],1)],1)],1)]},proxy:!0},{key:"topBarRight",fn:function(){return[t("div",{staticClass:"action-panel"},[t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn",title:e.$t("Sort By")},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-sort-amount-down"})]},proxy:!0}])},[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn","menu-class":"scrollable",title:e.$t("Filter")},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-filter"})]},proxy:!0}])},[t("filtering-dropdown",{ref:"filteringDropdown1",attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues,"filter-update-mixin":e.filterUpdateMixin},on:{onFilterUpdated:e.onFilterUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":[{key:"sorting",icon:"fas fa-sort-amount-down",title:e.$t("Sort"),expandable:!0},{key:"filtering",icon:"fas fa-filter",title:e.$t("Filter"),expandable:!0}]},scopedSlots:e._u([{key:"sorting",fn:function(){return[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})]},proxy:!0},{key:"filtering",fn:function(){return[t("filtering-dropdown",{ref:"filteringDropdown2",attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues,"filter-update-mixin":e.filterUpdateMixin},on:{onFilterUpdated:e.onFilterUpdated}})]},proxy:!0}])})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t("active-filter-notice",{attrs:{"filter-values":e.filterValues},on:{onShowAllClicked:e.resetFilters}}),t("b-container",[t("b-row",[t("b-col",[e.prints.length&&!e.loading?t("div",{staticClass:"prints-summary"},[t("div",{staticClass:"summary-item"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-hashtag"})]),t("div",{staticClass:"info"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("Prints done")))]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.stats.total_print_count)+" ("),t("span",{staticClass:"text-success"},[e._v(e._s(e.stats.total_succeeded_print_count))]),e._v(" / "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.stats.total_cancelled_print_count))]),e._v(") ")])])]),t("div",{staticClass:"summary-item"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"far fa-clock"})]),t("div",{staticClass:"info"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("Total print time")))]),t("div",{staticClass:"value"},[e._v(e._s(e.totalPrintTimeFormatted))])])]),t("div",{staticClass:"summary-item"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-ruler-horizontal"})]),t("div",{staticClass:"info"},[t("div",{staticClass:"title"},[t("help-widget",{attrs:{id:"filament-used-may-be-incorrect",highlight:!1,"show-close-button":!1}},[e._v(" "+e._s(e.$t("Filament used"))+" ")])],1),t("div",{staticClass:"value"},[e._v(e._s(e.totalFilamentUsedFormatted))])])]),t("div",{staticClass:"btn-wrapper"},[t("a",{staticClass:"btn btn-secondary",attrs:{href:"/stats/"}},[e._v(" "+e._s(e.$t("Full Stats"))+" "),t("i",{staticClass:"fas fa-arrow-right"})])])]):e._e()])],1),t("b-row",[e.prints.length||e.loading?t("b-col",[e._l(e.prints,(function(i,n){return t("print-history-item",{key:i.id,staticClass:"print-item",attrs:{print:i,index:n,selectable:!0,selected:e.selectedPrintIds.has(i.id)},on:{selectedChanged:e.onSelectedChanged}})})),t("mugen-scroll",{attrs:{handler:e.fetchMoreData,"should-handle":!e.loading}},[e.noMoreData?e._e():t("loading-placeholder")],1)],2):t("b-col",{staticClass:"text-center my-5"},[e._v(e._s(e.$t("No prints found")))])],1)],1),t("date-picker-modal",{ref:"datePickerModal",on:{picked:e.onDatesPicked}})]},proxy:!0}])})},ti=[],ii=i("996c"),ni=i.n(ii),ai=function(){var e=this,t=e._self._c;return t("div",[null===e.menuExpanded?e._l(e.menuOptions,(function(i){return t("b-dropdown-item",{key:i.key,attrs:{href:i.href},on:{click:function(t){return e.onClick(i)}}},[i.expandable?t("div",{staticClass:"d-flex justify-content-between clickable-area",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.menuExpanded=i.key}}},[t("div",[i.icon?t("i",{class:i.icon}):i.svgIcon?t("svg",{staticClass:"custom-svg-icon"},[t("use",{attrs:{href:"#"+i.svgIcon}})]):e._e(),t("span",[e._v(e._s(i.title))])]),t("div",[t("i",{staticClass:"fas fa-chevron-right m-0"})])]):t("div",{staticClass:"d-flex justify-content-between clickable-area"},[t("div",{class:i.customMenuOptionClass},[i.icon?t("i",{class:i.icon}):i.svgIcon?t("svg",{staticClass:"custom-svg-icon"},[t("use",{attrs:{href:"#"+i.svgIcon}})]):e._e(),t("span",[e._v(e._s(i.title))])])])])})):e._e(),null!==e.menuExpanded?[t("b-dropdown-item",[t("div",{staticClass:"clickable-area",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.menuExpanded=null}}},[t("i",{staticClass:"fas fa-chevron-left"}),e._v(e._s(e.$t("Back"))+" ")])]),t("b-dropdown-divider"),"sorting"===e.menuExpanded?t("div",[e._t("sorting")],2):e._e(),"filtering"===e.menuExpanded?t("div",[e._t("filtering")],2):e._e(),"storage"===e.menuExpanded?t("div",[e._t("storage")],2):e._e(),"grouping"===e.menuExpanded?t("div",[e._t("grouping")],2):e._e()]:e._e()],2)},ri=[],si={name:"CascadedDropdown",props:{menuOptions:{type:Array,required:!0}},data:function(){return{menuExpanded:null}},methods:{resetMenuExpanded(){this.menuExpanded=null},onClick(e){e.callback&&this.$emit("menuOptionClicked",e.key)}}},oi=si,li=(i("0714"),Object(N["a"])(oi,ai,ri,!1,null,"2a5ecb65",null)),ci=li.exports,di=function(){var e=this,t=e._self._c;return t("div",[t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(e.$t("SORT BY")))]),e._l(e.sortingOptions.options,(function(i){return t("b-dropdown-item",{key:"s_"+i.key,nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.updateSorting({sorting:i})}}},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.sortingValue.sorting.key===i.key?"visible":"hidden"}}),e._v(" "+e._s(i.title)+" ")])})),t("b-dropdown-divider"),t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(e.$t("DIRECTION")))]),e._l(e.sortingDirections,(function(i){return t("b-dropdown-item",{key:"d_"+i.key,nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.updateSorting({direction:i})}}},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.sortingValue.direction.key===i.key?"visible":"hidden"}}),e._v(" "+e._s(i.title)+" ")])}))],2)},ui=[];const pi=[{key:"asc",title:""+G["a"].t("Ascending")},{key:"desc",title:""+G["a"].t("Descending")}];var hi={name:"SortingDropdown",props:{localStoragePrefix:{type:String,required:!0},sortingOptions:{type:Object,required:!0},sortingValue:{type:Object,required:!0}},data:function(){return{sortingDirections:pi}},methods:{updateSorting({sorting:e,direction:t}){return e&&e.key!==this.sortingValue.sorting.key?(Object(s["b"])(this.localStoragePrefix+"-sorting",e.key),void this.$emit("onSortingUpdated",{...this.sortingValue,sorting:e})):t&&t.key!==this.sortingValue.direction.key?(Object(s["b"])(this.localStoragePrefix+"-direction",t.key),void this.$emit("onSortingUpdated",{...this.sortingValue,direction:t})):void 0}}};const mi=(e,t)=>{const i=Object(s["a"])(e+"-sorting",t.default.sorting),n=Object(s["a"])(e+"-direction",t.default.direction);return{sorting:t.options.find(e=>e.key===i),direction:pi.find(e=>e.key===n)}};var fi=hi,gi=Object(N["a"])(fi,di,ui,!1,null,null,null),vi=gi.exports,bi=function(){var e=this,t=e._self._c;return t("div",e._l(e.filterOptions,(function(i,n,a){return t("div",{key:n},[0!==a?t("b-dropdown-divider"):e._e(),t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(i.title.toUpperCase()))]),e._l(i.values,(function(a){return t("b-dropdown-item",{key:`f_${n}_${a.key}`,nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.updateFiltering({filterOptionKey:n,filterValueKey:a.key})}}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",class:{"checkmark-muted":i.multiple&&!a.includesAll&&(!Array.isArray(e.filterValues[n])||!e.filterValues[n].includes(a.key))},style:{visibility:Array.isArray(e.filterValues[n])&&e.filterValues[n].includes(a.key)||e.filterValues[n]===a.key||i.multiple&&!a.includesAll?"visible":"hidden"}}),t("div",{staticClass:"text"},[e._v(" "+e._s(a.title)+" "),a.subtitle?t("div",{staticClass:"subtitle"},[e._v(" "+e._s(a.subtitle)+" ")]):e._e()])])])}))],2)})),0)},yi=[],wi={name:"FilteringDropdown",props:{localStoragePrefix:{type:String,required:!0},filterOptions:{type:Object,required:!0},filterValues:{type:Object,required:!0},filterUpdateMixin:{type:Function,default:null}},methods:{updateFiltering({filterOptionKey:e,filterValueKey:t}){if(this.filterUpdateMixin){const i=this.filterUpdateMixin(e,t);if(!i)return}const i=this.filterOptions[e],n=i.values.find(e=>e.key===t),a=this.filterValues[e];let r;var o;i.multiple?n.includesAll?r=n.key:Array.isArray(a)?a.includes(t)?(r=a.filter(e=>e!==t),r.length||(r=(null===(o=i.values.find(e=>e.includesAll))||void 0===o?void 0:o.key)||[])):r=[...a,t]:r=[t]:r=t;r!==a&&(Object(s["b"])(`${this.localStoragePrefix}-${e}`,r),this.$emit("onFilterUpdated",e,r))}}};const _i=(e,t)=>{let i={};for(const[n,a]of Object.entries(t)){const t=String(Object(s["a"])(`${e}-${n}`,a.default));if(a.multiple){const e=a.values.find(e=>e.includesAll);t===e.key?i[n]=t:i[n]=t.split(",")}else i[n]=t}return i},Ci=(e,t,i)=>{let n={};for(const[a,r]of Object.entries(t)){const t=e[a];if(t.buildQueryParam){const e=i&&i(a,r);e&&(n={...n,...e})}else"none"!==r&&(n[t.queryParam]=r)}return n};var ki=wi,Pi=(i("5fdc"),Object(N["a"])(ki,bi,yi,!1,null,"687a0a02",null)),Si=Pi.exports,Di=function(){var e=this,t=e._self._c;return e.shouldShowFilterWarning?t("div",{staticClass:"active-filter-notice"},[t("div",{staticClass:"filter"},[t("i",{staticClass:"fas fa-filter mr-2"}),e._v(" "+e._s(e.$t("Filters applied"))+" ")]),t("div",{staticClass:"action-btn",on:{click:function(t){return e.$emit("onShowAllClicked")}}},[e._v(e._s(e.$t("SHOW ALL")))])]):e._e()},xi=[],Ti={name:"ActiveFilterNotice",props:{filterValues:{type:Object,required:!0}},computed:{activeFilters(){return Object.values(this.filterValues).filter(e=>"none"!==e)},shouldShowFilterWarning(){return 0!==this.activeFilters.length}}},Fi=Ti,Ii=(i("6912"),Object(N["a"])(Fi,Di,xi,!1,null,"0aa31f4a",null)),Ai=Ii.exports,$i=function(){var e=this,t=e._self._c;return t("a",{staticClass:"print-container",attrs:{href:`/prints/${e.print.id}/${null!==e.index?"?index="+e.index:""}`}},[t("div",{staticClass:"status-indicator print-status-bg",class:e.print.status.key}),e.selectable?t("div",{staticClass:"checkbox-wrapper",class:{isSelected:e.isSelected}},[t("b-form-checkbox",{attrs:{size:"md"},model:{value:e.isSelected,callback:function(t){e.isSelected=t},expression:"isSelected"}})],1):e._e(),t("div",{staticClass:"main-content truncated-wrapper"},[t("div",{staticClass:"top"},[t("div",{staticClass:"title truncated",attrs:{title:e.fileName}},[e._v(e._s(e.fileName))])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"info"},[t("svg",{staticClass:"icon",attrs:{width:"1em",height:"1em"}},[t("use",{attrs:{href:"#svg-3d-printer"}})]),t("span",[e._v(e._s(e.print.printer?e.print.printer.name:"Unavailable"))])]),t("div",{staticClass:"info"},[t("i",{staticClass:"fas fa-calendar-alt icon"}),t("span",[e._v(e._s(e.print.started_at.format("MMM D, YYYY")))])])])]),e.print.poster_url?t("div",{staticClass:"poster"},[t("div",{staticClass:"img",style:{backgroundImage:`url(${e.print.poster_url})`}})]):t("div",{staticClass:"poster no-photo"},[t("svg",[t("use",{attrs:{href:"#svg-no-photo"}})])])])},Oi=[],Ni={name:"PrintHistoryItem",components:{},props:{print:{type:Object,required:!0},index:{type:Number,default:null},selectable:{type:Boolean,default:!1},selected:{type:Boolean,default:!1}},data:function(){return{PrintStatus:xe,isSelected:this.selected}},computed:{fileName(){return null===this.print.g_code_file?this.print.filename:this.print.g_code_file.filename}},watch:{isSelected(e){this.$emit("selectedChanged",this.print.id,e)},selected(e){this.isSelected=e}}},Li=Ni,Mi=(i("1279"),Object(N["a"])(Li,$i,Oi,!1,null,"11fbb7ad",null)),Ei=Mi.exports,zi=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"b-modal-pick-dates",title:e.$t("Select Dates"),"ok-title":e.$t("Apply"),"cancel-title":e.$t("Cancel"),centered:""},on:{ok:e.handleOk,hidden:e.resetModal,shown:e.focusInput}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"my-2"},[t("b-form-group",{attrs:{label:e.$t("Date from"),"label-for":"date_from",description:e.$t("If empty, will default to your registration date")}},[t("b-form-input",{ref:"dateFrom",attrs:{id:"date_from",type:"date",placeholder:e.$t("Enter date")},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}})],1),t("b-form-group",{attrs:{label:e.$t("Date to"),"label-for":"date_to",description:e.$t("If empty, will default to today")}},[t("b-form-input",{ref:"dateTo",attrs:{id:"date_to",type:"date",placeholder:e.$t("Enter date")},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1),e.errorMessage?t("b-alert",{staticClass:"mt-3",attrs:{variant:"danger",show:""}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],1)])])},Ri=[],Bi={name:"DatePickerModal",data(){return{dateFrom:"",dateTo:"",isOpen:!1,errorMessage:""}},methods:{show(e,t){this.dateFrom=e||"",this.dateTo=t||"",this.isOpen=!0,this.$bvModal.show("b-modal-pick-dates")},focusInput(){this.$refs.dateFrom.select()},close(){this.$bvModal.hide("b-modal-pick-dates"),this.resetModal()},resetModal(){this.isOpen=!1,this.errorMessage=""},handleOk(e){e.preventDefault(),this.handleSubmit()},async handleSubmit(){this.dateFrom||this.dateTo?(this.$emit("picked",this.dateFrom,this.dateTo),this.$nextTick(()=>{this.close()})):this.errorMessage=""+this.$i18next.t("At least one date is needed")}}},Ui=Bi,ji=(i("045b"),Object(N["a"])(Ui,zi,Ri,!1,null,"3aeed230",null)),Wi=ji.exports,Hi=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:()=>e.show=!1,expression:"() => (show = false)"}],staticClass:"help-wrapper",class:{highlighted:e.highlight}},[t("div",{staticClass:"text",on:{click:function(t){e.positionWidget(),e.show=!e.show}}},[e._t("default")],2),t("div",{ref:"widgetWrapper",staticClass:"widget-wrapper"},[t("div",{staticClass:"question-mark",on:{click:function(t){e.positionWidget(),e.show=!e.show}}},[t("svg",[t("use",{attrs:{href:"#svg-question-icon"}})])]),t("transition",{attrs:{name:"pop-up"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"widget",staticClass:"widget",class:[e.xDirection,e.yDirection]},[e.showCloseButton?t("div",{staticClass:"close-button",on:{click:function(t){e.show=!1}}},[t("svg",{attrs:{width:"16",height:"16"}},[t("use",{attrs:{href:"#svg-cross-icon"}})])]):e._e(),t("div",{staticClass:"content"},["basic-streaming-on-pricing-page"===e.id?[t("div",[e._v(" "+e._s(e.$t("Basic Streaming"))+": "),t("ul",[t("li",[e._v(e._s(e.$t("Up to 5 FPS (frame-per-second)")))]),t("li",[e._v(e._s(e.$t("Throttled for 30 seconds every minute")))])])]),t("div",[t("i18next",{attrs:{translation:e.$t("Learn more about {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/webcam-streaming-for-human-eyes/",target:"_blank"}},[e._v(e._s(e.$t("the differences between the Premium Streaming and the Basic Streaming"))+" "),t("i",{staticClass:"fas fa-external-link-alt"})])]},proxy:!0}],null,!1,2915703024)})],1)]:e._e(),"detective-hours-free-plan-on-pricing-page"===e.id?[t("h3",[e._v(e._s(e.$t("Yup! Even Free account gets 10 AI Detection Hours for FREE each month.")))]),t("ul",[t("li",[e._v(e._s(e.$t("Unused AI Detection Hours roll over month to month.")))]),t("li",[e._v(" "+e._s(e.$t("You can"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-credits-work/"}},[e._v(e._s(e.$t("earn free AI Detection Hours by helping her improve")))]),e._v(". ")]),t("li",[e._v(" "+e._s(e.$t("You can also"))+" "),t("a",{staticClass:"link",attrs:{href:"#need-more"}},[e._v(e._s(e.$t("purchase additional AI hours")))]),e._v(". ")])]),t("p",[e._v(" "+e._s(e.$t("Learn more about"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-detective-hour-work/",target:"_blank"}},[e._v(e._s(e.$t("how the AI Detection Hour works "))),t("i",{staticClass:"fas fa-external-link-alt"})])])]:e._e(),"detective-hours-pro-plan-on-pricing-page"===e.id?[t("h3",[e._v(e._s(e.$t("Pro plan includes 50 AI Detection Hours each month.")))]),t("ul",[t("li",[e._v(e._s(e.$t("Unused AI Detection Hours roll over month to month.")))]),t("li",[e._v(e._s(e.$t("AI Detection Hours expire when subscription ends.")))]),t("li",[e._v(" "+e._s(e.$t("You can"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-credits-work/"}},[e._v(e._s(e.$t("earn more AI Detection Hours by helping her improve")))]),e._v(". ")]),t("li",[e._v(" "+e._s(e.$t("You can also"))+" "),t("a",{staticClass:"link",attrs:{href:"#need-more"}},[e._v(e._s(e.$t("purchase additional AI hours")))]),e._v(". ")])]),t("p",[e._v(" "+e._s(e.$t("Learn more about"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-detective-hour-work/",target:"_blank"}},[e._v(e._s(e.$t("how the AI Detection Hour works "))),t("i",{staticClass:"fas fa-external-link-alt"})])])]:e._e(),"premium-streaming-on-pricing-page"===e.id?[t("div",[e._v(" "+e._s(e.$t("Premium Streaming"))+": "),t("ul",[t("li",[e._v(e._s(e.$t("Up to 25 FPS (frame-per-second)")))]),t("li",[e._v(e._s(e.$t("Un-throttled")))])])]),t("p",[e._v(" "+e._s(e.$t("Learn more about"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/webcam-streaming-for-human-eyes/",target:"_blank"}},[e._v(e._s(e.$t("the differences between the Premium Streaming and the Basic Streaming"))+" "),t("i",{staticClass:"fas fa-external-link-alt"})])])]:e._e(),"tunneling-free-plan-on-pricing-page"===e.id?[t("p",[e._v(e._s(e.$t("Securely tunnel to your OctoPrint/Klipper from anywhere.")))]),t("p",[e._v(" "+e._s(e.$t("Free plan is subject to 300MB/month data cap. Data usage is reset on the 1st day of each month."))+" ")]),t("p",[e._v(" "+e._s(e.$t("Learn more about"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/octoprint-tunneling/",target:"_blank"}},[e._v(e._s(e.$t("OctoPrint/Klipper tunnel "))),t("i",{staticClass:"fas fa-external-link-alt"})])])]:e._e(),"tunneling-pro-plan-on-pricing-page"===e.id?[t("div",[e._v(e._s(e.$t("Securely tunnel to your OctoPrint/Klipper from anywhere. Unlimited.")))]),t("p",[e._v(" "+e._s(e.$t("Learn more about"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/octoprint-tunneling/",target:"_blank"}},[e._v(e._s(e.$t("OctoPrint/Klipper tunnel "))),t("i",{staticClass:"fas fa-external-link-alt"})])])]:e._e(),"3rd-party-app-integration-free-on-pricing-page"===e.id?[t("div",[t("div",[e._v(e._s(e.$t("The monthly cap is shared between 3rd-party app and OctoPrint tunnel"))+":")]),t("ul",[t("li",[e._v(e._s(e.$t("The combined usage can't exceed 300MB per month.")))]),t("li",[e._v(e._s(e.$t("Data usage is reset on the 1st day of each month.")))])]),t("p",[e._v(e._s(e.$t("Supported 3rd-party mobile apps"))+":")]),t("img",{staticClass:"logo-icon",attrs:{src:i("ca14")}}),t("img",{staticClass:"logo-icon",attrs:{src:i("3ee0")}}),t("img",{staticClass:"logo-icon",attrs:{src:i("222b")}}),t("img",{staticClass:"logo-icon",attrs:{src:i("3957")}})])]:e._e(),"3rd-party-app-integration-pro-on-pricing-page"===e.id?[t("div",[t("p",[e._v(e._s(e.$t("Supported 3rd-party mobile apps"))+":")]),t("img",{staticClass:"logo-icon",attrs:{src:i("ca14")}}),t("img",{staticClass:"logo-icon",attrs:{src:i("3ee0")}}),t("img",{staticClass:"logo-icon",attrs:{src:i("222b")}}),t("img",{staticClass:"logo-icon",attrs:{src:i("3957")}})])]:e._e(),"filament-change-on-notification-preferences"===e.id?[t("i",[t("ul",[e._v(" "+e._s(e.$t("Required versions"))+": "),t("li",[e._v(e._s(e.$t("OctoPrint 1.7.0 or higher")))]),t("li",[e._v(e._s(e.$t("The {brandName} plugin 1.8.11 or higher",{brandName:e.$syndicateText.brandName})))])])]),t("h3",[e._v(e._s(e.$t("Filament Runout Notifications")))]),t("p",[e._v(" "+e._s(e.$t("Host_action_commands must be enabled in your firmware to make it possible for your filament runout sensor to communicate with OctoPrint and the {brandName} app. If you enable action commands in your firmware, then the filament runout sensor can work properly and the {brandName} app can notify you when the filament runs out. Unfortunately, without host_action_commands enabled, OctoPrint is unable to communicate with the printer to know that a filament runout was detected.",{brandName:e.$syndicateText.brandName}))+" ")]),t("p",[e._v(e._s(e.$t("To enable support, you need to do the following"))+":")]),t("ul",[t("li",[e._v(" "+e._s(e.$t("Marlin: Uncomment #define HOST_ACTION_COMMANDS in Configuration_adv.h and recompile. See here for more information on host_action_commands."))+" ")])]),t("h3",[e._v(e._s(e.$t("Color Change Notifications")))]),t("p",[e._v(" "+e._s(e.$t("Notifications on color change will work with any printer that has M600 enabled in its firmware. You do not need host_action_commands enabled to get notified when a color change is needed."))+" ")])]:e._e(),"filament-used-may-be-incorrect"===e.id?[t("h3",[e._v(e._s(e.$t("Is filament usage inaccurate?")))]),t("p",[e._v(" "+e._s(e.$t("G-code files uploaded to your {brandName} account before upgrading to {brandName} for OctoPrint version 2.3.0 or {brandName} for Klipper version 1.2.0 do not include filament usage data.",{brandName:e.$syndicateText.brandName}))+" ")]),t("p",[t("strong",[e._v(e._s(e.$t("To ensure accurate filament usage and other statistics"))+":")])]),t("ul",[t("li",[e._v(" "+e._s(e.$t("Upload G-code files and start prints directly through {brandName} instead of OctoPrint/Klipper.",{brandName:e.$syndicateText.brandName}))+" ")]),t("li",[e._v(" "+e._s(e.$t("Use a slicer that supports filament usage parameters, such as Cura, Prusa Slicer, SuperSlicer, IdeaMaker, or Simplify3D."))+" ")]),t("li",[e._v(" "+e._s(e.$t("Print statistics for G-code files deleted before 12/20/2022 are not included. For files deleted after 12/20/2022, statistics are preserved."))+" ")])])]:e._e(),"thumbnail-setup-guide"===e.id?[t("p",[t("a",{attrs:{href:"https://obico.io/docs/user-guides/enable-gcode-thumbnails/",target:"_blank"}},[e._v(e._s(e.$t("Learn how to configure G-Code preview generation in your slicer"))+" "),t("i",{staticClass:"fas fa-external-link-alt"})])])]:e._e(),"fan-speed-widget-help"===e.id?[t("p",[e._v(" "+e._s(e.$t("Adjust the speed of the cooling fan by setting a percentage value between 0 and 100. The default value is usually 100, which means the fan will run at full speed. Lowering the fan speed can reduce noise and save energy, but may also affect print quality if the printer gets too hot."))+" ")])]:e._e(),"print-speed-widget-help"===e.id?[t("p",[e._v(" "+e._s(e.$t("Adjust the speed of your 3D printer by changing the speed of all movement commands by a specified factor. The default value is 100%, meaning that the printer will move at its standard speed. Lowering the print speed factor will slow down your print, while increasing it will speed it up. Value of 200% will double the speed."))+" ")])]:e._e(),"flow-rate-widget-help"===e.id?[t("p",[e._v(" "+e._s(e.$t("Flow rate is the speed at which the printer extrudes plastic. If the flow rate is too high, the printer may extrude too much plastic and create blobs or stringing, while too low flow rate may result in weak and brittle prints. Adjusting the flow rate can help achieve the optimal balance between speed and quality. The default value is 100%."))+" ")])]:e._e(),"coupon-entered-automatically"===e.id?[t("div",[t("p",[e._v(e._s(e.$t("No cost for three months. Plan renews after expiration. Cancel anytime.")))])])]:e._e()],2)])])],1)])},Vi=[],Yi=i("e67d"),Gi=i.n(Yi),qi={name:"HelpWidget",directives:{ClickOutside:Gi.a},props:{id:{type:String,required:!0},highlight:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!1},textBefore:{type:String,default:""}},data(){return{show:!1,xDirection:"left",yDirection:"top"}},methods:{positionWidget(){this.$nextTick(()=>{var e,t;const i=(null===(e=this.$refs.widget)||void 0===e?void 0:e.offsetWidth)||360,n=(null===(t=this.$refs.widget)||void 0===t?void 0:t.offsetHeight)||420,a=i+10,r=n+10,s=this.$refs.widgetWrapper.getBoundingClientRect(),o=window.innerWidth-(s.left+s.width),l=window.innerHeight-(s.top+s.height);this.xDirection=o<a?"right":"left",this.yDirection=l<r?"bottom":"top"})}}},Ki=qi,Ji=(i("4637"),i("32d6"),Object(N["a"])(Ki,Hi,Vi,!1,null,"7a4870e3",null)),Zi=Ji.exports;const Qi="YYYY-MM-DD",Xi=(e,t,i,n)=>({from_date:en(e,t,n).format(Qi),to_date:tn(e,i).format(Qi),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),en=(e,t,i)=>{const n=new Date,a=new Date(n.setDate(n.getDate()-n.getDay())),r=new Date(n.getFullYear(),n.getMonth(),1),s=new Date(n.getFullYear(),0,1);switch(e){case"this_week":return H()(a);case"this_month":return H()(r);case"this_year":return H()(s);case"custom":if(t)return H()(t)}return H()(i.date_joined)},tn=(e,t)=>{const i=new Date,n=new Date(i.setDate(i.getDate()-i.getDay()+6)),a=new Date(i.getFullYear(),i.getMonth()+1,0),r=new Date(i.getFullYear(),11,31);switch(e){case"this_week":return H()(n);case"this_month":return H()(a);case"this_year":return H()(r);case"custom":if(t)return H()(t)}return H()()},nn=(e,t,i,n)=>{const a=en(e,t,n),r=tn(e,i),s=r.diff(a,"days");return s<=31?"day":s<=95?"week":s<=366?"month":"year"},an=24,rn="printsSorting",sn={options:[{title:""+G["a"].t("Date"),key:"date"}],default:{sorting:"date",direction:"desc"}},on="YYYY-MM-DD",ln="printsFiltering",cn={timePeriod:{title:""+G["a"].t("Time Period"),buildQueryParam:Xi,values:[{key:"none",title:""+G["a"].t("All")},{key:"this_week",title:""+G["a"].t("This Week")},{key:"this_month",title:""+G["a"].t("This Month")},{key:"this_year",title:""+G["a"].t("This Year")},{key:"custom",title:""+G["a"].t("Custom")}],default:"none"},printStatus:{title:""+G["a"].t("Print Status"),queryParam:"filter",values:[{key:"none",title:""+G["a"].t("All")},{key:"finished",title:""+G["a"].t("Finished")},{key:"cancelled",title:""+G["a"].t("Cancelled")}],default:"none"},feedbackNeeded:{title:""+G["a"].t("Feedback Needed"),queryParam:"feedback_needed",values:[{key:"none",title:""+G["a"].t("All")},{key:"need_alert_overwrite",title:""+G["a"].t("Review Needed")},{key:"need_print_shot_feedback",title:""+G["a"].t("Focused Feedback Needed")}],default:"none"},printers:{title:""+G["a"].t("Printers"),queryParam:"filter_by_printer_ids",multiple:!0,values:[{key:"none",title:""+G["a"].t("All"),includesAll:!0}],default:"none"}};var dn={name:"PrintHistoryPage",components:{MugenScroll:ni.a,PageLayout:It,CascadedDropdown:ci,DatePickerModal:Wi,SortingDropdown:vi,FilteringDropdown:Si,ActiveFilterNotice:Ai,PrintHistoryItem:Ei,HelpWidget:Zi},data:function(){return{stats:{},prints:[],loading:!1,noMoreData:!1,user:null,selectedPrintIds:new Set,sortingLocalStoragePrefix:rn,sortingOptions:sn,sortingValue:mi(rn,sn),filterLocalStoragePrefix:ln,filterOptions:cn,filterValues:_i(ln,cn)}},computed:{totalPrintTimeFormatted(){return fe(this.stats.total_print_time)},totalFilamentUsedFormatted(){var e;return ve(null===(e=this.stats)||void 0===e?void 0:e.total_filament_used)},defaultStatsParams(){return{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,from_date:H()(this.user.date_joined).format(on),to_date:H()(new Date).format(on),group_by:"year"}},allPrintsSelected:{get:function(){return this.selectedPrintIds.size>=this.prints.length&&0!==this.prints.length},set:function(e){e?this.selectedPrintIds=new Set(this.prints.map(e=>e.id)):this.selectedPrintIds.size===this.prints.length&&(this.selectedPrintIds=new Set)}}},created(){this.user=Object(Q["f"])(),this.updateCustomPeriodFilterSubtitle(),oe["a"].get(le["a"].printers(),{params:{with_archived:!1}}).then(e=>{if(e.data.forEach(e=>{this.filterOptions.printers.values.push({key:String(e.id),title:e.name})}),"none"!==this.filterValues.printers){const t=e.data.map(e=>String(e.id));this.filterValues.printers=this.filterValues.printers.filter(e=>t.includes(e)),Object(s["b"])(ln+"-printers",this.filterValues.printers)}this.refetchData()})},methods:{fetchMoreData(){this.noMoreData||(this.loading=!0,oe["a"].get(le["a"].prints(),{params:{start:this.prints.length,limit:an,...Ci(this.filterOptions,this.filterValues,this.customFilterParamsBuilder),sorting:`${this.sortingValue.sorting.key}_${this.sortingValue.direction.key}`}}).then(e=>{this.loading=!1,this.noMoreData=e.data.length<an,this.prints.push(...e.data.map(e=>Te(e)))}).catch(e=>{this.errorDialog(e)}))},refetchData(){this.prints=[],this.selectedPrintIds=new Set,this.noMoreData=!1,this.fetchMoreData(),this.fetchStats()},fetchStats(){oe["a"].get(le["a"].stats(),{params:{...this.defaultStatsParams,...Ci(this.filterOptions,this.filterValues,this.customFilterParamsBuilder)}}).then(e=>{this.stats=e.data}).catch(e=>{this.errorDialog(e)})},onSelectedChanged(e,t){const i=new Set(this.selectedPrintIds);t?i.add(e):i.delete(e),this.selectedPrintIds=i},onDeleteBtnClick(){const e=Array.from(this.selectedPrintIds);this.$swal.Prompt.fire({title:""+this.$i18next.t("Are you sure?"),text:""+this.$i18next.t("Delete {name} print(s)? This action can not be undone.",{name:this.selectedPrintIds.size}),showCancelButton:!0,confirmButtonText:""+this.$i18next.t("Yes"),cancelButtonText:""+this.$i18next.t("No")}).then(t=>{t.isConfirmed&&oe["a"].post(le["a"].printsBulkDelete(),{print_ids:e}).then(()=>{this.refetchData()})})},onSortingUpdated(e){this.sortingValue=e,this.refetchData()},onFilterUpdated(e,t){this.filterValues[e]=t,this.refetchData()},resetFilters(){for(const e of Object.keys(this.filterValues))this.filterValues[e]="none",Object(s["b"])(`${ln}-${e}`,"none");this.updateCustomPeriodFilterSubtitle(),this.refetchData()},getCurrentDateFrom(){return Object(s["a"])(ln+"-timePeriod-dateFrom")||null},getCurrentDateTo(){return Object(s["a"])(ln+"-timePeriod-dateTo")||null},filterUpdateMixin(e,t){if("timePeriod"===e){if("custom"===t){if("custom"!==this.filterValues.timePeriod)this.$refs.datePickerModal.show();else{const e=this.getCurrentDateFrom(),t=this.getCurrentDateTo();this.$refs.datePickerModal.show(e,t)}return}this.$nextTick(()=>{this.updateCustomPeriodFilterSubtitle()})}return!0},onDatesPicked(e,t){(e||t)&&(this.filterValues.timePeriod="custom",Object(s["b"])(ln+"-timePeriod","custom"),Object(s["b"])(ln+"-timePeriod-dateFrom",e),Object(s["b"])(ln+"-timePeriod-dateTo",t),this.updateCustomPeriodFilterSubtitle(),this.refetchData())},customFilterParamsBuilder(e,t){if("timePeriod"===e)return this.filterOptions[e].buildQueryParam(t,this.getCurrentDateFrom(),this.getCurrentDateTo(),this.user)},updateCustomPeriodFilterSubtitle(){let e="";if("custom"===this.filterValues.timePeriod){const t="MMM D, YYYY",i=this.getCurrentDateFrom(),n=this.getCurrentDateTo(),a=i?H()(i).format(t):""+this.$i18next.t("Until"),r=n?H()(n).format(t):""+this.$i18next.t("and later");e=`${a}${i&&n?" - ":" "}${r}`}const t=this.filterOptions.timePeriod.values.findIndex(e=>"custom"===e.key);this.filterOptions.timePeriod.values[t].subtitle=e,this.$refs.filteringDropdown1&&this.$refs.filteringDropdown1.$forceUpdate(),this.$refs.filteringDropdown2&&this.$refs.filteringDropdown2.$forceUpdate()}}},un=dn,pn=(i("c991"),Object(N["a"])(un,ei,ti,!1,null,"4bb2d91a",null)),hn=pn.exports,mn=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"topBarRight",fn:function(){return[t("div",{staticClass:"action-panel"},[t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-chart-bar"})]},proxy:!0}])},[t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(e.$t("GROUP BY")))]),e._l(e.groupingOptions,(function(i){return t("b-dropdown-item",{key:i.key,nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),(()=>e.updateChartGrouping(i)).apply(null,arguments)}}},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.activeGrouping===i.key?"visible":"hidden"}}),t("span",[e._v(e._s(i.title))])])}))],2),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn","menu-class":"scrollable",title:e.$t("Filter")},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-filter"})]},proxy:!0}])},[t("filtering-dropdown",{ref:"filteringDropdown1",attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues,"filter-update-mixin":e.filterUpdateMixin},on:{onFilterUpdated:e.onFilterUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":[{key:"grouping",icon:"fas fa-chart-bar",title:e.$t("Group By"),expandable:!0},{key:"filtering",icon:"fas fa-filter",title:e.$t("Filter"),expandable:!0}]},scopedSlots:e._u([{key:"grouping",fn:function(){return[t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(e.$t("GROUP BY")))]),e._l(e.groupingOptions,(function(i){return t("b-dropdown-item",{key:i.key,nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),(()=>e.updateChartGrouping(i)).apply(null,arguments)}}},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.activeGrouping===i.key?"visible":"hidden"}}),t("span",[e._v(e._s(i.title))])])}))]},proxy:!0},{key:"filtering",fn:function(){return[t("filtering-dropdown",{ref:"filteringDropdown2",attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues,"filter-update-mixin":e.filterUpdateMixin},on:{onFilterUpdated:e.onFilterUpdated}})]},proxy:!0}])})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t("active-filter-notice",{attrs:{"filter-values":e.filterValues},on:{onShowAllClicked:e.resetFilters}}),e.stats?t("b-container",[t("b-row",[t("b-col",[t("muted-alert",{staticClass:"muted-alert"},[e._v(e._s(e.$t("Statistics include deleted prints")))])],1)],1),t("b-row",[t("b-col",{staticClass:"mb-4 mb-lg-0",attrs:{lg:"6"}},[t("div",{staticClass:"stats-block total-prints"},[t("div",{staticClass:"stats-block-title"},[t("i",{staticClass:"fas fa-hashtag"}),t("span",[e._v(e._s(e.$t("Total Prints")))])]),t("div",{staticClass:"chart-wrapper"},[t("div",{staticClass:"legend"},[t("div",{staticClass:"line"},[t("div",{staticClass:"square success"}),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Finished"))+":")]),t("div",{staticClass:"value"},[e._v(e._s(e.stats?e.stats.total_succeeded_print_count:""))])]),t("div",{staticClass:"line"},[t("div",{staticClass:"square danger"}),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Cancelled"))+":")]),t("div",{staticClass:"value"},[e._v(e._s(e.stats?e.stats.total_cancelled_print_count:""))])])]),t("div",{ref:"totalPrintsDonutChart"})])])]),t("b-col",{attrs:{lg:"6"}},[t("div",{staticClass:"stats-block print-time"},[t("div",{staticClass:"stats-block-title"},[t("i",{staticClass:"far fa-clock"}),t("span",[e._v(e._s(e.$t("Print Time")))])]),t("div",{staticClass:"info total-print-time"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("Total print time")))]),t("div",{staticClass:"value"},[e._v(e._s(e.humanizedDuration(e.stats.total_print_time)))])]),t("div",{staticClass:"other-print-time-numbers"},[t("div",{staticClass:"info"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("Longest print")))]),t("div",{staticClass:"value"},[e._v(e._s(e.humanizedDuration(e.stats.longest_print_time)))])]),t("div",{staticClass:"divider"}),t("div",{staticClass:"info"},[t("div",{staticClass:"title"},[e._v(e._s(e.$t("Average print")))]),t("div",{staticClass:"value"},[e._v(e._s(e.humanizedDuration(e.stats.average_print_time)))])])])])])],1),t("b-row",{staticClass:"mt-4"},[t("b-col",[t("div",{staticClass:"stats-block bar-chart"},[t("div",{staticClass:"stats-block-title"},[t("i",{staticClass:"fas fa-hashtag"}),t("span",[e._v(e._s(e.$t("Prints Count")))])]),t("div",{ref:"printCountGroupsChart",staticClass:"bar-chart-wrapper"})])])],1),t("b-row",{staticClass:"mt-4"},[t("b-col",[t("div",{staticClass:"stats-block bar-chart"},[t("div",{staticClass:"stats-block-title"},[t("i",{staticClass:"far fa-clock"}),t("span",[e._v(e._s(e.$t("Print Time")))])]),t("div",{ref:"printTimeGroupsChart",staticClass:"bar-chart-wrapper"})])])],1),t("b-row",{staticClass:"mt-4"},[t("b-col",[t("div",{staticClass:"stats-block bar-chart filament-used-groups"},[t("div",{staticClass:"stats-block-title"},[t("i",{staticClass:"fas fa-ruler-horizontal"}),t("div",{staticClass:"title-group"},[t("span",[t("help-widget",{attrs:{id:"filament-used-may-be-incorrect",highlight:!1,"show-close-button":!1}},[e._v(" "+e._s(e.$t("Filament Usage"))+" ")])],1),t("div",{staticClass:"divider"}),t("div",{staticClass:"subtitle"},[e._v(e._s(e.totalFilamentUsedFormatted)+" "+e._s(e.$t("total")))])])]),t("div",{ref:"filamentUsedGroupsChart",staticClass:"bar-chart-wrapper"})])])],1)],1):t("loading-placeholder"),t("date-picker-modal",{ref:"datePickerModal",on:{picked:e.onDatesPicked}})]},proxy:!0}])})},fn=[],gn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"alert-wrapper"},[e._m(0),t("p",{staticClass:"message"},[e._t("default")],2)])},vn=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-info-circle"})])}],bn={name:"MutedAlert"},yn=bn,wn=(i("b5c8"),Object(N["a"])(yn,gn,vn,!1,null,"55bd9838",null)),_n=wn.exports,Cn=i("898b");const kn=(e,{name:t=(([e])=>e),value:i=(([,e])=>e),totalValue:n=null,totalValueFormat:a=",",title:r,width:s=180,height:o=180,innerRadius:l=Math.min(s,o)/3.6,outerRadius:c=Math.min(s,o)/2,labelRadius:d=(l+c)/2,format:u=",",names:p,colors:h,stroke:m=(l>0?"none":"white"),strokeWidth:f=10,strokeLinejoin:g="round",padAngle:v=("none"===m?2/c:0),emptyState:b=!1}={})=>{const y=Cn["h"](e,t),w=Cn["h"](e,i),_=Cn["l"](y.length).filter(e=>!isNaN(w[e]));void 0===p&&(p=y),p=new Cn["a"](p),void 0===h&&(h=Cn["p"][p.size]),void 0===h&&(h=Cn["k"](e=>Cn["g"](.8*e+.1),p.size));const C=Cn["o"](p,h);if(void 0===r){const e=Cn["f"](u);r=t=>""+e(w[t])}else{const t=Cn["h"](e,e=>e),i=r;r=n=>i(t[n],n,e)}const k=Cn["j"]().padAngle(v).sort(null).value(e=>w[e])(_),P=Cn["b"]().innerRadius(l).outerRadius(c),S=Cn["b"]().innerRadius(d).outerRadius(d),D=Cn["e"]("svg").attr("width",s).attr("height",o).attr("viewBox",[-s/2,-o/2,s,o]).attr("style","max-width: 100%; height: auto; height: intrinsic;");if(D.append("g").attr("stroke",m).attr("stroke-width",f).attr("stroke-linejoin",g).selectAll("path").data(k).join("path").attr("fill",e=>C(y[e.data])).attr("d",P).append("title").text(e=>r(e.data)),D.append("g").attr("font-family","sans-serif").attr("font-size",14).attr("text-anchor","middle").selectAll("text").data(k).join("text").attr("transform",e=>`translate(${S.centroid(e)})`).selectAll("tspan").data(e=>{if(b)return["0%"];const t=(""+r(e.data)).split(/\n/);return e.endAngle-e.startAngle>.25?t:t.slice(0,1)}).join("tspan").attr("x",0).attr("y",(e,t)=>"0.3em").attr("font-weight",(e,t)=>t?null:"bold").attr("fill","#fff").text(e=>e),n){D.append("text").attr("font-size",12).attr("dy","-.75em").attr("text-anchor","middle").attr("fill","var(--color-text-secondary)").text("Total");const e=Cn["f"](a);D.append("text").attr("dy",".75em").attr("font-size",14).attr("text-anchor","middle").attr("font-weight","bold").attr("fill","var(--color-text-primary)").text(e(n))}return Object.assign(D.node(),{scales:{color:C}})};var Pn=i("b279");const Sn=(e,{x:t=((e,t)=>t),y:i=(e=>e),title:n,marginTop:a=20,marginRight:r=0,marginBottom:s=40,marginLeft:o=40,width:l=640,height:c=210,xDomain:d,xRange:u=[o,l-r],xLabelShow:p=(e=>!0),xLabelRotation:h=0,yType:m=Cn["n"],yDomain:f,yRange:g=[c-s,a],yTicks:v=c/40,xPadding:b=.1,yFormat:y,yTickFormat:w=null,yLabel:_,color:C="currentColor"}={})=>{const k=Cn["h"](e,t),P=Cn["h"](e,i);void 0===d&&(d=k),void 0===f&&(f=[0,Cn["i"](P)]),d=new Cn["a"](d);const S=Cn["l"](k.length).filter(e=>d.has(k[e])),D=Cn["m"](d,u).padding(b),x=m(f,g),T=Cn["c"](D).tickSizeOuter(0),F=Cn["d"](x).ticks(v,y);if(w&&F.tickFormat(w),void 0===n){const e=x.tickFormat(100,y);n=t=>`${k[t]}: ${e(P[t])}`}else{const t=Cn["h"](e,e=>e),i=n;n=n=>i(t[n],n,e)}const I=Cn["e"]("svg").attr("width",l).attr("height",c).attr("viewBox",[0,0,l,c]).attr("style","max-width: 100%; height: auto; height: intrinsic;");I.append("g").attr("transform",`translate(${o},0)`).call(F).call(e=>e.selectAll(".tick line").clone().attr("x2",l-o-r).attr("stroke-opacity",.1)).call(e=>e.selectAll("text").attr("font-size",11));const A=I.append("g").attr("fill",C).selectAll("rect").data(S).join("rect").attr("x",e=>D(k[e])).attr("y",e=>x(P[e])).attr("height",e=>x(0)-x(P[e])).attr("width",D.bandwidth()).attr("rx",2);return n&&A.append("title").text(n),I.append("g").attr("transform",`translate(0,${c-s})`).call(T).selectAll("text").attr("transform",h?`translate(-10,0)rotate(-${h})`:"").attr("font-size",11).call((function(e){e.each((function(e,t){var i=Cn["q"](this),n=i.text().split("\r")[0].split("\n");i.text(""),p(t)&&(i.append("tspan").attr("x",0).attr("dy","1em").attr("text-anchor",h?"end":"middle").text(n[0]),2===n.length&&i.append("tspan").attr("x",0).attr("dy","1.2em").text(n[1]))}))})),I.node()},Dn=(e,t,i="day",n)=>{const a=e/t,r="day"===i?30:"week"===i?70:35,s=20;let o,l;return a>=r?(o=1,l=0):(o=Math.ceil(s/a),l=45),{frequency:o,rotation:l,value:e=>{const t=H()(e.key);let a,r="";if("day"===i)a=Object(Pn["b"])(t,"M/D"),r=Object(Pn["b"])(t,"ddd");else if("week"===i){a=Object(Pn["b"])(t,"M/D");const e=t.clone().endOf("week"),i=e.isBefore(n)?e:n;a+="-"+(i.month()===t.month()?i.format("D"):i.format("M/D")),r=6===i.diff(t,"days")?"Week "+t.week():""}else"month"===i?(a=Object(Pn["b"])(t,"MMM"),r=Object(Pn["b"])(t,"YYYY")):a=Object(Pn["b"])(t,"YYYY");let s=a;0===l&&(s+="\n"+r);const o=Object(Pn["b"])(t,"M/D/YYYY");return s+="\r"+o,s},shouldShow:e=>e%o===0}},xn="statsGrouping",Tn="YYYY-MM-DD",Fn="statsFiltering",In={timePeriod:{title:""+G["a"].t("Time Period"),buildQueryParam:Xi,values:[{key:"none",title:""+G["a"].t("All")},{key:"this_week",title:""+G["a"].t("This Week")},{key:"this_month",title:""+G["a"].t("This Month")},{key:"this_year",title:""+G["a"].t("This Year")},{key:"custom",title:""+G["a"].t("Custom")}],default:"none"},printStatus:{title:""+G["a"].t("Print Status"),queryParam:"filter",values:[{key:"none",title:""+G["a"].t("All")},{key:"finished",title:""+G["a"].t("Finished")},{key:"cancelled",title:""+G["a"].t("Cancelled")}],default:"none"},printers:{title:""+G["a"].t("Printers"),queryParam:"filter_by_printer_ids",multiple:!0,values:[{key:"none",title:""+G["a"].t("All"),includesAll:!0}],default:"none"}};var An={name:"StatsPage",components:{PageLayout:It,MutedAlert:_n,CascadedDropdown:ci,FilteringDropdown:Si,ActiveFilterNotice:Ai,DatePickerModal:Wi,HelpWidget:Zi},data:function(){return{user:null,stats:null,groupingOptions:[{key:"auto",title:"Auto"},{key:"day",title:"Day"},{key:"week",title:"Week"},{key:"month",title:"Month"},{key:"year",title:"Year"}],activeGrouping:Object(s["a"])(xn,"auto"),filterLocalStoragePrefix:Fn,filterOptions:In,filterValues:_i(Fn,In)}},computed:{defaultStatsParams(){return{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,from_date:H()(this.user.date_joined).format(Tn),to_date:H()(new Date).format(Tn),group_by:this.getActiveGrouping()}},isEmptyState(){var e;return!(null!==(e=this.stats)&&void 0!==e&&e.total_print_count)},finishedPrintsPercentage(){var e,t;const i=null===(e=this.stats)||void 0===e?void 0:e.total_succeeded_print_count,n=null===(t=this.stats)||void 0===t?void 0:t.total_print_count;return i&&n?Math.round(i/n*100):0},cancelledPrintsPercentage(){var e;const t=null===(e=this.stats)||void 0===e?void 0:e.total_print_count;return t?100-this.finishedPrintsPercentage:0},totalFilamentUsedFormatted(){var e;return ve(null===(e=this.stats)||void 0===e?void 0:e.total_filament_used)}},created(){this.user=Object(Q["f"])(),this.updateCustomPeriodFilterSubtitle(),oe["a"].get(le["a"].printers(),{params:{with_archived:!1}}).then(e=>{if(e.data.forEach(e=>{this.filterOptions.printers.values.push({key:String(e.id),title:e.name})}),"none"!==this.filterValues.printers){const t=e.data.map(e=>String(e.id));this.filterValues.printers=this.filterValues.printers.filter(e=>t.includes(e)),Object(s["b"])(Fn+"-printers",this.filterValues.printers)}this.fetchStats()})},mounted(){addEventListener("resize",this.drawCharts)},unmounted(){removeEventListener("resize",this.drawCharts)},methods:{getFilterParamsFromQuery(){let e={};const t=new URLSearchParams(window.location.search),i=t.entries(),n=["hide_header"];for(const[a,r]of i)a&&r&&!n.includes(a)&&(e[a]=e[a]?Array.isArray(e[a])?[...e[a],r]:[e[a],r]:r);return console.log("params",e),e},fetchStats(){oe["a"].get(le["a"].stats(),{params:{with_deleted:!0,...this.defaultStatsParams,...Ci(this.filterOptions,this.filterValues,this.customFilterParamsBuilder),...this.getFilterParamsFromQuery()}}).then(e=>{this.stats=e.data,this.$nextTick(this.drawCharts)}).catch(e=>{this.errorDialog(e,""+this.$i18next.t("Failed to fetch statistics"))})},updateChartGrouping(e){this.activeGrouping=e.key,Object(s["b"])(xn,e.key),this.fetchStats()},drawCharts(){if(!this.stats)return;this.$refs.totalPrintsDonutChart.replaceChildren(kn([{name:"Finished",value:this.isEmptyState?.5:this.finishedPrintsPercentage/100},{name:"Cancelled",value:this.isEmptyState?.5:this.cancelledPrintsPercentage/100}],{name:e=>e.name,value:e=>e.value,format:".0%",totalValue:this.isEmptyState?"0":this.stats.total_succeeded_print_count+this.stats.total_cancelled_print_count,names:["Finished","Cancelled"],colors:["var(--color-success)","var(--color-danger)"],emptyState:this.isEmptyState}));const e=Math.max(...this.stats.print_count_groups.map(e=>e.value));this.drawBarChart({data:this.stats.print_count_groups,ref:this.$refs.printCountGroupsChart,yFormat:"d",titleValue:e=>e+" print(s)",yDomain:[0,e||1],yTicks:Math.min(e||1,5)});const t=Math.max(...this.stats.print_time_groups.map(e=>e.value)),i=Math.round(t/3600);this.drawBarChart({data:this.stats.print_time_groups.map(e=>({...e,value:e.value/3600})),ref:this.$refs.printTimeGroupsChart,yFormat:"d",yTickFormat:e=>e>8760?Math.round(e/8760)+"y":e>=24?Math.round(e/24)+"d":e+"h",titleValue:e=>this.humanizedDuration(3600*e),yDomain:[0,i||1],yTicks:Math.min(i||1,5)});const n=Math.max(...this.stats.filament_used_groups.map(e=>e.value)),a=Math.round(n/1e3);this.drawBarChart({data:this.stats.filament_used_groups.map(e=>({...e,value:e.value/1e3})),ref:this.$refs.filamentUsedGroupsChart,yFormat:"d",yTickFormat:e=>e+"m",titleValue:e=>e>=1e3?Math.round(e/1e3)+"km":e+"m",yDomain:[0,a||1],yTicks:Math.min(a||1,5)})},drawBarChart({data:e,ref:t,yFormat:i,yTickFormat:n,yTicks:a,yDomain:r,titleValue:s}){var o;const l=t.offsetWidth,c=e.length,d=Dn(l,c,(null===(o=this.getFilterParamsFromQuery())||void 0===o?void 0:o.group_by)||this.getActiveGrouping(),tn(this.filterValues.timePeriod,this.getCurrentDateTo()));t.replaceChildren(Sn(e,{xLabelRotation:d.rotation,xLabelShow:d.shouldShow,x:d.value,y:e=>e.value,yFormat:i,yTickFormat:n,yDomain:r,yTicks:a,width:l,color:"var(--color-divider)",title:e=>{const t=d.value(e).split("\r")[0].split("\n");return`${t[0]+(t[1]?", "+t[1]:"")} — ${s?s(e.value):e.value}`},marginBottom:55}))},humanizedDuration:fe,onFilterUpdated(e,t){this.filterValues[e]=t,this.fetchStats()},resetFilters(){for(const e of Object.keys(this.filterValues))this.filterValues[e]="none",Object(s["b"])(`${Fn}-${e}`,"none");this.updateCustomPeriodFilterSubtitle(),this.fetchStats()},getActiveGrouping(){return"auto"===this.activeGrouping?nn(this.filterValues.timePeriod,this.getCurrentDateFrom(),this.getCurrentDateTo(),this.user):this.activeGrouping},getCurrentDateFrom(){return Object(s["a"])(Fn+"-timePeriod-dateFrom")||null},getCurrentDateTo(){return Object(s["a"])(Fn+"-timePeriod-dateTo")||null},filterUpdateMixin(e,t){if("timePeriod"===e){if("custom"===t){if("custom"!==this.filterValues.timePeriod)this.$refs.datePickerModal.show();else{const e=this.getCurrentDateFrom(),t=this.getCurrentDateTo();this.$refs.datePickerModal.show(e,t)}return}this.$nextTick(()=>{this.updateCustomPeriodFilterSubtitle()})}return!0},onDatesPicked(e,t){(e||t)&&(this.filterValues.timePeriod="custom",Object(s["b"])(Fn+"-timePeriod","custom"),Object(s["b"])(Fn+"-timePeriod-dateFrom",e),Object(s["b"])(Fn+"-timePeriod-dateTo",t),this.updateCustomPeriodFilterSubtitle(),this.fetchStats())},customFilterParamsBuilder(e,t){if("timePeriod"===e)return this.filterOptions[e].buildQueryParam(t,this.getCurrentDateFrom(),this.getCurrentDateTo(),this.user)},updateCustomPeriodFilterSubtitle(){let e="";if("custom"===this.filterValues.timePeriod){const t="MMM D, YYYY",i=this.getCurrentDateFrom(),n=this.getCurrentDateTo(),a=i?H()(i).format(t):"Until",r=n?H()(n).format(t):"and later";e=`${a}${i&&n?" - ":" "}${r}`}const t=this.filterOptions.timePeriod.values.findIndex(e=>"custom"===e.key);this.filterOptions.timePeriod.values[t].subtitle=e,this.$refs.filteringDropdown1&&this.$refs.filteringDropdown1.$forceUpdate(),this.$refs.filteringDropdown2&&this.$refs.filteringDropdown2.$forceUpdate()}}},$n=An,On=(i("a1cb"),Object(N["a"])($n,mn,fn,!1,null,"7397c062",null)),Nn=On.exports,Ln=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"topBarLeft",fn:function(){return[t("div",{staticClass:"actions-with-selected-desktop"},[t("b-form-group",{staticClass:"m-0"},[t("b-form-checkbox",{attrs:{size:"lg"},model:{value:e.allPrintsSelected,callback:function(t){e.allPrintsSelected=t},expression:"allPrintsSelected"}})],1),t("div",[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.selectedPrintIds.size,expression:"!selectedPrintIds.size"}],staticClass:"label",on:{click:function(t){e.allPrintsSelected=!e.allPrintsSelected}}},[e._v(e._s(e.$t("Select all")))]),t("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.selectedPrintIds.size,expression:"selectedPrintIds.size"}],attrs:{"toggle-class":"btn btn-sm actions-with-selected-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v(" "+e._s(e.selectedPrintIds.size)+" item"+e._s(1===e.selectedPrintIds.size?"":"s")+" "+e._s(e.$t("selected..."))+" ")]},proxy:!0}])},[t("b-dropdown-item",[t("div",{staticClass:"text-danger",on:{click:e.onDeleteBtnClick}},[t("i",{staticClass:"far fa-trash-alt"}),e._v(e._s(e.$t("Delete"))+" ")])])],1)],1)],1)]},proxy:!0},{key:"topBarRight",fn:function(){return[t("div",{staticClass:"action-panel"},[t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn",title:e.$t("Sort By")},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-sort-amount-down"})]},proxy:!0}])},[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn","menu-class":"scrollable",title:e.$t("Filter")},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-filter"})]},proxy:!0}])},[t("filtering-dropdown",{attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues},on:{onFilterUpdated:e.onFilterUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":[{key:"sorting",icon:"fas fa-sort-amount-down",title:e.$t("Sort"),expandable:!0},{key:"filtering",icon:"fas fa-filter",title:e.$t("Filter"),expandable:!0}]},scopedSlots:e._u([{key:"sorting",fn:function(){return[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})]},proxy:!0},{key:"filtering",fn:function(){return[t("filtering-dropdown",{attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues},on:{onFilterUpdated:e.onFilterUpdated}})]},proxy:!0}])})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t("active-filter-notice",{attrs:{"filter-values":e.filterValues},on:{onShowAllClicked:e.resetFilters}}),t("b-container",[t("b-row",{directives:[{name:"show",rawName:"v-show",value:e.prints.length,expression:"prints.length"}],staticClass:"print-cards"},e._l(e.visiblePrints,(function(i){return t("print-card",{key:i.id,attrs:{print:i,selected:e.selectedPrintIds.has(i.id)},on:{selectedChanged:e.onSelectedChanged,printDeleted:e.onPrintDeleted,printDataChanged:e.printDataChanged,fullscreen:e.openFullScreen}})})),1),t("mugen-scroll",{staticClass:"text-center p-4",attrs:{handler:e.fetchMoreData,"should-handle":!e.loading}},[e.noMoreData?t("div",{staticClass:"text-center p-2"},[e._v(e._s(e.$t("No more time-lapses.")))]):e._e(),e.noMoreData?e._e():t("b-spinner",{attrs:{label:e.$t("Loading...")}})],1),t("b-modal",{attrs:{id:"tl-fullscreen-modal",size:"full","hide-header":!0,"hide-footer":!0},on:{hidden:e.fullScreenClosed}},[t("FullScreenPrintCard",{attrs:{print:e.fullScreenPrint,"video-url":e.fullScreenPrintVideoUrl,autoplay:!0}})],1)],1)]},proxy:!0}])})},Mn=[],En=i("dd61"),zn=i.n(En),Rn=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 print-card"},[t("div",{staticClass:"card vld-parent"},[e.isPublic?t("div",{staticClass:"card-header"},[e._v("- By "+e._s(e.print.creator_name))]):t("div",{staticClass:"card-header"},[t("div",{style:{visibility:e.hasSelectedChangedListener?"visible":"hidden"}},[t("b-form-checkbox",{staticClass:"text-decoration-none",attrs:{size:"lg"},model:{value:e.isSelected,callback:function(t){e.isSelected=t},expression:"isSelected"}})],1),t("b-form-radio-group",{attrs:{buttons:"","button-variant":"outline-primary",name:"radio-btn-outline"},model:{value:e.selectedCardView,callback:function(t){e.selectedCardView=t},expression:"selectedCardView"}},[t("b-form-radio",{staticClass:"no-corner no-shadow",attrs:{value:"detective",disabled:!e.canShowDetectiveView}},[t("i",{staticClass:"fas fa-balance-scale"})]),t("b-form-radio",{staticClass:"no-corner no-shadow",attrs:{value:"info"}},[t("i",{staticClass:"fas fa-info"})])],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[e.print.video_url&&!e.print.video_archived_at?t("b-dropdown-item",{attrs:{href:e.print.video_url,target:"_blank"}},[t("i",{staticClass:"fas fa-download"}),e._v(e._s(e.$t("Download Original Time-lapse"))+" ")]):e._e(),e.print.tagged_video_url&&!e.print.video_archived_at?t("b-dropdown-item",{attrs:{href:e.print.tagged_video_url,target:"_blank"}},[t("i",{staticClass:"fas fa-download"}),e._v(e._s(e.$t("Download Detective Time-lapse"))+" ")]):e._e(),t("b-dropdown-divider"),t("b-dropdown-item",{on:{click:e.deleteVideo}},[t("span",{staticClass:"text-danger"},[e._v(e._s(e.$t(" "))),t("i",{staticClass:"fas fa-trash-alt"}),e._v(e._s(e.$t("Delete"))+" ")])])],1)],1),t("div",[e.print.video_archived_at?t("div",{staticClass:"position-relative"},[t("div",{staticClass:"poster-placeholder-wrapper"},[t("svg",{staticClass:"poster-placeholder"},[t("use",{attrs:{href:e.posterSrc}})])]),t("div",{staticClass:"archived-info"},[t("div",{staticClass:"text"},[e._v(" "+e._s(e.$t("Video file is deleted."))+" "),t("a",{attrs:{href:"#"},on:{click:function(t){return e.showVideoArchivedDescription(t)}}},[e._v(e._s(e.$t("Why?")))])])])]):t("div",[e.videoUrl?t("video-box",{attrs:{"video-url":e.videoUrl,"poster-url":e.print.poster_url,fluid:!0,"fullscreen-btn":e.hasFullscreenListener},on:{timeupdate:e.onTimeUpdate,fullscreen:function(t){return e.$emit("fullscreen",e.print.id,e.videoUrl)}}}):t("div",[t("detective-working")],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"info"==e.cardView&&!e.isPublic,expression:"cardView == 'info' && !isPublic"}]},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"text-muted col-4"},[e._v(" "+e._s(e.$t("File"))+" "),t("span",{staticClass:"float-right"},[e._v(":")])]),t("div",{staticClass:"col-8"},[e._v(e._s(e.print.filename))])]),t("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"row",attrs:{title:e.humanizedPrintedOrUploadedTime(e.longFormat=!0)}},[t("div",{staticClass:"text-muted col-4"},[e._v(" "+e._s(e.wasTimelapseUploaded?"Uploaded":"Printed")+" "),t("span",{staticClass:"float-right"},[e._v(":")])]),t("div",{staticClass:"col-8"},[e._v(e._s(e.humanizedPrintedOrUploadedTime())+" "+e._s(e.endStatus))])]),!e.wasTimelapseUploaded&&e.duration?t("div",{staticClass:"row",attrs:{id:"dur-"+e.print.id}},[t("b-tooltip",{attrs:{target:"dur-"+e.print.id,triggers:"hover"}},[e._v(" "+e._s(e._f("floor")(e._f("duration")(e.duration,"asHours")))+":"+e._s(e._f("duration")(e.duration,"minutes"))+":"+e._s(e._f("duration")(e.duration,"seconds"))+" ")]),t("div",{staticClass:"text-muted col-4"},[e._v(" "+e._s(e.$t("Duration"))+" "),t("span",{staticClass:"float-right"},[e._v(":")])]),t("div",{staticClass:"col-8"},[e._v(e._s(e.duration.humanize()))])],1):e._e()])])]),e.isPublic?t("div",{staticClass:"bg-warning alert-banner text-center",style:{opacity:e.normalizedP>.4?1:0}},[t("i",{staticClass:"fas fa-exclamation-triangle"}),e._v(" "+e._s(e.$t("Possible failure detected!"))+" ")]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:"detective"==e.cardView||e.isPublic,expression:"cardView == 'detective' || isPublic"}]},[e.print.prediction_json_url?t("failure-detection-gauge",{attrs:{"normalized-p":e.normalizedP}}):e._e(),e.isPublic?e._e():t("div",{staticClass:"feedback-section"},[t("div",{staticClass:"text-center py-2 px-3"},[t("div",{staticClass:"lead",class:[e.print.alerted_at?"text-danger":"text-success"]},[e._v(" "+e._s(e.print.alerted_at?"Failure detected":"No failure detected")+" ")]),t("div",{staticClass:"py-2"},[e._v(" "+e._s(e.$t("Did we get it right?"))+" "),t("b-button",{staticClass:"mx-2 btn-sm",attrs:{variant:e.thumbedUp?"primary":"outline"},on:{click:e.onThumbUpClick}},[e.inflightAlertOverwrite?t("b-spinner",{attrs:{type:"grow",small:""}}):t("i",{staticClass:"fas fa-thumbs-up"})],1),t("b-button",{staticClass:"mx-2 btn-sm",attrs:{variant:e.thumbedDown?"primary":"outline"},on:{click:e.onThumbDownClick}},[e.inflightAlertOverwrite?t("b-spinner",{attrs:{type:"grow",small:""}}):t("i",{staticClass:"fas fa-thumbs-down"})],1)],1),t("transition",{attrs:{name:"bounce"}},[e.print.printShotFeedbackEligible?t("div",{staticClass:"pt-2"},[t("a",{staticClass:"btn btn-sm btn-outline-primary px-4",attrs:{role:"button",href:e.focusedFeedbackLink}},[e._v(" F "),t("i",{staticClass:"fas fa-search focused-feedback-icon"}),e._v(e._s(e.$t("CUSED FEEDBACK"))+" "),e.print.need_print_shot_feedback?t("svg",{staticClass:"seg-control-icon ml-1 double-hours-icon"},[t("use",{attrs:{href:"#svg-hour-double"}})]):e._e()])]):e._e()])],1),t("div",{staticClass:"text-muted py-2 px-3 help-text"},[e.print.printShotFeedbackEligible?t("small",[e.print.need_print_shot_feedback?t("span",[e._v(" "+e._s(e.$t("With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve."))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback"}},[e._v(e._s(e.$t("You will earn 2 AI Detection Hours once you finish the Focused Feedback")))]),e._v(". ")]):t("span",[e._v(e._s(e.$t("Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback.")))])]):t("small",[e._v(" "+e._s(e.$t("Every time you give us feedback,"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-credits-work/"}},[e._v(e._s(e.$t("you help us get better at detecting failures")))]),e._v(". ")])])])],1)])])])},Bn=[],Un=function(){var e=this,t=e._self._c;return t("div",{staticClass:"obico-gauge-container"},[t("span",{style:{color:e.titleColor},attrs:{id:"title"}},[e._v(e._s(e.titleText))]),t("div",{staticClass:"obico-gauge"},[t("radial-gauge",{attrs:{value:e.value,options:e.computedOptions}})],1),t("hr")])},jn=[],Wn=i("7489"),Hn=i("59cf"),Vn={name:"FailureDetectionGauge",components:{RadialGauge:Wn["a"]},props:{normalizedP:{type:Number,required:!0},isWatching:{type:Boolean,default:!0},options:{type:Object,default:null}},computed:{computedOptions(){if(null!==this.options)return this.options;const e={highlight1:Object(S["a"])()===Hn["a"].Light?"#929292":"#8395a7",highlight2:Object(S["a"])()===Hn["a"].Light?"#b7b7b7":"#a8bacc",highlight3:Object(S["a"])()===Hn["a"].Light?"#7b7b7b":"#6c7e90",needle:Object(S["a"])()===Hn["a"].Light?"#2d3e4f":"#ffffff"};return{valueDec:0,valueInt:0,width:240,height:240,units:!1,box:!1,minValue:0,maxValue:100,majorTicks:["","","",""],minorTicks:4,highlights:[{from:0,to:33,color:this.isWatching?"#5cb85c":e.highlight1},{from:33,to:67,color:this.isWatching?"#f0ad4e":e.highlight2},{from:67,to:100,color:this.isWatching?"#d9534f":e.highlight3}],colorPlate:"rgba(255,255,255,.0)",colorTitle:"#5cb85c",colorStrokeTicks:"#EBEBEB",colorNeedleEnd:this.isWatching?"rgba(255, 160, 122, .9)":e.needle,colorNeedle:this.isWatching?"rgba(240, 128, 128, 1)":e.needle,colorNeedleShadowUp:this.isWatching?"rgba(2,255,255,0.2)":e.needle,valueBox:!1,animationRule:"bounce",animationDuration:500,animatedValue:!0,startAngle:90,ticksAngle:180,borders:!1}},value(){return 100*this.normalizedP},titleText(){if(!this.isWatching)return""+this.$i18next.t("Not Watching");switch(this.level()){case 0:return""+this.$i18next.t("Looking Good");case 1:return""+this.$i18next.t("Fishy...");case 2:return""+this.$i18next.t("Failing!");default:return""+this.$i18next.t("Looking Good")}},titleColor(){if(!this.isWatching)return"var(--color-text-secondary)";switch(this.level()){case 0:return"#5cb85c";case 1:return"#f0ad4e";case 2:return"#d9534f";default:return"#5cb85c"}}},methods:{level(){return this.value>66?2:this.value>33?1:0}}},Yn=Vn,Gn=(i("cf8b"),Object(N["a"])(Yn,Un,jn,!1,null,"465c0e04",null)),qn=Gn.exports,Kn={name:"PrintCard",components:{VideoBox:Rt,FailureDetectionGauge:qn,DetectiveWorking:Vt},props:{print:{type:Object,required:!0},isPublic:{type:Boolean,default:!1},selected:{type:Boolean,default:!1}},data:function(){return{ALERT_THRESHOLD:.4,currentPosition:0,predictions:[],selectedCardView:"detective",inflightAlertOverwrite:null,isSelected:this.selected}},computed:{wasTimelapseUploaded(){return null!==this.print.uploaded_at},endStatus(){return this.print.cancelled_at?""+this.$i18next.t("(Cancelled)"):""},duration(){return this.print.ended_at&&this.print.started_at?H.a.duration(this.print.ended_at.diff(this.print.started_at)):null},canShowDetectiveView(){return null!==this.print.prediction_json_url&&null!==this.print.tagged_video_url||!!(this.print.uploaded_at&&H()().diff(this.print.uploaded_at,"hours")<24)},cardView(){return this.canShowDetectiveView?this.selectedCardView:"info"},videoUrl(){return"info"==this.cardView?this.print.video_url:this.print.tagged_video_url},thumbedUp(){return!!this.print.alert_overwrite&&this.print.has_alerts^"NOT_FAILED"===this.print.alert_overwrite},thumbedDown(){return!!this.print.alert_overwrite&&this.print.has_alerts^"FAILED"===this.print.alert_overwrite},focusedFeedbackLink(){return`/prints/shot-feedback/${this.print.id}/`},hasSelectedChangedListener(){return Boolean(this.$listeners&&this.$listeners.selectedChanged)},hasFullscreenListener(){return Boolean(this.$listeners&&this.$listeners.fullscreen)},normalizedP(){return Object(Pn["d"])(this.predictions,this.currentPosition,this.isPublic)},posterSrc(){return this.print.poster_url||"#svg-3d-printer"}},watch:{isSelected(e){this.$emit("selectedChanged",this.print.id,e)}},mounted(){this.print.prediction_json_url&&this.fetchPredictions(),this.print.tagged_video_url||(this.selectedCardView="info")},methods:{onTimeUpdate(e){this.currentPosition=e},deleteVideo(){oe["a"].delete(le["a"].print(this.print.id)).then(()=>{this.$emit("printDeleted",this.print.id)})},onThumbUpClick(){this.inflightAlertOverwrite=this.print.has_alerts?"FAILED":"NOT_FAILED",this.alertOverwrite(this.inflightAlertOverwrite)},onThumbDownClick(){this.inflightAlertOverwrite=this.print.has_alerts?"NOT_FAILED":"FAILED",this.alertOverwrite(this.inflightAlertOverwrite)},alertOverwrite(e){oe["a"].patch(le["a"].print(this.print.id),{alert_overwrite:e}).then(e=>{this.$emit("printDataChanged",e.data),this.inflightAlertOverwrite=null})},fetchPredictions(){oe["a"].get(this.print.prediction_json_url).then(e=>{this.predictions=e.data})},humanizedPrintedOrUploadedTime(e=!1){if(!this.print.uploaded_at&&!this.print.ended_at)return"-";const t=this.wasTimelapseUploaded?this.print.uploaded_at:this.print.ended_at;return e?t.format("LLLL"):t.fromNow()},showVideoArchivedDescription(e){e.preventDefault(),this.$swal.Prompt.fire({title:""+this.$i18next.t("Time-lapse video deleted"),html:`\n          <p>${this.$i18next.t("Time-lapse videos older than 6-months are deleted from the {brandName} app server as they are rarely needed and cost significant amount to store in the cloud.",{brandName:this.$syndicateText.brandName})}</p>\n          <p>${this.$i18next.t("If you are a Pro subscriber and you don't want your time-lapse videos to be deleted, please ")}<a href="mailto:support@obico.io?subject=Please%20keep%20my%20timelapse%20videos">${this.$i18next.t("contact us")}</a>.</p>\n          `,showCloseButton:!0})}}},Jn=Kn,Zn=(i("a9ee"),Object(N["a"])(Jn,Rn,Bn,!1,null,"eec3f9d8",null)),Qn=Zn.exports,Xn=function(){var e=this,t=e._self._c;return t("div",[t("video-box",{attrs:{"video-url":e.videoUrl,"poster-url":e.print.poster_url,fluid:!1,autoplay:e.autoplay,"fullscreen-btn":!1},on:{timeupdate:e.onTimeUpdate}}),e.isPublic?t("div",{staticClass:"bg-warning alert-banner text-center",style:{opacity:e.normalizedP>.4?1:0}},[t("i",{staticClass:"fas fa-exclamation-triangle"}),e._v(" "+e._s(e.$t("Possible failure detected!"))+" ")]):e._e(),t("failure-detection-gauge",{attrs:{"normalized-p":e.normalizedP}})],1)},ea=[],ta={name:"FullScreenPrintCard",components:{VideoBox:Rt,FailureDetectionGauge:qn},props:{print:{type:Object,required:!0},videoUrl:{type:String,required:!0},initialPosition:{type:Number,default:()=>0},autoplay:{type:Boolean,default:()=>!1},isPublic:{type:Boolean,default:!1}},data(){return{currentPosition:0,predictions:[]}},computed:{normalizedP(){return Object(Pn["d"])(this.predictions,this.currentPosition,this.isPublic)}},mounted(){this.print.prediction_json_url&&this.fetchPredictions()},methods:{onTimeUpdate(e){this.currentPosition=e},fetchPredictions(){oe["a"].get(this.print.prediction_json_url).then(e=>{this.predictions=e.data})}}},ia=ta,na=(i("459e"),Object(N["a"])(ia,Xn,ea,!1,null,"64113028",null)),aa=na.exports;const ra=6,sa="printsPageSorting",oa={options:[{title:""+G["a"].t("Date"),key:"date"}],default:{sorting:"date",direction:"desc"}},la="printsPageFiltering",ca={printStatus:{title:""+G["a"].t("Print Status"),queryParam:"filter",values:[{key:"none",title:""+G["a"].t("All")},{key:"finished",title:""+G["a"].t("Finished")},{key:"cancelled",title:""+G["a"].t("Cancelled")}],default:"none"},feedbackNeeded:{title:""+G["a"].t("Feedback Needed"),queryParam:"feedback_needed",values:[{key:"none",title:""+G["a"].t("All")},{key:"need_alert_overwrite",title:""+G["a"].t("Review Needed")},{key:"need_print_shot_feedback",title:""+G["a"].t("Focused Feedback Needed")}],default:"none"}};var da={name:"PrintsPage",components:{MugenScroll:ni.a,PrintCard:Qn,FullScreenPrintCard:aa,PageLayout:It,CascadedDropdown:ci,FilteringDropdown:Si,SortingDropdown:vi,ActiveFilterNotice:Ai},data:function(){return{prints:[],selectedPrintIds:new Set,loading:!1,noMoreData:!1,fullScreenPrint:null,fullScreenPrintVideoUrl:null,sortingLocalStoragePrefix:sa,sortingOptions:oa,sortingValue:mi(sa,oa),filterLocalStoragePrefix:la,filterOptions:ca,filterValues:_i(la,ca)}},computed:{visiblePrints(){return this.prints.filter(e=>e.ended_at)},allPrintsSelected:{get:function(){return this.selectedPrintIds.size>=this.prints.length&&0!==this.prints.length},set:function(e){this.selectedPrintIds=e?new Set(zn()(this.prints,"id")):new Set}}},created(){this.refetchData()},methods:{fetchMoreData(){this.noMoreData||(this.loading=!0,oe["a"].get(le["a"].prints(),{params:{start:this.prints.length,limit:ra,...Ci(this.filterOptions,this.filterValues,this.customFilterParamsBuilder),sorting:`${this.sortingValue.sorting.key}_${this.sortingValue.direction.key}`}}).then(e=>{this.loading=!1,this.noMoreData=e.data.length<ra,this.prints.push(...e.data.map(e=>Te(e)))}))},refetchData(){this.prints=[],this.selectedPrintIds=new Set,this.noMoreData=!1,this.fetchMoreData()},onSelectedChanged(e,t){const i=new Set(this.selectedPrintIds);t?i.add(e):i.delete(e),this.selectedPrintIds=i},onDeleteBtnClick(){const e=Array.from(this.selectedPrintIds);this.$swal.Prompt.fire({title:""+this.$i18next.t("Are you sure?"),text:""+this.$i18next.t("Delete {brandName} print(s)? This action can not be undone.",{brandName:this.$syndicateText.brandName}),showCancelButton:!0,confirmButtonText:""+this.$i18next.t("Yes"),cancelButtonText:""+this.$i18next.t("No")}).then(t=>{t.isConfirmed&&oe["a"].post(le["a"].printsBulkDelete(),{print_ids:e}).then(()=>{e.forEach(e=>this.onPrintDeleted(e,!1)),this.$swal.Toast.fire({title:""+this.$i18next.t("{name} time-lapse(s) deleted!",{name:e.length})}),this.selectedPrintIds=new Set})})},onPrintDeleted(e,t=!0){const i=pt()(this.prints,t=>t.id==e),n=this.prints[i];this.$delete(this.prints,i),t&&this.$swal.Toast.fire({title:""+this.$i18next.t("Time-lapse {name} deleted!",{name:n.filename})})},printDataChanged(e){const t=pt()(this.prints,t=>t.id==e.id);this.$set(this.prints,t,Te(e))},openFullScreen(e,t){const i=pt()(this.prints,t=>t.id==e);-1!=i&&(this.fullScreenPrint=this.prints[i],this.fullScreenPrintVideoUrl=t,this.$bvModal.show("tl-fullscreen-modal"))},fullScreenClosed(){this.fullScreenPrint=null,this.fullScreenPrintVideoUrl=null},onSortingUpdated(e){this.sortingValue=e,this.refetchData()},onFilterUpdated(e,t){this.filterValues[e]=t,this.refetchData()},resetFilters(){for(const e of Object.keys(this.filterValues))this.filterValues[e]="none",Object(s["b"])(`${la}-${e}`,"none");this.refetchData()}}},ua=da,pa=(i("366c"),Object(N["a"])(ua,Ln,Mn,!1,null,"7a698682",null)),ha=pa.exports,ma=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[e.isLoading?t("loading-placeholder"):t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",{attrs:{lg:"5"}},[t("div",{staticClass:"print-info"},[t("div",{staticClass:"card-container print-details"},[e.currentIndex||0===e.currentIndex?t("div",{staticClass:"navigation-container"},[t("b-button",{attrs:{variant:"outline-secondary",disabled:!e.prevPrint},on:{click:function(t){return t.preventDefault(),e.switchToPrint(e.prevPrint)}}},[t("i",{staticClass:"fas fa-chevron-left"}),e._v("  "+e._s(e.PrevPrintButtonTitle)+" ")]),t("div",{staticClass:"summary truncated-wrapper"},[t("div",{staticClass:"date truncated"},[e._v(" "+e._s(e.print.started_at.format(e.absoluteDateFormat))+" ")])]),t("b-button",{attrs:{variant:"outline-secondary",disabled:!e.nextPrint},on:{click:function(t){return t.preventDefault(),e.switchToPrint(e.nextPrint)}}},[e._v(" "+e._s(e.NextPrintButtonTitle)+"  "),t("i",{staticClass:"fas fa-chevron-right"})])],1):e._e(),t("div",[t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-info"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Status")))])]),t("div",{staticClass:"value"},[t("div",{staticClass:"print-status-color",class:e.print.status.key},[e._v(" "+e._s(e.print.status.title)+" ")])])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"far fa-clock"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Start time")))])]),t("div",{staticClass:"value"},[e._v(e._s(e.print.started_at.format(e.absoluteDateFormat)))])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"far fa-clock"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("End time")))])]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.print.ended_at?e.print.ended_at.format(e.absoluteDateFormat):"-")+" ")])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-clock"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Duration")))])]),t("div",{staticClass:"value"},[e._v(e._s(e.print.duration||"-"))])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-ruler-horizontal"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Filament used")))])]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.print.filament_used?e.humanizedFilamentUsage(e.print.filament_used):"-")+" ")])])])]),t("g-code-details",{attrs:{file:e.print.g_code_file||{filename:e.print.filename},"show-open-button":e.canOpenFile}}),t("div",{staticClass:"card-container printer"},[t("div",{staticClass:"icon"},[t("svg",{staticStyle:{"margin-bottom":"5px"},attrs:{width:"1em",height:"1em"}},[t("use",{attrs:{href:"#svg-3d-printer"}})])]),t("div",{staticClass:"info truncated-wrapper"},[t("div",{staticClass:"title truncated",attrs:{title:e.print.printer.name}},[e._v(" "+e._s(e.print.printer.name)+" ")]),t("div",{staticClass:"subtitle truncated",class:[e.printer?e.printer.isPrintable()&&!e.printer.inTransientState()?"text-success":"text-warning":"text-danger"]},[e._v(" "+e._s(e.printer?e.printer.printabilityText():"Deleted")+" ")])]),e.printer&&e.print.g_code_file&&!e.print.g_code_file.deleted&&e.print.g_code_file.url?t("div",{staticClass:"action"},[t("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.printer.isPrintable()||e.printer.inTransientState()},on:{click:e.onRepeatPrintClicked}},[e.isSending?t("b-spinner",{staticClass:"mr-2",attrs:{small:""}}):e._e(),t("span",[e._v(e._s(e.$t("Reprint")))])],1)]):e._e()])],1)]),t("b-col",{attrs:{lg:"7"}},[t("div",{staticClass:"print-info"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.firstLayerInspection.id,expression:"firstLayerInspection.id"}],staticClass:"card-container"},[t("b-row",{staticClass:"m-0"},[t("b-col",{staticClass:"first-layer-info-column",attrs:{cols:"12",sm:"7",md:"7",lg:"12",xl:"7"}},[t("div",[t("b-row",{staticClass:"mb-4"},[t("span",{staticClass:"ml-3"},[e._v(e._s(e.$t("First Layer Report")))])]),t("div",{staticClass:"first-layer-info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-info"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("First Layer Grade")))])]),t("div",{staticClass:"value"},[t("div",{staticClass:"print-status-color",class:e.gradeResult.gradeAccent},[e._v(" "+e._s(e.gradeResult.gradeTitle||" ")+" ")])])]),t("div",{staticClass:"first-layer-info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"far fa-clock"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("First Layer Print Time")))])]),t("div",{staticClass:"value"},[e._v(e._s(e.print.duration||"-"))])])],1),t("b-row",{staticClass:"m-0"},[t("b-button",{staticClass:"open-detailed-report-button",on:{click:e.onOpenDetailedReport}},[e._v(e._s(e.$t("Open Detailed Report")))])],1)],1),t("b-col",{staticClass:"heatmap-image-column",attrs:{cols:"12",sm:"5",md:"5",lg:"12",xl:"5"}},[t("div",{staticClass:"heatmap-image-container"},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.image?t("b-img",{staticClass:"heatmap-image",attrs:{src:e.image,alt:"First Layer Map"}}):e._e()],1)],1)])],1)],1),t("div",{staticClass:"time-lapse"},[e.print.video_archived_at?t("div",{staticClass:"card-container"},[t("h2",{staticClass:"title"},[e._v(e._s(e.$t("Time-Lapse video deleted")))]),t("p",[e._v(" "+e._s(e.$t("Time-lapse videos older than 6-months are deleted from the {brandName} app server as they are rarely needed and cost significant amount to store in the cloud.",{brandName:e.$syndicateText.brandName}))+" ")]),t("p",[t("i18next",{attrs:{translation:e.$t("If you are a Pro subscriber and you don't want your time-lapse videos to be deleted, please {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"mailto:support@obico.io?subject=Please%20keep%20my%20timelapse%20videos"}},[e._v(e._s(e.$t("contact us")))])]},proxy:!0}],null,!1,4060562873)}),e._v(" . ")],1)]):e.print.video_url||e.print.tagged_video_url?t("div",[t("b-card",{attrs:{"no-body":""}},[t("b-tabs",{attrs:{pills:"",card:""}},[t("b-tab",{attrs:{title:"Detective Time-Lapse",disabled:!e.canShowDetectiveView}},[t("b-card-text",[e.print.tagged_video_url?t("div",{class:{"is-fullscreen":!!e.fullscreenUrl&&e.fullscreenUrl===e.print.tagged_video_url}},[t("div",{staticClass:"video-wrapper"},[t("video-box",{attrs:{"video-url":e.print.tagged_video_url,"poster-url":e.print.poster_url,fluid:!1,"fullscreen-btn":null===e.fullscreenUrl,"exit-fullscreen-btn":null!==e.fullscreenUrl,"download-btn":!0},on:{timeupdate:e.onTimeUpdate,fullscreen:()=>e.enterFullscreen(e.print.tagged_video_url),exitFullscreen:e.exitFullscreen,download:()=>e.downloadFile(e.print.tagged_video_url,e.print.id+"_tagged.mp4")}})],1),t("div",{staticClass:"detective-footer"},[e.print.prediction_json_url?t("failure-detection-gauge",{attrs:{"normalized-p":e.normalizedP}}):e._e(),t("div",{staticClass:"feedback-section"},[t("div",{staticClass:"lead",class:[e.print.alerted_at?"text-danger":"text-success"]},[e._v(" "+e._s(e.print.alerted_at?"Failure detected":"No failure detected")+" ")]),t("div",{staticClass:"py-2"},[e._v(" "+e._s(e.$t("Did we get it right?"))+" "),t("b-button",{staticClass:"mx-2 btn-sm",attrs:{variant:e.thumbedUp?"primary":"outline"},on:{click:e.onThumbUpClick}},[e.inflightAlertOverwrite?t("b-spinner",{attrs:{type:"grow",small:""}}):t("i",{staticClass:"fas fa-thumbs-up"})],1),t("b-button",{staticClass:"mx-2 btn-sm",attrs:{variant:e.thumbedDown?"primary":"outline"},on:{click:e.onThumbDownClick}},[e.inflightAlertOverwrite?t("b-spinner",{attrs:{type:"grow",small:""}}):t("i",{staticClass:"fas fa-thumbs-down"})],1)],1),t("transition",{attrs:{name:"bounce"}},[e.print.printShotFeedbackEligible?t("div",{staticClass:"pt-2"},[t("b-button",{attrs:{variant:"outline-primary",size:"sm",href:`/prints/shot-feedback/${e.print.id}/`}},[e.print.need_print_shot_feedback?e._e():t("i",{staticClass:"fas fa-check mr-2"}),e._v(" "+e._s(e.$t("FOCUSED FEEDBACK"))+" ")])],1):e._e()]),t("div",{staticClass:"about-feedback"},[e.print.printShotFeedbackEligible?t("small",[e.print.need_print_shot_feedback?t("span",[e._v(" "+e._s(e.$t("With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve."))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback",target:"_blank"}},[e._v(" "+e._s(e.$t("You will earn 2 AI Detection Hours once you finish the Focused Feedback"))+" ")])]):t("span",[e._v(" "+e._s(e.$t("Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback."))+" ")])]):t("small",[e._v(" "+e._s(e.$t("Every time you give us feedback,"))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-credits-work/",target:"_blank"}},[e._v(" "+e._s(e.$t("you help us get better at detecting failures"))+" ")])])])],1)],1)]):t("div",[t("detective-working",{staticClass:"detective-placeholder"})],1)])],1),e.print.video_url?t("b-tab",{attrs:{active:!e.print.tagged_video_url,title:"Original Time-Lapse"}},[t("b-card-text",[t("div",{class:{"is-fullscreen original":!!e.fullscreenUrl&&e.fullscreenUrl===e.print.video_url}},[t("div",{staticClass:"video-wrapper"},[t("video-box",{attrs:{"video-url":e.print.video_url,"poster-url":e.print.poster_url,fluid:!1,"fullscreen-btn":null===e.fullscreenUrl,"exit-fullscreen-btn":null!==e.fullscreenUrl,"download-btn":!0},on:{timeupdate:e.onTimeUpdate,fullscreen:()=>e.enterFullscreen(e.print.video_url),exitFullscreen:e.exitFullscreen,download:()=>e.downloadFile(e.print.video_url,e.print.id+".mp4")}})],1)])])],1):e._e()],1)],1)],1):t("div",{staticClass:"card-container"},[t("p",{staticClass:"text-secondary mt-3"},[e._v(e._s(e.$t("Time-Lapse video unavailable because"))+":")]),t("ul",[t("li",{staticClass:"text-secondary mt-3"},[e._v(" "+e._s(e.$t("The {brandName} server is still processing the time-lapse;",{brandName:e.$syndicateText.brandName}))+" ")]),t("li",{staticClass:"text-secondary mt-3"},[t("i18next",{attrs:{translation:e.$t("Or, the print time was shorter than the threshold. You can change the threshold in {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:`/printers/${e.print.printer.id}/`}},[e._v(e._s(e.$t("the printer settings"))+".")])]},proxy:!0}])})],1)])])])])])],1)],1)]},proxy:!0}])})},fa=[],ga=(i("907a"),i("986a"),i("1d02"),i("3c5d"),i("6ce5"),i("2834"),i("4ea1"),i("dce5")),va=i.n(ga),ba=i("aaa7"),ya=i.n(ba),wa=i("acff");class _a{constructor(){return _a.instance||(this.printerCommMap=new Map,_a.instance=this),_a.instance}setPrinterComm(e,t){this.printerCommMap.set(e,t)}getPrinterComm(e){return this.printerCommMap.get(e)}getOrCreatePrinterComm(...e){const t=String(e[0]);return this.getPrinterComm(t)||this.setPrinterComm(t,ka(...e)),this.getPrinterComm(t)}closeConnection(e){const t=this.getPrinterComm(e);t&&(t.closeServerWebSocket(),t.webrtc&&t.webrtc.close(),this.printerCommMap.delete(e))}closeAllConnections(){this.printerCommMap.forEach((e,t)=>this.closeConnection(t))}}const Ca=new _a;function ka(e,t,i){const a={printerId:e,wsUri:t,...i};return a.ws=null,a.webrtc=null,a.passthruQueue=new Map,ya.a.on("blur",(function(){a.closeWebSocket()})),ya.a.on("focus",(function(){a.connect()})),a.onPassThruReceived=function(e){const t=e.ref;if(t&&a.passthruQueue.get(t)){const i=a.passthruQueue.get(t);a.passthruQueue.delete(t),i(e.error,e.ret)}else if("terminal_feed"in e)a.onTerminalFeedReceived&&a.onTerminalFeedReceived(e.terminal_feed);else if("printer_event"in e){const t=e.printer_event;n["default"].swal.Toast.fire({icon:t.event_class.toLowerCase(),title:t.event_title,html:t.event_text}).then(e=>{e.isDismissed&&"close"===e.dismiss&&(window.location.href="/printer_events/")})}},a.connect=function(e=null){a.ws&&a.ws.readyState===WebSocket.OPEN?e&&e():(a.ws=new WebSocket(window.location.protocol.replace("http","ws")+"//"+window.location.host+a.wsUri),a.ws.onmessage=function(e){let t={};try{t=JSON.parse(e.data)}catch(i){throw console.log(e.data),i}"passthru"in t?a.onPassThruReceived(t.passthru):a.onPrinterUpdateReceived&&a.onPrinterUpdateReceived(t)},e&&(a.ws.onopen=e),a.ensureWebsocketClosed(),setTimeout((function(){a.heartbeat()}),3e4))},a.setWebRTC=function(e){function t(e){let t={};try{t=JSON.parse(e)}catch(i){return}t&&"ref"in t&&"ret"in t?a.onPassThruReceived(t):a.onStatusReceived&&a.onStatusReceived(t)}a.webrtc=e,a.webrtc.setCallbacks({onData:e=>{"string"===typeof e||e instanceof String?t(e):Object(Pn["g"])(e,e=>{t(wa["a"].ungzip(new Uint8Array(e),{to:"string"}))})}})},a.passThruToPrinter=function(e,t){if(a.canSend()){var i=Math.random().toString();va()(e,{ref:i}),t&&(a.passthruQueue.set(i,t),setTimeout((function(){a.passthruQueue.has(i)&&(Pe(a.printerId),n["default"].swal.Toast.fire({icon:"error",title:""+G["a"].t("Failed to contact printer. Is it powered on and connected to Internet?")}))}),1e4)),a.webrtc&&a.webrtc.sendData(JSON.stringify(e)),a.ws.send(JSON.stringify({passthru:e}))}else t&&(Pe(a.printerId),t("Message not passed through. No suitable WebSocket."))},a.ensureWebsocketClosed=function(){a.ws.onclose=function(e){a.ws===e.target&&(a.ws=null)},a.ws.onerror=function(){a.ws&&a.ws.close()}},a.closeWebSocket=function(){a.ws&&a.ws.close()},a.heartbeat=function(){a.canSend()&&(a.ws.send(JSON.stringify({})),setTimeout((function(){a.heartbeat()}),3e4))},a.canSend=function(){return a.ws&&1===a.ws.readyState},a}Object.freeze(Ca);var Pa=i("2ef0"),Sa=i.n(Pa);function Da(e,t,i){const n=e=>{const t=[];for(const i of Object.values(e))i.children?t.push(...n(i.children)):t.push(i);return t};return new Promise((a,r)=>{let s;s=i?{filter:String(i),recursive:!0}:{path:t,recursive:!1,level:1},e.passThruToPrinter({func:"list_files",target:"_file_manager",kwargs:s},(e,t)=>{e&&r(e);let s=[],o=[];if(null===t||void 0===t||!t.local||!Object.keys(t.local).length)return void a();delete t.local.ObicoUpload;const l=i?n(t.local):Object.values(t.local);for(const i of l)"folder"===i.type?s.push({id:i.path,path:i.path,name:i.display,numItems:Object.keys(i.children).length}):o.push({...i,id:i.path,filename:i.name,num_bytes:i.size,filesize:pe()(i.size),created_at:De(new Date(1e3*i.date)),getBigThumbnailUrl:()=>null,getSmallThumbnailUrl:()=>null});a({folders:s,files:o})})})}function xa(e,t,i){return new Promise((n,a)=>{const r=null==t?"":t+"/";e.passThruToPrinter({target:"moonraker_api",func:"server/files/directory",kwargs:{path:"gcodes/"+(t||""),extended:!0}},(e,t)=>{e&&a(e);const s=i?[]:Sa.a.map(Sa.a.filter(Sa.a.get(t,"dirs",[]),e=>!e.dirname.startsWith(".")&&!e.dirname.startsWith("Obico_Upload")),e=>{const t=`${r}${e.dirname}`;return{name:e.dirname,id:t,path:t,children:[]}}),o=Sa.a.map(Sa.a.filter(Sa.a.get(t,"files",[]),e=>!e.filename.startsWith(".")&&(!i||e.filename.toLowerCase().includes(i.toLowerCase()))),e=>({...e,num_bytes:e.size,filesize:pe()(e.size),created_at:De(new Date(1e3*e.modified)),path:`${r}${e.filename}`,getBigThumbnailUrl:()=>null,getSmallThumbnailUrl:()=>null}));n({folders:s,files:o})})})}function Ta(e,t){return new Promise((i,n)=>{const a=t.path;e.passThruToPrinter({func:"select_file",target:"_printer",args:[""+a,null],kwargs:{printAfterSelect:"true"}},(e,t)=>{e?n(e):i()})})}function Fa(e,t){return new Promise((i,n)=>{const a=t.path;e.passThruToPrinter({target:"moonraker_api",func:"printer/print/start",kwargs:{verb:"post",filename:a}},(e,t)=>{e?n(e):i()})})}function Ia(e,t){return new Promise((i,n)=>{e.passThruToPrinter({target:"file_operations",func:"start_printer_local_print",args:[t]},(e,t)=>{e||null!==t&&void 0!==t&&t.error?n(e||(null===t||void 0===t?void 0:t.error)):i()})})}const Aa=(e,t)=>new Promise((i,a)=>{n["default"].swal.fire({html:`<h5 style="text-align: center; line-height: 1.5;">${G["a"].t("Print")} "${e.filename}" on <b>${t.name}</b>?</h5>`,imageUrl:e.getBigThumbnailUrl&&e.getBigThumbnailUrl(),showCancelButton:!0,confirmButtonText:""+G["a"].t("Print!"),cancelButtonText:""+G["a"].t("Cancel"),reverseButtons:!0}).then(e=>{e.value&&i()})});function $a(e,t){return new Promise((i,n)=>{e.passThruToPrinter({func:"download",target:"file_downloader",args:[{id:t.id,url:t.url,filename:t.filename,safe_filename:t.safe_filename}]},(e,t)=>{e?n(e):i()})})}const Oa=e=>{const{printer:t,gcode:i,isCloud:n,Swal:a,onCommandSent:r,onPrinterStatusChanged:s}=e,o=t.id,l=t.isAgentMoonraker(),c=Ca.getOrCreatePrinterComm(o,le["a"].printerWebSocket(o));c.connect(()=>{const e=n?$a:i.path?l?Fa:Ta:Ia;t.setTransientState(n?"G-Code Downloading":"Starting"),e(c,i).catch(e=>{Pe(o),a.Toast.fire({icon:"error",title:e})})}),r&&r();const d=async()=>{let e;try{e=await oe["a"].get(le["a"].printer(o)),e=e.data}catch(t){return void console.error(t)}"Operational"===de()(e,"status.state.text")||"G-Code Downloading"===de()(e,"status.state.text")||"Downloading G-Code"===de()(e,"status.state.text")?setTimeout(d,1e3):s&&s()};d()},Na=3e3,La=(e,t,i)=>{let n;e.Prompt.fire({html:`\n      <div class="text-center">\n        <h5 class="py-3">\n          ${G["a"].t("You'll be redirected to printers page in")} <strong>${Math.round(Na/1e3)}</strong> ${G["a"].t("seconds")}\n        </h5>\n      </div>\n    `,timer:Na,showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Redirect now",onOpen:()=>{n=setInterval(()=>{const t=e.getHtmlContainer(),i=null===t||void 0===t?void 0:t.querySelector("strong");t&&i&&(i.textContent=(e.getTimerLeft()/1e3).toFixed(0))},1e3)},onClose:()=>{clearInterval(n),n=null}}).then(e=>{e.isConfirmed||"timer"===e.dismiss?window.location.assign(`/printers/${i}/control/`):t&&t()})};var Ma=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-container file"},[t("div",{staticClass:"file-header",class:{"mb-4":e.showDetails&&e.fileDetailsToShow.length>0,compact:e.compactView}},[e.showThumbnail?t("div",[e.bigThumbnailUrl?t("div",{staticClass:"thumbnail"},[t("img",{attrs:{src:e.bigThumbnailUrl}})]):t("div",{staticClass:"thumbnail-placeholder"},[t("span",{staticClass:"help"},[t("help-widget",{attrs:{id:"thumbnail-setup-guide",highlight:!1,"show-close-button":!1}})],1),t("svg",[t("use",{attrs:{href:"#svg-no-photo"}})])])]):t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-file-code"})]),t("div",{staticClass:"info truncated-wrapper"},[t("div",{staticClass:"title truncated",attrs:{title:e.file.filename}},[e._v(" "+e._s(e.file.filename)+" ")]),e.file.filesize||e.file.deleted?t("div",{staticClass:"subtitle text-secondary truncated-wrapper"},[e.file.deleted?t("div",{staticClass:"truncated"},[t("span",{staticClass:"text-danger"},[e._v(e._s(e.$t("Deleted")))])]):t("div",{staticClass:"truncated"},[t("span",[e._v(e._s(e.file.filesize))])])]):e._e()]),e.showOpenButton&&e.file.id?t("div",{staticClass:"action"},[t("b-button",{staticClass:"custom-button",attrs:{variant:e.openButtonVariant,href:`/g_code_files/cloud/${e.file.id}/`}},[e._v(" "+e._s(e.openButtonText)+" ")])],1):e._e()]),e.showDetails?[e._l(e.fileDetailsToShow.slice(0,e.numberOfVisibleLines),(function(i){return t("div",{key:i.name},[t("div",{staticClass:"line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[i.faIcon?t("i",{class:i.faIcon}):i.svgIcon?t("svg",{attrs:{width:"16",height:"16"}},[t("use",{attrs:{href:"#"+i.svgIcon}})]):e._e()]),t("div",{staticClass:"title"},[e._v(e._s(i.title))])]),t("div",{staticClass:"value"},[t("span",{domProps:{innerHTML:e._s(i.value)}})])])])})),e.shouldShowDataNotice&&e.fileDetailsToShow.length<=e.numberOfVisibleLines?t("muted-alert",{staticClass:"mt-2 mb-1"},[e._v(" "+e._s(e.$t("Fields above were embedded in the G-Code file by your slicer. Consult your slicer's manual if some fields are not accurate or missing."))+" ")]):e._e(),e.fileDetailsToShow.length>e.numberOfVisibleLines?t("collapsable-details",[e._l(e.fileDetailsToShow.slice(e.numberOfVisibleLines),(function(i){return t("div",{key:i.name},[t("div",{staticClass:"line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[i.faIcon?t("i",{class:i.faIcon}):i.svgIcon?t("svg",{attrs:{width:"16",height:"16"}},[t("use",{attrs:{href:"#"+i.svgIcon}})]):e._e()]),t("div",{staticClass:"title"},[e._v(e._s(i.title))])]),t("div",{staticClass:"value"},[t("span",{domProps:{innerHTML:e._s(i.value)}})])])])})),e.shouldShowDataNotice&&e.fileDetailsToShow.length>e.numberOfVisibleLines?t("muted-alert",{staticClass:"mt-2 mb-1"},[e._v(" "+e._s(e.$t("Fields above were embedded in the G-Code file by your slicer. Consult your slicer's manual if some fields are not accurate or missing."))+" ")]):e._e()],2):e._e()]:e._e()],2)},Ea=[],za=function(){var e=this,t=e._self._c;return t("div",[t("b-collapse",{model:{value:e.expanded,callback:function(t){e.expanded=t},expression:"expanded"}},[e._t("default")],2),t("button",{staticClass:"collapse-toggle",class:e.expanded?"opened":"closed",on:{click:function(t){e.expanded=!e.expanded}}},[e.expanded?t("span",[e._v(e._s(e.$t("Show less")))]):t("span",[e._v(e._s(e.$t("Show more")))]),t("font-awesome-icon",{class:{rotated:e.expanded},attrs:{icon:["fas","chevron-down"]}})],1)],1)},Ra=[],Ba={name:"CollapsableDetails",data(){return{expanded:!1}}},Ua=Ba,ja=(i("d424"),Object(N["a"])(Ua,za,Ra,!1,null,"572cc95b",null)),Wa=ja.exports,Ha={name:"GCodeDetails",components:{MutedAlert:_n,HelpWidget:Zi,CollapsableDetails:Wa},props:{file:{type:Object,required:!0},showPrintStats:{type:Boolean,default:!1},showDetails:{type:Boolean,default:!0},showOpenButton:{type:Boolean,default:!1},compactView:{type:Boolean,default:!0},openButtonVariant:{type:String,default:"outline-secondary"},openButtonText:{type:String,default:"Open File"}},data(){return{numberOfVisibleLines:3}},computed:{bigThumbnailUrl(){return this.file.getBigThumbnailUrl&&this.file.getBigThumbnailUrl()},showThumbnail(){return!this.compactView||this.bigThumbnailUrl},fileDetailsToShow(){let e=[];return!this.file.deleted&&this.file.metadata&&(e=ye.filter(e=>this.file.metadata[e.name]).map(e=>({...e,value:e.formatter(this.file.metadata[e.name])}))),this.showPrintStats&&e.unshift({name:"total_prints",faIcon:"fas fa-hashtag",title:""+this.$i18next.t("Total prints"),value:`\n            ${this.file.totalPrints||0}\n            (<span class="text-success">${this.file.successPrints||0}</span> /\n            <span class="text-danger">${this.file.failedPrints||0}</span>)\n          `}),this.file.created_at&&e.unshift({name:"created_at",faIcon:"fas fa-calendar-alt",title:""+this.$i18next.t("Uploaded"),value:this.file.created_at.fromNow()}),e},shouldShowDataNotice(){return!this.file.analysis&&0!==Object.keys(this.file.metadata||{}).length&&!this.file.deleted}}},Va=Ha,Ya=(i("dbc4"),Object(N["a"])(Va,Ma,Ea,!1,null,"0991d3bd",null)),Ga=Ya.exports,qa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-2"},[t("b-row",[t("h4",{staticClass:"mb-4 report-title"},[e._v(e._s(e.$t("First Layer Report")))])]),t("b-row",[t("b-col",{attrs:{lg:"7"}},[t("div",{staticClass:"file-block mb-3"},[t("div",{staticClass:"file-header compact",class:{compact:e.compactView}},[e.showIconThumbnail?t("div",[e.bigThumbnailUrl?t("div",{staticClass:"thumbnail"},[t("img",{attrs:{src:e.bigThumbnailUrl}})]):t("div",{staticClass:"thumbnail-placeholder"},[t("span",{staticClass:"help"},[t("help-widget",{attrs:{id:"thumbnail-setup-guide",highlight:!1,"show-close-button":!1}})],1),t("svg",[t("use",{attrs:{href:"#svg-no-photo"}})])])]):t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-file-code"})]),t("div",{staticClass:"info truncated-wrapper"},[t("div",{staticClass:"truncated",attrs:{title:e.file.filename}},[e._v(" "+e._s(e.file.filename)+" ")]),e.file.filesize||e.file.deleted?t("div",{staticClass:"subtitle text-secondary truncated-wrapper"},[e.file.deleted?t("div",{staticClass:"truncated"},[t("span",{staticClass:"text-danger"},[e._v(e._s(e.$t("Deleted")))])]):t("div",{staticClass:"truncated"},[t("span",[e._v(e._s(e.file.filesize)+", "+e._s(e.$t("uploaded"))+" "+e._s(e.fileUploadedTime))])])]):e._e()]),t("div",{staticClass:"button"},[e.showOpenButton&&e.file.id?t("b-button",{attrs:{href:`/g_code_files/cloud/${e.file.id}/`}},[e._v(" "+e._s(e.$t("Open File"))+" ")]):e._e()],1)]),t("div",{staticClass:"first-layer-report-info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-info"})]),t("div",[e._v(e._s(e.$t("First Layer Grade")))])]),t("div",{staticClass:"value"},[t("div",{class:e.gradeResult.gradeAccent},[e._v(" "+e._s(e.gradeResult.gradeTitle||" ")+" ")])])]),t("div",{staticClass:"first-layer-report-info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"far fa-clock"})]),t("div",[e._v(e._s(e.$t("First Layer Print Time")))])]),t("div",{staticClass:"value"},[e._v(e._s(e.print.duration||"-"))])])]),t("div",{staticClass:"notes-block mb-3"},[t("b-row",[t("span",{staticClass:"title"},[e._v(e._s(e.$t("First Layer Notes")))])]),t("hr"),t("b-row",[t("div",{staticClass:"description"},[t("p",[e._v(" "+e._s(e.$t("You're first layer score is"))+": "),t("span",{staticClass:"font-bold",class:e.gradeResult.gradeAccent},[e._v(e._s(e.gradeResult.grade))]),t("br"),e._v(" "+e._s(e.gradeResult.gradeRemarks)+" ")])])]),e.isGradeA?e._e():t("hr"),t("b-row",[e.isGradeA?e._e():t("div",{staticClass:"info"},[t("p",[t("i18next",{attrs:{translation:e.$t("Grade {localizedDom} usually means one of the following")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("span",{class:e.gradeResult.gradeAccent},[e._v(e._s(e.gradeResult.grade))])]},proxy:!0}],null,!1,3047815858)})],1),t("ul",e._l(e.gradeResult.gradeSuggestion,(function(i,n){return t("li",{key:n,domProps:{innerHTML:e._s(i)}})})),0)])])],1)]),t("b-col",{staticClass:"heatmap-column",attrs:{lg:"5"}},[t("b-card",{staticClass:"mb-3 text-center card-map",attrs:{"no-body":""}},[t("b-card-body",[t("div",{ref:"imageContainer",staticClass:"image-container"},[t("b-img",{attrs:{src:e.isHeatmapVisible?e.first_layer_info.heatmap_img_url:e.first_layer_info.gcode_img_url,alt:"First Layer Map"}}),t("button",{staticClass:"toggle-heatmap",on:{click:e.toggleHeatmap}},[t("i",{class:"fa "+(e.isHeatmapVisible?"fa-eye":"fa-eye-slash"),attrs:{"aria-hidden":"true"}})]),e.isHeatmapVisible?t("div",e._l(e.first_layer_info.points,(function(i,n){return t("div",{key:n,staticClass:"pin",style:{left:i.x_percent+"%",top:i.y_percent+"%"},on:{click:function(t){e.isHeatmapVisible&&e.imageClicked(i)},mouseover:function(t){e.isHeatmapVisible&&e.showThumbnail(i,t)},mouseleave:function(t){e.isHeatmapVisible&&e.hideThumbnail()}}})})),0):e._e(),e.activeThumbnail?t("div",{staticClass:"thumbnail",style:e.thumbnailStyle},[t("img",{attrs:{src:e.activeThumbnail}})]):e._e(),t("b-modal",{staticClass:"b-carousel",attrs:{id:"carousal-modal",size:"lg","hide-footer":"","hide-header":"","content-class":"b-carousel"},on:{show:e.onCarouselModalShow}},[t("button",{staticClass:"close-carousel",on:{click:e.closeCarousel}},[e._v("×")]),t("div",{staticClass:"carousel-tabs"},[t("b-tabs",{attrs:{"nav-class":"mb-2 border-0","active-nav-item-class":"carousel-active-tab"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("b-tab",{attrs:{title:"AI Detected Image",active:"","title-link-class":"carousel-tab"},on:{click:e.handleTabClicked}},[e.carouselItems.length?t("vue-slick-carousel",e._b({ref:"slickTagged",staticClass:"custom-slick-carousel",on:{afterChange:e.afterCarouselImageChanged,beforeChange:e.beforeCarouselImageChanged}},"vue-slick-carousel",e.settings,!1),e._l(e.carouselItems,(function(i,n){return t("img",{key:"tagged-"+n,class:{"fade-in":e.showCarouselAnimation},attrs:{width:"auto",height:"350px",src:i.tagged_img_url,alt:"Tagged Screenshot "+(n+1)}})})),0):e._e()],1),t("b-tab",{attrs:{title:"Original Image","title-link-class":"carousel-tab"},on:{click:e.handleTabClicked}},[e.carouselItems.length?t("vue-slick-carousel",e._b({ref:"slickOriginal",staticClass:"custom-slick-carousel",on:{afterChange:e.afterCarouselImageChanged,beforeChange:e.beforeCarouselImageChanged}},"vue-slick-carousel",e.settings,!1),e._l(e.carouselItems,(function(i,n){return t("img",{key:"original-"+n,class:{"fade-in":e.showCarouselAnimation},attrs:{width:"auto",height:"350px",src:i.raw_img_url,alt:"Original Screenshot "+(n+1)}})})),0):e._e()],1)],1)],1)])],1)])],1),t("div",{staticClass:"map-info"},[e._v(" "+e._s(e.$t("Click pins on the g-node map to see snapshots of certain areas of the print."))+" ")])],1)],1),t("b-row",{staticClass:"buttons-row"},[t("b-col",{attrs:{cols:"12",lg:"7"}},[t("b-button",{staticClass:"mb-3",staticStyle:{width:"100%"}},[e._v(e._s(e.$t("View First Layer Timelapse")))]),t("b-button",{staticClass:"feedback-button",staticStyle:{width:"100%"}},[e._v(e._s(e.$t("Give Feedback About This Report")))])],1)],1)],1)},Ka=[],Ja={name:"FirstLayerReportModal",components:{VueSlickCarousel:mt.a,PageLayout:It},data:function(){return{showCarouselAnimation:!0,first_layer_info:{},carouselItems:[],isHeatmapVisible:!0,settings:{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,initialSlide:0},activeTab:0,carouselKey:0,activeThumbnail:null,thumbnailStyle:{width:"150px",height:"150px",position:"absolute",zIndex:"1070"}}},props:{firstLayerInfo:{type:Object,required:!0},gradeResult:{type:Object,required:!0},print:{type:Object,required:!0},showOpenButton:{type:Boolean,default:!1},compactView:{type:Boolean,default:!0}},computed:{file(){return this.print.g_code_file||{filename:this.print.filename}},isGradeA(){return"A"===this.gradeResult.grade},showIconThumbnail(){return!this.compactView||this.bigThumbnailUrl},bigThumbnailUrl(){return this.file.getBigThumbnailUrl&&this.file.getBigThumbnailUrl()},fileUploadedTime(){return this.file.created_at.fromNow()}},watch:{firstLayerInfo:{handler:function(e){e&&this.prepareFirstLayerInfo()},immediate:!0}},methods:{onCarouselModalShow(){this.showCarouselAnimation=!0},handleTabClicked(){this.showCarouselAnimation=!0},beforeCarouselImageChanged(e){this.showCarouselAnimation=!1},afterCarouselImageChanged(e){this.updateCarouselInitialState(e)},updateCarouselInitialState(e){this.settings={...this.settings,initialSlide:e}},closeCarousel(){this.$bvModal.hide("carousal-modal")},showThumbnail(e,t){this.activeThumbnail=e.tagged_img_url;const i=this.$refs.imageContainer.getBoundingClientRect(),n=12,a=150,r=e.x_percent/100*i.width,s=e.y_percent/100*i.height,o=r-a/2;let l=s-a-n;l<0&&(l=s+n),this.thumbnailStyle.left=o+"px",this.thumbnailStyle.top=l+"px"},hideThumbnail(){this.activeThumbnail=null},prepareFirstLayerInfo(){this.first_layer_info=this.firstLayerInfo;const e=this.first_layer_info.width,t=this.first_layer_info.height,i=this.first_layer_info.points||[];this.first_layer_info.points=i.map(i=>({...i,x_percent:i.x/e*100,y_percent:100-i.y/t*100})),this.carouselItems=this.first_layer_info.points.map(e=>({raw_img_url:e.raw_img_url,tagged_img_url:e.tagged_img_url}))},imageClicked(e){const t=this.carouselItems.findIndex(t=>t.tagged_img_url===e.tagged_img_url);this.updateCarouselInitialState(t),this.carouselKey++,this.$bvModal.show("carousal-modal")},toggleHeatmap(){this.isHeatmapVisible=!this.isHeatmapVisible},findNearestPoint(e,t){let i=null,n=1/0;return this.first_layer_info["points"].forEach(a=>{const r=this.calculateDistance(e,t,a.x,a.y);r<n&&(n=r,i=a)}),i},calculateDistance(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}}},Za=Ja,Qa=(i("751c"),i("5650"),Object(N["a"])(Za,qa,Ka,!1,null,"292b431c",null)),Xa=Qa.exports;function er(e){return e>=80?{grade:"A",gradeTitle:"A - Flawless First Layer",gradeAccent:"text-success",gradeRemarks:"You have got a perfect first layer! Way to go!",gradeSuggestion:[]}:e>=60?{grade:"B",gradeTitle:"B - Barely a Blemish, Bravo!",gradeAccent:"text-success",gradeRemarks:"You’re first layer is almost perfect! The risk of the first layer to cause  a failure later is VERY LOW.",gradeSuggestion:["Minor under-extrusion.","Minor over-extrusion.","Suboptimal z-offset setting that causes the material to not bond perfectly.","Uneven print bed coupled with suboptimal auto-bed-leveling.","Other problems that cause the first layer to have defects."]}:e>=40?{grade:"C",gradeTitle:"C - Okay First Layer",gradeAccent:"text-warning",gradeRemarks:"The risk for the first layer to cause your print to fail later is LOW. However, if you want a perfect bottom surface finish and structural strength, you can stop the print, perfect your first layer, and restart the print.",gradeSuggestion:["Under-extrusion.","Over-extrusion.","Suboptimal z-offset setting that causes the material to not bond perfectly.","Contaminated print bed that causes the material in some areas to slightly bubble or wrap.","Uneven print bed coupled with suboptimal auto-bed-leveling.","Other problems that cause the first layer to have defects."]}:e>=20?{grade:"D",gradeTitle:"D - Definitely Needs Tuning",gradeAccent:"text-danger",gradeRemarks:"It looks like your printer has run into some trouble on the first layer. The risk for the first layer to cause your print to failure later is MEDIUM. Although these first layer issues probably won't cause the print to fail later, you should consider fixing them and restarting the print, especially if you want to have a good bottom surface finish and structural strength.",gradeSuggestion:["Significant under-extrusion.","Uneven print bed coupled with suboptimal auto-bed-leveling.","Contaminated print bed that causes the material in some areas to bubble or wrap.","Other problems that cause the first layer to show serious defects."]}:{grade:"F",gradeTitle:"F - First Layer Fail",gradeAccent:"text-danger",gradeRemarks:"It looks like your printer has run into some trouble on the first layer. The risk for the first layer to cause your print to failure later is HIGH. I recommend you stop the print now and fix the problem.",gradeSuggestion:["Serious bed-leveling problems that cause material to detach from the print bed.","Wrong/suboptimal z-offset setting.","Serious bubbling or wrapping.","Other problems that will probably cause the print to fail later in the process."]}}var tr={name:"PrintPage",components:{PageLayout:It,VideoBox:Rt,DetectiveWorking:Vt,FailureDetectionGauge:qn,GCodeDetails:Ga},props:{printId:{type:Number,required:!0}},data:function(){return{image:"",gradeResult:{},firstLayerInfo:{},firstLayerInspection:{},isFirstLayerReportModalOpen:!1,PrintStatus:xe,absoluteDateFormat:"MMM D, YYYY h:mm a",print:null,predictions:[],printer:null,isLoading:!0,currentPosition:0,inflightAlertOverwrite:null,fullscreenUrl:null,user:null,currentPrint:null,prevPrint:null,nextPrint:null,sortingValue:mi(rn,sn),filterLocalStoragePrefix:ln,filterOptions:cn,filterValues:_i(ln,cn),printerStateCheckInterval:null}},computed:{canOpenFile(){return this.print.g_code_file&&!this.print.g_code_file.resident_printer&&!this.print.g_code_file.deleted},PrevPrintButtonTitle(){return"asc"===this.sortingValue.direction.key?""+this.$i18next.t("Older"):""+this.$i18next.t("Newer")},NextPrintButtonTitle(){return"asc"===this.sortingValue.direction.key?""+this.$i18next.t("Newer"):""+this.$i18next.t("Older")},fileName(){return null===this.print.g_code_file?this.print.filename:this.print.g_code_file.filename},currentPrintId(){var e;return(null===(e=this.currentPrint)||void 0===e?void 0:e.id)||this.printId},currentIndex(){if(this.currentPrint)return this.currentPrint.index;const e=new URLSearchParams(window.location.search);let t=e.get("index");return t?parseInt(t):void 0},normalizedP(){return Object(Pn["d"])(this.predictions,this.currentPosition,!1)},canShowDetectiveView(){return null!==this.print.prediction_json_url&&null!==this.print.tagged_video_url||!!(this.print.uploaded_at&&H()().diff(this.print.uploaded_at,"hours")<24)},thumbedUp(){return!!this.print.alert_overwrite&&this.print.has_alerts^"NOT_FAILED"===this.print.alert_overwrite},thumbedDown(){return!!this.print.alert_overwrite&&this.print.has_alerts^"FAILED"===this.print.alert_overwrite},isSending(){var e;const t=null===(e=this.printer)||void 0===e?void 0:e.calculatedState();return t&&["G-Code Downloading","Starting"].includes(t)}},created(){const{IS_ENT:e}=Object(Q["d"])();this.isEnt=!!e,this.user=Object(Q["f"])(),this.fetchData(),this.fetchSiblingPrints()},mounted(){const e=this.exitFullscreen;document.addEventListener("keydown",t=>{"Escape"===t.key&&e()})},unmounted(){clearInterval(this.printerStateCheckInterval)},methods:{downloadFile:Pn["a"],humanizedFilamentUsage:ve,async fetchData(e=!0){e&&(this.print=null,this.predictions=[],this.printer=null),this.isLoading=!0;try{const e=await oe["a"].get(le["a"].print(this.currentPrintId));this.print=Te(e.data),this.print.prediction_json_url&&oe["a"].get(this.print.prediction_json_url).then(e=>{this.predictions=e.data}),oe["a"].get(le["a"].printer(this.print.printer.id),{params:{with_archived:!0}}).then(e=>{this.printer=Ae(e.data),this.printerComm=Ca.getOrCreatePrinterComm(this.printer.id,le["a"].printerWebSocket(this.printer.id),{onPrinterUpdateReceived:e=>{this.printer=Ae(e,this.printer)}}),this.printerComm.connect()}).catch(e=>{var t;this.printer=null,404!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&this.errorDialog(e,""+this.$i18next.t("Failed to fetch printer information"))}).finally(()=>{this.isLoading=!1})}catch(t){console.log(t)}if(this.isEnt)return fetch(le["a"].firstLayerInspection(this.currentPrintId)).then(e=>e.ok?e.json():(console.log("first layer inspection failure is ignored because it may not exist"),[])).then(e=>{if(e.length){const t=e[0];return this.firstLayerInspection=t,this.gradeResult=er(t.score),t.data_json_url}return null}).then(e=>{e&&(this.isLoading=!0,fetch(e).then(e=>e.ok?e.json():(console.log("first layer info failure is ignored because it may not exist"),{})).then(e=>{this.firstLayerInfo=e,this.image=e.heatmap_img_url}).catch(e=>console.log("Could not fetch data")))}).finally(()=>{this.isLoading=!1})},switchToPrint(e){this.currentPrint=e;const t=`/prints/${e.id}/?index=${e.index}`;window.history.replaceState({},"",t),this.fetchData(),this.fetchSiblingPrints()},fetchSiblingPrints(){if(!this.currentIndex&&0!==this.currentIndex)return;const e=this.currentIndex>0,t=e?this.currentIndex-1:0,i=e?3:2;oe["a"].get(le["a"].prints(),{params:{start:t,limit:i,...Ci(this.filterOptions,this.filterValues,(e,t)=>{if("timePeriod"===e)return this.filterOptions[e].buildQueryParam(t,Object(s["a"])(ln+"-timePeriod-dateFrom")||null,Object(s["a"])(ln+"-timePeriod-dateTo")||null,this.user)}),sorting:`${this.sortingValue.sorting.key}_${this.sortingValue.direction.key}`}}).then(t=>{const i=t.data;let n,a;if(e)if(3===i.length&&i[1].id===this.currentPrintId)n=i[0],a=i[2];else{if(2!==i.length||i[1].id!==this.currentPrintId)return;n=i[0]}else{if(2!==i.length||i[0].id!==this.currentPrintId)return;a=i[1]}this.prevPrint=n?{id:n.id,index:this.currentIndex-1}:null,this.nextPrint=a?{id:a.id,index:this.currentIndex+1}:null}).catch(e=>{this.errorDialog(e)})},onTimeUpdate(e){this.currentPosition=e},onThumbUpClick(){this.inflightAlertOverwrite=this.print.has_alerts?"FAILED":"NOT_FAILED",this.alertOverwrite(this.inflightAlertOverwrite)},onThumbDownClick(){this.inflightAlertOverwrite=this.print.has_alerts?"NOT_FAILED":"FAILED",this.alertOverwrite(this.inflightAlertOverwrite)},alertOverwrite(e){oe["a"].patch(le["a"].print(this.print.id),{alert_overwrite:e}).then(e=>{this.inflightAlertOverwrite=null,this.fetchData(!1)})},onRepeatPrintClicked(){Aa(this.print.g_code_file,this.printer).then(()=>{var e;Oa({printer:this.printer,gcode:this.print.g_code_file,isCloud:null===(null===(e=this.print.g_code_file)||void 0===e?void 0:e.resident_printer),Swal:this.$swal,onPrinterStatusChanged:()=>{La(this.$swal,()=>this.fetchData(),this.printer.id)}})})},enterFullscreen(e){this.fullscreenUrl=e},exitFullscreen(){this.fullscreenUrl=null},onOpenDetailedReport(){this.$swal.openModalWithComponent(Xa,{printer:this.printer,firstLayerInfo:this.firstLayerInfo,gradeResult:this.gradeResult,print:this.print,showOpenButton:this.canOpenFile},{showCloseButton:!0,showConfirmButton:!1,width:"75em"})}}},ir=tr,nr=(i("cfe5"),Object(N["a"])(ir,ma,fa,!1,null,"c6419df0",null)),ar=nr.exports,rr=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("b-container",[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{staticClass:"text-center",attrs:{lg:"8"}},[t("h1",{staticClass:"pb-2"},[e._v(e._s(e.$t("Upload Time-lapse")))]),t("p",{staticClass:"pb-2"},[e._v(e._s(e.$t("Upload time-lapse videos to test {brandName}'s AI failure detection.",{brandName:e.$syndicateText.brandName})))]),t("vue-dropzone",{staticClass:"upload-box",attrs:{id:"dropzone",options:e.dropzoneOptions,"use-custom-slot":!0},on:{"vdropzone-success":e.printUploadSuccess}},[t("div",{staticClass:"dz-message needsclick"},[t("i",{staticClass:"fas fa-upload fa-2x"}),e._v(" "),t("br"),e._v(" "+e._s(e.$t("Drop files here or click to upload."))),t("br"),e._v(" "+e._s(e.$t("*.mp4 or *.mpg files only. Up to 100MB each."))+" ")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.uploaded,expression:"uploaded"}],staticClass:"pt-5"},[t("div",{attrs:{id:"tl-uploaded"}},[t("img",{staticClass:"detective-working",attrs:{src:i("0469")}}),t("div",{staticClass:"py-2 text-center"},[t("div",{staticClass:"py-2"},[e._v(" "+e._s(e.$t("The {brandName} Server is running failure detection on the time-lapse video(s) you uploaded.",{brandName:e.$syndicateText.brandName}))+" ")]),t("div",[e._v(e._s(e.$t("We will send you email when it is done.")))]),t("a",{attrs:{href:"/prints/"}},[e._v(e._s(e.$t("Check status now >>>")))])])])])],1)],1)],1)]},proxy:!0}])})},sr=[],or=i("92c3"),lr=i.n(or),cr=(i("1e3f"),{name:"UploadPrintPage",components:{vueDropzone:lr.a,PageLayout:It},props:{csrf:{type:String,required:!0}},data(){return{dropzoneOptions:{withCredentials:!0,maxFilesize:100,timeout:36e5,acceptedFiles:"video/mp4, video/mpeg",url:"?",headers:{"X-CSRFToken":this.csrf}},uploaded:!1}},methods:{printUploadSuccess(e){console.log(e),this.uploaded=!0}}}),dr=cr,ur=(i("050e"),Object(N["a"])(dr,rr,sr,!1,null,"13c6093e",null)),pr=ur.exports,hr=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"topBarRight",fn:function(){return[t("div",{staticClass:"action-panel"},[e.isEnt?t("a",{staticClass:"btn shadow-none action-btn icon-btn hours-btn",style:{marginRight:.25*String(e.dhBadgeNum).length+"rem"},attrs:{href:"/user_preferences/dh/",title:e.dhBadgeNum+" "+e.$t("AI Detection Hours")}},[t("svg",{staticClass:"custom-svg-icon"},[t("use",{attrs:{href:"#svg-hour-glass"}})]),t("span",{staticClass:"badge badge-light",attrs:{id:"user-credits"}},[e._v(e._s(e.dhBadgeNum))]),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("AI Detection Hours")))])]):e._e(),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn",title:"Sort By"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-sort-amount-down"})]},proxy:!0}])},[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn","menu-class":"scrollable",title:"Filter"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-filter"})]},proxy:!0}])},[t("filtering-dropdown",{attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues},on:{onFilterUpdated:e.onFilterUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":e.mobileMenuOptions},scopedSlots:e._u([{key:"sorting",fn:function(){return[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})]},proxy:!0},{key:"filtering",fn:function(){return[t("filtering-dropdown",{attrs:{"local-storage-prefix":e.filterLocalStoragePrefix,"filter-options":e.filterOptions,"filter-values":e.filterValues},on:{onFilterUpdated:e.onFilterUpdated}})]},proxy:!0}])})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[t("active-filter-notice",{attrs:{"filter-values":e.filterValues},on:{onShowAllClicked:e.resetFilters}}),t("b-container",{staticClass:"printer-list-page"},[e.loading?t("b-row",[t("b-col",{staticClass:"text-center"},[t("b-spinner",{staticClass:"my-5",attrs:{label:"Loading..."}})],1)],1):e._e(),e.visiblePrinters.length?t("b-row",{staticClass:"printer-cards justify-content-center"},e._l(e.visiblePrinters,(function(i){return t("printer-card",{key:i.id,staticClass:"printer-card-wrapper",attrs:{printer:i,"is-pro-account":e.user.is_pro},on:{PrinterUpdated:e.onPrinterUpdated}})})),1):e._e(),e.loading?e._e():t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-sm-12 col-lg-6",attrs:{id:"new-printer"}},[t("div",{staticClass:"new-printer-container"},[t("a",{attrs:{href:"/printers/wizard/"}},[t("svg",{staticClass:"icon"},[t("use",{attrs:{href:"#svg-add-printer"}})]),t("div",[e._v(e._s(e.$t("Link New Printer")))])])])])]),e.loading?e._e():t("b-row",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowArchiveWarning,expression:"shouldShowArchiveWarning"}],staticClass:"bottom-messages"},[t("b-col",[t("div",{staticClass:"alert alert-warning alert-dismissible fade show mb-3",attrs:{role:"alert"}},[t("div",{staticClass:"warning"},[t("div",[e._v(" "+e._s(e.archivedPrinterNum)+" "+e._s(e._f("pluralize")("printer",e.archivedPrinterNum))+" "+e._s(e.$t("have been archived."))+" ")]),t("div",[t("a",{staticClass:"warning-action",attrs:{href:"/ent/printers/archived/"}},[e._v(e._s(e.$t("Show Archived Printers")))]),t("a",{staticClass:"warning-action",on:{click:e.handleNeverShowAgain}},[e._v(e._s(e.$t("Never Show Again")))])])]),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])])],1)],1)]},proxy:!0}])})},mr=[],fr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-sm-12 col-lg-6 printer-card",attrs:{id:e.printer.id}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("div",{staticClass:"title-box"},[t("div",{staticClass:"printer-name"},[e._v(" "+e._s(e.printer.name)+" ")]),e.hasCurrentPrintFilename?t("div",{staticClass:"secondary-title print-filename"},[e._v(" "+e._s(e.printer.current_print.filename)+" ")]):t("div",{staticClass:"secondary-title",class:e.statusClass},[e._v(e._s(e.statusText))])]),t("div",{staticClass:"d-flex ml-2"},[t("b-button",{staticClass:"px-4 mr-2",attrs:{variant:"outline-secondary",href:`/printers/${e.printer.id}/control/`}},[e._v(e._s(e.$t("Open"))+" "+e._s(e.$t("Details"))+" ")]),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t("b-dropdown-item",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onSharePrinter()}}},[t("i",{staticClass:"fas fa-share-alt fa-lg"}),e._v(e._s(e.$t("Share"))+" ")]),t("b-dropdown-item",{attrs:{href:e.octoPrintTunnelUrl()}},[t("svg",{staticClass:"menu-icon"},[t("use",{attrs:{href:"#svg-tunnel"}})]),e._v(" "+e._s(e.printer.agentDisplayName())+" "+e._s(e.$t("Tunnel"))+" ")]),t("div",{staticClass:"dropdown-divider"}),t("b-dropdown-item",{attrs:{href:e.settingsUrl()}},[t("i",{staticClass:"fas fa-wrench fa-lg"}),e._v(e._s(e.$t("Configure"))+" ")])],1)],1)]),t("streaming-box",{attrs:{printer:e.printer,webrtc:e.webrtc,autoplay:e.isProAccount}}),e.printer.alertUnacknowledged()?t("div",{staticClass:"failure-alert card-body bg-warning px-2 py-1"},[t("i",{staticClass:"fas fa-exclamation-triangle align-middle"}),t("span",{staticClass:"align-middle"},[e._v(e._s(e.$t("Failure Detected!")))]),t("button",{staticClass:"btn btn-outline-primary btn-sm float-right",attrs:{id:"not-a-failure",type:"button"},on:{click:function(t){return e.onNotAFailureClicked(t,!1)}}},[e._v(" "+e._s(e.$t("Not a failure?"))+" ")])]):e._e(),t("div",{staticClass:"card-body gauge-container",class:{overlay:!e.isWatching}},[e.isWatching?e._e():t("div",{staticClass:"overlay-top text-center",staticStyle:{left:"0",width:"100%",top:"50%","margin-top":"-55px"}},[t("H1",[t("i",{staticClass:"far fa-eye-slash"})]),t("h5",{staticClass:"text-warning"},[e._v(e._s(e.$t("Failure Detection is Off")))]),e.printer.not_watching_reason?t("small",[e._v(e._s(e.printer.not_watching_reason)+". "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/detective-not-watching/",target:"_blank"}},[e._v(e._s(e.$t("Learn more. "))),e._m(0)])]):e._e(),t("div")],1),t("failure-detection-gauge",{attrs:{"normalized-p":e.printer.normalized_p,"is-watching":e.isWatching}}),t("hr")],1),t("print-job-control-widget",{attrs:{"inside-card":!0,printer:e.printer,"printer-comm":e.printerComm},on:{notAFailureClicked:e.onNotAFailureClicked,sendPrinterAction:e.sendPrinterAction}}),t("div",{staticClass:"info-section settings"},[t("button",{staticClass:"info-section-toggle btn btn-sm no-corner mx-2",class:{pressed:e.section_toggles.settings},attrs:{type:"button"},on:{click:function(t){return e.onSettingsToggleClicked()}}},[t("i",{staticClass:"fas fa-cog fa-lg"})]),t("button",{staticClass:"info-section-toggle btn btn-sm no-corner mx-2",class:{pressed:e.section_toggles.time},attrs:{type:"button"},on:{click:function(t){return e.onTimeToggleClicked()}}},[t("i",{staticClass:"fas fa-clock fa-lg"})]),t("button",{staticClass:"info-section-toggle btn btn-sm no-corner mx-2",class:{pressed:e.section_toggles.statusTemp},attrs:{type:"button"},on:{click:function(t){return e.onStatusTempToggleClicked()}}},[t("i",{staticClass:"fas fa-thermometer-half fa-lg"})])]),t("div",{staticClass:"info-section",staticStyle:{height:"0.3rem"}}),t("div",[t("div",{staticClass:"info-section container"},[e.section_toggles.settings?t("div",{attrs:{id:"panel-settings"}},[t("div",{staticClass:"pt-2 pb-3"},[t("div",{staticClass:"row justify-content-center px-3"},[t("div",{staticClass:"col-12 setting-item"},[t("label",{staticClass:"toggle-label",attrs:{for:"watching_enabled-toggle-"+e.printer.id}},[t("i18next",{attrs:{translation:e.$t("Enable AI failure detection {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[e.watchForFailures?e._e():t("div",{staticClass:"text-muted font-weight-light font-size-sm"},[e._v(" "+e._s(e.$t("AI failure detection is disabled. You are on your own"))+".")])]},proxy:!0}],null,!1,2325561323)})],1),t("div",{staticClass:"custom-control custom-switch"},[t("input",{staticClass:"custom-control-input update-printer",attrs:{id:"watching_enabled-toggle-"+e.printer.id,type:"checkbox",name:"watching_enabled"},domProps:{checked:e.watchForFailures},on:{click:e.onWatchForFailuresToggled}}),t("label",{staticClass:"custom-control-label",staticStyle:{"font-size":"1rem"},attrs:{for:"watching_enabled-toggle-"+e.printer.id}})])])]),t("div",{staticClass:"row justify-content-center px-3"},[t("div",{staticClass:"col-12 setting-item"},[t("label",{staticClass:"toggle-label",attrs:{for:"pause-toggle-"+e.printer.id}},[t("i18next",{attrs:{translation:e.$t("Pause on detected failures {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[e.pauseOnFailure?e._e():t("div",{staticClass:"text-muted font-weight-light font-size-sm"},[e._v(" "+e._s(e.$t("You will still be alerted via notifications")))])]},proxy:!0}],null,!1,4050608119)})],1),t("div",{staticClass:"custom-control custom-switch"},[t("input",{staticClass:"custom-control-input update-printer",attrs:{id:"pause-toggle-"+e.printer.id,type:"checkbox",name:"pause_on_failure"},domProps:{checked:e.pauseOnFailure},on:{click:e.onPauseOnFailureToggled}}),t("label",{staticClass:"custom-control-label",staticStyle:{"font-size":"1rem"},attrs:{for:"pause-toggle-"+e.printer.id}})])])])])]):e._e(),e.section_toggles.time?t("div",{attrs:{id:"print-time"}},[t("div",{staticClass:"py-2"},[t("div",{staticClass:"row text-muted"},[t("small",{staticClass:"col-5 offset-2"},[e._v(e._s(e.$t(" Remaining ")))]),t("small",{staticClass:"col-5"},[e._v(e._s(e.$t(" Total ")))])]),t("div",{staticClass:"row"},[e._m(1),t("duration-block",e._b({staticClass:"col-5 numbers",attrs:{id:"print-time-remaining"}},"duration-block",e.timeRemaining,!1)),t("duration-block",e._b({staticClass:"col-5 numbers",attrs:{id:"print-time-total"}},"duration-block",e.timeTotal,!1)),t("div",{staticClass:"col-12"},[t("div",{staticClass:"progress",staticStyle:{height:"2px"}},[t("div",{staticClass:"progress-bar",class:{"progress-bar-striped":e.progressPct<100,"progress-bar-animated":e.progressPct<100},style:`width: ${e.progressPct}%;`,attrs:{id:"print-progress",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}})])])],1)])]):e._e(),e.section_toggles.statusTemp&&e.tempProps.show?t("status-temp",e._b({attrs:{id:"status_temp_block"},on:{TempEditClicked:e.onTempEditClicked}},"status-temp",e.tempProps,!1)):e._e()],1)])],1)])},gr=[function(){var e=this,t=e._self._c;return t("small",[t("i",{staticClass:"fas fa-external-link-alt"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-2 text-muted"},[t("i",{staticClass:"fas fa-clock"})])}],vr=i("2769"),br=i.n(vr),yr=(i("d9e2"),i("d093"));_r.sessions={},_r.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var e=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),t=33;return window.navigator.userAgent.match("Linux")&&(t=35),e>=26&&e<=t||_r.extension.isInstalled()}return!0};var wr={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(e){var t=window.setTimeout((function(){var t=new Error("NavigatorUserMediaError");return t.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',e(t)}),1e3);this.cache[t]=e,window.postMessage({type:"janusGetScreen",id:t},"*")},init:function(){var e={};this.cache=e,window.addEventListener("message",(function(t){if(t.origin==window.location.origin)if("janusGotScreen"==t.data.type&&e[t.data.id]){var i=e[t.data.id];if(delete e[t.data.id],""===t.data.sourceId){var n=new Error("NavigatorUserMediaError");n.name="You cancelled the request for permission, giving up...",i(n)}else i(null,t.data.sourceId)}else"janusGetScreenPending"==t.data.type&&(console.log("clearing ",t.data.id),window.clearTimeout(t.data.id))}))}};function _r(e){if(e=e||{},e.success="function"==typeof e.success?e.success:_r.noop,e.error="function"==typeof e.error?e.error:_r.noop,e.wsopened="function"==typeof e.wsopened?e.wsopened:_r.noop,e.destroyed="function"==typeof e.destroyed?e.destroyed:_r.noop,!_r.initDone)return e.error("Library not initialized"),{};if(!_r.isWebrtcSupported())return e.error("WebRTC not supported by this browser"),{};if(_r.log("Library initialized: "+_r.initDone),!e.server)return e.error("Invalid server url"),{};var t=!1,i=null,n={},a=null,r=null,s=0,o=e.server;_r.isArray(o)?(_r.log("Multiple servers provided ("+o.length+"), will use the first that works"),o=null,r=e.server,_r.debug(r)):0===o.indexOf("ws")?(t=!0,_r.log("Using WebSockets to contact Janus: "+o)):(t=!1,_r.log("Using REST API to contact Janus: "+o));var l=e.iceServers||[{urls:"stun:stun.l.google.com:19302"}],c=e.iceTransportPolicy,d=e.bundlePolicy,u=!0===e.ipv6,p=!1;void 0!==e.withCredentials&&null!==e.withCredentials&&(p=!0===e.withCredentials);var h=10;void 0!==e.max_poll_events&&null!==e.max_poll_events&&(h=e.max_poll_events),h<1&&(h=1);var m=null;void 0!==e.token&&null!==e.token&&(m=e.token);var f=null;void 0!==e.apisecret&&null!==e.apisecret&&(f=e.apisecret),this.destroyOnUnload=!0,void 0!==e.destroyOnUnload&&null!==e.destroyOnUnload&&(this.destroyOnUnload=!0===e.destroyOnUnload);var g=25e3;void 0!==e.keepAlivePeriod&&null!==e.keepAlivePeriod&&(g=e.keepAlivePeriod),isNaN(g)&&(g=25e3);var v=6e4;function b(e){var t={high:9e5,medium:3e5,low:1e5};return void 0!==e&&null!==e&&(e.high&&(t.high=e.high),e.medium&&(t.medium=e.medium),e.low&&(t.low=e.low)),t}void 0!==e.longPollTimeout&&null!==e.longPollTimeout&&(v=e.longPollTimeout),isNaN(v)&&(v=6e4);var y=!1,w=null,_={},C=this,k=0,P={};function S(){if(null!=w)if(_r.debug("Long poll..."),y){var t=o+"/"+w+"?rid="+(new Date).getTime();h&&(t=t+"&maxev="+h),m&&(t=t+"&token="+encodeURIComponent(m)),f&&(t=t+"&apisecret="+encodeURIComponent(f)),_r.httpAPICall(t,{verb:"GET",withCredentials:p,success:D,timeout:v,error:function(t,i){if(_r.error(t+":",i),k++,k>3)return y=!1,void e.error("Lost connection to the server (is it down?)");S()}})}else _r.warn("Is the server down? (connected=false)")}function D(e,n){if(k=0,t||void 0===w||null===w||!0===n||S(),t||!_r.isArray(e)){if(!e.session_id||e.session_id===w)if("keepalive"!==e["janus"])if("server_info"!==e["janus"])if("ack"!==e["janus"])if("success"!==e["janus"])if("trickle"===e["janus"]){var a=e["sender"];if(!a)return void _r.warn("Missing sender...");var r=_[a];if(!r)return void _r.debug("This handle is not attached to this session");var s=e["candidate"];_r.debug("Got a trickled candidate on session "+w),_r.debug(s);var o=r.webrtcStuff;o.pc&&o.remoteSdp?(_r.debug("Adding remote candidate:",s),s&&!0!==s.completed?o.pc.addIceCandidate(s):o.pc.addIceCandidate(_r.endOfCandidates)):(_r.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),o.candidates||(o.candidates=[]),o.candidates.push(s),_r.debug(o.candidates))}else{if("webrtcup"===e["janus"]){_r.debug("Got a webrtcup event on session "+w),_r.debug(e);a=e["sender"];if(!a)return void _r.warn("Missing sender...");r=_[a];return r?void r.webrtcState(!0):void _r.debug("This handle is not attached to this session")}if("hangup"===e["janus"]){_r.debug("Got a hangup event on session "+w),_r.debug(e);a=e["sender"];if(!a)return void _r.warn("Missing sender...");r=_[a];if(!r)return void _r.debug("This handle is not attached to this session");r.webrtcState(!1,e["reason"]),r.hangup()}else if("detached"===e["janus"]){_r.debug("Got a detached event on session "+w),_r.debug(e);a=e["sender"];if(!a)return void _r.warn("Missing sender...");r=_[a];if(!r)return;r.detached=!0,r.ondetached(),r.detach()}else if("media"===e["janus"]){_r.debug("Got a media event on session "+w),_r.debug(e);a=e["sender"];if(!a)return void _r.warn("Missing sender...");r=_[a];if(!r)return void _r.debug("This handle is not attached to this session");r.mediaState(e["type"],e["receiving"])}else if("slowlink"===e["janus"]){_r.debug("Got a slowlink event on session "+w),_r.debug(e);a=e["sender"];if(!a)return void _r.warn("Missing sender...");r=_[a];if(!r)return void _r.debug("This handle is not attached to this session");r.slowLink(e["uplink"],e["lost"])}else{if("error"===e["janus"]){_r.error("Ooops: "+e["error"].code+" "+e["error"].reason),_r.debug(e);p=e["transaction"];if(p){h=P[p];h&&h(e),delete P[p]}return void(458===e.error.code&&t&&i.close(3505,"No such session"))}if("event"===e["janus"]){_r.debug("Got a plugin event on session "+w),_r.debug(e);a=e["sender"];if(!a)return void _r.warn("Missing sender...");var l=e["plugindata"];if(!l)return void _r.warn("Missing plugindata...");_r.debug("  -- Event is coming from "+a+" ("+l["plugin"]+")");var c=l["data"];_r.debug(c);r=_[a];if(!r)return void _r.warn("This handle is not attached to this session");var d=e["jsep"];d&&(_r.debug("Handling SDP as well..."),_r.debug(d));var u=r.onmessage;u?(_r.debug("Notifying application..."),u(c,d)):_r.debug("No provided notification callback")}else{if("timeout"===e["janus"])return _r.error("Timeout on session "+w),_r.debug(e),void(t&&i.close(3504,"Gateway timeout"));_r.warn("Unknown message/event  '"+e["janus"]+"' on session "+w),_r.debug(e)}}}else{_r.debug("Got a success on session "+w),_r.debug(e);p=e["transaction"];if(p){h=P[p];h&&h(e),delete P[p]}}else{_r.debug("Got an ack on session "+w),_r.debug(e);var p=e["transaction"];if(p){var h=P[p];h&&h(e),delete P[p]}}else{_r.debug("Got info on the Janus instance"),_r.debug(e);var p=e["transaction"];if(p){var h=P[p];h&&h(e),delete P[p]}}else _r.vdebug("Got a keepalive on session "+w)}else for(var m=0;m<e.length;m++)D(e[m],!0)}function x(){if(o&&t&&y){a=setTimeout(x,g);var e={janus:"keepalive",session_id:w,transaction:_r.randomString(12)};m&&(e["token"]=m),f&&(e["apisecret"]=f),i.send(JSON.stringify(e))}}function T(l){var c=_r.randomString(12),d={janus:"create",transaction:c};if(l["reconnect"]&&(y=!1,d["janus"]="claim",d["session_id"]=w,i&&(i.onopen=null,i.onerror=null,i.onclose=null,a&&(clearTimeout(a),a=null))),m&&(d["token"]=m),f&&(d["apisecret"]=f),!o&&_r.isArray(r)&&(o=r[s],0===o.indexOf("ws")?(t=!0,_r.log("Server #"+(s+1)+": trying WebSockets to contact Janus ("+o+")")):(t=!1,_r.log("Server #"+(s+1)+": trying REST API to contact Janus ("+o+")"))),t)for(var u in i=_r.newWebSocket(o,"janus-protocol"),n={error:function(){if(_r.error("Error connecting to the Janus WebSockets server... "+o),_r.isArray(r)&&!l["reconnect"])return s++,s===r.length?void l.error("Error connecting to any of the provided Janus servers: Is the server down?"):(o=null,void setTimeout((function(){T(l)}),200));l.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){l.wsopened(),P[c]=function(e){if(_r.debug(e),"success"!==e["janus"])return _r.error("Ooops: "+e["error"].code+" "+e["error"].reason),void l.error(e["error"].reason);a=setTimeout(x,g),y=!0,w=e["session_id"]?e["session_id"]:e.data["id"],l["reconnect"]?_r.log("Claimed session: "+w):_r.log("Created session: "+w),_r.sessions[w]=C,l.success()},i.send(JSON.stringify(d))},message:function(e){D(JSON.parse(e.data))},close:function(){o&&y&&(y=!1,e.error("Lost connection to the server (is it down?)"))}},n)i.addEventListener(u,n[u]);else _r.httpAPICall(o,{verb:"POST",withCredentials:p,body:d,success:function(e){if(_r.debug(e),"success"!==e["janus"])return _r.error("Ooops: "+e["error"].code+" "+e["error"].reason),void l.error(e["error"].reason);y=!0,w=e["session_id"]?e["session_id"]:e.data["id"],l["reconnect"]?_r.log("Claimed session: "+w):_r.log("Created session: "+w),_r.sessions[w]=C,S(),l.success()},error:function(e,t){if(_r.error(e+":",t),_r.isArray(r)&&!l["reconnect"])return s++,s===r.length?void l.error("Error connecting to any of the provided Janus servers: Is the server down?"):(o=null,void setTimeout((function(){T(l)}),200));""===t?l.error(e+": Is the server down?"):l.error(e+": "+t)}})}function F(e){if(e=e||{},e.success="function"==typeof e.success?e.success:_r.noop,e.error="function"==typeof e.error?e.error:_r.noop,_r.log("Getting info on Janus instance"),!y)return _r.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var n=_r.randomString(12),a={janus:"info",transaction:n};if(m&&(a["token"]=m),f&&(a["apisecret"]=f),t)return P[n]=function(t){_r.log("Server info:"),_r.debug(t),"server_info"!==t["janus"]&&_r.error("Ooops: "+t["error"].code+" "+t["error"].reason),e.success(t)},void i.send(JSON.stringify(a));_r.httpAPICall(o,{verb:"POST",withCredentials:p,body:a,success:function(t){_r.log("Server info:"),_r.debug(t),"server_info"!==t["janus"]&&_r.error("Ooops: "+t["error"].code+" "+t["error"].reason),e.success(t)},error:function(t,i){_r.error(t+":",i),""===i?e.error(t+": Is the server down?"):e.error(t+": "+i)}})}function I(r){r=r||{},r.success="function"==typeof r.success?r.success:_r.noop,r.error="function"==typeof r.error?r.error:_r.noop;var s=!0===r.unload,l=!0;void 0!==r.notifyDestroyed&&null!==r.notifyDestroyed&&(l=!0===r.notifyDestroyed);var c=!0===r.cleanupHandles;if(_r.log("Destroying session "+w+" (unload="+s+")"),!w)return _r.warn("No session to destroy"),r.success(),void(l&&e.destroyed());if(c)for(var d in _)E(d,{noRequest:!0});if(!y)return _r.warn("Is the server down? (connected=false)"),w=null,void r.success();var u={janus:"destroy",transaction:_r.randomString(12)};if(m&&(u["token"]=m),f&&(u["apisecret"]=f),s)return t?(i.onclose=null,i.close(),i=null):navigator.sendBeacon(o+"/"+w,JSON.stringify(u)),_r.log("Destroyed session:"),w=null,y=!1,r.success(),void(l&&e.destroyed());if(t){u["session_id"]=w;var h=function(){for(var e in n)i.removeEventListener(e,n[e]);i.removeEventListener("message",g),i.removeEventListener("error",v),a&&clearTimeout(a),i.close()},g=function(t){var i=JSON.parse(t.data);i.session_id==u.session_id&&i.transaction==u.transaction&&(h(),r.success(),l&&e.destroyed())},v=function(t){h(),r.error("Failed to destroy the server: Is the server down?"),l&&e.destroyed()};return i.addEventListener("message",g),i.addEventListener("error",v),void(1===i.readyState?i.send(JSON.stringify(u)):v())}_r.httpAPICall(o+"/"+w,{verb:"POST",withCredentials:p,body:u,success:function(t){_r.log("Destroyed session:"),_r.debug(t),w=null,y=!1,"success"!==t["janus"]&&_r.error("Ooops: "+t["error"].code+" "+t["error"].reason),r.success(),l&&e.destroyed()},error:function(t,i){_r.error(t+":",i),w=null,y=!1,r.success(),l&&e.destroyed()}})}function A(e){if(e=e||{},e.success="function"==typeof e.success?e.success:_r.noop,e.error="function"==typeof e.error?e.error:_r.noop,e.consentDialog="function"==typeof e.consentDialog?e.consentDialog:_r.noop,e.iceState="function"==typeof e.iceState?e.iceState:_r.noop,e.mediaState="function"==typeof e.mediaState?e.mediaState:_r.noop,e.webrtcState="function"==typeof e.webrtcState?e.webrtcState:_r.noop,e.slowLink="function"==typeof e.slowLink?e.slowLink:_r.noop,e.onmessage="function"==typeof e.onmessage?e.onmessage:_r.noop,e.onlocalstream="function"==typeof e.onlocalstream?e.onlocalstream:_r.noop,e.onremotestream="function"==typeof e.onremotestream?e.onremotestream:_r.noop,e.ondata="function"==typeof e.ondata?e.ondata:_r.noop,e.ondataopen="function"==typeof e.ondataopen?e.ondataopen:_r.noop,e.oncleanup="function"==typeof e.oncleanup?e.oncleanup:_r.noop,e.ondetached="function"==typeof e.ondetached?e.ondetached:_r.noop,!y)return _r.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var n=e.plugin;if(!n)return _r.error("Invalid plugin"),void e.error("Invalid plugin");var a=e.opaqueId,r=e.token?e.token:m,s=_r.randomString(12),l={janus:"attach",plugin:n,opaque_id:a,transaction:s};if(r&&(l["token"]=r),f&&(l["apisecret"]=f),t)return P[s]=function(t){if(_r.debug(t),"success"!==t["janus"])return _r.error("Ooops: "+t["error"].code+" "+t["error"].reason),void e.error("Ooops: "+t["error"].code+" "+t["error"].reason);var i=t.data["id"];_r.log("Created handle: "+i);var a={session:C,plugin:n,id:i,token:r,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return i},getPlugin:function(){return n},getVolume:function(){return H(i,!0)},getRemoteVolume:function(){return H(i,!0)},getLocalVolume:function(){return H(i,!1)},isAudioMuted:function(){return V(i,!1)},muteAudio:function(){return Y(i,!1,!0)},unmuteAudio:function(){return Y(i,!1,!1)},isVideoMuted:function(){return V(i,!0)},muteVideo:function(){return Y(i,!0,!0)},unmuteVideo:function(){return Y(i,!0,!1)},getBitrate:function(){return G(i)},send:function(e){$(i,e)},data:function(e){L(i,e)},dtmf:function(e){M(i,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){R(i,!0,e)},createAnswer:function(e){R(i,!1,e)},handleRemoteJsep:function(e){B(i,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ontrackmuted:e.ontrackmuted,ontrackunmuted:e.ontrackunmuted,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){K(i,!0===e)},detach:function(e){E(i,e)}};_[i]=a,e.success(a)},l["session_id"]=w,void i.send(JSON.stringify(l));_r.httpAPICall(o+"/"+w,{verb:"POST",withCredentials:p,body:l,success:function(t){if(_r.debug(t),"success"!==t["janus"])return _r.error("Ooops: "+t["error"].code+" "+t["error"].reason),void e.error("Ooops: "+t["error"].code+" "+t["error"].reason);var i=t.data["id"];_r.log("Created handle: "+i);var a={session:C,plugin:n,id:i,token:r,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return i},getPlugin:function(){return n},getVolume:function(){return H(i,!0)},getRemoteVolume:function(){return H(i,!0)},getLocalVolume:function(){return H(i,!1)},isAudioMuted:function(){return V(i,!1)},muteAudio:function(){return Y(i,!1,!0)},unmuteAudio:function(){return Y(i,!1,!1)},isVideoMuted:function(){return V(i,!0)},muteVideo:function(){return Y(i,!0,!0)},unmuteVideo:function(){return Y(i,!0,!1)},getBitrate:function(){return G(i)},send:function(e){$(i,e)},data:function(e){L(i,e)},dtmf:function(e){M(i,e)},consentDialog:e.consentDialog,iceState:e.iceState,mediaState:e.mediaState,webrtcState:e.webrtcState,slowLink:e.slowLink,onmessage:e.onmessage,createOffer:function(e){R(i,!0,e)},createAnswer:function(e){R(i,!1,e)},handleRemoteJsep:function(e){B(i,e)},onlocalstream:e.onlocalstream,onremotestream:e.onremotestream,ontrackmuted:e.ontrackmuted,ontrackunmuted:e.ontrackunmuted,ondata:e.ondata,ondataopen:e.ondataopen,oncleanup:e.oncleanup,ondetached:e.ondetached,hangup:function(e){K(i,!0===e)},detach:function(e){E(i,e)}};_[i]=a,e.success(a)},error:function(t,i){_r.error(t+":",i),""===i?e.error(t+": Is the server down?"):e.error(t+": "+i)}})}function $(e,n){if(n=n||{},n.success="function"==typeof n.success?n.success:_r.noop,n.error="function"==typeof n.error?n.error:_r.noop,!y)return _r.warn("Is the server down? (connected=false)"),void n.error("Is the server down? (connected=false)");var a=_[e];if(!a||!a.webrtcStuff)return _r.warn("Invalid handle"),void n.error("Invalid handle");var r=n.message,s=n.jsep,l=_r.randomString(12),c={janus:"message",body:r,transaction:l};if(a.token&&(c["token"]=a.token),f&&(c["apisecret"]=f),s&&(c.jsep={type:s.type,sdp:s.sdp},s.e2ee&&(c.jsep.e2ee=!0),"hml"!==s.rid_order&&"lmh"!==s.rid_order||(c.jsep.rid_order=s.rid_order)),_r.debug("Sending message to plugin (handle="+e+"):"),_r.debug(c),t)return c["session_id"]=w,c["handle_id"]=e,P[l]=function(e){if(_r.debug("Message sent!"),_r.debug(e),"success"===e["janus"]){var t=e["plugindata"];if(!t)return _r.warn("Request succeeded, but missing plugindata..."),void n.success();_r.log("Synchronous transaction successful ("+t["plugin"]+")");var i=t["data"];return _r.debug(i),void n.success(i)}"ack"===e["janus"]?n.success():e["error"]?(_r.error("Ooops: "+e["error"].code+" "+e["error"].reason),n.error(e["error"].code+" "+e["error"].reason)):(_r.error("Unknown error"),n.error("Unknown error"))},void i.send(JSON.stringify(c));_r.httpAPICall(o+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:c,success:function(e){if(_r.debug("Message sent!"),_r.debug(e),"success"===e["janus"]){var t=e["plugindata"];if(!t)return _r.warn("Request succeeded, but missing plugindata..."),void n.success();_r.log("Synchronous transaction successful ("+t["plugin"]+")");var i=t["data"];return _r.debug(i),void n.success(i)}"ack"===e["janus"]?n.success():e["error"]?(_r.error("Ooops: "+e["error"].code+" "+e["error"].reason),n.error(e["error"].code+" "+e["error"].reason)):(_r.error("Unknown error"),n.error("Unknown error"))},error:function(e,t){_r.error(e+":",t),n.error(e+": "+t)}})}function O(e,n){if(y){var a=_[e];if(a&&a.webrtcStuff){var r={janus:"trickle",candidate:n,transaction:_r.randomString(12)};if(a.token&&(r["token"]=a.token),f&&(r["apisecret"]=f),_r.vdebug("Sending trickle candidate (handle="+e+"):"),_r.vdebug(r),t)return r["session_id"]=w,r["handle_id"]=e,void i.send(JSON.stringify(r));_r.httpAPICall(o+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:r,success:function(e){_r.vdebug("Candidate sent!"),_r.vdebug(e),"ack"===e["janus"]||_r.error("Ooops: "+e["error"].code+" "+e["error"].reason)},error:function(e,t){_r.error(e+":",t)}})}else _r.warn("Invalid handle")}else _r.warn("Is the server down? (connected=false)")}function N(e,t,i,n,a){var r=_[e];if(r&&r.webrtcStuff){var s=r.webrtcStuff;if(s.pc){var o=function(e){var t=e.target.label;r.ondata(e.data,t)},l=function(e){_r.log("Received state change on data channel:",e);var t=e.target.label,i=e.target.protocol,n=s.dataChannel[t]?s.dataChannel[t].readyState:"null";if(_r.log("State change on <"+t+"> data channel: "+n),"open"===n){if(s.dataChannel[t].pending&&s.dataChannel[t].pending.length>0){for(var a of(_r.log("Sending pending messages on <"+t+">:",s.dataChannel[t].pending.length),s.dataChannel[t].pending))_r.log("Sending data on data channel <"+t+">"),_r.debug(a),s.dataChannel[t].send(a);s.dataChannel[t].pending=[]}r.ondataopen(t,i)}},c=function(e){_r.error("Got error on data channel:",e)};if(n)s.dataChannel[t]=n;else{var d={ordered:!0};i&&(d.protocol=i),s.dataChannel[t]=s.pc.createDataChannel(t,d)}s.dataChannel[t].onmessage=o,s.dataChannel[t].onopen=l,s.dataChannel[t].onclose=l,s.dataChannel[t].onerror=c,s.dataChannel[t].pending=[],a&&s.dataChannel[t].pending.push(a)}else _r.warn("Invalid PeerConnection")}else _r.warn("Invalid handle")}function L(e,t){t=t||{},t.success="function"==typeof t.success?t.success:_r.noop,t.error="function"==typeof t.error?t.error:_r.noop;var i=_[e];if(!i||!i.webrtcStuff)return _r.warn("Invalid handle"),void t.error("Invalid handle");var n=i.webrtcStuff,a=t.text||t.data;if(!a)return _r.warn("Invalid data"),void t.error("Invalid data");var r=t.label?t.label:_r.dataChanDefaultLabel;return n.dataChannel[r]?"open"!==n.dataChannel[r].readyState?(n.dataChannel[r].pending.push(a),void t.success()):(_r.log("Sending data on data channel <"+r+">"),_r.debug(a),n.dataChannel[r].send(a),void t.success()):(N(e,r,t.protocol,!1,a,t.protocol),void t.success())}function M(e,t){t=t||{},t.success="function"==typeof t.success?t.success:_r.noop,t.error="function"==typeof t.error?t.error:_r.noop;var i=_[e];if(!i||!i.webrtcStuff)return _r.warn("Invalid handle"),void t.error("Invalid handle");var n=i.webrtcStuff;if(!n.dtmfSender){if(n.pc){var a=n.pc.getSenders(),r=a.find((function(e){return e.track&&"audio"===e.track.kind}));if(!r)return _r.warn("Invalid DTMF configuration (no audio track)"),void t.error("Invalid DTMF configuration (no audio track)");n.dtmfSender=r.dtmf,n.dtmfSender&&(_r.log("Created DTMF Sender"),n.dtmfSender.ontonechange=function(e){_r.debug("Sent DTMF tone: "+e.tone)})}if(!n.dtmfSender)return _r.warn("Invalid DTMF configuration"),void t.error("Invalid DTMF configuration")}var s=t.dtmf;if(!s)return _r.warn("Invalid DTMF parameters"),void t.error("Invalid DTMF parameters");var o=s.tones;if(!o)return _r.warn("Invalid DTMF string"),void t.error("Invalid DTMF string");var l="number"===typeof s.duration?s.duration:500,c="number"===typeof s.gap?s.gap:50;_r.debug("Sending DTMF string "+o+" (duration "+l+"ms, gap "+c+"ms)"),n.dtmfSender.insertDTMF(o,l,c),t.success()}function E(e,n){n=n||{},n.success="function"==typeof n.success?n.success:_r.noop,n.error="function"==typeof n.error?n.error:_r.noop;var a=!0===n.noRequest;_r.log("Destroying handle "+e+" (only-locally="+a+")"),K(e);var r=_[e];if(!r||r.detached)return delete _[e],void n.success();if(r.detached=!0,a)return delete _[e],void n.success();if(!y)return _r.warn("Is the server down? (connected=false)"),void n.error("Is the server down? (connected=false)");var s={janus:"detach",transaction:_r.randomString(12)};if(r.token&&(s["token"]=r.token),f&&(s["apisecret"]=f),t)return s["session_id"]=w,s["handle_id"]=e,i.send(JSON.stringify(s)),delete _[e],void n.success();_r.httpAPICall(o+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:s,success:function(t){_r.log("Destroyed handle:"),_r.debug(t),"success"!==t["janus"]&&_r.error("Ooops: "+t["error"].code+" "+t["error"].reason),delete _[e],n.success()},error:function(t,i){_r.error(t+":",i),delete _[e],n.success()}})}function z(e,t,i,n,a){var r=_[e];if(!r||!r.webrtcStuff)return _r.warn("Invalid handle"),n.stream||_r.stopAllTracks(a),void n.error("Invalid handle");var s=r.webrtcStuff;_r.debug("streamsDone:",a),a&&(_r.debug("  -- Audio tracks:",a.getAudioTracks()),_r.debug("  -- Video tracks:",a.getVideoTracks()));var o=!1;if(s.myStream&&i.update&&(!s.streamExternal||i.replaceAudio||i.replaceVideo)){if((!i.update&&Z(i)||i.update&&(i.addAudio||i.replaceAudio))&&a.getAudioTracks()&&a.getAudioTracks().length)if(s.myStream.addTrack(a.getAudioTracks()[0]),_r.unifiedPlan){_r.log((i.replaceAudio?"Replacing":"Adding")+" audio track:",a.getAudioTracks()[0]);var p=null,h=s.pc.getTransceivers();if(h&&h.length>0)for(var m of h)if(m.sender&&m.sender.track&&"audio"===m.sender.track.kind||m.receiver&&m.receiver.track&&"audio"===m.receiver.track.kind){p=m;break}p&&p.sender?p.sender.replaceTrack(a.getAudioTracks()[0]):s.pc.addTrack(a.getAudioTracks()[0],a)}else _r.log((i.replaceAudio?"Replacing":"Adding")+" audio track:",a.getAudioTracks()[0]),s.pc.addTrack(a.getAudioTracks()[0],a);if((!i.update&&ee(i)||i.update&&(i.addVideo||i.replaceVideo))&&a.getVideoTracks()&&a.getVideoTracks().length)if(s.myStream.addTrack(a.getVideoTracks()[0]),_r.unifiedPlan){_r.log((i.replaceVideo?"Replacing":"Adding")+" video track:",a.getVideoTracks()[0]);var f=null;h=s.pc.getTransceivers();if(h&&h.length>0)for(var m of h)if(m.sender&&m.sender.track&&"video"===m.sender.track.kind||m.receiver&&m.receiver.track&&"video"===m.receiver.track.kind){f=m;break}f&&f.sender?f.sender.replaceTrack(a.getVideoTracks()[0]):s.pc.addTrack(a.getVideoTracks()[0],a)}else _r.log((i.replaceVideo?"Replacing":"Adding")+" video track:",a.getVideoTracks()[0]),s.pc.addTrack(a.getVideoTracks()[0],a)}else s.myStream=a,o=!0;if(!s.pc){var g={iceServers:l,iceTransportPolicy:c,bundlePolicy:d};"chrome"===_r.webRTCAdapter.browserDetails.browser&&(g["sdpSemantics"]=_r.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var v={optional:[{DtlsSrtpKeyAgreement:!0}]};if(u&&v.optional.push({googIPv6:!0}),n.rtcConstraints&&"object"===typeof n.rtcConstraints)for(var y in _r.debug("Adding custom PeerConnection constraints:",n.rtcConstraints),n.rtcConstraints)v.optional.push(n.rtcConstraints[y]);"edge"===_r.webRTCAdapter.browserDetails.browser&&(g.bundlePolicy="max-bundle"),RTCRtpSender&&(RTCRtpSender.prototype.createEncodedStreams||RTCRtpSender.prototype.createEncodedAudioStreams&&RTCRtpSender.prototype.createEncodedVideoStreams)&&(n.senderTransforms||n.receiverTransforms)&&(s.senderTransforms=n.senderTransforms,s.receiverTransforms=n.receiverTransforms,g["forceEncodedAudioInsertableStreams"]=!0,g["forceEncodedVideoInsertableStreams"]=!0,g["encodedInsertableStreams"]=!0),_r.log("Creating PeerConnection"),_r.debug(v),s.pc=new RTCPeerConnection(g,v),_r.debug(s.pc),s.pc.getStats&&(s.volume={}),_r.log("Preparing local SDP and gathering candidates (trickle="+s.trickle+")"),s.pc.oniceconnectionstatechange=function(e){s.pc&&r.iceState(s.pc.iceConnectionState)},s.pc.onicecandidate=function(t){if(!t.candidate||"edge"===_r.webRTCAdapter.browserDetails.browser&&t.candidate.candidate.indexOf("endOfCandidates")>0)_r.log("End of candidates."),s.iceDone=!0,!0===s.trickle?O(e,{completed:!0}):W(e,n);else{var i={candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex};!0===s.trickle&&O(e,i)}},s.pc.ontrack=function(e){if(_r.log("Handling Remote Track"),_r.debug(e),e.streams&&(s.remoteStream=e.streams[0],r.onremotestream(s.remoteStream),!e.track.onended)){if(s.receiverTransforms){var t=null;RTCRtpSender.prototype.createEncodedStreams?t=e.receiver.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===e.track.kind&&s.receiverTransforms["audio"]?t=e.receiver.createEncodedAudioStreams():"video"===e.track.kind&&s.receiverTransforms["video"]&&(t=e.receiver.createEncodedVideoStreams())),t&&(console.log(t),t.readableStream&&t.writableStream?t.readableStream.pipeThrough(s.receiverTransforms[e.track.kind]).pipeTo(t.writableStream):t.readable&&t.writable&&t.readable.pipeThrough(s.receiverTransforms[e.track.kind]).pipeTo(t.writable))}var i=null;_r.log("Adding onended callback to track:",e.track),e.track.onended=function(e){_r.log("Remote track removed:",e),s.remoteStream&&(clearTimeout(i),s.remoteStream.removeTrack(e.target),r.onremotestream(s.remoteStream))},e.track.onmute=function(e){_r.log("Remote track muted:",e),s.remoteStream&&null==i&&(i=setTimeout((function(){_r.log("Removing remote track"),s.remoteStream&&(s.remoteStream.removeTrack(e.target),r.onremotestream(s.remoteStream),r.ontrackmuted()),i=null}),2520))},e.track.onunmute=function(e){if(_r.log("Remote track flowing again:",e),null!=i)clearTimeout(i),i=null;else try{s.remoteStream.addTrack(e.target),r.onremotestream(s.remoteStream),r.ontrackunmuted()}catch(t){_r.error(t)}}}}}if(o&&a){_r.log("Adding local stream");var w=!0===n.simulcast2;a.getTracks().forEach((function(e){_r.log("Adding local track:",e);var t=null;if(w&&"audio"!==e.kind){_r.log("Enabling rid-based simulcasting:",e);var i=b(n.simulcastMaxBitrates),r=s.pc.addTransceiver(e,{direction:"sendrecv",streams:[a],sendEncodings:n.sendEncodings||[{rid:"h",active:!0,maxBitrate:i.high},{rid:"m",active:!0,maxBitrate:i.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:i.low,scaleResolutionDownBy:4}]});r&&(t=r.sender)}else t=s.pc.addTrack(e,a);if(t&&s.senderTransforms){var o=null;RTCRtpSender.prototype.createEncodedStreams?o=t.createEncodedStreams():(RTCRtpSender.prototype.createAudioEncodedStreams||RTCRtpSender.prototype.createEncodedVideoStreams)&&("audio"===t.track.kind&&s.senderTransforms["audio"]?o=t.createEncodedAudioStreams():"video"===t.track.kind&&s.senderTransforms["video"]&&(o=t.createEncodedVideoStreams())),o&&(console.log(o),o.readableStream&&o.writableStream?o.readableStream.pipeThrough(s.senderTransforms[t.track.kind]).pipeTo(o.writableStream):o.readable&&o.writable&&o.readable.pipeThrough(s.senderTransforms[t.track.kind]).pipeTo(o.writable))}}))}if(ae(i)&&!s.dataChannel[_r.dataChanDefaultLabel]&&(_r.log("Creating default data channel"),N(e,_r.dataChanDefaultLabel,null,!1),s.pc.ondatachannel=function(t){_r.log("Data channel created by Janus:",t),N(e,t.channel.label,t.channel.protocol,t.channel)}),s.myStream&&r.onlocalstream(s.myStream),t){var C=t["sdp"],k=/420029/gi,P=C.replace(k,"42e01f");_r.log(P),t["sdp"]=P,s.pc.setRemoteDescription(t).then((function(){if(_r.log("Remote description accepted!"),s.remoteSdp=t.sdp,s.candidates&&s.candidates.length>0){for(var a=0;a<s.candidates.length;a++){var r=s.candidates[a];_r.debug("Adding remote candidate:",r),r&&!0!==r.completed?s.pc.addIceCandidate(r):s.pc.addIceCandidate(_r.endOfCandidates)}s.candidates=[]}j(e,i,n)}),n.error)}else U(e,i,n)}function R(e,t,i){i=i||{},i.success="function"==typeof i.success?i.success:_r.noop,i.error="function"==typeof i.error?i.error:q;var n=i.jsep;if(t&&n)return _r.error("Provided a JSEP to a createOffer"),void i.error("Provided a JSEP to a createOffer");if(!t&&(!n||!n.type||!n.sdp))return _r.error("A valid JSEP is required for createAnswer"),void i.error("A valid JSEP is required for createAnswer");i.media="object"===typeof i.media&&i.media?i.media:{audio:!0,video:!0};var a=i.media,r=_[e];if(!r||!r.webrtcStuff)return _r.warn("Invalid handle"),void i.error("Invalid handle");var s=r.webrtcStuff;if(s.trickle=re(i.trickle),s.pc){if(_r.log("Updating existing media session"),a.update=!0,i.stream)i.stream!==s.myStream&&_r.log("Renegotiation involves a new external stream");else{if(a.addAudio){if(a.keepAudio=!1,a.replaceAudio=!1,a.removeAudio=!1,a.audioSend=!0,s.myStream&&s.myStream.getAudioTracks()&&s.myStream.getAudioTracks().length)return _r.error("Can't add audio stream, there already is one"),void i.error("Can't add audio stream, there already is one")}else a.removeAudio?(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!1,a.audioSend=!1):a.replaceAudio&&(a.keepAudio=!1,a.addAudio=!1,a.removeAudio=!1,a.audioSend=!0);if(s.myStream&&s.myStream.getAudioTracks()&&0!==s.myStream.getAudioTracks().length?!Z(a)||a.removeAudio||a.replaceAudio||(a.keepAudio=!0):(a.replaceAudio&&(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!0,a.audioSend=!0),Z(a)&&(a.keepAudio=!1,a.addAudio=!0)),a.addVideo){if(a.keepVideo=!1,a.replaceVideo=!1,a.removeVideo=!1,a.videoSend=!0,s.myStream&&s.myStream.getVideoTracks()&&s.myStream.getVideoTracks().length)return _r.error("Can't add video stream, there already is one"),void i.error("Can't add video stream, there already is one")}else a.removeVideo?(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!1,a.videoSend=!1):a.replaceVideo&&(a.keepVideo=!1,a.addVideo=!1,a.removeVideo=!1,a.videoSend=!0);s.myStream&&s.myStream.getVideoTracks()&&0!==s.myStream.getVideoTracks().length?!ee(a)||a.removeVideo||a.replaceVideo||(a.keepVideo=!0):(a.replaceVideo&&(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!0,a.videoSend=!0),ee(a)&&(a.keepVideo=!1,a.addVideo=!0)),a.addData&&(a.data=!0)}if(Z(a)&&a.keepAudio&&ee(a)&&a.keepVideo)return r.consentDialog(!1),void z(e,n,a,i,s.myStream)}else a.update=!1,a.keepAudio=!1,a.keepVideo=!1;if(a.update&&(!s.streamExternal||s.streamExternal&&(a.replaceAudio||a.replaceVideo))){if(a.removeAudio||a.replaceAudio){if(s.myStream&&s.myStream.getAudioTracks()&&s.myStream.getAudioTracks().length){var o=s.myStream.getAudioTracks()[0];_r.log("Removing audio track:",o),s.myStream.removeTrack(o);try{o.stop()}catch(x){}}if(s.pc.getSenders()&&s.pc.getSenders().length){var l=!0;if(a.replaceAudio&&_r.unifiedPlan&&(l=!1),l)for(var c of s.pc.getSenders())c&&c.track&&"audio"===c.track.kind&&(_r.log("Removing audio sender:",c),s.pc.removeTrack(c))}}if(a.removeVideo||a.replaceVideo){if(s.myStream&&s.myStream.getVideoTracks()&&s.myStream.getVideoTracks().length){var d=s.myStream.getVideoTracks()[0];_r.log("Removing video track:",d),s.myStream.removeTrack(d);try{d.stop()}catch(x){}}if(s.pc.getSenders()&&s.pc.getSenders().length){var u=!0;if(a.replaceVideo&&_r.unifiedPlan&&(u=!1),u)for(var p of s.pc.getSenders())p&&p.track&&"video"===p.track.kind&&(_r.log("Removing video sender:",p),s.pc.removeTrack(p))}}}if(i.stream){var h=i.stream;return _r.log("MediaStream provided by the application"),_r.debug(h),!a.update||!s.myStream||s.myStream===i.stream||s.streamExternal||a.replaceAudio||a.replaceVideo||(_r.stopAllTracks(s.myStream),s.myStream=null),s.streamExternal=!0,r.consentDialog(!1),void z(e,n,a,i,h)}if(Z(a)||ee(a)){if(!_r.isGetUserMediaAvailable())return void i.error("getUserMedia not available");var m={mandatory:{},optional:[]};r.consentDialog(!0);var f=Z(a);f&&a&&"object"===typeof a.audio&&(f=a.audio);var g=ee(a);if(g&&a){var v=!0===i.simulcast,b=!0===i.simulcast2;if(!v&&!b||n||a.video||(a.video="hires"),a.video&&"screen"!=a.video&&"window"!=a.video)if("object"===typeof a.video)g=a.video;else{var y=0,w=0;"lowres"===a.video?(w=240,240,y=320):"lowres-16:9"===a.video?(w=180,180,y=320):"hires"===a.video||"hires-16:9"===a.video||"hdres"===a.video?(w=720,720,y=1280):"fhdres"===a.video?(w=1080,1080,y=1920):"4kres"===a.video?(w=2160,2160,y=3840):"stdres"===a.video?(w=480,480,y=640):"stdres-16:9"===a.video?(w=360,360,y=640):(_r.log("Default video setting is stdres 4:3"),w=480,480,y=640),_r.log("Adding media constraint:",a.video),g={height:{ideal:w},width:{ideal:y}},_r.log("Adding video constraint:",g)}else if("screen"===a.video||"window"===a.video){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return m.video={},a.screenshareFrameRate&&(m.video.frameRate=a.screenshareFrameRate),a.screenshareHeight&&(m.video.height=a.screenshareHeight),a.screenshareWidth&&(m.video.width=a.screenshareWidth),m.audio=a.captureDesktopAudio,void navigator.mediaDevices.getDisplayMedia(m).then((function(t){r.consentDialog(!1),Z(a)&&!a.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(r){t.addTrack(r.getAudioTracks()[0]),z(e,n,a,i,t)})):z(e,n,a,i,t)}),(function(e){r.consentDialog(!1),i.error(e)}));function C(t,s){r.consentDialog(!1),t?i.error(t):z(e,n,a,i,s)}function k(e,t,i){_r.log("Adding media constraint (screen capture)"),_r.debug(e),navigator.mediaDevices.getUserMedia(e).then((function(e){i?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(i){e.addTrack(i.getAudioTracks()[0]),t(null,e)})):t(null,e)})).catch((function(e){r.consentDialog(!1),t(e)}))}if("chrome"===_r.webRTCAdapter.browserDetails.browser){var P=_r.webRTCAdapter.browserDetails.version,S=33;window.navigator.userAgent.match("Linux")&&(S=35),P>=26&&P<=S?(m={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate,chromeMediaSource:"screen"}},audio:Z(a)&&!a.keepAudio},k(m,C)):_r.extension.getScreen((function(e,t){if(e)return r.consentDialog(!1),i.error(e);m={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}},m.video.mandatory.chromeMediaSourceId=t,k(m,C,Z(a)&&!a.keepAudio)}))}else if("firefox"===_r.webRTCAdapter.browserDetails.browser){if(!(_r.webRTCAdapter.browserDetails.version>=33)){var D=new Error("NavigatorUserMediaError");return D.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",r.consentDialog(!1),void i.error(D)}m={video:{mozMediaSource:a.video,mediaSource:a.video},audio:Z(a)&&!a.keepAudio},k(m,(function(e,t){if(C(e,t),!e)var i=t.currentTime,n=window.setInterval((function(){t||window.clearInterval(n),t.currentTime==i&&(window.clearInterval(n),t.onended&&t.onended()),i=t.currentTime}),500)}))}return}}a&&"screen"===a.video||navigator.mediaDevices.enumerateDevices().then((function(t){var s=t.some((function(e){return"audioinput"===e.kind})),o=ne(a)||t.some((function(e){return"videoinput"===e.kind})),l=Z(a),c=ee(a),d=Q(a),u=te(a);if(l||c||d||u){var p=!!l&&s,m=!!c&&o;if(!p&&!m)return r.consentDialog(!1),i.error("No capture device found"),!1;if(!p&&d)return r.consentDialog(!1),i.error("Audio capture is required, but no capture device found"),!1;if(!m&&u)return r.consentDialog(!1),i.error("Video capture is required, but no capture device found"),!1}var v={audio:!(!s||a.keepAudio)&&f,video:!(!o||a.keepVideo)&&g};_r.debug("getUserMedia constraints",v),v.audio||v.video?navigator.mediaDevices.getUserMedia(v).then((function(t){r.consentDialog(!1),z(e,n,a,i,t)})).catch((function(e){r.consentDialog(!1),i.error({code:e.code,name:e.name,message:e.message})})):(r.consentDialog(!1),z(e,n,a,i,h))})).catch((function(e){r.consentDialog(!1),i.error(e)}))}else z(e,n,a,i)}function B(e,t){t=t||{},t.success="function"==typeof t.success?t.success:_r.noop,t.error="function"==typeof t.error?t.error:q,t.customizeSdp="function"==typeof t.customizeSdp?t.customizeSdp:_r.noop;var i=t.jsep,n=_[e];if(!n||!n.webrtcStuff)return _r.warn("Invalid handle"),void t.error("Invalid handle");var a=n.webrtcStuff;if(i){if(!a.pc)return _r.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void t.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");t.customizeSdp(i),a.pc.setRemoteDescription(i).then((function(){if(_r.log("Remote description accepted!"),a.remoteSdp=i.sdp,a.candidates&&a.candidates.length>0){for(var e=0;e<a.candidates.length;e++){var n=a.candidates[e];_r.debug("Adding remote candidate:",n),n&&!0!==n.completed?a.pc.addIceCandidate(n):a.pc.addIceCandidate(_r.endOfCandidates)}a.candidates=[]}t.success()}),t.error)}else t.error("Invalid JSEP")}function U(e,t,i){i=i||{},i.success="function"==typeof i.success?i.success:_r.noop,i.error="function"==typeof i.error?i.error:_r.noop,i.customizeSdp="function"==typeof i.customizeSdp?i.customizeSdp:_r.noop;var n=_[e];if(!n||!n.webrtcStuff)return _r.warn("Invalid handle"),void i.error("Invalid handle");var a=n.webrtcStuff,r=!0===i.simulcast;r?_r.log("Creating offer (iceDone="+a.iceDone+", simulcast="+r+")"):_r.log("Creating offer (iceDone="+a.iceDone+")");var s={};if(_r.unifiedPlan){var o=null,l=null,c=a.pc.getTransceivers();if(c&&c.length>0)for(var d of c)d.sender&&d.sender.track&&"audio"===d.sender.track.kind||d.receiver&&d.receiver.track&&"audio"===d.receiver.track.kind?o||(o=d):(d.sender&&d.sender.track&&"video"===d.sender.track.kind||d.receiver&&d.receiver.track&&"video"===d.receiver.track.kind)&&(l||(l=d));var u=Z(t),p=X(t);u||p?u&&p?o&&(o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",_r.log("Setting audio transceiver to sendrecv:",o)):u&&!p?o&&(o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",_r.log("Setting audio transceiver to sendonly:",o)):!u&&p&&(o?(o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",_r.log("Setting audio transceiver to recvonly:",o)):(o=a.pc.addTransceiver("audio",{direction:"recvonly"}),_r.log("Adding recvonly audio transceiver:",o))):t.removeAudio&&o&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive",_r.log("Setting audio transceiver to inactive:",o));var h=ee(t),m=ie(t);h||m?h&&m?l&&(l.setDirection?l.setDirection("sendrecv"):l.direction="sendrecv",_r.log("Setting video transceiver to sendrecv:",l)):h&&!m?l&&(l.setDirection?l.setDirection("sendonly"):l.direction="sendonly",_r.log("Setting video transceiver to sendonly:",l)):!h&&m&&(l?(l.setDirection?l.setDirection("recvonly"):l.direction="recvonly",_r.log("Setting video transceiver to recvonly:",l)):(l=a.pc.addTransceiver("video",{direction:"recvonly"}),_r.log("Adding recvonly video transceiver:",l))):t.removeVideo&&l&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive",_r.log("Setting video transceiver to inactive:",l))}else s["offerToReceiveAudio"]=X(t),s["offerToReceiveVideo"]=ie(t);var f=!0===i.iceRestart;f&&(s["iceRestart"]=!0),_r.debug(s);var g=ee(t);if(g&&r&&"firefox"===_r.webRTCAdapter.browserDetails.browser){_r.log("Enabling Simulcasting for Firefox (RID)");var v=a.pc.getSenders().find((function(e){return e.track&&"video"===e.track.kind}));if(v){var y=v.getParameters();y||(y={});var w=b(i.simulcastMaxBitrates);y.encodings=i.sendEncodings||[{rid:"h",active:!0,maxBitrate:w.high},{rid:"m",active:!0,maxBitrate:w.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:w.low,scaleResolutionDownBy:4}],v.setParameters(y)}}a.pc.createOffer(s).then((function(e){_r.debug(e);var t={type:e.type,sdp:e.sdp};i.customizeSdp(t),e.sdp=t.sdp,_r.log("Setting local description"),g&&r&&("chrome"===_r.webRTCAdapter.browserDetails.browser||"safari"===_r.webRTCAdapter.browserDetails.browser?(_r.log("Enabling Simulcasting for Chrome (SDP munging)"),e.sdp=J(e.sdp)):"firefox"!==_r.webRTCAdapter.browserDetails.browser&&_r.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),a.mySdp={type:"offer",sdp:e.sdp},a.pc.setLocalDescription(e).catch(i.error),a.mediaConstraints=s,a.iceDone||a.trickle?((a.senderTransforms||a.receiverTransforms)&&(e["e2ee"]=!0),i.success(e)):_r.log("Waiting for all candidates...")}),i.error)}function j(e,t,i){i=i||{},i.success="function"==typeof i.success?i.success:_r.noop,i.error="function"==typeof i.error?i.error:_r.noop,i.customizeSdp="function"==typeof i.customizeSdp?i.customizeSdp:_r.noop;var n=_[e];if(!n||!n.webrtcStuff)return _r.warn("Invalid handle"),void i.error("Invalid handle");var a=n.webrtcStuff,r=!0===i.simulcast;r?_r.log("Creating answer (iceDone="+a.iceDone+", simulcast="+r+")"):_r.log("Creating answer (iceDone="+a.iceDone+")");var s=null;if(_r.unifiedPlan){s={};var o=null,l=null,c=a.pc.getTransceivers();if(c&&c.length>0)for(var d of c)d.sender&&d.sender.track&&"audio"===d.sender.track.kind||d.receiver&&d.receiver.track&&"audio"===d.receiver.track.kind?o||(o=d):(d.sender&&d.sender.track&&"video"===d.sender.track.kind||d.receiver&&d.receiver.track&&"video"===d.receiver.track.kind)&&(l||(l=d));var u=Z(t),p=X(t);if(u||p){if(u&&p){if(o)try{o.setDirection?o.setDirection("sendrecv"):o.direction="sendrecv",_r.log("Setting audio transceiver to sendrecv:",o)}catch(w){_r.error(w)}}else if(u&&!p)try{o&&(o.setDirection?o.setDirection("sendonly"):o.direction="sendonly",_r.log("Setting audio transceiver to sendonly:",o))}catch(w){_r.error(w)}else if(!u&&p)if(o)try{o.setDirection?o.setDirection("recvonly"):o.direction="recvonly",_r.log("Setting audio transceiver to recvonly:",o)}catch(w){_r.error(w)}else o=a.pc.addTransceiver("audio",{direction:"recvonly"}),_r.log("Adding recvonly audio transceiver:",o)}else if(t.removeAudio&&o)try{o.setDirection?o.setDirection("inactive"):o.direction="inactive",_r.log("Setting audio transceiver to inactive:",o)}catch(w){_r.error(w)}var h=ee(t),m=ie(t);if(h||m){if(h&&m){if(l)try{l.setDirection?l.setDirection("sendrecv"):l.direction="sendrecv",_r.log("Setting video transceiver to sendrecv:",l)}catch(w){_r.error(w)}}else if(h&&!m){if(l)try{l.setDirection?l.setDirection("sendonly"):l.direction="sendonly",_r.log("Setting video transceiver to sendonly:",l)}catch(w){_r.error(w)}}else if(!h&&m)if(l)try{l.setDirection?l.setDirection("recvonly"):l.direction="recvonly",_r.log("Setting video transceiver to recvonly:",l)}catch(w){_r.error(w)}else l=a.pc.addTransceiver("video",{direction:"recvonly"}),_r.log("Adding recvonly video transceiver:",l)}else if(t.removeVideo&&l)try{l.setDirection?l.setDirection("inactive"):l.direction="inactive",_r.log("Setting video transceiver to inactive:",l)}catch(w){_r.error(w)}}else s="firefox"===_r.webRTCAdapter.browserDetails.browser||"edge"===_r.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:X(t),offerToReceiveVideo:ie(t)}:{mandatory:{OfferToReceiveAudio:X(t),OfferToReceiveVideo:ie(t)}};_r.debug(s);var f=ee(t);if(f&&r&&"firefox"===_r.webRTCAdapter.browserDetails.browser){_r.log("Enabling Simulcasting for Firefox (RID)");var g=a.pc.getSenders()[1];_r.log(g);var v=g.getParameters();_r.log(v);var y=b(i.simulcastMaxBitrates);g.setParameters({encodings:i.sendEncodings||[{rid:"h",active:!0,maxBitrate:y.high},{rid:"m",active:!0,maxBitrate:y.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:y.low,scaleResolutionDownBy:4}]})}a.pc.createAnswer(s).then((function(e){_r.debug(e);var t={type:e.type,sdp:e.sdp};i.customizeSdp(t),e.sdp=t.sdp,_r.log("Setting local description"),f&&r&&("chrome"===_r.webRTCAdapter.browserDetails.browser?_r.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==_r.webRTCAdapter.browserDetails.browser&&_r.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),a.mySdp={type:"answer",sdp:e.sdp},a.pc.setLocalDescription(e).catch(i.error),a.mediaConstraints=s,a.iceDone||a.trickle?((a.senderTransforms||a.receiverTransforms)&&(e["e2ee"]=!0),i.success(e)):_r.log("Waiting for all candidates...")}),i.error)}function W(e,t){t=t||{},t.success="function"==typeof t.success?t.success:_r.noop,t.error="function"==typeof t.error?t.error:_r.noop;var i=_[e];if(i&&i.webrtcStuff){var n=i.webrtcStuff;_r.log("Sending offer/answer SDP..."),n.mySdp?(n.mySdp={type:n.pc.localDescription.type,sdp:n.pc.localDescription.sdp},!1===n.trickle&&(n.mySdp["trickle"]=!1),_r.debug(t),n.sdpSent=!0,t.success(n.mySdp)):_r.warn("Local SDP instance is invalid, not sending anything...")}else _r.warn("Invalid handle, not sending anything")}function H(e,t){var i=_[e];if(!i||!i.webrtcStuff)return _r.warn("Invalid handle"),0;var n=t?"remote":"local",a=i.webrtcStuff;return a.volume[n]||(a.volume[n]={value:0}),!a.pc.getStats||"chrome"!==_r.webRTCAdapter.browserDetails.browser&&"safari"!==_r.webRTCAdapter.browserDetails.browser?(_r.warn("Getting the "+n+" volume unsupported by browser"),0):t&&!a.remoteStream?(_r.warn("Remote stream unavailable"),0):t||a.myStream?a.volume[n].timer?a.volume[n].value:(_r.log("Starting "+n+" volume monitor"),a.volume[n].timer=setInterval((function(){a.pc.getStats().then((function(e){e.forEach((function(e){e&&"audio"===e.kind&&(t&&!e.remoteSource||!t&&"media-source"!==e.type||(a.volume[n].value=e.audioLevel?e.audioLevel:0))}))}))}),200),0):(_r.warn("Local stream unavailable"),0)}function V(e,t){var i=_[e];if(!i||!i.webrtcStuff)return _r.warn("Invalid handle"),!0;var n=i.webrtcStuff;return n.pc?n.myStream?t?n.myStream.getVideoTracks()&&0!==n.myStream.getVideoTracks().length?!n.myStream.getVideoTracks()[0].enabled:(_r.warn("No video track"),!0):n.myStream.getAudioTracks()&&0!==n.myStream.getAudioTracks().length?!n.myStream.getAudioTracks()[0].enabled:(_r.warn("No audio track"),!0):(_r.warn("Invalid local MediaStream"),!0):(_r.warn("Invalid PeerConnection"),!0)}function Y(e,t,i){var n=_[e];if(!n||!n.webrtcStuff)return _r.warn("Invalid handle"),!1;var a=n.webrtcStuff;return a.pc?a.myStream?t?a.myStream.getVideoTracks()&&0!==a.myStream.getVideoTracks().length?(a.myStream.getVideoTracks()[0].enabled=!i,!0):(_r.warn("No video track"),!1):a.myStream.getAudioTracks()&&0!==a.myStream.getAudioTracks().length?(a.myStream.getAudioTracks()[0].enabled=!i,!0):(_r.warn("No audio track"),!1):(_r.warn("Invalid local MediaStream"),!1):(_r.warn("Invalid PeerConnection"),!1)}function G(e){var t=_[e];if(!t||!t.webrtcStuff)return _r.warn("Invalid handle"),"Invalid handle";var i=t.webrtcStuff;return i.pc?i.pc.getStats?(i.bitrate.timer||(_r.log("Starting bitrate timer (via getStats)"),i.bitrate.timer=setInterval((function(){i.pc.getStats().then((function(e){e.forEach((function(e){if(e){var t=!1;if(("video"===e.mediaType||e.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===e.type&&e.id.indexOf("rtcp")<0?t=!0:"ssrc"!=e.type||!e.bytesReceived||"VP8"!==e.googCodecName&&""!==e.googCodecName||(t=!0),t)if(i.bitrate.fps=e.framesPerSecond,i.bitrate.bsnow=e.bytesReceived,i.bitrate.tsnow=e.timestamp,null===i.bitrate.bsbefore||null===i.bitrate.tsbefore)i.bitrate.bsbefore=i.bitrate.bsnow,i.bitrate.tsbefore=i.bitrate.tsnow;else{var n=i.bitrate.tsnow-i.bitrate.tsbefore;"safari"===_r.webRTCAdapter.browserDetails.browser&&(n/=1e3);var a=Math.round(8*(i.bitrate.bsnow-i.bitrate.bsbefore)/n);"safari"===_r.webRTCAdapter.browserDetails.browser&&(a=parseInt(a/1e3)),i.bitrate.value=a+" kbps",i.bitrate.bsbefore=i.bitrate.bsnow,i.bitrate.tsbefore=i.bitrate.tsnow}}}))}))}),1e3)),i.bitrate):(_r.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser"):"Invalid PeerConnection"}function q(e){_r.error("WebRTC error:",e)}function K(e,n){_r.log("Cleaning WebRTC stuff");var a=_[e];if(a){var r=a.webrtcStuff;if(r){if(!0===n){var s={janus:"hangup",transaction:_r.randomString(12)};a.token&&(s["token"]=a.token),f&&(s["apisecret"]=f),_r.debug("Sending hangup request (handle="+e+"):"),_r.debug(s),t?(s["session_id"]=w,s["handle_id"]=e,i.send(JSON.stringify(s))):_r.httpAPICall(o+"/"+w+"/"+e,{verb:"POST",withCredentials:p,body:s})}r.remoteStream=null,r.volume&&(r.volume["local"]&&r.volume["local"].timer&&clearInterval(r.volume["local"].timer),r.volume["remote"]&&r.volume["remote"].timer&&clearInterval(r.volume["remote"].timer)),r.volume={},r.bitrate.timer&&clearInterval(r.bitrate.timer),r.bitrate.timer=null,r.bitrate.bsnow=null,r.bitrate.bsbefore=null,r.bitrate.tsnow=null,r.bitrate.tsbefore=null,r.bitrate.value=null,!r.streamExternal&&r.myStream&&(_r.log("Stopping local stream tracks"),_r.stopAllTracks(r.myStream)),r.streamExternal=!1,r.myStream=null;try{r.pc.close()}catch(l){}r.pc=null,r.candidates=null,r.mySdp=null,r.remoteSdp=null,r.iceDone=!1,r.dataChannel={},r.dtmfSender=null,r.senderTransforms=null,r.receiverTransforms=null}a.oncleanup()}}function J(e){for(var t=e.split("\r\n"),i=!1,n=[-1],a=[-1],r=null,s=null,o=null,l=null,c=-1,d=0;d<t.length;d++){var u=t[d].match(/m=(\w+) */);if(u){var p=u[1];if("video"===p){if(!(n[0]<0)){c=d;break}i=!0}else if(n[0]>-1){c=d;break}}else if(i){var h=t[d].match(/a=ssrc-group:SIM (\d+) (\d+) (\d+)/);if(h)return _r.warn("The SDP already contains a SIM attribute, munging will be skipped"),e;var m=t[d].match(/a=ssrc-group:FID (\d+) (\d+)/);if(m)n[0]=m[1],a[0]=m[2],t.splice(d,1),d--;else{if(n[0]){var f=t[d].match("a=ssrc:"+n[0]+" cname:(.+)");if(f&&(r=f[1]),f=t[d].match("a=ssrc:"+n[0]+" msid:(.+)"),f&&(s=f[1]),f=t[d].match("a=ssrc:"+n[0]+" mslabel:(.+)"),f&&(o=f[1]),f=t[d].match("a=ssrc:"+n[0]+" label:(.+)"),f&&(l=f[1]),0===t[d].indexOf("a=ssrc:"+a[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+n[0])){t.splice(d,1),d--;continue}}0!=t[d].length||(t.splice(d,1),d--)}}}if(n[0]<0){c=-1,i=!1;for(d=0;d<t.length;d++){u=t[d].match(/m=(\w+) */);if(u){p=u[1];if("video"===p){if(!(n[0]<0)){c=d;break}i=!0}else if(n[0]>-1){c=d;break}}else if(i){if(n[0]<0){var g=t[d].match(/a=ssrc:(\d+)/);if(g){n[0]=g[1],t.splice(d,1),d--;continue}}else{f=t[d].match("a=ssrc:"+n[0]+" cname:(.+)");if(f&&(r=f[1]),f=t[d].match("a=ssrc:"+n[0]+" msid:(.+)"),f&&(s=f[1]),f=t[d].match("a=ssrc:"+n[0]+" mslabel:(.+)"),f&&(o=f[1]),f=t[d].match("a=ssrc:"+n[0]+" label:(.+)"),f&&(l=f[1]),0===t[d].indexOf("a=ssrc:"+a[0])){t.splice(d,1),d--;continue}if(0===t[d].indexOf("a=ssrc:"+n[0])){t.splice(d,1),d--;continue}}0!==t[d].length||(t.splice(d,1),d--)}}}if(n[0]<0)return _r.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),e;c<0&&(c=t.length),n[1]=Math.floor(4294967295*Math.random()),n[2]=Math.floor(4294967295*Math.random()),a[1]=Math.floor(4294967295*Math.random()),a[2]=Math.floor(4294967295*Math.random());for(d=0;d<n.length;d++)r&&(t.splice(c,0,"a=ssrc:"+n[d]+" cname:"+r),c++),s&&(t.splice(c,0,"a=ssrc:"+n[d]+" msid:"+s),c++),o&&(t.splice(c,0,"a=ssrc:"+n[d]+" mslabel:"+o),c++),l&&(t.splice(c,0,"a=ssrc:"+n[d]+" label:"+l),c++),r&&(t.splice(c,0,"a=ssrc:"+a[d]+" cname:"+r),c++),s&&(t.splice(c,0,"a=ssrc:"+a[d]+" msid:"+s),c++),o&&(t.splice(c,0,"a=ssrc:"+a[d]+" mslabel:"+o),c++),l&&(t.splice(c,0,"a=ssrc:"+a[d]+" label:"+l),c++);return t.splice(c,0,"a=ssrc-group:FID "+n[2]+" "+a[2]),t.splice(c,0,"a=ssrc-group:FID "+n[1]+" "+a[1]),t.splice(c,0,"a=ssrc-group:FID "+n[0]+" "+a[0]),t.splice(c,0,"a=ssrc-group:SIM "+n[0]+" "+n[1]+" "+n[2]),e=t.join("\r\n"),e.endsWith("\r\n")||(e+="\r\n"),e}function Z(e){return _r.debug("isAudioSendEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioSend||null===e.audioSend||!0===e.audioSend)}function Q(e){return _r.debug("isAudioSendRequired:",e),!!e&&(!1!==e.audio&&!1!==e.audioSend&&(void 0!==e.failIfNoAudio&&null!==e.failIfNoAudio&&!0===e.failIfNoAudio))}function X(e){return _r.debug("isAudioRecvEnabled:",e),!e||!1!==e.audio&&(void 0===e.audioRecv||null===e.audioRecv||!0===e.audioRecv)}function ee(e){return _r.debug("isVideoSendEnabled:",e),!e||!1!==e.video&&(void 0===e.videoSend||null===e.videoSend||!0===e.videoSend)}function te(e){return _r.debug("isVideoSendRequired:",e),!!e&&(!1!==e.video&&!1!==e.videoSend&&(void 0!==e.failIfNoVideo&&null!==e.failIfNoVideo&&!0===e.failIfNoVideo))}function ie(e){return _r.debug("isVideoRecvEnabled:",e),!e||!1!==e.video&&(void 0===e.videoRecv||null===e.videoRecv||!0===e.videoRecv)}function ne(e){if(_r.debug("isScreenSendEnabled:",e),!e)return!1;if("object"!==typeof e.video||"object"!==typeof e.video.mandatory)return!1;var t=e.video.mandatory;return t.chromeMediaSource?"desktop"===t.chromeMediaSource||"screen"===t.chromeMediaSource:t.mozMediaSource?"window"===t.mozMediaSource||"screen"===t.mozMediaSource:!!t.mediaSource&&("window"===t.mediaSource||"screen"===t.mediaSource)}function ae(e){return _r.debug("isDataEnabled:",e),"edge"===_r.webRTCAdapter.browserDetails.browser?(_r.warn("Edge doesn't support data channels yet"),!1):void 0!==e&&null!==e&&!0===e.data}function re(e){return _r.debug("isTrickleEnabled:",e),!1!==e}T(e),this.getServer=function(){return o},this.isConnected=function(){return y},this.reconnect=function(e){e=e||{},e.success="function"==typeof e.success?e.success:_r.noop,e.error="function"==typeof e.error?e.error:_r.noop,e["reconnect"]=!0,T(e)},this.getSessionId=function(){return w},this.getInfo=function(e){F(e)},this.destroy=function(e){I(e)},this.attach=function(e){A(e)}}_r.useDefaultDependencies=function(e){var t=e&&e.fetch||fetch,i=e&&e.Promise||Promise,n=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new n(e,t)},extension:e&&e.extension||wr,isArray:function(e){return Array.isArray(e)},webRTCAdapter:e&&e.adapter||yr["a"],httpAPICall:function(e,n){var a={method:n.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===n.verb&&(a.headers["Content-Type"]="application/json"),void 0!==n.withCredentials&&(a.credentials=!0===n.withCredentials?"include":n.withCredentials?n.withCredentials:"omit"),n.body&&(a.body=JSON.stringify(n.body));var r=t(e,a).catch((function(e){return i.reject({message:"Probably a network error, is the server down?",error:e})}));if(n.timeout){var s=new i((function(e,t){var i=setTimeout((function(){return clearTimeout(i),t({message:"Request timed out",timeout:n.timeout})}),n.timeout)}));r=i.race([r,s])}return r.then((function(e){return e.ok?typeof n.success===typeof _r.noop?e.json().then((function(e){try{n.success(e)}catch(t){_r.error("Unhandled httpAPICall success callback error",t)}}),(function(t){return i.reject({message:"Failed to parse response body",error:t,response:e})})):void 0:i.reject({message:"API call failed",response:e})})).catch((function(e){typeof n.error===typeof _r.noop&&n.error(e.message||"<< internal error >>",e)})),r}}},_r.useOldDependencies=function(e){var t=e&&e.jQuery||jQuery,i=e&&e.WebSocket||WebSocket;return{newWebSocket:function(e,t){return new i(e,t)},isArray:function(e){return t.isArray(e)},extension:e&&e.extension||wr,webRTCAdapter:e&&e.adapter||yr["a"],httpAPICall:function(e,i){var n=void 0!==i.body?{contentType:"application/json",data:JSON.stringify(i.body)}:{},a=void 0!==i.withCredentials?{xhrFields:{withCredentials:i.withCredentials}}:{};return t.ajax(t.extend(n,a,{url:e,type:i.verb,cache:!1,dataType:"json",async:i.async,timeout:i.timeout,success:function(e){typeof i.success===typeof _r.noop&&i.success(e)},error:function(e,t,n){typeof i.error===typeof _r.noop&&i.error(t,n)}}))}}},_r.noop=function(){},_r.dataChanDefaultLabel="JanusDataChannel",_r.endOfCandidates=null,_r.stopAllTracks=function(e){try{var t=e.getTracks();for(var i of t)_r.log(i),i&&i.stop()}catch(n){}},_r.init=function(e){if(e=e||{},e.callback="function"==typeof e.callback?e.callback:_r.noop,_r.initDone)e.callback();else{if("undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),_r.trace=_r.noop,_r.debug=_r.noop,_r.vdebug=_r.noop,_r.log=_r.noop,_r.warn=_r.noop,_r.error=_r.noop,!0===e.debug||"all"===e.debug)_r.trace=console.trace.bind(console),_r.debug=console.debug.bind(console),_r.vdebug=console.debug.bind(console),_r.log=console.log.bind(console),_r.warn=console.warn.bind(console),_r.error=console.error.bind(console);else if(Array.isArray(e.debug))for(var t of e.debug)switch(t){case"trace":_r.trace=console.trace.bind(console);break;case"debug":_r.debug=console.debug.bind(console);break;case"vdebug":_r.vdebug=console.debug.bind(console);break;case"log":_r.log=console.log.bind(console);break;case"warn":_r.warn=console.warn.bind(console);break;case"error":_r.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+t+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')");break}_r.log("Initializing library");var i=e.dependencies||_r.useDefaultDependencies();_r.isArray=i.isArray,_r.webRTCAdapter=i.webRTCAdapter,_r.httpAPICall=i.httpAPICall,_r.newWebSocket=i.newWebSocket,_r.extension=i.extension,_r.extension.init(),_r.listDevices=function(e,t){e="function"==typeof e?e:_r.noop,null==t&&(t={audio:!0,video:!0}),_r.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(t).then((function(t){navigator.mediaDevices.enumerateDevices().then((function(i){_r.debug(i),e(i),_r.stopAllTracks(t)}))})).catch((function(t){_r.error(t),e([])})):(_r.warn("navigator.mediaDevices unavailable"),e([]))},_r.attachMediaStream=function(e,t){try{e.srcObject=t}catch(i){try{e.src=URL.createObjectURL(t)}catch(i){_r.error("Error attaching stream to element")}}},_r.reattachMediaStream=function(e,t){try{e.srcObject=t.srcObject}catch(i){try{e.src=t.src}catch(i){_r.error("Error reattaching stream to element")}}};var n=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,a=n?"pagehide":"beforeunload",r=window["on"+a];if(window.addEventListener(a,(function(e){for(var t in _r.log("Closing window"),_r.sessions)_r.sessions[t]&&_r.sessions[t].destroyOnUnload&&(_r.log("Destroying session "+t),_r.sessions[t].destroy({unload:!0,notifyDestroyed:!1}));r&&"function"==typeof r&&r()})),_r.safariVp8=!1,"safari"===_r.webRTCAdapter.browserDetails.browser&&_r.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){for(var s of RTCRtpSender.getCapabilities("video").codecs)if(s&&s.mimeType&&"video/vp8"===s.mimeType.toLowerCase()){_r.safariVp8=!0;break}_r.safariVp8?_r.log("This version of Safari supports VP8"):_r.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var o=new RTCPeerConnection({});o.createOffer({offerToReceiveVideo:!0}).then((function(e){_r.safariVp8=-1!==e.sdp.indexOf("VP8"),_r.safariVp8?_r.log("This version of Safari supports VP8"):_r.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),o.close(),o=null}))}if(_r.unifiedPlan=!1,"firefox"===_r.webRTCAdapter.browserDetails.browser&&_r.webRTCAdapter.browserDetails.version>=59)_r.unifiedPlan=!0;else if("chrome"===_r.webRTCAdapter.browserDetails.browser&&_r.webRTCAdapter.browserDetails.version>=72)_r.unifiedPlan=!0;else if(window.RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype){var l=new RTCPeerConnection;try{l.addTransceiver("audio"),_r.unifiedPlan=!0}catch(c){}l.close()}else _r.unifiedPlan=!1;_r.initDone=!0,e.callback()}},_r.isWebrtcSupported=function(){return!!window.RTCPeerConnection},_r.isGetUserMediaAvailable=function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},_r.randomString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",n=0;n<e;n++){var a=Math.floor(Math.random()*t.length);i+=t.substring(a,a+1)}return i};var Cr=_r;let kr=e=>`/ws/janus/${e}/`,Pr=e=>`/ws/share_token/janus/${e}/`;function Sr(e){const t=window.location.hostname.replace("app","turn");return[{urls:["stun:stun.l.google.com:19302"]},{urls:`turn:${t}:80?transport=udp`,credential:e,username:e},{urls:`turn:${t}:80?transport=tcp`,credential:e,username:e}]}function Dr(){let e={callbacks:{},initialized:!1,mainWebRTCConn:Tr(),mjpegWebRTCConn:xr(),openForShareToken(t){e.connect(Pr(t),t)},openForPrinter(t,i){e.connect(kr(t),i)},connect(t,i){e.initialized=!0,e.mainWebRTCConn.connect(t,i),e.mjpegWebRTCConn.connect(t,i)},stopStream(){e.mainWebRTCConn.stopStream(),e.mjpegWebRTCConn.stopStream()},sendData(t){e.mainWebRTCConn.sendData(t)},startStream(){e.mainWebRTCConn.startStream(),e.mjpegWebRTCConn.startStream()},setCallbacks(t){e.callbacks={...e.callbacks,...t},e.mainWebRTCConn.callbacks=e.callbacks,e.mjpegWebRTCConn.callbacks=e.callbacks}};return e}function xr(){let e={callbacks:{},streamId:void 0,streaming:void 0,bitrateInterval:null,connect(t,i){Cr.init({debug:"all",callback:()=>{Cr.isWebrtcSupported()&&e.connectJanusWebSocket(t,i)}})},connectJanusWebSocket(t,i){var n=new Cr({server:window.location.protocol.replace("http","ws")+"//"+window.location.host+t,iceServers:Sr(i),ipv6:!0,success:()=>{n.attach({plugin:"janus.plugin.streaming",opaqueId:"streamingtest-"+Cr.randomString(12),success:function(t){Cr.log("Plugin attached! ("+t.getPlugin()+", id="+t.getId()+")");const i={request:"info",id:2};Cr.debug("Sending message ("+JSON.stringify(i)+")"),t.send({message:i,success:function(i){let a=de()(i,"info");if(a){e.streamId=a.id,e.streaming=t;const i=de()(a,"data")||br()(de()(a,"media",[]),{type:"data"});i&&e.callbacks.onStreamAvailable(e)}else n.destroy()}})},error:function(e){Cr.error("  -- Error attaching plugin... ",e),n.destroy()},onmessage:function(t,i){e.onMessage(t,i)},onremotestream:function(e){},ondataopen:function(){},ondata:function(t){"onMJpegData"in e.callbacks&&e.callbacks.onMJpegData(t)},oncleanup:function(){}})},error(e){Cr.error("  -- Error -- ",e),n.destroy()},destroyed(){e.streaming=void 0,e.streamId=void 0}})},onMessage(e,t){let i=this;Cr.debug(" ::: Got a message :::"),Cr.debug(e);let n=e["result"];if(null!==n&&void 0!==n){if(void 0!==n["status"]&&null!==n["status"]){var a=n["status"];"starting"===a?console.log("Starting"):"started"===a?console.log("Started"):"stopped"===a&&i.stopStream()}}else if(void 0!==e["error"]&&null!==e["error"])return Cr.error(e),void i.stopStream();var r;void 0!==t&&null!==t&&(null===(r=i.streaming)||void 0===r||r.createAnswer({jsep:t,media:{audioSend:!1,videoSend:!1,data:!0},success:function(e){var t;Cr.debug("Got SDP!"),Cr.debug(e);var n={request:"start"};null===(t=i.streaming)||void 0===t||t.send({message:n,jsep:e})},error:function(e){Cr.error("WebRTC error:",e)}}))},channelOpen(){return!(void 0===e.streamId||void 0===e.streaming)},startStream(){var t;if(!e.channelOpen())return;const i={request:"watch",offer_video:!1,id:parseInt(e.streamId)};null===(t=e.streaming)||void 0===t||t.send({message:i})},stopStream(){var t,i;const n={request:"stop"};null===(t=e.streaming)||void 0===t||t.send({message:n}),null===(i=e.streaming)||void 0===i||i.hangup()}};return e}function Tr(){let e={callbacks:{},streamId:void 0,streaming:void 0,bitrateInterval:null,connect(t,i){Cr.init({debug:"all",callback:()=>{Cr.isWebrtcSupported()&&e.connectJanusWebSocket(t,i)}})},connectJanusWebSocket(t,i){var n=new Cr({server:window.location.protocol.replace("http","ws")+"//"+window.location.host+t,iceServers:Sr(i),ipv6:!0,success:()=>{n.attach({plugin:"janus.plugin.streaming",opaqueId:"streamingtest-"+Cr.randomString(12),success:function(t){[0,1].forEach(i=>{const n={request:"info",id:i};Cr.debug("Sending message ("+JSON.stringify(n)+")"),t.send({message:n,success:function(i){let n=de()(i,"info");if(n){e.streamId=n.id,e.streaming=t;const i=de()(n,"video")||br()(de()(n,"media",[]),{type:"video"});i&&e.callbacks.onStreamAvailable(e)}}})})},error:function(e){Cr.error("  -- Error attaching plugin... ",e),n.destroy()},onmessage:function(t,i){e.onMessage(t,i)},onremotestream:function(t){Cr.debug(" ::: Got a remote stream :::"),Cr.debug(t),"onRemoteStream"in e.callbacks&&e.callbacks.onRemoteStream(t)},ontrackmuted:function(){"onTrackMuted"in e.callbacks&&e.callbacks.onTrackMuted()},ontrackunmuted:function(){"onTrackUnmuted"in e.callbacks&&e.callbacks.onTrackUnmuted()},slowLink:function(t,i){"onSlowLink"in e.callbacks&&e.callbacks.onSlowLink(i)},ondataopen:function(){},ondata:function(t){"onData"in e.callbacks&&e.callbacks.onData(t)},oncleanup:function(){"onDefaultStreamCleanup"in e.callbacks&&e.callbacks.onDefaultStreamCleanup()}})},error(e){Cr.error("  -- Error -- ",e),n.destroy()},destroyed(){e.streaming=void 0,e.streamId=void 0,e.clearBitrateInterval()}})},onMessage(e,t){let i=this;Cr.debug(" ::: Got a message :::"),Cr.debug(e);let n=e["result"];if(null!==n&&void 0!==n){if(void 0!==n["status"]&&null!==n["status"]){var a=n["status"];"starting"===a?console.log("Starting"):"started"===a?console.log("Started"):"stopped"===a&&i.stopStream()}}else if(void 0!==e["error"]&&null!==e["error"])return Cr.error(e),void i.stopStream();var r;void 0!==t&&null!==t&&(null===(r=i.streaming)||void 0===r||r.createAnswer({jsep:t,media:{audioSend:!1,videoSend:!1,data:!0},success:function(e){var t;Cr.debug("Got SDP!"),Cr.debug(e);var n={request:"start"};null===(t=i.streaming)||void 0===t||t.send({message:n,jsep:e})},error:function(e){Cr.error("WebRTC error:",e)}}))},channelOpen(){return!(void 0===e.streamId||void 0===e.streaming)},startStream(){var t;if(!e.channelOpen())return;const i={request:"watch",offer_video:!0,id:parseInt(e.streamId)};null===(t=e.streaming)||void 0===t||t.send({message:i}),e.clearBitrateInterval(),e.bitrateInterval=setInterval((function(){if(e.streaming){const t=e.streaming.getBitrate();t&&t.value?e.callbacks.onBitrateUpdated(e.streaming.getBitrate()):e.callbacks.onBitrateUpdated({value:null})}else e.callbacks.onBitrateUpdated({value:null})}),5e3)},stopStream(){var t,i;if(e.clearBitrateInterval(),!e.channelOpen())return;const n={request:"stop"};null===(t=e.streaming)||void 0===t||t.send({message:n}),null===(i=e.streaming)||void 0===i||i.hangup()},sendData(t){var i;e.channelOpen()&&(null===(i=e.streaming)||void 0===i||i.data({text:t,success:()=>{}}))},clearBitrateInterval(){e.bitrateInterval&&(clearInterval(e.bitrateInterval),e.bitrateInterval=null,e.callbacks.onBitrateUpdated({value:null}))}};return e}var Fr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-img-top webcam_container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.slowLinkLoss>50,expression:"slowLinkLoss > 50"}],ref:"slowLinkWrapper",staticClass:"slow-link-wrapper",on:{click:e.slowLinkClicked,mouseenter:function(t){e.fixSlowLinkTextWidth(),e.slowLinkShowing=!0,e.slowLinkHiding=!1},mouseleave:function(t){e.fixSlowLinkTextWidth(),e.slowLinkShowing=!1,e.slowLinkHiding=!0}}},[e._m(0),t("div",{ref:"slowLinkText",staticClass:"text",class:{"show-and-hide":!e.slowLinkShowing&&!e.slowLinkHiding,showing:e.slowLinkShowing&&!e.slowLinkHiding,hiding:!e.slowLinkShowing&&e.slowLinkHiding}},[e._v(" "+e._s(e.$t("Video frames dropped"))+" ")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.trackMuted,expression:"trackMuted"}],staticClass:"muted-status-wrapper"},[t("div",{staticClass:"text"},[e._v(e._s(e.$t("Buffering...")))]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.showMutedStatusDescription(t)}}},[e._v(e._s(e.$t("Why is it stuck?")))])]),e.isVideoAvailable&&!e.autoplay&&(e.isBasicStreamingReadyToPlay||e.isBasicStreamingFrozen)?t("b-button",{staticClass:"centered-element p-0",attrs:{disabled:e.isBasicStreamingFrozen},on:{click:e.onPlayBtnClicked}},[e.isBasicStreamingReadyToPlay?t("i",{staticClass:"fas fa-play ml-1"}):e._e(),e.isBasicStreamingFrozen?t("span",{staticClass:"medium"},[e._v(e._s(e.remainingSecondsUntilNextCycle)+"s")]):e._e()]):e._e(),e.trackMuted||e.videoLoading?t("b-spinner",{staticClass:"centered-element",attrs:{label:"Buffering..."}}):e._e(),e.isVideoAvailable?t("div",[!e.autoplay&&e.isBasicStreamingInProgress||e.currentBitrate?t("div",{staticClass:"streaming-info overlay-info small",class:{clickable:e.isBasicStreamingInProgress},on:{click:e.onInfoClicked}},[e.isBasicStreamingInProgress?t("div",{staticClass:"text-success"},[e._v(" "+e._s(e.remainingSecondsCurrentVideoCycle)+" ")]):e._e(),e.currentBitrate?t("div",[e._v(e._s(e.currentBitrate))]):e._e()]):e._e(),e.autoplay||!e.isBasicStreamingReadyToPlay&&!e.isBasicStreamingFrozen?e._e():t("div",{staticClass:"streaming-guide overlay-info",on:{click:e.onInfoClicked}},[e.isBasicStreamingReadyToPlay?t("div",{staticClass:"message"},[e._v(" "+e._s(e.$t("Webcam streams up to 5 FPS for Free"))+" ")]):e._e(),e.isBasicStreamingFrozen?t("div",{staticClass:"message text-warning"},[e._v(" "+e._s(e.remainingSecondsUntilNextCycle)+"s left in the cooldown period ")]):e._e(),t("a",{staticClass:"learn-more",attrs:{href:"#"}},[e._v(e._s(e.$t("Learn more...")))])])]):e._e(),t("div",{class:e.webcamRotateClass},[t("div",{staticClass:"webcam_fixed_ratio",class:e.webcamRatioClass,style:{transform:`rotate(${e.videoRotationDeg}deg)`}},[t("div",{staticClass:"webcam_fixed_ratio_inner"},[e.taggedSrc!==e.printerStockImgSrc?t("img",{staticClass:"tagged-jpg",class:{flipH:e.printer.settings.webcam_flipH,flipV:e.printer.settings.webcam_flipV},attrs:{src:e.taggedSrc,alt:e.printer.name+" current image"}}):t("svg",{staticClass:"poster-placeholder",style:{transform:`rotate(-${e.videoRotationDeg}deg)`}},[t("use",{attrs:{href:e.printerStockImgSrc}})])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showMJpeg,expression:"showMJpeg"}],staticClass:"webcam_fixed_ratio_inner ontop"},[t("img",{staticClass:"tagged-jpg",attrs:{src:e.mjpgSrc}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showVideo,expression:"showVideo"}],staticClass:"webcam_fixed_ratio_inner ontop"},[t("video",{ref:"video",staticClass:"remote-video",class:{flipH:e.printer.settings.webcam_flipH,flipV:e.printer.settings.webcam_flipV},attrs:{width:"960",height:e.webcamVideoHeight,poster:e.taggedSrc!==e.printerStockImgSrc?e.taggedSrc:"",autoplay:"",muted:"",playsinline:""},domProps:{muted:!0},on:{loadstart:function(t){return e.onLoadStart()},canplay:function(t){return e.onCanPlay()}}})])])]),t("div",{staticClass:"extra-controls"},[e.showVideo||e.showVideo||e.taggedSrc!==e.printerStockImgSrc?t("div",{staticClass:"video-control-btn",on:{click:e.onRotateRightClicked}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-rotate-right"}})],1):e._e()])],1)},Ir=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon bg-warning"},[t("i",{staticClass:"fas fa-exclamation"})])}];function Ar(e,t){const i="tsNextVideoCycle-"+e;let n,a={countDownTimer:null};if(a.startOrResumeVideoCycle=function(){a.countDownTimer||(a.countDownTimer=setInterval(()=>a.countDown(),1e3))},a.resumeVideoCycle=function(){n<60&&!a.countDownTimer&&(a.countDownTimer=setInterval(()=>a.countDown(),1e3))},a.countDown=function(){a.updateRemainingSeconds(n-1),Object(we["a"])()&&localStorage.setItem(i,(new Date).getTime()/1e3+n),n<0&&(a.updateRemainingSeconds(60),clearInterval(this.countDownTimer),this.countDownTimer=null)},a.updateRemainingSeconds=function(e){n=e;const i=n-30,a=n>30?-1:n;t(i,a)},Object(we["a"])()){const e=parseFloat(localStorage.getItem(i)),t=(new Date).getTime()/1e3;!e||t>e?a.updateRemainingSeconds(60):a.updateRemainingSeconds(Math.round(e-t))}else a.updateRemainingSeconds(60);return a}function $r(e){const t={onFrame:e,contentLength:NaN,imageBuffer:"",bytesRead:0,originalJpgLength:0,onMJpegChunk:function(e){Object(Pn["g"])(e,e=>{const i=new TextDecoder("utf-8").decode(new Uint8Array(e));if(t.contentLength){if(t.imageBuffer+=i,t.bytesRead+=i.length,t.bytesRead>=t.contentLength){const e=t.imageBuffer,i=t.originalJpgLength;t.contentLength=NaN,t.imageBuffer="",t.bytesRead=0,t.originalJpgLength=0,t.onFrame(e,i)}}else if("\r\n"==i.slice(0,2)&&"\r\n"==i.slice(i.length-2)){const e=i.slice(2,i.length-2).split(":");t.contentLength=parseInt(e[0]),t.originalJpgLength=parseInt(e[1])}})}};return t}var Or={name:"StreamingBox",props:{printer:{type:Object,required:!0},webrtc:{type:Object,default:null},autoplay:{type:Boolean,required:!0}},data(){return{stickyStreamingSrc:null,isVideoAvailable:!1,isVideoVisible:!1,remainingSecondsCurrentVideoCycle:30,remainingSecondsUntilNextCycle:-1,currentBitrate:null,slowLinkLoss:0,slowLinkShowing:!1,slowLinkHiding:!1,trackMuted:!1,videoLoading:!1,printerStockImgSrc:"#svg-3d-printer",mjpgSrc:null,customRotationDeg:Object(s["a"])("webcamRotationDeg",0)}},computed:{taggedImgAvailable(){return this.taggedSrc!==this.printerStockImgSrc},showVideo(){return this.isVideoVisible&&"IMAGE"!==this.stickyStreamingSrc},showMJpeg(){return this.mjpgSrc&&"IMAGE"!==this.stickyStreamingSrc},videoRotationDeg(){var e;const t=+(null!==(e=this.printer.settings.webcam_rotation)&&void 0!==e?e:0)+this.customRotationDeg;return t%360},webcamRotateClass(){return"webcam_rotate_"+this.videoRotationDeg},webcamRatioClass(){switch(this.printer.settings.ratio169){case!0:return"ratio169";case!1:return"ratio43";default:return"ratio43"}},webcamVideoHeight(){switch(this.printer.settings.ratio169){case!0:return 540;case!1:return 720;default:return 720}},taggedSrc(){return de()(this.printer,"pic.img_url",this.printerStockImgSrc)},isBasicStreamingInProgress(){return this.remainingSecondsCurrentVideoCycle>0&&this.remainingSecondsCurrentVideoCycle<30},isBasicStreamingReadyToPlay(){return!this.isVideoVisible&&!this.trackMuted&&!this.videoLoading&&(30==this.remainingSecondsCurrentVideoCycle||0==this.remainingSecondsUntilNextCycle)},isBasicStreamingFrozen(){return this.remainingSecondsUntilNextCycle>0&&!this.isVideoVisible},basicStreamingInWebrtc(){return this.printer.isAgentVersionGte("2.1.0","0.3.0")}},created(){this.mjpegStreamDecoder=new $r((e,t)=>{this.mjpgSrc="data:image/jpg;base64,"+e,this.onCanPlay()}),this.webrtc&&(this.webrtc.setCallbacks({onStreamAvailable:this.onStreamAvailable,onRemoteStream:this.onWebRTCRemoteStream,onDefaultStreamCleanup:()=>this.isVideoVisible=!1,onSlowLink:this.onSlowLink,onTrackMuted:()=>this.trackMuted=!0,onTrackUnmuted:()=>this.trackMuted=!1,onBitrateUpdated:e=>{this.currentBitrate=e.value},onMJpegData:this.mjpegStreamDecoder.onMJpegChunk}),this.autoplay||(this.videoLimit=Ar(this.printer.id,this.countDownCallback)),ya.a.on("blur",()=>{this.webrtc&&this.webrtc.stopStream()}),ya.a.on("focus",()=>{this.webrtc&&this.autoplay&&this.webrtc.startStream()}))},methods:{onRotateRightClicked(){this.customRotationDeg=this.customRotationDeg+90,Object(s["b"])("webcamRotationDeg",this.customRotationDeg%360),this.$emit("onRotateRightClicked",this.customRotationDeg)},onCanPlay(){this.videoLoading=!1,this.autoplay||this.videoLimit.startOrResumeVideoCycle()},onLoadStart(){this.videoLoading=!0},onStreamAvailable(e){if(this.autoplay)e.startStream();else{if(!this.basicStreamingInWebrtc)return;!this.autoplay&&this.isBasicStreamingInProgress&&e.startStream(),this.videoLimit.resumeVideoCycle()}this.isVideoAvailable=!0},onWebRTCRemoteStream(e){Cr.attachMediaStream(this.$refs.video,e);const t=e.getVideoTracks();null===t||void 0===t||0===t.length?this.isVideoVisible=!1:this.isVideoVisible=!0},countDownCallback(e,t){this.remainingSecondsCurrentVideoCycle>0&&e<=0&&this.webrtc.stopStream(),this.remainingSecondsCurrentVideoCycle=e,this.remainingSecondsUntilNextCycle=t},onInfoClicked(){this.autoplay||this.$swal.Prompt.fire({title:""+this.$i18next.t("Upgrade for Better Streaming"),html:`\n          <p>${this.$i18next.t("Because you are now on the")} <a target="_blank" href="https://www.obico.io/docs/user-guides/upgrade-to-pro/?source=basic_streaming">${this.$i18next.t("{brandName} Cloud Free plan",{brandName:this.$syndicateText.brandName})}</a>:</p>\n          <ul>\n            <li>${this.$i18next.t("Streaming is limited to 5 FPS (frames per second).")}</li>\n            <li>${this.$i18next.t("After 30 seconds of streaming there is a 30-second cooldown before you can resume streaming.")}</li>\n          </ul>\n          <p>${this.$i18next.t("Support the {brandName} project by",{brandName:this.$syndicateText.brandName})} <a href="https://app.obico.io/ent_pub/pricing/?source=basic_streaming">${this.$i18next.t("upgrading to the Pro plan for little more than 1 Starbucks a month.")}</a></p> ${this.$i18next.t("The Pro plan offers many perks, including the")} <a target="_blank" href="https://www.obico.io/docs/user-guides/webcam-streaming-for-human-eyes/?source=basic_streaming">${this.$i18next.t("Premium Streaming")}</a>:</p>\n          <ul>\n            <li>${this.$i18next.t("Smooth 25 FPS.")}</li>\n            <li>${this.$i18next.t("Unlimited streaming with no cooldowns.")}</li>\n          </ul>\n\n        `,showCloseButton:!0})},onPlayBtnClicked(){this.webrtc.startStream()},fixSlowLinkTextWidth(){const e=window.getComputedStyle(this.$refs.slowLinkText).width;this.$refs.slowLinkText.style.width=e},onSlowLink(e){this.slowLinkLoss+=e},slowLinkClicked(){this.slowLinkShowing=!1,this.slowLinkHiding=!1,this.slowLinkLoss=0,this.$swal.Prompt.fire({title:""+this.$i18next.t("Video frames dropped"),html:`\n          <p>${this.$i18next.t("The video frames are getting dropped because there is most likely a bandwidth bottleneck along the route they travel from your Raspberry Pi to your computer. The bottleneck can be anywhere, but in most cases,")} <Text bold>${this.$i18next.t("it is either your computer's internet connection, or your Raspberry Pi's")}</Text>.</p>\n          <p>${this.$i18next.t("Make sure your computer is connected to the same network as your Pi. If you still see this warning, you need to trouble-shoot your computer's Wi-Fi connection, probably by moving closer to the Wi-Fi router.")}</p>\n          <p>${this.$i18next.t("If the webcam stream is smooth when your computer is on the same Wi-Fi network as your Pi, the bottleneck is likely with the upload speed of your internet connection. You need to run a speed test to make sure you have high-enough upload speed, as well as")} <b>${this.$i18next.t("low latency (ping)")}</b>.</p>\n          <p>${this.$i18next.t("Check out")} <a target="_blank" href="https://www.obico.io/docs/user-guides/webcam-feed-is-laggy/">${this.$i18next.t("the step-by-step trouble-shooting guide.")}</a></p>\n        `,showCloseButton:!0})},showMutedStatusDescription(e){e.preventDefault(),this.$swal.Prompt.fire({title:""+this.$i18next.t("Webcam stream buffering"),html:`\n          <p>${this.$i18next.t("When you see the messaging about webcam stream is 'buffering' occasionally, you can just reload the page. If this message repeatedly appears, it may indicate one of the problems")}:</p>\n          <p class="lead">${this.$i18next.t("1. A constricted video stream on your Raspberry Pi. The most common reasons are")}:</p>\n          <ul>\n            <li>${this.$i18next.t("Camera resolution is set too high.")}</li>\n            <li>${this.$i18next.t("Camera framerate is set too high.")}</li>\n            <li>${this.$i18next.t("The upload speed of your Raspberry Pi is too low.")}</li>\n          </ul>\n          <p class="lead">${this.$i18next.t("2. The internet connection of your computer or phone is not fast enough.")}</p>\n          <p class="lead">${this.$i18next.t("3. Your webcam is not properly connected to your Raspberry Pi.")}</p>\n          <br>\n          <p>${this.$i18next.t("Check")} <a target="_blank" href="https://www.obico.io/docs/user-guides/webcam-feed-is-laggy">${this.$i18next.t("this step-by-step troubleshooting guide")}</a>.</p>\n        `,showCloseButton:!0})}}},Nr=Or,Lr=(i("cdb9"),Object(N["a"])(Nr,Fr,Ir,!1,null,"5a1b5e6e",null)),Mr=Lr.exports,Er=function(){var e=this,t=e._self._c;return t("div",[e.valid||e.printing?e._e():t("span",[e._v("-")]),!e.valid&&e.printing?t("b-spinner",{attrs:{small:"",type:"grow",label:"Calculating..."}}):e._e(),e.valid&&e.showHours?t("span",[e._v(" "+e._s(e.hours)),t("span",{staticClass:"text-subscript text-muted"},[e._v("h")])]):e._e(),e.valid&&e.showMinutes?t("span",[e._v(" "+e._s(e.minutes)),t("span",{staticClass:"text-subscript text-muted"},[e._v("m")])]):e._e(),e.valid&&e.showSeconds?t("span",[e._v(" "+e._s(e.seconds)),t("span",{staticClass:"text-subscript text-muted"},[e._v("s")])]):e._e()],1)},zr=[],Rr={name:"DurationBlock",props:{valid:{type:Boolean,required:!0},printing:{type:Boolean,required:!0},hours:{type:Number,default(){return 0}},showHours:{type:Boolean,default(){return!1}},minutes:{type:Number,default(){return 0}},showMinutes:{type:Boolean,default(){return!1}},seconds:{type:Number,default(){return 0}},showSeconds:{type:Boolean,default(){return!1}}}},Br=Rr,Ur=Object(N["a"])(Br,Er,zr,!1,null,null,null),jr=Ur.exports,Wr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},e._l(e.temperatures,(function(i,n){return t("temperature-item",{key:n,attrs:{"temp-key":n,"temp-item":i,"is-plugin-version-sufficient":e.isPluginVersionSufficient},on:{TempEditClicked:function(t){return e.onEditClicked(n,i)}}})})),1)},Hr=[],Vr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"temp-item",class:{editable:e.editable},on:{click:function(t){return e.onEditClicked(e.tempKey,e.tempItem)}}},[t("div",{staticClass:"icon"},[e.heaterIcon?t("svg",[t("use",{attrs:{href:e.heaterIcon}})]):t("i",{staticClass:"fas fa-thermometer-empty"})]),t("div",{staticClass:"title"},[e._v(e._s(e.temperatureDisplayName(e.tempKey)))]),t("div",{staticClass:"value-wrapper"},[t("div",{staticClass:"value"},[e._v(e._s(parseFloat(e.tempItem.actual).toFixed(1))+" °C")]),e.editable?t("div",{staticClass:"target"},[e._v("/ "+e._s(Math.round(e.tempItem.target))+" °C")]):e._e()])])},Yr=[],Gr={name:"TemperatureItem",props:{tempItem:{type:Object,required:!0},tempKey:{type:String,required:!0},isPluginVersionSufficient:{type:Boolean,required:!0}},computed:{heaterIcon(){const e=this.tempKey.toLowerCase();return e.includes("bed")?"#bed-temp":e.includes("tool")||e.includes("extruder")?"#extruder":null},editable(){return this.isPluginVersionSufficient&&null!==this.tempItem.target}},methods:{onEditClicked(e,t){this.editable&&this.$emit("TempEditClicked",e,t)},temperatureDisplayName:Pn["f"]}},qr=Gr,Kr=(i("47bd"),Object(N["a"])(qr,Vr,Yr,!1,null,"6371ef1e",null)),Jr=Kr.exports,Zr={name:"StatusTemp",components:{TemperatureItem:Jr},props:{temperatures:{type:Object,required:!0},isPluginVersionSufficient:{type:Boolean,required:!0}},methods:{onEditClicked(e,t){this.isPluginVersionSufficient&&null!==t.target&&this.$emit("TempEditClicked",e,t)}}},Qr=Zr,Xr=(i("800e"),Object(N["a"])(Qr,Wr,Hr,!1,null,"a51f3d38",null)),es=Xr.exports,ts=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"text-center"},[e.value>0?t("h1",{staticClass:"target-temp-degree"},[e._v(" "+e._s(e.value)+" "),t("span",{staticClass:"text-subscript text-muted"},[e._v("°C")])]):e._e(),e.value<1?t("h1",{staticClass:"target-temp-degree"},[e._v(e._s(e.$t("OFF")))]):e._e()]),t("br"),t("div",{staticClass:"mb-5"},[t("div",[t("h5",[e._v(e._s(e.$t("Presets"))+":")])]),t("div",[t("b-form-select",{staticClass:"form-control",attrs:{id:"id_preset"},on:{change:e.onPresetChanged},model:{value:e.preset,callback:function(t){e.preset=t},expression:"preset"}},e._l(e.allPresets,(function(i){return t("b-form-select-option",{key:i.name,attrs:{value:parseInt(i.value)}},[e._v(" "+e._s(i.title)+" ")])})),1)],1),t("br"),t("h5",[e._v(e._s(e.$t("Manual"))+":")]),t("div",[t("slider-input",{attrs:{min:0,max:e.maxTemp,step:1},on:{change:e.onSliderChanged},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{id:"target-temp",type:"hidden"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})],1)])])},is=[],ns=function(){var e=this,t=e._self._c;return t("div",{staticClass:"slidecontainer"},[t("input",{staticClass:"slider",attrs:{type:"range",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{change:function(t){e.$emit("change",Number(t.target.value))},input:function(t){e.$emit("input",Number(t.target.value))}}})])},as=[],rs={name:"SliderInput",props:{value:{type:Number,default:0},max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1}},computed:{},methods:{}},ss=rs,os=(i("0334"),Object(N["a"])(ss,ns,as,!1,null,"3dcc12a9",null)),ls=os.exports,cs={name:"TempTargetEditor",components:{SliderInput:ls},props:{presets:{type:Array,required:!0},maxTemp:{type:Number,required:!0},curTarget:{type:Number,required:!0}},data(){let e=this.presets.find(e=>e.target==this.curTarget)||{target:0!=this.curTarget?-1:0};return{value:this.curTarget,preset:e.target}},computed:{allPresets(){let e=[];return e.push({value:-1,title:"Manual",name:"manual"}),e.push({value:0,title:"OFF",name:"off"}),this.presets.forEach(t=>{t.target&&e.push({value:t.target,name:t.name,title:`${t.name} (${t.target}°C)`})}),e}},methods:{onPresetChanged(){this.preset>-1&&(this.value=this.preset)},onSliderChanged(){0==this.value?this.preset=0:this.preset=-1}}},ds=cs,us=Object(N["a"])(ds,ts,is,!1,null,null,null),ps=us.exports,hs=function(){var e=this,t=e._self._c;return t("div",[t("h2",{staticClass:"text-center"},[e._v(e._s(e.$t("Printer Feed Sharing")))]),t("hr"),e.isProAccount?t("div",[t("div",{staticClass:"py-3"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{staticClass:"custom-control-input update-printer",attrs:{id:"sharing_enabled-toggle-"+e.printer.id,type:"checkbox"},domProps:{checked:e.sharedResource},on:{click:e.onSharingToggled}}),t("label",{staticClass:"custom-control-label",staticStyle:{"font-size":"1rem"},attrs:{for:"sharing_enabled-toggle-"+e.printer.id}},[e._v(e._s(e.$t("Share live feed for printer "))+'"'),t("b",[e._v(e._s(e.printer.name))]),e._v('"')])]),t("div",{staticClass:"form-group"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.sharedLink,expression:"sharedLink"}]},[t("div",{staticClass:"input-group mt-4 mb-2"},[t("input",{ref:"sharedLink",staticClass:"form-control shared-link-text",attrs:{id:"secret-token-input",type:"text","aria-label":"Secret token",readonly:""},domProps:{value:e.sharedLink}}),t("div",{staticClass:"input-group-append"},[t("div",{staticClass:"copy-button",attrs:{id:"copy-link","data-clipboard-target":"#secret-token-input","aria-label":"Copy secure link to clipboard"},on:{click:e.copyToClipboard}},[t("i",{staticClass:"fas fa-clipboard"})]),t("b-tooltip",{attrs:{show:e.copyStatus,target:"copy-link",triggers:"click",placement:"bottom"},on:{"update:show":function(t){e.copyStatus=t}}},[e._v(e._s(e.copyMessage))])],1)]),t("div",{staticClass:"my-1"},[e._v(" "+e._s(e.$t("Click the clipboard icon above to copy the secure shareable link to your clipboard."))+" ")]),t("div",{staticClass:"my-1"},[t("i18next",{attrs:{translation:e.$t("You can test the shareable link by right-clicking {localizedDom} and select 'Open Link in Incognito Window'.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:e.sharedLink}},[e._v(e._s(e.$t("here")))])]},proxy:!0}])})],1),t("br"),t("em",{staticClass:"text-muted"},[t("small",[t("div",[e._v(e._s(e.$t("Notes"))+":")]),t("ul",[t("li",[e._v(" "+e._s(e.$t("Send the secure link to anyone you want to share your printer feed with. They do NOT need the {brandName} account to see your printer feed.",{brandName:e.$syndicateText.brandName}))+" ")]),t("li",[e._v(" "+e._s(e.$t("Anyone with this shareable link will be able to see your printer feed."))+" "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/printer-feed-sharing/"}},[e._v(e._s(e.$t("Learn more about what they can see.")))])])])])])])]),t("br")])]):t("div",[t("h5",{staticClass:"mb-5"},[t("i18next",{attrs:{translation:e.$t("Wait! You need to {localizedDom} to enable Printer feed.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"/ent_pub/pricing/"}},[e._v(e._s(e.$t("upgrade to the Pro plan")))])]},proxy:!0}],null,!1,3414343479)})],1),t("p",[e._v(e._s(e.$t("Printer feed sharing is a Pro feature.")))]),t("p",[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/upgrade-to-pro#why-cant-the-detective-just-work-for-free-people-love-free-you-know"}},[e._v(" "+e._s(e.$t("Running the {brandName} app incurs non-trivial amount of costs",{brandName:e.$syndicateText.brandName}))+" ")]),e._v(". "+e._s(e.$t("With little more than 1 Starbucks per month, you can upgrade to a Pro account and help us run the {brandName} app smoothly.",{brandName:e.$syndicateText.brandName}))+" ")]),t("p",[t("a",{attrs:{href:"/ent_pub/pricing/"}},[e._v(e._s(e.$t("Check out Pro pricing >>>")))])])])])},ms=[],fs={props:{isProAccount:{type:Boolean,default:!1},printer:{type:Object,required:!0}},data(){return{share:!1,sharedResource:null,copyStatus:!1,copyMessage:""}},computed:{sharedLink(){if(this.sharedResource){const e=window.location;return`${e.protocol}//${e.host}/printers/share_token/${this.sharedResource.share_token}/`}return""}},created(){this.fetchSharedResources()},methods:{fetchSharedResources(){return oe["a"].get(le["a"].sharedResources({printer_id:this.printer.id})).then(e=>{e.data.length>0&&(this.sharedResource=e.data[0])})},postSharedResources(){return oe["a"].post(le["a"].sharedResources({printer_id:this.printer.id})).then(e=>{e.data.length>0&&(this.sharedResource=e.data[0])})},deleteSharedResources(){return oe["a"].delete(le["a"].sharedResource(this.sharedResource.id)).then(()=>{this.sharedResource=null})},onSharingToggled(){this.sharedResource?this.deleteSharedResources():this.postSharedResources()},copyToClipboard(){this.copyStatus=!0,this.$refs.sharedLink.focus(),this.$refs.sharedLink.select();try{document.execCommand("copy"),this.copyMessage="Copied!"}catch(e){console.error("Fallback: Oops, unable to copy",e),this.copyMessage="Failed!"}}}},gs=fs,vs=(i("fea3"),Object(N["a"])(gs,hs,ms,!1,null,"13b8eed2",null)),bs=vs.exports,ys=function(){var e=this,t=e._self._c;return t("widget-template",{attrs:{"inside-card":e.insideCard},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("Print Job Control")))]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"wrapper"},[!e.printer.isOffline()&&e.printer.hasError()?t("div",{staticClass:"error-container"},[t("div",{staticClass:"title"},[e._v(e._s(e.printer.agentDisplayName())+" "+e._s(e.$t("Error")))]),t("p",{staticClass:"text"},[e._v(" "+e._s(e.printer.status.state.error)+" ")])]):e._e(),e.printer.inUserInteractionRequired()?t("div",{staticClass:"warning-container"},[t("p",{staticClass:"text"},[e._v(e._s(e.$t("Filament Change or User Interaction Required")))])]):e._e(),e.printer.inTransientState()?[t("b-spinner",{attrs:{label:"Processing..."}}),t("p",[e._v(e._s(e.printer.calculatedState())+"...")])]:[e.printer.isOffline()||e.printer.isDisconnected()||!e.printer.isActive()?e._e():[t("p",[e.printer.isPaused()?t("span",[e._v(e._s(e.$t("Print is Paused")))]):t("span",[e._v(e._s(e.$t("Printer is Currently Printing")))])]),t("div",{staticClass:"buttons"},[e.printer.isPaused()?t("b-button",{staticClass:"custom-button",attrs:{variant:"success"},on:{click:function(t){return e.onPauseToggled(t)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-play"}}),e._v(" "+e._s(e.$t("Resume"))+" ")],1):t("b-button",{staticClass:"custom-button",attrs:{variant:"warning"},on:{click:function(t){return e.onPauseToggled(t)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-pause"}}),e._v(" "+e._s(e.$t("Pause"))+" ")],1),t("b-button",{staticClass:"custom-button",attrs:{variant:"danger"},on:{click:e.onCancelClicked}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-circle-xmark"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")],1)],1)],e.printer.isOffline()||e.printer.isDisconnected()||e.printer.isActive()?e._e():[t("p",[e._v(e._s(e.$t("Open G-Code File to Start Printing")))]),t("div",{staticClass:"buttons"},[t("b-button",{staticClass:"custom-button",attrs:{variant:"outline-primary"},on:{click:e.openObicoFiles}},[t("svg",{staticClass:"logo-small custom-svg-icon"},[t("use",{attrs:{href:"#svg-logo-compact"}})]),e._v(" "+e._s(e.$syndicateText.brandName)+" "+e._s(e.$t("Files"))+" ")]),e.printer.isAgentMoonraker()?t("b-button",{staticClass:"custom-button",attrs:{variant:"outline-secondary"},on:{click:e.openPrinterFiles}},[e._v("   "),t("svg",{staticClass:"logo-small custom-svg-icon"},[t("use",{attrs:{href:"#svg-klipper-logo"}})]),t("svg",{staticClass:"logo-small custom-svg-icon"},[t("use",{attrs:{href:"#svg-fluidd-logo"}})]),t("svg",{staticClass:"logo-small custom-svg-icon"},[t("use",{attrs:{href:"#svg-mainsail-logo"}})]),e._v("   ")]):t("b-button",{staticClass:"custom-button",attrs:{variant:"outline-secondary"},on:{click:e.openPrinterFiles}},[t("svg",{staticClass:"logo-small custom-svg-icon"},[t("use",{attrs:{href:"#svg-octoprint-logo"}})]),e._v(" OctoPrint ")])],1)]],!e.printer.isOffline()&&e.printer.isDisconnected()?[t("p",[e._v(e._s(e.$t("Printer Not Connected at the Serial Port")))]),t("div",{staticClass:"buttons"},[e.printer.isAgentMoonraker()?e._e():t("b-button",{attrs:{variant:"outline-primary",disabled:e.connecting},on:{click:e.onConnectClicked}},[e.connecting?t("b-spinner",{attrs:{small:""}}):t("i",{staticClass:"fab fa-usb"}),e._v(" "+e._s(e.connecting?e.$t("Contacting OctoPrint"):e.$t("Connect"))+" ")],1)],1)]:e.printer.isOffline()?[t("i",{staticClass:"fas fa-exclamation-triangle big-icon warning"}),t("p",[e._v(" "+e._s(e.$t("{brandName} for {name} is Offline.",{brandName:e.$syndicateText.brandName,name:e.printer.isAgentMoonraker()?"Klipper":"OctoPrint"}))+" "),t("a",{attrs:{target:"_blank",href:"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/"}},[e._v(e._s(e.$t("Why?")))])])]:e._e(),e.printer?t("b-modal",{attrs:{id:e.modalId,size:"lg"},on:{hidden:e.resetGcodesModal}},[e.selectedGcodeId?t("g-code-file-page",{attrs:{"is-popup":!0,"target-printer-id":e.printer.id,"route-params":{fileId:e.selectedGcodeId,printerId:e.printerFiles?e.printer.id:null},"on-close":()=>e.$bvModal.hide(e.modalId)},on:{goBack:()=>{e.selectedGcodeId=null,e.scrollToTop()}}}):t("g-code-folders-page",{attrs:{"is-popup":!0,"target-printer":e.printer,"route-params":{printerId:e.printerFiles?e.printer.id:null,parentFolder:null},"on-close":()=>e.$bvModal.hide(e.modalId),"saved-path":e.savedPath,"scroll-container-id":e.modalId},on:{openFile:(t,i,n)=>{e.selectedGcodeId=t,e.savedPath=n,e.scrollToTop()}}})],1):e._e()],2)]},proxy:!0}])})},ws=[],_s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"widget",class:{insideCard:e.insideCard}},[t("div",{staticClass:"widget-title"},[e._t("title")],2),t("div",{staticClass:"widget-content"},[e._t("content")],2)])},Cs=[],ks={name:"WidgetTemplate",props:{insideCard:{type:Boolean,default:!1}}},Ps=ks,Ss=(i("0dce"),Object(N["a"])(Ps,_s,Cs,!1,null,"922c39c0",null)),Ds=Ss.exports,xs=function(){var e=this,t=e._self._c;return t("page-layout",{attrs:{"is-popup":e.isPopup},scopedSlots:e._u([{key:"topBarLeft",fn:function(){return[e.isPopup&&null!==e.parentFolder?t("a",{staticClass:"btn shadow-none icon-btn d-inline",attrs:{href:"#",title:"Go Back"},on:{click:function(t){return t.preventDefault(),e.goBack.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-chevron-left"})]):e._e(),!e.isPopup&&e.isCloud?t("div",{staticClass:"actions-with-selected-desktop"},[t("b-form-group",{staticClass:"m-0"},[t("b-form-checkbox",{attrs:{checked:e.allSelected,size:"md"},nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.toggleSelectAll.apply(null,arguments)}}})],1),t("div",[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.selectedItemsCount,expression:"!selectedItemsCount"}],staticClass:"label",on:{click:e.toggleSelectAll}},[e._v(e._s(e.$t("Select all")))]),t("b-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.selectedItemsCount,expression:"selectedItemsCount"}],attrs:{"toggle-class":"btn btn-sm actions-with-selected-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v(" "+e._s(e.selectedItemsCount)+" item"+e._s(1===e.selectedItemsCount?"":"s")+" "+e._s(e.$t("selected"))+" ")]},proxy:!0}],null,!1,4258773973)},[t("b-dropdown-item",[t("div",{on:{click:e.moveSelectedItems}},[t("i",{staticClass:"fas fa-arrows-alt"}),e._v(e._s(e.$t("Move")))])]),t("b-dropdown-item",[t("div",{staticClass:"text-danger",on:{click:e.deleteSelectedItems}},[t("i",{staticClass:"far fa-trash-alt"}),e._v(e._s(e.$t("Delete"))+" ")])])],1)],1)],1):e._e(),t("search-input",{staticClass:"search-input mr-3",on:{input:e.updateSearch}})]},proxy:!0},{key:"topBarRight",fn:function(){return[t("div",{staticClass:"action-panel"},[e.isCloud?t("a",{staticClass:"btn shadow-none icon-btn d-none d-md-inline",attrs:{href:"#",title:"Create folder"},on:{click:function(t){return t.preventDefault(),e.createFolder.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-folder-plus"})]):e._e(),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-server"})]},proxy:!0}])},[t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(e.$t("STORAGE")))]),t("b-dropdown-item",{on:{click:e.switchToCloudStorage}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.isCloud?"visible":"hidden"}}),t("div",{staticClass:"text"},[t("div",{staticClass:"title"},[e._v(e._s(e.$syndicateText.brandName)+" "+e._s(e.$t("Cloud")))])])])]),e._l(e.printers,(function(i){return t("b-dropdown-item",{key:i.id,on:{click:()=>e.switchToPrinterStorage(i)}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.selectedPrinterId===i.id?"visible":"hidden"}}),t("div",{staticClass:"text"},[t("div",{staticClass:"title"},[e._v(e._s(i.name))]),t("div",{staticClass:"subtitle",class:[e.isPrinterBrowsable(i)?"text-success":"text-warning"]},[e._v(" "+e._s(e.printerBrowsabilityText(i))+" ")])])])])}))],2),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"action-btn icon-btn",title:"Sort By"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-sort-amount-down"})]},proxy:!0}])},[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})],1),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":e.mobileMenuOptions},on:{menuOptionClicked:e.onMenuOptionClicked},scopedSlots:e._u([{key:"sorting",fn:function(){return[t("sorting-dropdown",{attrs:{"local-storage-prefix":e.sortingLocalStoragePrefix,"sorting-options":e.sortingOptions,"sorting-value":e.sortingValue},on:{onSortingUpdated:e.onSortingUpdated}})]},proxy:!0},{key:"storage",fn:function(){return[t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(e.$t("STORAGE")))]),t("b-dropdown-item",{on:{click:()=>{e.switchToCloudStorage(),e.$refs.cascadedDropdown.resetMenuExpanded()}}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.isCloud?"visible":"hidden"}}),t("div",{staticClass:"text"},[t("div",{staticClass:"title"},[e._v(e._s(e.$syndicateText.brandName)+" "+e._s(e.$t("Cloud")))])])])]),e._l(e.printers,(function(i){return t("b-dropdown-item",{key:i.id,on:{click:()=>{e.switchToPrinterStorage(i),e.$refs.cascadedDropdown.resetMenuExpanded()}}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.selectedPrinterId===i.id?"visible":"hidden"}}),t("div",{staticClass:"text"},[t("div",{staticClass:"title"},[e._v(e._s(i.name))]),t("div",{staticClass:"subtitle",class:[e.isPrinterBrowsable(i)?"text-success":"text-warning"]},[e._v(" "+e._s(e.printerBrowsabilityText(i))+" ")])])])])}))]},proxy:!0}])})],1),e.onClose?t("a",{staticClass:"btn shadow-none icon-btn d-inline",attrs:{href:"#",title:"Close"},on:{click:function(t){return t.preventDefault(),e.onClose.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-times text-danger"})]):e._e()],1)]},proxy:!0},{key:"content",fn:function(){return[t("b-container",[t("b-row",[t("b-col",[e.isCloud?t("vue-dropzone",{ref:"gcodesDropzone",staticClass:"upload-box",attrs:{id:"dropzone",options:e.dropzoneOptions,"use-custom-slot":!0},on:{"vdropzone-queue-complete":e.gcodeUploadSuccess,"vdropzone-error":e.gcodeUploadError,"vdropzone-sending":e.addParentFolderParam}},[t("div",{staticClass:"dz-message needsclick"},[t("i",{staticClass:"fas fa-upload fa-2x"}),e._v(" "),t("br"),t("div",[e._v(e._s(e.$t("G-Code file (*.gcode, *.gco, or *.g) only.")))]),t("div",[e._v(e._s(e.$t("Up to {maxFilesize} MB each file, {maxTotalFilesize} GB total.",{maxFilesize:e.maxFilesize,maxTotalFilesize:e.maxTotalFilesize})))])])]):e._e(),!e.isCloud&&e.isAgentMoonraker&&e.searchStateIsActive?t("div",{staticClass:"notice-block"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-info"})]),t("p",{staticClass:"message"},[e._v(e._s(e.$t("Search in Klipper printers works only for current directory")))])]):e._e(),t("g-code-file-structure",{ref:"gCodeFileStructure",attrs:{"is-cloud":e.isCloud,"is-popup":e.isPopup,"search-state-is-active":e.searchStateIsActive,"search-in-progress":e.searchInProgress,folders:e.folders,files:e.files,"target-printer":e.targetPrinter,"nothing-found":e.nothingFound,loading:e.loading,"scroll-container-id":e.scrollContainerId,"no-more-folders":e.noMoreFolders,"no-more-files":e.noMoreFiles,"local-files-loading":e.localFilesLoading},on:{openFolder:e.openFolder,openFile:e.openFile,renameItem:e.renameItem,moveItem:e.moveItem,deleteItem:e.deleteItem,print:e.onPrintClicked,fetchMore:e.fetchFilesAndFolders,selectFiles:e.onSelectFiles,selectFolders:e.onSelectFolders}})],1)],1)],1),t("rename-modal",{ref:"renameModal",attrs:{item:e.activeItem,"pre-confirm":e.verifyItemRename},on:{renamed:e.onItemRenamed}}),t("move-modal",{ref:"moveModal",attrs:{item:e.activeItem,items:e.activeItems,"item-parent-folder-id":e.parentFolder,"target-printer":e.targetPrinter,"scroll-container-id":e.scrollContainerId,"sorting-value":e.sortingValue},on:{moved:e.onItemMoved}}),t("delete-confirmation-modal",{ref:"deleteConfirmationModal",attrs:{item:e.activeItem},on:{deleted:e.onItemDeleted}}),t("new-folder-modal",{ref:"newFolderModal",attrs:{"pre-confirm":e.verifyNewFolder,"parent-folder-id":e.parentFolder},on:{created:e.onFolderCreated}})]},proxy:!0}])})},Ts=[],Fs=(i("33d1"),i("ea98"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-wrapper"},[e._m(0),t("input",{staticClass:"dark",attrs:{type:"text",placeholder:e.$t("Search")},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},focus:function(t){return e.$emit("focus")},blur:function(t){return e.$emit("blur")}}})])}),Is=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-icon"},[t("i",{staticClass:"fas fa-search"})])}],As={name:"SearchInput",props:{value:{type:String,default:""}}},$s=As,Os=(i("ebf7"),Object(N["a"])($s,Fs,Is,!1,null,"33fc3084",null)),Ns=Os.exports,Ls=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"b-modal-new-folder",title:e.$t("Enter new folder name"),"ok-title":e.$t("Create"),"cancel-title":e.$t("Cancel"),"ok-disabled":!e.newFolderName.length,centered:""},on:{ok:e.handleOk,hidden:e.resetModal,shown:e.focusInput}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"my-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newFolderName,expression:"newFolderName"}],ref:"input",staticClass:"input-lg",attrs:{type:"text",name:"name",placeholder:e.$t("Folder name"),required:"required"},domProps:{value:e.newFolderName},on:{input:function(t){t.target.composing||(e.newFolderName=t.target.value)}}}),e.errorMessage?t("b-alert",{staticClass:"mt-3",attrs:{variant:"danger",show:""}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],1)])])},Ms=[],Es={name:"NewFolderModal",props:{preConfirm:{type:Function,default:null},parentFolderId:{type:String,default:null}},data(){return{newFolderName:"",errorMessage:"",isOpen:!1}},methods:{show(){this.isOpen=!0,this.$bvModal.show("b-modal-new-folder")},focusInput(){this.$refs.input.select()},resetModal(){this.isOpen=!1,this.newFolderName="",this.errorMessage=""},handleOk(e){e.preventDefault(),this.handleSubmit()},async handleSubmit(){if(this.newFolderName){if(this.preConfirm){const e=this.preConfirm(this.newFolderName);if(!0!==e)return void(this.errorMessage=e)}try{const e=await oe["a"].post(le["a"].gcodeFolders(),{name:this.newFolderName,parent_folder:this.parentFolderId});this.$emit("created",e.data.id),this.$bvModal.hide("b-modal-new-folder")}catch(e){return void console.log(e)}}}}},zs=Es,Rs=(i("295c"),Object(N["a"])(zs,Ls,Ms,!1,null,"47badcdc",null)),Bs=Rs.exports,Us=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"b-modal-rename",title:e.$t("Enter new name"),"ok-title":e.$t("Rename"),"cancel-title":e.$t("Cancel"),centered:""},on:{ok:e.handleOk,hidden:e.resetModal,shown:e.focusInput}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"my-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newItemName,expression:"newItemName"}],ref:"input",staticClass:"input-lg",attrs:{type:"text",name:"name",placeholder:e.$t("New name"),required:"required"},domProps:{value:e.newItemName},on:{input:function(t){t.target.composing||(e.newItemName=t.target.value)}}}),e.errorMessage?t("b-alert",{staticClass:"mt-3",attrs:{variant:"danger",show:""}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],1)])])},js=[],Ws={name:"RenameModal",components:{},props:{item:{type:Object,default:null},preConfirm:{type:Function,default:null}},data(){return{newItemName:"",errorMessage:"",isOpen:!1}},computed:{itemType(){return this.item.filename?"file":"folder"},fullName(){return"file"===this.itemType?`${this.newItemName}.${this.fileExt}`:this.newItemName},fileExt(){return"folder"===this.itemType?null:this.item.filename.split(".").at(-1)},nameWithoutExt(){if("folder"===this.itemType)return this.item.name;{const e=this.item.filename;return e.slice(0,e.length-this.fileExt.length-1)}},newNameWithExt(){return"folder"===this.itemType?this.newItemName:`${this.newItemName}.${this.fileExt}`}},methods:{show(){this.isOpen=!0,this.$nextTick(()=>{this.item?(this.newItemName=this.nameWithoutExt,this.$bvModal.show("b-modal-rename")):this.isOpen=!1})},focusInput(){this.$refs.input.select()},close(){this.$bvModal.hide("b-modal-rename"),this.resetModal()},resetModal(){this.isOpen=!1,this.newItemName="",this.errorMessage=""},handleOk(e){this.newNameWithExt!==(this.item.filename||this.item.name)?(e.preventDefault(),this.handleSubmit()):this.close()},async handleSubmit(){const e=this.item.id;if(this.newItemName)if(this.newNameWithExt!==(this.item.filename||this.item.name)){if(this.preConfirm){const e=this.preConfirm(this.newNameWithExt);if(!0!==e)return void(this.errorMessage=e)}try{const t="file"===this.itemType?le["a"].gcodeFile(e):le["a"].gcodeFolder(e);await oe["a"].patch(t,`${"file"===this.itemType?"filename":"name"}=${this.newNameWithExt}`)}catch(t){return this.errorMessage=""+this.$i18next.t("Server error"),void console.log(t)}this.$emit("renamed",this.newNameWithExt),this.close()}else this.close()}}},Hs=Ws,Vs=(i("49b1"),Object(N["a"])(Hs,Us,js,!1,null,"bc4fae7e",null)),Ys=Vs.exports,Gs=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"b-modal-move",title:e.$t("Move item"),"ok-title":e.$t("Place Here"),"cancel-title":e.$t("Cancel"),"ok-disabled":e.isSameDir||e.patchLoading,scrollable:""},on:{ok:e.handleOk,hidden:e.resetModal},scopedSlots:e._u([{key:"modal-title",fn:function(){return[t("div",{staticClass:"title"},[null!==e.parentFolder?t("a",{staticClass:"btn shadow-none icon-btn d-inline",attrs:{href:"#",title:e.$t("Go Back")},on:{click:function(t){return t.preventDefault(),e.goBack.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-chevron-left"})]):e._e(),t("h5",{staticClass:"modal-title"},[e._v(e._s(e.$t("Move item")))])])]},proxy:!0}])},[t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("g-code-file-structure",{attrs:{folders:e.folders,files:e.files,"target-printer":e.targetPrinter,loading:e.loading,"scroll-container-id":"b-modal-move___BV_modal_body_","no-more-folders":e.noMoreFolders,"no-more-files":!0,"is-move-modal":!0,"disabled-items":e.disabledItems},on:{openFolder:e.openFolder,fetchMore:e.fetchFilesAndFolders}})],1)])},qs=[],Ks=function(){var e=this,t=e._self._c;return t("div",{staticClass:"gcodes-wrapper",class:{"is-move-modal":e.isMoveModal}},[e.isMoveModal?e._e():t("div",{staticClass:"header-panel",class:{"without-action-buttons":!e.isCloud&&!e.targetPrinter}},[t("div",{staticClass:"text"},[e._v(e._s(e.$t("Name")))]),t("div",{staticClass:"text"},[e._v(e._s(e.$t("Size")))]),t("div",{staticClass:"text"},[e._v(e._s(e.$t("Created")))]),e.isCloud?t("div",{staticClass:"text"},[e._v(e._s(e.$t("Last Printed")))]):e._e()]),t("div",{staticClass:"gcode-items-wrapper"},[t("div",e._l([...e.folders,...e.files],(function(i,n){return t("file-structure-item",{directives:[{name:"show",rawName:"v-show",value:e.isFolder(i)&&!e.searchStateIsActive||!e.isFolder(i)&&!e.searchInProgress,expression:"\n          (isFolder(item) && !searchStateIsActive) || (!isFolder(item) && !searchInProgress)\n        "}],key:`${e.isFolder(i)?"folder":"file"}_${n}`,attrs:{item:i,"is-cloud":e.isCloud,"target-printer":e.targetPrinter,"is-move-modal":e.isMoveModal,disabled:e.isFolder(i)?e.disabledItems.folders.includes(i.id):e.disabledItems.files.includes(i.id),selectable:!e.isMoveModal&&e.isCloud&&!e.isPopup,selected:e.isFolder(i)?e.selectedFolders.has(i.id):e.selectedFiles.has(i.id)},on:{click:function(t){e.isFolder(i)?e.$emit("openFolder",i):e.$emit("openFile",i)},renameItem:function(t){return e.$emit("renameItem",i)},moveItem:function(t){return e.$emit("moveItem",i)},deleteItem:function(t){return e.$emit("deleteItem",i)},print:function(t){return e.$emit("print",i)},selectedChanged:e.onSelectedChanged}})})),1),e.isCloud?t("mugen-scroll",{staticClass:"text-center",attrs:{"v-show":!e.isFolderEmpty,handler:()=>e.$emit("fetchMore"),"should-handle":!e.loading,"scroll-container":e.scrollContainerId}},[e.noMoreFolders&&e.noMoreFiles&&!e.searchInProgress?e._e():t("div",{staticClass:"py-5"},[t("b-spinner",{attrs:{label:e.$t("Loading...")}})],1)]):e._e(),e.isCloud||!e.localFilesLoading&&!e.searchInProgress?t("div",[e.isFolderEmpty?t("div",{staticClass:"placeholder text-secondary"},[t("span",[e._v(e._s(e.$t("Nothing here yet")))])]):e.nothingFound?t("div",{staticClass:"placeholder text-secondary"},[t("span",[e._v(e._s(e.$t("Nothing found")))])]):e._e()]):t("div",{staticClass:"text-center py-5"},[t("b-spinner",{attrs:{label:e.$t("Loading...")}})],1)],1)])},Js=[],Zs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"item",class:{disabled:e.isDisabled,"move-modal":e.isMoveModal},on:{click:()=>!e.isDisabled&&e.$emit("click")}},[e.selectable?t("div",{staticClass:"checkbox-wrapper",class:{isSelected:e.isSelected}},[t("b-form-checkbox",{attrs:{size:"md",checked:e.isSelected},nativeOn:{"!click":function(t){t.stopPropagation(),t.preventDefault(),e.isSelected=!e.isSelected}}})],1):e._e(),t("div",{staticClass:"item-info"},[t("div",{staticClass:"filename"},[t("div",{staticClass:"thumbnail-wrapper",class:{folder:e.isFolder}},[!e.isFolder&&e.item.getSmallThumbnailUrl()?t("div",{staticClass:"thumbnail"},[t("img",{attrs:{src:e.item.getSmallThumbnailUrl()}})]):t("div",{staticClass:"placeholder"},[e.isFolder?t("i",{staticClass:"fas fa-folder"}):t("i",{staticClass:"fas fa-file-code"})])]),t("span",{staticClass:"truncated"},[e._v(e._s(e.isFolder?e.item.name:e.item.filename))])]),t("div",{staticClass:"size"},[e.isFolder?e._e():t("span",[e._v(e._s(e.item.filesize))]),e.isFolder?t("span",[e._v(e._s(e.item.numItems)+" item(s)")]):e._e()]),e.isMoveModal?e._e():t("div",{staticClass:"created"},[e._v(" "+e._s(e.item.created_at?e.item.created_at.fromNow():"-")+" ")]),e.isMoveModal?e._e():[!e.isFolder&&e.isCloud?t("div",{staticClass:"last-printed"},[e.item.print_set?e.item.print_set.length?e.item.last_print?t("span",[e._v(e._s(e.item.last_print.ended_at?e.item.last_print.ended_at.fromNow():e.$t("Printing...")))]):e._e():t("span",[e._v(e._s(e.$t("No prints yet")))]):t("span",[e._v("-")]),e.item.last_print&&e.item.last_print.ended_at?t("div",{staticClass:"circle-indicator",class:{cancelled:e.item.last_print.cancelled_at,finished:e.item.last_print.finished_at}}):e._e()]):e._e(),e.isFolder&&e.isCloud?t("div",{staticClass:"d-none d-md-block"}):e._e()]],2),!e.isMoveModal&&(!e.isFolder&&(e.isCloud||e.targetPrinter)||e.isFolder&&e.isCloud)?t("div",[t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn py-0"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}],null,!1,3452768261)},[!e.isFolder&&e.targetPrinter?t("b-dropdown-item",{on:{click:function(t){return t.stopPropagation(),e.$emit("print",e.item)}}},[t("span",{staticClass:"text-primary"},[t("i",{staticClass:"fas fa-play-circle"}),e._v(e._s(e.$t("Print on"))+" "+e._s(e.targetPrinter.name)+" ")])]):e._e(),e.isCloud?t("b-dropdown-item",{on:{click:function(t){return t.stopPropagation(),e.$emit("renameItem",e.item)}}},[t("i",{staticClass:"fas fa-edit"}),e._v(e._s(e.$t("Rename"))+" ")]):e._e(),e.isCloud?t("b-dropdown-item",{on:{click:function(t){return t.stopPropagation(),e.$emit("moveItem",e.item)}}},[t("i",{staticClass:"fas fa-arrows-alt"}),e._v(e._s(e.$t("Move"))+" ")]):e._e(),e.isCloud?t("b-dropdown-item",{on:{click:function(t){return t.stopPropagation(),e.$emit("deleteItem",e.item)}}},[t("span",{staticClass:"text-danger"},[t("i",{staticClass:"fas fa-trash-alt"}),e._v(e._s(e.$t("Delete"))+" ")])]):e._e()],1)],1):e._e()])},Qs=[],Xs={name:"FileStructureItem",props:{item:{type:Object,required:!0},isCloud:{type:Boolean,default:!0},targetPrinter:{type:Object,default:null},isMoveModal:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1}},data:function(){return{isSelected:this.selected}},computed:{isFolder(){return!this.item.filename},isDisabled(){return this.isMoveModal&&!this.isFolder||this.disabled}},watch:{isSelected(e){this.$emit("selectedChanged",this.item,e)},selected(e){this.isSelected=e}}},eo=Xs,to=(i("c9b4"),Object(N["a"])(eo,Zs,Qs,!1,null,"ad2c3ac6",null)),io=to.exports,no={name:"GCodeFileStructure",components:{MugenScroll:ni.a,FileStructureItem:io},props:{folders:{type:Array,default:()=>[]},files:{type:Array,default:()=>[]},noMoreFolders:{type:Boolean,default:!1},noMoreFiles:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},localFilesLoading:{type:Boolean,default:!1},isCloud:{type:Boolean,default:!0},isPopup:{type:Boolean,default:!1},searchStateIsActive:{type:Boolean,default:!1},searchInProgress:{type:Boolean,default:!1},nothingFound:{type:Boolean,default:!1},targetPrinter:{type:Object,default:null},scrollContainerId:{type:String,default:null},isMoveModal:{type:Boolean,default:!1},disabledItems:{type:Object,default:()=>({folders:[],files:[]})}},data:function(){return{selectedFiles:new Set,selectedFolders:new Set}},computed:{isFolderEmpty(){return!this.searchStateIsActive&&!this.loading&&!this.files.length&&!this.folders.length}},methods:{onSelectedChanged(e,t){const i=this.isFolder(e)?new Set(this.selectedFolders):new Set(this.selectedFiles);t?i.add(e.id):i.delete(e.id),this.isFolder(e)?(this.selectedFolders=i,this.$emit("selectFolders",this.selectedFolders)):(this.selectedFiles=i,this.$emit("selectFiles",this.selectedFiles))},isFolder(e){return!e.filename},selectAll(){this.selectedFolders=new Set(this.folders.map(e=>e.id)),this.selectedFiles=new Set(this.files.map(e=>e.id)),this.$emit("selectFolders",this.selectedFolders),this.$emit("selectFiles",this.selectedFiles)},unselectAll(){this.selectedFolders=new Set,this.selectedFiles=new Set,this.$emit("selectFolders",this.selectedFolders),this.$emit("selectFiles",this.selectedFiles)}}},ao=no,ro=(i("e1a7"),Object(N["a"])(ao,Ks,Js,!1,null,"254b72e8",null)),so=ro.exports;const oo=24;var lo={name:"MoveModal",components:{GCodeFileStructure:so},props:{item:{type:Object,default:null},items:{type:Object,default:null},targetPrinter:{type:Object,default:null},scrollContainerId:{type:String,default:null},sortingValue:{type:Object,required:!0},itemParentFolderId:{type:String,default:""}},data(){return{path:[],isOpen:!1,loading:!1,patchLoading:!1,folders:[],files:[],noMoreFolders:!1,currentFoldersPage:1,currentFilesPage:1}},computed:{disabledItems(){const e={files:[],folders:[]};return this.item&&"file"===this.itemType?e.files=[this.item.id]:this.item&&"folder"===this.itemType?e.folders=[this.item.id]:this.items&&(e.files=this.items.files,e.folders=this.items.folders),e},itemType(){return this.item?this.item.filename?"file":"folder":null},parentFolder(){return this.path&&this.path.length>0?this.path.at(-1):null},isSameDir(){return null===this.parentFolder&&!this.itemParentFolderId||parseInt(this.itemParentFolderId)===this.parentFolder}},methods:{goBack(){this.path.pop(),this.fetchFilesAndFolders(!0)},openFolder(e){this.path.push(e.id),this.fetchFilesAndFolders(!0)},resetFiles(){this.folders=[],this.files=[],this.noMoreFolders=!1,this.currentFoldersPage=1,this.currentFilesPage=1},async fetchFilesAndFolders(e=!1){if(this.loading)return;if(e&&this.resetFiles(),this.noMoreFolders)return;this.loading=!0;let t=[];if(!this.noMoreFolders){try{var i,n;const e={parent_folder:this.parentFolder||"null",page:this.currentFoldersPage,page_size:oo};this.sortingValue.sorting.folderKey&&(e.sorting=`${this.sortingValue.sorting.folderKey}_${this.sortingValue.direction.key}`);let a=await oe["a"].get(le["a"].gcodeFolders(),{params:e});a=a.data,this.noMoreFolders=null===(null===(i=a)||void 0===i?void 0:i.next),t=(null===(n=a)||void 0===n?void 0:n.results)||[]}catch(a){this.loading=!1,this.errorDialog(a)}this.folders.push(...t.map(e=>Ie(e))),this.currentFoldersPage+=1}this.loading=!1},show(){this.isOpen=!0,this.fetchFilesAndFolders(),this.$nextTick(()=>{this.item||this.items?this.$bvModal.show("b-modal-move"):this.isOpen=!1})},close(){this.$bvModal.hide("b-modal-move"),this.resetModal()},resetModal(){this.isOpen=!1,this.path=[],this.resetFiles()},handleOk(e){e.preventDefault(),this.handleSubmit()},async handleSubmit(){this.patchLoading=!0;const e=this.parentFolder||"";try{if(this.item){const t=this.item.id,i="file"===this.itemType?le["a"].gcodeFile(t):le["a"].gcodeFolder(t);await oe["a"].patch(i,"parent_folder="+e)}else this.items&&(this.items.folders.length&&await oe["a"].post(le["a"].gcodeFolderBulkMove(),{folder_ids:this.items.folders,parent_folder:e}),this.items.files.length&&await oe["a"].post(le["a"].gcodeFileBulkMove(),{file_ids:this.items.files,parent_folder:e}))}catch(t){this.errorDialog(t,""+this.$i18next.t("Failed to move item(s)"))}this.patchLoading=!1,this.$emit("moved"),this.close()}}},co=lo,uo=(i("5fad"),Object(N["a"])(co,Gs,qs,!1,null,"3ff54ded",null)),po=uo.exports,ho=function(){var e=this,t=e._self._c;return t("div")},mo=[],fo={name:"RenameModal",props:{item:{type:Object,default:null}},data(){return{isOpen:!1}},created(){},mounted(){},methods:{show(){this.isOpen=!0,this.$bvModal.msgBoxConfirm(""+this.$i18next.t("Are you sure?"),{id:"b-modal-confirm-delete",centered:!0,okTitle:""+this.$i18next.t("Delete"),okVariant:"danger",size:"sm",autoFocusButton:"ok"}).then(async e=>{if(this.isOpen=!1,e){try{const e=this.item.filename?le["a"].gcodeFile(this.item.id):le["a"].gcodeFolder(this.item.id);await oe["a"].delete(e)}catch(t){return void console.log(t)}this.$emit("deleted")}}).catch(e=>{this.errorDialog(e,""+this.$i18next.t("Failed to delete item"))})}}},go=fo,vo=(i("1705"),Object(N["a"])(go,ho,mo,!1,null,null,null)),bo=vo.exports;const yo=1e3,wo=24,_o="gcodesSorting",Co={options:[{title:""+G["a"].t("Name"),key:"filename",folderKey:"name"},{title:""+G["a"].t("Size"),key:"num_bytes"},{title:""+G["a"].t("Created"),key:"created_at",folderKey:"created_at"}],default:{sorting:"created_at",direction:"desc"}};var ko={name:"GCodeFoldersPage",components:{PageLayout:It,SearchInput:Ns,vueDropzone:lr.a,GCodeFileStructure:so,RenameModal:Ys,MoveModal:po,DeleteConfirmationModal:bo,NewFolderModal:Bs,SortingDropdown:vi,CascadedDropdown:ci},props:{isPopup:{type:Boolean,default:!1},onClose:{type:Function,default:null},scrollContainerId:{type:String,default:null},targetPrinter:{type:Object,default:null},savedPath:{type:Array,default:()=>[]},routeParams:{type:Object,default:()=>({printerId:null,parentFolder:null})}},data(){return{PrintStatus:xe,csrf:null,user:null,loading:!1,parentFolder:null,path:[],files:[],folders:[],noMoreFolders:!1,noMoreFiles:!1,currentFoldersPage:1,currentFilesPage:1,sortingLocalStoragePrefix:_o,sortingOptions:Co,sortingValue:mi(_o,Co),searchQuery:null,searchStateIsActive:!1,searchTimeoutId:null,activeItem:null,activeItems:null,printers:[],selectedPrinterId:void 0,selectedPrinterComm:void 0,localFilesLoading:!1,selectedFolders:new Set,selectedFiles:new Set}},computed:{selectedItemsCount(){return this.selectedFiles.size+this.selectedFolders.size},allSelected(){const e=this.files.length+this.folders.length;return this.selectedItemsCount===e&&0!==e},mobileMenuOptions(){const e=[{key:"storage",icon:"fas fa-server",title:""+this.$i18next.t("File storage"),expandable:!0},{key:"sorting",icon:"fas fa-sort-amount-down",title:""+this.$i18next.t("Sort"),expandable:!0}];return this.isCloud&&e.unshift({key:"createFolder",icon:"fas fa-folder-plus",title:""+this.$i18next.t("Create folder"),callback:!0}),e},isAgentMoonraker(){const e=this.printers.find(e=>e.id===this.selectedPrinterId);return!e||e.isAgentMoonraker()},isCloud(){return!this.selectedPrinterId},nothingFound(){return this.searchStateIsActive&&!this.searchTimeoutId&&!this.files.length},searchInProgress(){return this.searchStateIsActive&&!!this.searchTimeoutId},maxFilesize(){return this.user.is_pro?500:50},maxTotalFilesize(){return this.user.is_pro?50:1},dropzoneOptions(){return{withCredentials:!0,maxFilesize:this.maxFilesize,timeout:36e5,acceptedFiles:".g,.gcode,.gco",url:le["a"].gcodeFiles(),headers:{"X-CSRFToken":this.csrf}}}},async created(){this.csrf=Object(Pn["c"])(),this.user=Object(Q["f"])(),this.savedPath&&this.savedPath.length>=1?(this.parentFolder=this.savedPath.at(-1),this.path=this.savedPath.slice(0,this.savedPath.length-1)):this.parentFolder=this.getRouteParam("parentFolder")||null,this.selectedPrinterId=Number(this.getRouteParam("printerId"))||null,this.isPopup||this.$watch(()=>this.$route.params,(e,t)=>{this.parentFolder=e.parentFolder||null,this.selectedPrinterId=Number(this.getRouteParam("printerId"))||null,this.fetchFilesAndFolders(!0)}),await this.fetchPrinters(),this.fetchFilesAndFolders(!0)},methods:{isPrinterBrowsable(e){return!(e.isOffline()||!e.isAgentVersionGte("2.3.0","1.2.0"))},printerBrowsabilityText(e){return this.isPrinterBrowsable(e)?""+this.$i18next.t("Available to browse files"):""+this.$i18next.t("Unable to browse files")},toggleSelectAll(){this.allSelected?this.$refs.gCodeFileStructure.unselectAll():this.$refs.gCodeFileStructure.selectAll()},onSelectFiles(e){this.selectedFiles=e},onSelectFolders(e){this.selectedFolders=e},moveSelectedItems(){this.activeItems={files:Array.from(this.selectedFiles),folders:Array.from(this.selectedFolders)},this.$refs.moveModal.show()},deleteSelectedItems(){const e=Array.from(this.selectedFolders),t=Array.from(this.selectedFiles);this.$swal.Prompt.fire({title:""+this.$i18next.t("Are you sure?"),text:""+this.$i18next.t("Delete {name} item(s)? This action can not be undone.",{name:e.length+t.length}),showCancelButton:!0,confirmButtonText:""+this.$i18next.t("Yes"),cancelButtonText:""+this.$i18next.t("No")}).then(async i=>{if(i.isConfirmed)try{e.length&&await oe["a"].post(le["a"].gcodeFolderBulkDelete(),{folder_ids:e}),t.length&&await oe["a"].post(le["a"].gcodeFileBulkDelete(),{file_ids:t})}catch(n){this.errorDialog(n,""+this.$i18next.t("Failed to delete files and folders"))}finally{this.fetchFilesAndFolders(!0)}})},switchToCloudStorage(){this.parentFolder=null,this.path=[],this.selectedPrinterId=null,this.selectedPrinterComm=null,this.isPopup?this.fetchFilesAndFolders(!0):"/g_code_folders/cloud/"!==this.$route.path&&this.$router.replace("/g_code_folders/cloud/")},switchToPrinterStorage(e){this.isPrinterBrowsable(e)?(this.parentFolder=null,this.path=[],this.selectedPrinterId=e.id,this.selectedPrinterComm=null,this.isPopup?this.fetchFilesAndFolders(!0):Number(this.getRouteParam("printerId"))!==e.id&&this.$router.replace(`/g_code_folders/local/${e.id}/`)):this.$swal.Reject.fire({title:this.$i18next.t("{name} isn't available for browsing files for one of the following reasons",{name:e.name})+":",html:`<ul style="text-align: left">\n            <li>${this.$i18next.t("{name} is powered off or not connected to the Internet",{name:e.agentDisplayName()})}</li>\n            <li>${this.$i18next.t("Printer is not connected to {name}",{name:e.agentDisplayName()})}</li>\n            <li>${this.$i18next.t("{brandName} for {name} plugin is outdated (you need version {version} or later)",{brandName:this.$syndicateText.brandName,name:e.agentDisplayName(),version:e.browsabilityMinPluginVersion()})}</li>\n          </ul>`})},getRouteParam(e){return this.isPopup?this.routeParams[e]:this.$route.params[e]},goBack(){this.path.length&&(this.parentFolder=this.path.pop(),this.fetchFilesAndFolders(!0))},resetFiles(){this.folders=[],this.files=[],this.$refs.gCodeFileStructure.unselectAll(),this.noMoreFolders=!1,this.noMoreFiles=!1,this.currentFoldersPage=1,this.currentFilesPage=1},async fetchPrinters(){let e;try{e=await oe["a"].get(le["a"].printers()),e=e.data}catch(t){console.error(t)}e&&(e=e.map(e=>Ae(e)),e=e.sort((e,t)=>Number(this.isPrinterBrowsable(t))-Number(this.isPrinterBrowsable(e))),this.printers=this.targetPrinter?e.filter(e=>e.id===this.targetPrinter.id):e)},async fetchLocalFiles(){if(!this.selectedPrinterComm)return;this.localFilesLoading=!0;const e=this.isAgentMoonraker?xa:Da;e(this.selectedPrinterComm,this.parentFolder?decodeURIComponent(this.parentFolder):null,this.searchQuery).then(e=>{if(this.localFilesLoading=!1,e){const{folders:t,files:i}=e;this.folders=t,this.files=i}})},async fetchFilesAndFolders(e=!1,t=!1){if(this.loading)return;if(e&&this.resetFiles(),this.selectedPrinterId)return this.printers.find(e=>e.id===this.selectedPrinterId)||this.$swal.Reject.fire({title:""+this.$i18next.t("Error"),text:""+this.$i18next.t("Printer not found or unavailable")}).then(()=>{this.isPopup&&this.onClose?this.onClose():window.location.assign("/g_code_folders/cloud/")}),this.localFilesLoading=!0,void(this.selectedPrinterComm?this.fetchLocalFiles():(this.selectedPrinterComm=Ca.getOrCreatePrinterComm(this.selectedPrinterId,le["a"].printerWebSocket(this.selectedPrinterId)),this.selectedPrinterComm.connect(this.fetchLocalFiles)));if(this.searchQuery&&(this.noMoreFolders=!0),this.noMoreFolders&&this.noMoreFiles)return;this.loading=!0;let i=[],n=[];if(!this.noMoreFolders){try{var a,r;const e={parent_folder:this.parentFolder||"null",page:this.currentFoldersPage,page_size:wo};this.sortingValue.sorting.folderKey&&(e.sorting=`${this.sortingValue.sorting.folderKey}_${this.sortingValue.direction.key}`);let t=await oe["a"].get(le["a"].gcodeFolders(),{params:e});t=t.data,this.noMoreFolders=null===(null===(a=t)||void 0===a?void 0:a.next),i=(null===(r=t)||void 0===r?void 0:r.results)||[]}catch(c){this.loading=!1,this.errorDialog(c)}this.currentFoldersPage+=1}if(!this.noMoreFiles&&i.length<wo){try{var s,o;let e=await oe["a"].get(le["a"].gcodeFiles(),{headers:{"Cache-Control":"no-cache"},params:{parent_folder:this.searchQuery?void 0:this.parentFolder||"null",page:this.currentFilesPage,page_size:wo,sorting:`${this.sortingValue.sorting.key}_${this.sortingValue.direction.key}`,q:this.searchQuery}});e=e.data,this.noMoreFiles=null===(null===(s=e)||void 0===s?void 0:s.next),n=(null===(o=e)||void 0===o?void 0:o.results)||[]}catch(c){this.loading=!1,this.errorDialog(c)}if(this.currentFilesPage+=1,t)try{var l;let e=await oe["a"].get(le["a"].gcodeFiles(),{params:{parent_folder:this.parentFolder||"null",page_size:1,sorting:"created_at_desc"}});e=e.data,null!==(l=e)&&void 0!==l&&l.results&&e.results[0]&&this.onPrintClicked(e.results[0])}catch(c){this.loading=!1,this.errorDialog(c)}}this.folders.push(...i.map(e=>Ie(e))),this.files.push(...n.map(e=>Fe(e))),this.loading=!1},updateSearch(e){if(clearTimeout(this.searchTimeoutId),this.searchTimeoutId=null,this.searchStateIsActive=!!e,!this.searchStateIsActive)return this.searchQuery=null,void this.fetchFilesAndFolders(!0);this.searchTimeoutId=setTimeout(async()=>{this.searchQuery=e,this.fetchFilesAndFolders(!0),this.searchTimeoutId=null},yo)},addParentFolderParam(e,t,i){i.append("filename",e.name),null!==this.parentFolder&&i.append("parent_folder",this.parentFolder)},gcodeUploadSuccess(){const e=this.targetPrinter&&1===this.$refs.gcodesDropzone.getAcceptedFiles().length&&0===this.$refs.gcodesDropzone.getRejectedFiles().length;this.$refs.gcodesDropzone.removeAllFiles(),this.files=[],this.fetchFilesAndFolders(!0,e)},gcodeUploadError(e,t){this.$swal.Reject.fire({html:`<p class="text-center">${t}</p>`})},renameItem(e){this.activeItem=e,this.$refs.renameModal.show()},verifyItemRename(e){return!(!this.activeItem.filename&&this.folders.find(t=>t.name===e))||""+this.$i18next.t("Folder with this name already exists")},onItemRenamed(e){if(!this.activeItem)return;const t=this.activeItem.filename?this.files:this.folders;for(let i in t)if(t[i].id===this.activeItem.id){if(this.activeItem.filename){this.files[i].filename=e;break}this.folders[i].name=e;break}this.activeItem=null},moveItem(e){this.activeItem=e,this.$refs.moveModal.show()},onItemMoved(){(this.activeItem||this.activeItems)&&(this.activeItem=null,this.activeItems=null,this.fetchFilesAndFolders(!0))},deleteItem(e){this.activeItem=e,this.$refs.deleteConfirmationModal.show()},onItemDeleted(){if(!this.activeItem)return;const e=this.activeItem.filename?this.files:this.folders;for(let t in e)if(e[t].id===this.activeItem.id){if(this.activeItem.filename){this.files.splice(t,1);break}this.folders.splice(t,1);break}this.activeItem=null},createFolder(){this.$refs.newFolderModal.show()},onMenuOptionClicked(e){"createFolder"===e&&this.createFolder()},verifyNewFolder(e){return!this.folders.find(t=>t.name===e)||""+this.$i18next.t("Folder with this name already exists")},onFolderCreated(e){this.fetchFilesAndFolders(!0)},openFolder(e){this.isPopup?(this.path.push(this.parentFolder),this.parentFolder=String(e.id),this.fetchFilesAndFolders(!0)):this.selectedPrinterId?this.$router.push(`/g_code_folders/local/${this.selectedPrinterId}/${encodeURIComponent(e.path)}/`):this.$router.push(`/g_code_folders/cloud/${e.id}/`)},openFile(e){this.isPopup?this.$emit("openFile",this.selectedPrinterId?encodeURIComponent(e.path):e.id,this.selectedPrinterId,[...this.path,this.parentFolder]):this.selectedPrinterId?window.location.assign(`/g_code_files/local/${this.selectedPrinterId}/${encodeURIComponent(e.path)}/`):window.location.assign(`/g_code_files/cloud/${e.id}/`)},onPrintClicked(e){Aa(e,this.targetPrinter).then(()=>{Oa({printer:this.targetPrinter,gcode:e,isCloud:this.isCloud,Swal:this.$swal,onCommandSent:()=>{this.isPopup&&this.$bvModal.hide("b-modal-gcodes"+this.targetPrinter.id)}})})},onSortingUpdated(e){this.sortingValue=e,this.fetchFilesAndFolders(!0)}}},Po=ko,So=(i("6f88"),Object(N["a"])(Po,xs,Ts,!1,null,"5d00d77d",null)),Do=So.exports,xo=function(){var e=this,t=e._self._c;return t("page-layout",{attrs:{"is-popup":e.isPopup},scopedSlots:e._u([{key:"topBarLeft",fn:function(){return[e.isPopup?t("a",{staticClass:"btn shadow-none icon-btn d-inline",attrs:{href:"#",title:e.$t("Go Back")},on:{click:function(t){return t.preventDefault(),e.goBack.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-chevron-left"})]):e._e()]},proxy:!0},{key:"topBarRight",fn:function(){return[t("div",{staticClass:"action-panel"},[e.isCloud?t("a",{staticClass:"btn shadow-none icon-btn action-btn",attrs:{href:"#",title:e.$t("Rename file")},on:{click:function(t){return t.preventDefault(),e.renameFile.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-edit"})]):e._e(),e.isCloud?t("a",{staticClass:"text-danger btn shadow-none icon-btn action-btn",attrs:{href:"#",title:e.$t("Delete file")},on:{click:function(t){return t.preventDefault(),e.deleteFile.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-trash-alt"})]):e._e(),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}])},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":[{key:"renameFile",icon:"fas fa-edit",title:e.$t("Rename file"),callback:!0},{key:"deleteFile",icon:"fas fa-trash-alt",customMenuOptionClass:"text-danger",title:e.$t("Delete file"),callback:!0}]},on:{menuOptionClicked:e.onMenuOptionClicked}})],1),e.onClose?t("a",{staticClass:"btn shadow-none icon-btn d-inline",attrs:{href:"#",title:"Close"},on:{click:function(t){return t.preventDefault(),e.onClose.apply(null,arguments)}}},[t("i",{staticClass:"fas fa-times text-danger"})]):e._e()],1)]},proxy:!0},{key:"content",fn:function(){return[e.loading||e.gcodeNotFound?t("b-container",[t("b-row",[t("b-col",{staticClass:"text-center mt-5"},[e.gcodeNotFound?t("div",[t("p",[e._v(e._s(e.$t("This G-Code file doesn't exists")))])]):t("div",[t("b-spinner")],1)])],1)],1):t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",{attrs:{lg:e.isPopup?12:5}},[t("b-alert",{attrs:{show:e.isDeleted,variant:"warning warning-block"}},[e._v(" "+e._s(e.$t("This file is deleted and unavailable for print"))+" ")]),t("g-code-details",{attrs:{file:e.gcode,"show-print-stats":!0,"compact-view":!1}}),e.isDeleted?e._e():t("available-printers",{staticClass:"card-container available-printers",class:{"full-width":e.isPopup},attrs:{"is-popup":e.isPopup,"target-printer-id":e.targetPrinterId||e.selectedPrinterId,gcode:e.gcode,"is-cloud":e.isCloud},on:{refresh:e.onRefresh}})],1),t("b-col",{attrs:{lg:e.isPopup?12:7}},[t("div",{staticClass:"print-history",class:{"full-width":e.isPopup||e.isDeleted}},[t("h2",{staticClass:"section-title mb-3"},[e._v(e._s(e.$t("Print History")))]),e.gcode.print_set.length?t("div",e._l(e.gcode.print_set,(function(e){return t("print-history-item",{key:"print_"+e.id,staticClass:"print-item",attrs:{print:e}})})),1):t("div",[t("div",{staticClass:"card-container p-4 justify-content-center text-secondary"},[e._v(" "+e._s(e.$t("This file doesn't have any prints yet"))+" ")])])])])],1)],1),t("rename-modal",{ref:"renameModal",attrs:{item:e.gcode},on:{renamed:e.onItemRenamed}}),t("delete-confirmation-modal",{ref:"deleteConfirmationModal",attrs:{item:e.gcode},on:{deleted:e.onItemDeleted}})]},proxy:!0}])})},To=[],Fo=i("9380"),Io=i.n(Fo),Ao=function(){var e=this,t=e._self._c;return t("div",[e.printersLoading||!e.gcode?t("div",{staticClass:"my-5 text-center"},[t("b-spinner")],1):t("div",{staticClass:"text-center"},[e.targetPrinterId?e._e():t("div",{staticClass:"mb-3"},[e._l(e.printers,(function(i){return t("div",{key:"printer_"+i.id,staticClass:"printer-item",class:{active:e.selectedPrinter&&i.id===e.selectedPrinter.id},on:{click:function(t){return e.selectPrinter(i)}}},[t("div",{staticClass:"selected-indicator"}),t("div",{staticClass:"printer-name truncated",attrs:{title:i.name}},[e._v(e._s(i.name))]),t("div",{staticClass:"printer-status",class:[i.isPrintable()?"text-success":"text-warning"]},[e._v(" "+e._s(i.printabilityText())+" ")])])})),e.printersLoading||e.printers.length?e._e():t("p",{staticClass:"text-center text-secondary mt-3 mb-3"},[e._v(" "+e._s(e.$t("No available printers"))+" ")])],2),t("button",{staticClass:"btn btn-primary d-inline-flex align-items-center justify-content-center",attrs:{disabled:!e.selectedPrinter||e.isSending||!e.selectedPrinter.isPrintable()},on:{click:e.onPrintClicked}},[e.isSending?t("b-spinner",{staticClass:"mr-1",attrs:{small:""}}):e._e(),e.selectedPrinter?t("div",{staticClass:"truncated"},[e._v(e._s(e.$t("Print on"))+" "+e._s(e.selectedPrinter.name))]):t("div",{staticClass:"truncated"},[e._v(e._s(e.$t("Print")))])],1)])])},$o=[],Oo={name:"AvailablePrinters",components:{},props:{isPopup:{type:Boolean,default:!1},targetPrinterId:{type:Number,required:!1,default:null},gcode:{type:Object,default:null},isCloud:{type:Boolean,default:!0}},data(){return{printers:[],selectedPrinter:null,printersLoading:!0,printerStateCheckInterval:null,printerComms:{}}},computed:{isSending(){return this.printers.some(e=>"Starting"===e.calculatedState()||"G-Code Downloading"===e.calculatedState())}},created(){this.fetchPrinters()},methods:{async fetchPrinters(){this.printersLoading=!0;const e=await oe["a"].get(le["a"].printers());if(null===e||void 0===e||!e.data)return void(this.printersLoading=!1);const t=null===e||void 0===e?void 0:e.data.map(e=>Ae(e));if(this.targetPrinterId){const e=t.find(e=>e.id===this.targetPrinterId);this.printers=[e],e.isPrintable()&&(this.selectedPrinter=e)}else this.printers=t,this.selectedPrinter=t.find(e=>e.isPrintable())||null;for(const i of this.printers)this.printerComms[i.id]=Ca.getOrCreatePrinterComm(i.id,le["a"].printerWebSocket(i.id),{onPrinterUpdateReceived:e=>{const t=this.printers.findIndex(e=>e.id===i.id);this.$set(this.printers,t,Ae(e,this.printers[t]))}}),this.printerComms[i.id].connect();this.printersLoading=!1},selectPrinter(e){e.isPrintable()?this.selectedPrinter=e:this.$swal.Reject.fire({title:this.$i18next.t("{name} isn't ready for print for one of the following reasons",{name:e.name})+":",html:`<ul style="text-align: left">\n            <li>${this.$i18next.t("{name} is powered off or not connected to the Internet",{name:e.agentDisplayName()})}</li>\n            <li>${this.$i18next.t("Printer is not connected to {name}",{name:e.agentDisplayName()})}</li>\n            <li>${this.$i18next.t("Printer is currently busy")}</li>\n          </ul>`})},onPrintClicked(){var e;null!==(e=this.selectedPrinter)&&void 0!==e&&e.id&&Aa(this.gcode,this.selectedPrinter).then(()=>{Oa({printer:this.selectedPrinter,gcode:this.gcode,isCloud:this.isCloud,Swal:this.$swal,onCommandSent:()=>{this.isPopup&&this.$bvModal.hide("b-modal-gcodes"+this.selectedPrinter.id)},onPrinterStatusChanged:()=>{this.isPopup||La(this.$swal,()=>this.$emit("refresh"),this.selectedPrinter.id),this.fetchPrinters()}})})}}},No=Oo,Lo=(i("cdd3"),Object(N["a"])(No,Ao,$o,!1,null,"77186cca",null)),Mo=Lo.exports,Eo={name:"GCodeFilePage",components:{PageLayout:It,RenameModal:Ys,DeleteConfirmationModal:bo,availablePrinters:Mo,PrintHistoryItem:Ei,CascadedDropdown:ci,GCodeDetails:Ga},props:{isPopup:{type:Boolean,default:!1},targetPrinterId:{type:Number,default:null},onClose:{type:Function,default:null},routeParams:{type:Object,default:()=>({fileId:null,printerId:null})}},data(){return{gcode:null,printer:null,loading:!0,gcodeNotFound:!1}},computed:{isCloud(){return!this.selectedPrinterId},isDeleted(){var e;return!(null===(e=this.gcode)||void 0===e||!e.deleted)}},async created(){this.selectedPrinterId=Number(this.getRouteParam("printerId"))||null,this.selectedPrinterId&&await this.fetchPrinter(),this.gcodeId=this.getRouteParam("fileId"),this.fetchGcode()},methods:{onMenuOptionClicked(e){"renameFile"===e?this.renameFile():"deleteFile"===e&&this.deleteFile()},getRouteParam(e){return this.isPopup?this.routeParams[e]:this.$route.params[e]},goBack(){this.$emit("goBack")},async fetchPrinter(){return oe["a"].get(le["a"].printer(this.selectedPrinterId)).then(e=>{this.printer=Ae(e.data)}).catch(e=>{this.errorDialog(e,""+this.$i18next.t("Host printer for this gcode not found"))})},async fetchLocalFile(){if(!this.printerComm)return;this.loading=!0;const e=decodeURIComponent(this.gcodeId),t=e.split("/").at(-1),i=t===e?"":e.slice(0,e.length-t.length-1),n=this.printer.isAgentMoonraker()?xa:Da;n(this.printerComm,i,null).then(e=>({files:Io()(de()(e,"files",[]),e=>e.filename==t)})).then(async e=>{var t;if(this.loading=!1,0===(null===e||void 0===e||null===(t=e.files)||void 0===t?void 0:t.length))return void(this.gcodeNotFound=!0);const i=null===e||void 0===e?void 0:e.files[0];if(this.gcode={...Fe(i),print_set:[]},i.path&&i.hash&&this.getRouteParam("printerId")){const e=i.path.replace(/^.*[\\/]/,"");try{let t=await oe["a"].get(le["a"].gcodeFiles(),{params:{resident_printer:this.getRouteParam("printerId"),safe_filename:e,agent_signature:"md5:"+i.hash}});const n=de()(t,"data.results[0]");if(n){const e=Fe(n);this.gcode.print_set=e.print_set}}catch(n){console.error(n)}}}).catch(e=>{this.gcodeNotFound=!0})},async fetchGcode(){var e,t;if(this.selectedPrinterId)return this.printerComm=Ca.getOrCreatePrinterComm(this.selectedPrinterId,le["a"].printerWebSocket(this.selectedPrinterId)),void this.printerComm.connect(this.fetchLocalFile);this.loading=!0;const i=this.getRouteParam("fileId");let n;try{n=await oe["a"].get(le["a"].gcodeFile(i))}catch(a){this.loading=!1,console.error(a)}if(null===(e=n)||void 0===e||!e.data)return this.loading=!1,void(this.gcodeNotFound=!0);n=null===(t=n)||void 0===t?void 0:t.data,this.gcode=Fe(n),this.loading=!1},renameFile(){this.$refs.renameModal.show()},onItemRenamed(e){this.gcode.filename=e},deleteFile(){this.$refs.deleteConfirmationModal.show()},onItemDeleted(){this.isPopup?this.$emit("goBack"):window.location.replace("/g_code_folders/cloud/")},onRefresh(){this.$router.go()}}},zo=Eo,Ro=(i("c0a8"),Object(N["a"])(zo,xo,To,!1,null,"0d6b7614",null)),Bo=Ro.exports,Uo=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("h5",[e._v(e._s(e.$t("Serial Port"))+":")])]),t("div",[t("b-form-select",{staticClass:"form-control",attrs:{id:"connect-port"},model:{value:e.selectedPort,callback:function(t){e.selectedPort=t},expression:"selectedPort"}},e._l(e.connectionOptions.ports,(function(i){return t("b-form-select-option",{key:i,attrs:{value:i}},[e._v(" "+e._s(i)+" ")])})),1)],1),t("br"),t("div",[t("h5",[e._v(e._s(e.$t("Baudrate"))+":")])]),t("div",[t("b-form-select",{staticClass:"form-control",attrs:{id:"connect-baudrate"},model:{value:e.selectedBaudrate,callback:function(t){e.selectedBaudrate=t},expression:"selectedBaudrate"}},[t("b-form-select-option",{attrs:{value:""}},[e._v(e._s(e.$t("Auto")))]),e._l(e.connectionOptions.baudrates,(function(i){return t("b-form-select-option",{key:i,attrs:{value:i}},[e._v(" "+e._s(i)+" ")])}))],2)],1)])},jo=[],Wo={name:"ConnectPrinter",props:{connectionOptions:{type:Object,required:!0}},data(){return{selectedPort:this.connectionOptions.ports[0],selectedBaudrate:""}}},Ho=Wo,Vo=Object(N["a"])(Ho,Uo,jo,!1,null,null,null),Yo=Vo.exports;const Go="/pause_print/",qo="/resume_print/",Ko="/cancel_print/";var Jo={name:"PrintJobControlWidget",components:{WidgetTemplate:Ds,GCodeFoldersPage:Do,GCodeFilePage:Bo},props:{printer:{type:Object,required:!0},printerComm:{type:Object,required:!0},insideCard:{type:Boolean,default:!1}},data(){return{connectBtnClicked:!1,selectedGcodeId:null,savedPath:[null],printerFiles:!1}},computed:{connecting(){return this.connectBtnClicked&&this.printer.isDisconnected()},modalId(){return"b-modal-gcodes"+this.printer.id}},methods:{openObicoFiles(){this.printerFiles=!1,this.$bvModal.show(this.modalId)},openPrinterFiles(){this.printerFiles=!0,this.$bvModal.show(this.modalId)},scrollToTop(){document.querySelector("#"+this.modalId).scrollTo(0,0)},resetGcodesModal(){this.selectedGcodeId=null},onConnectClicked(){this.printerComm.passThruToPrinter({func:"get_connection_options",target:"_printer"},(e,t)=>{e?this.$swal.Toast.fire({icon:"error",title:e}):t.ports.length<1?this.$swal.Toast.fire({icon:"error",title:""+this.$i18next.t("Uh-Oh. No printer is found on the serial port.")}):this.$swal.openModalWithComponent(Yo,{connectionOptions:t},{confirmButtonText:"Connect",showCancelButton:!0,preConfirm:()=>({port:document.getElementById("connect-port").value,baudrate:document.getElementById("connect-baudrate").value})}).then(e=>{if(e.value){let t=[e.value.port,e.value.baudrate];this.printerComm.passThruToPrinter({func:"connect",target:"_printer",args:t})}})}),this.connectBtnClicked=!0,setTimeout(()=>{this.connectBtnClicked=!1},1e4)},onPauseToggled(e){this.printer.isPaused()?this.printer.alertUnacknowledged()?this.$emit("notAFailureClicked",e,!0):(this.$emit("sendPrinterAction",this.printer.id,qo),this.printer.setTransientState("Resuming")):this.$swal.Confirm.fire({html:'If you haven\'t changed the default configuration, the heaters will be turned off, and the print head will be z-lifted. The reversed will be performed before the print is resumed. <a target="_blank" href="https://www.obico.io/docs/user-guides/detection-print-job-settings#when-print-is-paused">Learn more. <small><i class="fas fa-external-link-alt"></i></small></a>'}).then(e=>{e.value&&(this.$emit("sendPrinterAction",this.printer.id,Go),this.printer.setTransientState("Pausing"))})},onCancelClicked(){this.$swal.Confirm.fire({text:""+this.$i18next.t("Once cancelled, the print can no longer be resumed.")}).then(e=>{e.value&&(this.$emit("sendPrinterAction",this.printer.id,Ko),this.printer.setTransientState("Cancelling"))})}}},Zo=Jo,Qo=(i("1ae3"),Object(N["a"])(Zo,ys,ws,!1,null,"5a940fc6",null)),Xo=Qo.exports;const el="/resume_print/",tl="/mute_current_print/?mute_alert=true",il="/acknowledge_alert/?alert_overwrite=NOT_FAILED",nl=!0,al=!1,rl={Settings:"panel-settings",Time:"print-time",StatusTemp:"status_temp_block"};var sl={name:"PrinterCard",components:{StreamingBox:Mr,FailureDetectionGauge:qn,DurationBlock:jr,StatusTemp:es,PrintJobControlWidget:Xo},props:{printer:{type:Object,required:!0},isProAccount:{type:Boolean,required:!0}},data(){return{section_toggles:{settings:Object(s["a"])(rl.Settings+String(this.printer.id),nl),time:Object(s["a"])(rl.Time+String(this.printer.id),al),statusTemp:Object(s["a"])(rl.StatusTemp+String(this.printer.id),nl)},webrtc:Dr()}},computed:{isWatching(){return!this.printer.not_watching_reason},timeRemaining(){return this.toDuration(this.secondsLeft,this.printer.isActive())},timeTotal(){let e=null;return this.secondsPrinted&&this.secondsLeft&&(e=this.secondsPrinted+this.secondsLeft),this.toDuration(e,this.printer.isActive())},secondsLeft(){return de()(this.printer,"status.progress.printTimeLeft")},secondsPrinted(){return de()(this.printer,"status.progress.printTime")},watchForFailures(){return this.printer.watching_enabled},pauseOnFailure(){return"PAUSE"==this.printer.action_on_failure},hasCurrentPrintFilename(){return!(!this.printer.current_print||!this.printer.current_print.filename)},actionsProps(){return{printer:this.printer}},progressPct(){return de()(this.printer,"status.progress.completion")||0},tempProps(){let e=void 0!=de()(this.printer,"settings.temp_profiles");const t={};for(const[i,n]of Object.entries(de()(this.printer,"status.temperatures",{})))Boolean(n.actual)&&!isNaN(n.actual)&&(t[i]=n);return{temperatures:t,show:Object.keys(t).length>0,isPluginVersionSufficient:e}},statusText(){return this.printer.calculatedState()||"Offline"},statusClass(){return this.printer.hasError()?"text-danger":this.printer.isOffline()||this.printer.isDisconnected()||this.printer.inTransientState()?"text-warning":"text-success"}},created(){this.printerComm=Ca.getOrCreatePrinterComm(this.printer.id,le["a"].printerWebSocket(this.printer.id),{onPrinterUpdateReceived:e=>{this.$emit("PrinterUpdated",this.updatedPrinter(e))},onStatusReceived:e=>{const t=e.status||e.octoprint_data;this.$emit("PrinterUpdated",this.updatedPrinter({status:t}))}}),this.printerComm.connect(),this.webrtc.openForPrinter(this.printer.id,this.printer.auth_token),this.printerComm.setWebRTC(this.webrtc)},methods:{updatedPrinter(e){return Ae(e,this.printer)},settingsUrl(){return`/printers/${this.printer.id}/`},octoPrintTunnelUrl(){return`/tunnels/${this.printer.id}/`},onSettingsToggleClicked(){this.section_toggles.settings=!this.section_toggles.settings,Object(s["b"])(rl.Settings+String(this.printer.id),this.section_toggles.settings)},onTimeToggleClicked(){this.section_toggles.time=!this.section_toggles.time,Object(s["b"])(rl.Time+String(this.printer.id),this.section_toggles.time)},onStatusTempToggleClicked(){this.section_toggles.statusTemp=!this.section_toggles.statusTemp,Object(s["b"])(rl.StatusTemp+String(this.printer.id),this.section_toggles.statusTemp)},onNotAFailureClicked(e,t){this.$swal.Confirm.fire({title:""+this.$i18next.t("Noted!"),html:`<p>${this.$i18next.t("Do you want to mute failure detection on for this print?")}</p><small>${this.$i18next.t("If you select 'Mute', failure detection will be turned off for this print, but will be automatically turned on for your next print.")}</small>`,confirmButtonText:""+this.$i18next.t("Mute"),cancelButtonText:""+this.$i18next.t("Cancel")}).then(e=>{e.isConfirmed&&setTimeout(()=>{this.sendPrinterAction(this.printer.id,tl)},1e3),t?(this.printer.setTransientState("Resuming"),this.sendPrinterAction(this.printer.id,el)):this.sendPrinterAction(this.printer.id,il)}),e.preventDefault()},onWatchForFailuresToggled(){this.printer.watching_enabled=!this.printer.watching_enabled,this.updatePrinter(this.printer)},onPauseOnFailureToggled(){this.printer.action_on_failure="PAUSE"==this.printer.action_on_failure?"NONE":"PAUSE",this.updatePrinter(this.printer)},onTempEditClicked(e,t){let i,n=de()(this.printer,"settings.temp_profiles",[]),a=350;e.search(/bed|chamber/)>-1&&(a=140),i=e.search(/tool/)>-1?n.map(e=>({name:e.name,target:e["extruder"]})):n.map(t=>({name:t.name,target:t[e]})),this.$swal.openModalWithComponent(ps,{presets:i,maxTemp:a,curTarget:t.target},{title:"Set "+Object(Pn["f"])(e)+" Temperature",confirmButtonText:"Confirm",showCancelButton:!0,preConfirm:()=>({target:parseInt(document.getElementById("target-temp").value)})}).then(t=>{if(t.value){let i=t.value.target;this.printerComm.passThruToPrinter({func:"set_temperature",target:"_printer",args:[e,i]})}})},updatePrinter(e){return oe["a"].patch(le["a"].printer(e.id),{watching_enabled:e.watching_enabled,action_on_failure:e.action_on_failure}).then(e=>{if(!e.data.succeeded)throw e;this.$emit("PrinterUpdated",Ae(e.data.printer,this.printer))}).catch(e=>{this.errorDialog(e,""+this.$i18next.t("Failed to update printer"))})},sendPrinterAction(e,t){oe["a"].post(le["a"].printerAction(e,t))},shouldVideoBeFull(e){let t=de()(e,"pic.img_url"),i=e.alertUnacknowledged()&&t;return!i},toDuration(e,t){if(null==e||0==e)return{valid:!1,printing:Boolean(t)};var i=H.a.duration(e,"seconds"),n=Math.floor(i.asHours()),a=i.minutes(),r=i.seconds();return{valid:!0,printing:Boolean(t),hours:n,showHours:n>0,minutes:a,showMinutes:n>0||a>0,seconds:r,showSeconds:0==n&&0==a}},onSharePrinter(){this.$swal.openModalWithComponent(bs,{isProAccount:this.isProAccount,printer:this.printer},{confirmButtonText:"Close"})}}},ol=sl,ll=(i("917a"),Object(N["a"])(ol,fr,gr,!1,null,"55618ec0",null)),cl=ll.exports;const dl="printersSorting",ul={options:[{title:""+G["a"].t("Name"),key:"name"},{title:""+G["a"].t("Created at"),key:"created_at"}],default:{sorting:"created_at",direction:"desc"}},pl="printersFiltering",hl={status:{title:""+G["a"].t("Print Status"),queryParam:"status",values:[{key:"none",title:""+G["a"].t("All Printers")},{key:"online",title:""+G["a"].t("Online Printers")},{key:"active",title:""+G["a"].t("Active Printers")}],default:"none"}};var ml={name:"PrinterListPage",components:{PrinterCard:cl,PageLayout:It,CascadedDropdown:ci,SortingDropdown:vi,FilteringDropdown:Si,ActiveFilterNotice:Ai},data:function(){return{user:null,printers:[],loading:!0,isEnt:!1,archivedPrinterNum:0,shouldShowArchiveWarning:!1,sortingLocalStoragePrefix:dl,sortingOptions:ul,sortingValue:mi(dl,ul),filterLocalStoragePrefix:pl,filterOptions:hl,filterValues:_i(pl,hl)}},computed:{dhBadgeNum(){return this.user&&this.user.is_dh_unlimited?"∞":Math.round(this.user.dh_balance)},mobileMenuOptions(){const e=[{key:"sorting",icon:"fas fa-sort-amount-down",title:""+this.$i18next.t("Sort"),expandable:!0},{key:"filtering",icon:"fas fa-filter",title:""+this.$i18next.t("Filter"),expandable:!0}];return this.isEnt&&e.unshift({key:"dh",svgIcon:"svg-hour-glass",title:""+this.$i18next.t("{name} AI Detection Hours",{name:this.dhBadgeNum}),href:"/user_preferences/dh/"}),e},visiblePrinters(){let e=this.printers;switch(this.filterValues.status){case"online":e=e.filter(e=>!e.isDisconnected());break;case"active":e=e.filter(e=>e.isActive());break;case"none":break}return"created_at"===this.sortingValue.sorting.key?e=dt()(e,e=>e.createdAt()):"name"===this.sortingValue.sorting.key&&(e=dt()(e,e=>e.name)),"desc"===this.sortingValue.direction.key&&e.reverse(),e},hiddenPrinterCount(){return this.printers.length-this.visiblePrinters.length}},created(){const{IS_ENT:e}=Object(Q["d"])();this.isEnt=!!e,this.user=Object(Q["f"])(),this.fetchPrinters()},methods:{fetchPrinters(){return this.loading=!0,oe["a"].get(le["a"].printers(),{params:{with_archived:!0}}).then(e=>{const t=e.data;!Object(s["a"])("single-printer-redirect-enabled",!0)||1!=t.length||t[0].archived_at?(this.loading=!1,e.data.forEach(e=>{e.archived_at?this.archivedPrinterNum+=1:this.insertPrinter(Ae(e))}),this.shouldShowArchiveWarningFunc()):window.location.href=`/printers/${t[0].id}/control/`})},insertPrinter(e){this.printers.push(e)},onPrinterUpdated(e){let t=this.printers.findIndex(t=>t.id==e.id);t<0||this.$set(this.printers,t,e)},resetGcodesModal(){this.selectedGcodeId=null,this.targetPrinter=null},onSortingUpdated(e){this.sortingValue=e},onFilterUpdated(e,t){this.filterValues[e]=t},resetFilters(){for(const e of Object.keys(this.filterValues))this.filterValues[e]="none",Object(s["b"])(`${pl}-${e}`,"none")},handleNeverShowAgain(){this.$swal.Prompt.fire({title:""+this.$i18next.t("Are you sure?"),html:`<p style="text-align: center">${this.$i18next.t("You can always view your archived printers in by navigating to the General tab within Preferences.")}</p>`,showCancelButton:!0,confirmButtonText:""+this.$i18next.t("Yes"),cancelButtonText:""+this.$i18next.t("No")}).then(e=>{e.isConfirmed&&(localStorage.setItem("shouldNeverShowArchived",JSON.stringify(!0)),this.shouldShowArchiveWarning=!1)})},shouldShowArchiveWarningFunc(){const e=localStorage.getItem("shouldNeverShowArchived");!0===JSON.parse(e)?this.shouldShowArchiveWarning=!1:this.shouldShowArchiveWarning=this.archivedPrinterNum>0}}},fl=ml,gl=(i("11cb"),i("45c5"),Object(N["a"])(fl,hr,mr,!1,null,"fb278c80",null)),vl=gl.exports,bl=function(){var e=this,t=e._self._c;return t("div",[t("nav-bar",{attrs:{"view-name":"printer_shared"}}),t("div",{staticClass:"row justify-content-center"},[e.loading?t("b-spinner",{staticClass:"mt-5",attrs:{label:"Loading..."}}):e._e(),e.printer?t("div",{staticClass:"col-sm-12 col-lg-6 printer-card"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("div",[e._v(e._s(e.printer.name))])]),t("streaming-box",{attrs:{printer:e.printer,webrtc:e.webrtc,autoplay:!0}}),t("div",{staticClass:"p-3 p-md-5"},[t("p",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("You are viewing an awesome 3D print your friend shared specifically with you on"))+" ")]),t("a",{attrs:{href:"https://www.obico.io/"}},[t("svg",{staticClass:"logo-img",attrs:{width:"100%"}},[t("use",{attrs:{href:"#svg-logo-full"}})])]),t("hr"),t("br"),t("br"),t("p",{staticClass:"text-center"},[e._v(" "+e._s(e.$syndicateText.brandName)+" "+e._s(e.$t("lets you monitor and control your printer from anywhere, on your phone."))+" ")]),t("a",{staticClass:"btn btn-block btn-primary",attrs:{href:"/accounts/signup/"}},[e._v(e._s(e.$t("Sign up for a free {brandName} account",{brandName:e.$syndicateText.brandName})))])])],1)]):e._e()],1)],1)},yl=[],wl=function(){var e=this,t=e._self._c;return t("div",[e.inMobileWebView?e._e():t("b-navbar",{class:{"navbar-dark":e.theme===e.themes.Dark,"navbar-light":e.theme===e.themes.Light},attrs:{toggleable:"xl"}},[t("b-container",{staticClass:"p-0"},[t("b-navbar-brand",{attrs:{href:"/"}},[t("SyndicateAwareSVG",{attrs:{href:"#svg-logo-compact",width:"100",height:"30"}})],1),t("b-navbar-toggle",{attrs:{target:"navbar-toggle-collapse"}},[t("span",{staticClass:"navbar-toggler-icon"})]),t("b-collapse",{attrs:{id:"navbar-toggle-collapse","is-nav":""},model:{value:e.showMainMenu,callback:function(t){e.showMainMenu=t},expression:"showMainMenu"}},[t("b-navbar-nav",[e.user?t("b-nav-item",{class:{active:e.viewName.includes("printers")},attrs:{href:"/printers/"}},[e._v(e._s(e.$t("Printers")))]):e._e(),e.user?t("b-nav-item",{class:{active:e.viewName.includes("print_history")},attrs:{href:"/print_history/"}},[e._v(e._s(e.$t("Print History")))]):e._e(),e.user?t("b-nav-item",{class:{active:e.viewName.includes("g_code_folders")},attrs:{href:"/g_code_folders/cloud/"}},[e._v(e._s(e.$t("G-Codes")))]):e._e(),e.isEnt&&!e.user?t("b-nav-item",{staticClass:"glowing",class:{active:"publictimelapse_list"===e.viewName},attrs:{href:"/ent_pub/publictimelapses/"}},[e._v(e._s(e.$t("Spaghetti Gallery")))]):e._e(),e.isEnt?t("b-nav-item",{class:{active:"pricing"===e.viewName},attrs:{href:"/ent_pub/pricing/"}},[e._v(e._s(e.$t("Pricing")))]):e._e(),t("b-nav-item",{attrs:{href:"https://www.obico.io/help/"}},[e._v(e._s(e.$t("Help")))]),t("b-nav-item",{attrs:{href:"https://obico.io/discord"}},[e._v(e._s(e.$t("Community")))])],1),t("b-navbar-nav",{staticClass:"ml-auto"},[e.user?e._e():t("b-nav-item",{attrs:{href:"/accounts/login/"}},[e._v(e._s(e.$t("SIGN IN")))]),!e.user&&e.allowSignUp?t("b-nav-item",{attrs:{href:"/accounts/signup/"}},[e._v(e._s(e.$t("SIGN UP")))]):e._e(),e.user?t("b-nav-item-dropdown",{ref:"accountDropdown",attrs:{right:"","toggle-class":"user-menu",text:e.user.first_name||e.user.email}},[t("b-dropdown-item",{attrs:{href:"/user_preferences/"}},[t("i",{staticClass:"fas fa-cog mr-2"}),e._v(e._s(e.$t("Preferences"))+" ")]),t("b-dropdown-divider"),t("b-dropdown-item",{attrs:{href:"/accounts/logout/"}},[t("i",{staticClass:"fas fa-sign-out-alt mr-2"}),e._v(e._s(e.$t("Log out"))+" ")])],1):e._e()],1)],1)],1)],1)],1)},_l=[],Cl={name:"NavBar",components:{},props:{viewName:{default(){return""},type:String}},data(){return{user:null,allowSignUp:!1,isEnt:!1,themes:Hn["a"],showMainMenu:!1}},computed:{inMobileWebView(){return Object(Q["a"])()},theme(){return Object(S["a"])()}},created(){const{ACCOUNT_ALLOW_SIGN_UP:e,IS_ENT:t}=Object(Q["d"])();this.allowSignUp=!!e,this.isEnt=!!t,this.user=Object(Q["f"])()},methods:{hideDropdowns(){this.showMainMenu=!1;const e=this.$refs.accountDropdown;e&&e.hide()}}},kl=Cl,Pl=(i("0585"),Object(N["a"])(kl,wl,_l,!1,null,"371280d8",null)),Sl=Pl.exports,Dl={name:"SharedPrinterPage",components:{StreamingBox:Mr,NavBar:Sl},data:function(){return{printer:null,shareToken:null,videoAvailable:{},loading:!0,isWebrtcOpened:!1,webrtc:Dr()}},created(){this.shareToken=it()(window.location.pathname,"/").slice(-2,-1).pop(),this.printerComm=Ca.getOrCreatePrinterComm(this.shareToken,le["a"].printerSharedWebSocket(this.shareToken),{onPrinterUpdateReceived:e=>{this.printer=Ae(e,this.printer),this.loading=!1,this.isWebrtcOpened||(this.webrtc.openForShareToken(this.shareToken),this.isWebrtcOpened=!0)}}),this.printerComm.connect()}},xl=Dl,Tl=(i("9da9"),Object(N["a"])(xl,bl,yl,!1,null,"1dd34976",null)),Fl=Tl.exports,Il=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("b-container",[t("b-row",{staticClass:"justify-content-center"},[t("b-col",{attrs:{lg:"8"}},[e.printer?t("div",{staticClass:"surface with-loading-animation full-on-mobile"},[t("section",{staticClass:"settings"},[t("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("Settings")))]),t("div",{staticClass:"form-group mb-4 mt-4"},[t("div",{staticClass:"form-label text-muted mb-2"},[e._v(e._s(e.$t("Give your shiny new printer a name")))]),t("saving-animation",{attrs:{errors:e.errorMessages.name,saving:e.saving.name}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.printer.name,expression:"printer.name"}],staticClass:"form-control field_required",attrs:{id:"id_name",type:"text",name:"name",maxlength:"200",placeholder:"",required:"required"},domProps:{value:e.printer.name},on:{input:function(t){t.target.composing||e.$set(e.printer,"name",t.target.value)}}})])],1),t("div",{staticClass:"failure-notification"},[t("div",{staticClass:"form-group mt-4 mb-4"},[t("div",{staticClass:"form-label text-muted"},[e._v(e._s(e.$t("When a potential failure is detected"))+":")]),t("saving-animation",{attrs:{errors:e.errorMessages.action_on_failure_NONE,saving:e.saving.action_on_failure_NONE}},[t("div",{staticClass:"custom-control custom-radio mt-1 radio"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.printer.action_on_failure,expression:"printer.action_on_failure"}],staticClass:"custom-control-input field_required",attrs:{id:"id_action_on_failure_0",type:"radio",name:"action_on_failure",value:"NONE"},domProps:{checked:e._q(e.printer.action_on_failure,"NONE")},on:{change:[function(t){return e.$set(e.printer,"action_on_failure","NONE")},function(t){return e.updateSetting("action_on_failure")}]}}),t("label",{staticClass:"custom-control-label",attrs:{for:"id_action_on_failure_0"}},[e._v(e._s(e.$t("Just notify me")))])])]),t("saving-animation",{attrs:{errors:e.errorMessages.action_on_failure_PAUSE,saving:e.saving.action_on_failure_PAUSE}},[t("div",{staticClass:"custom-control custom-radio mt-1 radio",attrs:{id:"action_on_failure_PAUSE"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.printer.action_on_failure,expression:"printer.action_on_failure"}],staticClass:"custom-control-input field_required",attrs:{id:"id_action_on_failure_1",type:"radio",name:"action_on_failure",value:"PAUSE"},domProps:{checked:e._q(e.printer.action_on_failure,"PAUSE")},on:{change:[function(t){return e.$set(e.printer,"action_on_failure","PAUSE")},function(t){return e.updateSetting("action_on_failure")}]}}),t("label",{staticClass:"custom-control-label",attrs:{for:"id_action_on_failure_1"}},[e._v(e._s(e.$t("Pause the printer and notify me")))])])])],1)])]),t("section",{staticClass:"mt-5"},[t("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("Failure Detection")))]),t("div",{staticClass:"card-body p-0 pt-3"},[t("p",{staticClass:"text-warning"},[t("i",{staticClass:"fas fa-exclamation-triangle"}),e._v(" "+e._s(e.$t("If you are not sure about the settings below, leave the default values to minimize surprises."))+" ")]),t("div",{staticClass:"form-group mt-4"},[t("div",{staticClass:"form-label text-muted"},[e._v(e._s(e.$t("When print is paused,")))]),t("saving-animation",{attrs:{errors:e.errorMessages.tools_off_on_pause,saving:e.saving.tools_off_on_pause}},[t("div",{staticClass:"custom-control custom-checkbox mt-2 checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.printer.tools_off_on_pause,expression:"printer.tools_off_on_pause"}],staticClass:"custom-control-input",attrs:{id:"id_tools_off_on_pause",type:"checkbox",name:"tools_off_on_pause"},domProps:{checked:Array.isArray(e.printer.tools_off_on_pause)?e._i(e.printer.tools_off_on_pause,null)>-1:e.printer.tools_off_on_pause},on:{change:[function(t){var i=e.printer.tools_off_on_pause,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.printer,"tools_off_on_pause",i.concat([r])):s>-1&&e.$set(e.printer,"tools_off_on_pause",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.printer,"tools_off_on_pause",a)},function(t){return e.updateSetting("tools_off_on_pause")}]}}),t("label",{staticClass:"custom-control-label",attrs:{for:"id_tools_off_on_pause"}},[e._v(" "+e._s(e.$t("Turn off hotend heater(s)"))+" ")])])]),t("saving-animation",{attrs:{errors:e.errorMessages.bed_off_on_pause,saving:e.saving.bed_off_on_pause}},[t("div",{staticClass:"custom-control custom-checkbox mt-2 checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.printer.bed_off_on_pause,expression:"printer.bed_off_on_pause"}],staticClass:"custom-control-input",attrs:{id:"id_bed_off_on_pause",type:"checkbox",name:"bed_off_on_pause"},domProps:{checked:Array.isArray(e.printer.bed_off_on_pause)?e._i(e.printer.bed_off_on_pause,null)>-1:e.printer.bed_off_on_pause},on:{change:[function(t){var i=e.printer.bed_off_on_pause,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&e.$set(e.printer,"bed_off_on_pause",i.concat([r])):s>-1&&e.$set(e.printer,"bed_off_on_pause",i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.printer,"bed_off_on_pause",a)},function(t){return e.updateSetting("bed_off_on_pause")}]}}),t("label",{staticClass:"custom-control-label",attrs:{for:"id_bed_off_on_pause"}},[e._v(" "+e._s(e.$t("Turn off bed heater"))+" ")])])]),t("saving-animation",{staticClass:"mobile-full-width",attrs:{errors:e.errorMessages.retract_on_pause,saving:e.saving.retract_on_pause}},[t("div",{staticClass:"form-inline my-1 checkbox-with-input"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.retractFilamentByEnabled,expression:"retractFilamentByEnabled"}],staticClass:"custom-control-input",attrs:{id:"retract-checkbox",type:"checkbox"},domProps:{checked:Array.isArray(e.retractFilamentByEnabled)?e._i(e.retractFilamentByEnabled,null)>-1:e.retractFilamentByEnabled},on:{change:function(t){var i=e.retractFilamentByEnabled,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.retractFilamentByEnabled=i.concat([r])):s>-1&&(e.retractFilamentByEnabled=i.slice(0,s).concat(i.slice(s+1)))}else e.retractFilamentByEnabled=a}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"retract-checkbox"}},[e._v(e._s(e.$t("Retract filament by")))])]),t("number-input",{staticClass:"wrappable-field",attrs:{step:.5,disable:!e.retractFilamentByEnabled},model:{value:e.retractOnPause,callback:function(t){e.retractOnPause=t},expression:"retractOnPause"}})],1)]),t("saving-animation",{staticClass:"mobile-full-width",attrs:{errors:e.errorMessages.lift_z_on_pause,saving:e.saving.lift_z_on_pause}},[t("div",{staticClass:"form-inline my-1 checkbox-with-input"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.liftExtruderByEnabled,expression:"liftExtruderByEnabled"}],staticClass:"custom-control-input",attrs:{id:"lift-z-checkbox",type:"checkbox"},domProps:{checked:Array.isArray(e.liftExtruderByEnabled)?e._i(e.liftExtruderByEnabled,null)>-1:e.liftExtruderByEnabled},on:{change:function(t){var i=e.liftExtruderByEnabled,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.liftExtruderByEnabled=i.concat([r])):s>-1&&(e.liftExtruderByEnabled=i.slice(0,s).concat(i.slice(s+1)))}else e.liftExtruderByEnabled=a}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"lift-z-checkbox"}},[e._v(e._s(e.$t("Lift extruder along Z axis by")))])]),t("number-input",{staticClass:"wrappable-field",attrs:{step:.5,disable:!e.liftExtruderByEnabled},model:{value:e.liftExtruderBy,callback:function(t){e.liftExtruderBy=t},expression:"liftExtruderBy"}})],1)])],1),t("div",{staticClass:"form-group sensitivity my-4"},[t("div",{staticClass:"form-label text-muted"},[e._v(e._s(e.$t("AI failure detection sensitivity")))]),t("saving-animation",{attrs:{errors:e.errorMessages.detective_sensitivity,saving:e.saving.detective_sensitivity}},[t("div",{staticClass:"my-2 sensitivity-slider"},[t("vue-slider",{attrs:{lazy:!0,min:.8,max:1.2,interval:.05,"tooltip-formatter":e.sensitivityTooltipFormatter},model:{value:e.detectiveSensitivity,callback:function(t){e.detectiveSensitivity=t},expression:"detectiveSensitivity"}})],1)]),"Low"===e.sensitivityTooltipFormatter(e.printer.detective_sensitivity)?t("div",[e._v(" "+e._s(e.$t("Low - I don't want a lot of false alarms. Only alert me when you are absolutely sure."))+" ")]):"Medium"===e.sensitivityTooltipFormatter(e.printer.detective_sensitivity)?t("div",[e._v(" "+e._s(e.$t("Medium - A few false alarms won't bother me. But some well-disguised spaghetti will be missed."))+" ")]):t("div",[e._v(" "+e._s(e.$t("High - Hit me with all the false alarms. I want to catch as many failures as possible."))+" ")])],1)])]),t("section",{staticClass:"mt-5"},[t("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("Time-lapse")))]),e.timelapseOnFinishEnabled&&e.timelapseOnCancelEnabled?e._e():t("p",{staticClass:"text-warning"},[t("i",{staticClass:"fas fa-exclamation-triangle"}),t("i18next",{attrs:{translation:e.$t("Focused Feedback won't be available when time-lapse recording is turned off. You won't be able to {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/how-does-credits-work/"}},[e._v(e._s(e.$t("help us get better while earning AI Detection Hours for yourself")))])]},proxy:!0}],null,!1,561939958)})],1),t("div",{staticClass:"form-group mt-4"},[t("saving-animation",{staticClass:"mobile-full-width",attrs:{errors:e.errorMessages.min_timelapse_secs_on_finish,saving:e.saving.min_timelapse_secs_on_finish}},[t("div",{staticClass:"form-inline my-1 checkbox-with-input"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.timelapseOnFinishEnabled,expression:"timelapseOnFinishEnabled"}],staticClass:"custom-control-input",attrs:{id:"timelapseOnFinishEnabled",type:"checkbox"},domProps:{checked:Array.isArray(e.timelapseOnFinishEnabled)?e._i(e.timelapseOnFinishEnabled,null)>-1:e.timelapseOnFinishEnabled},on:{change:function(t){var i=e.timelapseOnFinishEnabled,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.timelapseOnFinishEnabled=i.concat([r])):s>-1&&(e.timelapseOnFinishEnabled=i.slice(0,s).concat(i.slice(s+1)))}else e.timelapseOnFinishEnabled=a}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"timelapseOnFinishEnabled"}},[e._v(e._s(e.$t("Record time-lapse when a print finishes successfully.")))])])]),e.timelapseOnFinishEnabled?t("div",{staticClass:"form-inline my-1 checkbox-with-input"},[t("div",{staticClass:"custom-control custom-checkbox"},[e._v(" "+e._s(e.$t("Skip if the print is finished in less than"))+" ")]),t("number-input",{staticClass:"wrappable-field",attrs:{step:5,unit:"minutes"},model:{value:e.minTimelapseMinutesOnFinish,callback:function(t){e.minTimelapseMinutesOnFinish=t},expression:"minTimelapseMinutesOnFinish"}})],1):e._e()]),t("saving-animation",{staticClass:"mobile-full-width",attrs:{errors:e.errorMessages.min_timelapse_secs_on_cancel,saving:e.saving.min_timelapse_secs_on_cancel}},[t("div",{staticClass:"form-inline mt-3 mb-1 checkbox-with-input"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.timelapseOnCancelEnabled,expression:"timelapseOnCancelEnabled"}],staticClass:"custom-control-input",attrs:{id:"timelapseOnCancelEnabled",type:"checkbox"},domProps:{checked:Array.isArray(e.timelapseOnCancelEnabled)?e._i(e.timelapseOnCancelEnabled,null)>-1:e.timelapseOnCancelEnabled},on:{change:function(t){var i=e.timelapseOnCancelEnabled,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=null,s=e._i(i,r);n.checked?s<0&&(e.timelapseOnCancelEnabled=i.concat([r])):s>-1&&(e.timelapseOnCancelEnabled=i.slice(0,s).concat(i.slice(s+1)))}else e.timelapseOnCancelEnabled=a}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"timelapseOnCancelEnabled"}},[e._v(e._s(e.$t("Record time-lapse when a print is cancelled.")))])])]),e.timelapseOnCancelEnabled?t("div",{staticClass:"form-inline my-1 checkbox-with-input"},[t("div",{staticClass:"custom-control custom-checkbox"},[e._v(" "+e._s(e.$t("Skip if the print is cancelled in less than"))+" ")]),t("number-input",{staticClass:"wrappable-field",attrs:{step:5,unit:"minutes"},model:{value:e.minTimelapseMinutesOnCancel,callback:function(t){e.minTimelapseMinutesOnCancel=t},expression:"minTimelapseMinutesOnCancel"}})],1):e._e()])],1)]),t("section",{staticClass:"danger mt-5"},[t("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("Danger Zone")))]),t("div",{staticClass:"mt-4"},[t("a",{staticClass:"btn btn-outline-secondary",attrs:{href:e.printerWizardUrl}},[e._v(" "+e._s(e.$t("Re-Link Printer"))+" ")]),t("div",{staticClass:"text-muted mt-1"},[t("small",[t("i18next",{attrs:{translation:e.$t("If your printer is always showing as 'offline', and you have gone through {localizedDom}, you can try to re-link printer as the last resort.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/"}},[e._v(e._s(e.$t("all the trouble-shooting steps")))])]},proxy:!0}])})],1)])]),e.isEnt?t("div",{staticClass:"mt-4"},[t("button",{staticClass:"btn btn-outline-warning",on:{click:e.archivePrinter}},[e._v(" "+e._s(e.$t("Archive Printer"))+" ")]),t("div",{staticClass:"text-muted mt-1"},[t("small",[t("i18next",{attrs:{translation:e.$t("Archived printers are not counted toward your subscription plan. You won't see them in the app either. Go to {localizedDom} to find all archived printers and/or un-archive them.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"/ent/printers/archived/"}},[e._v(e._s(e.$t("this page")))])]},proxy:!0}],null,!1,2102701858)})],1)])]):e._e(),t("div",{staticClass:"mt-4"},[t("button",{staticClass:"btn btn-outline-danger",on:{click:e.deletePrinter}},[e._v(" "+e._s(e.$t("Delete Printer"))+" ")]),t("div",{staticClass:"text-muted mt-1"},[t("small",[e._v(e._s(e.$t("Bye-bye printer.")))])])])])]):t("loading-placeholder")],1)],1)],1)]},proxy:!0}])})},Al=[],$l=i("4971"),Ol=i.n($l),Nl=i("847e"),Ll=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group input-group-sm input-wrapper"},[t("div",{staticClass:"input-group-prepend"},[t("button",{staticClass:"btn btn-outline-secondary control-button",attrs:{type:"button",disabled:e.disable},on:{click:function(t){e.inputValue=e.inputValue>0?Math.round(10*(e.inputValue-e.step))/10:0,e.$emit("input",e.inputValue)}}},[e._v(" ↓ ")])]),t("input",{staticClass:"form-control text-center field_required",style:{opacity:e.disable?.3:1},attrs:{type:"text",disabled:"","aria-describedby":"basic-addon1"},domProps:{value:e.inputValue+" "+e.unit}}),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-outline-secondary control-button",attrs:{type:"button",disabled:e.disable},on:{click:function(t){e.inputValue=Math.round(10*(e.inputValue+e.step))/10,e.$emit("input",e.inputValue)}}},[e._v(" ↑ ")])])])},Ml=[],El={name:"NumberInput",props:{value:{type:Number,default:0},step:{type:Number,default:.5},disable:{type:Boolean,default:!1},unit:{type:String,default:"mm"}},data(){return{inputValue:this.value}},watch:{value(e){this.inputValue=e}}},zl=El,Rl=(i("587d"),Object(N["a"])(zl,Ll,Ml,!1,null,"66233dc0",null)),Bl=Rl.exports,Ul={components:{SavingAnimation:Nl["a"],NumberInput:Bl,PageLayout:It,VueSlider:Ol.a},data(){return{isEnt:!1,printer:null,printerId:"",saving:{},errorMessages:{},delayedSubmit:{name:{delay:1e3,timeoutId:null},retract_on_pause:{delay:1e3,timeoutId:null},lift_z_on_pause:{delay:1e3,timeoutId:null},min_timelapse_secs_on_finish:{delay:1e3,timeoutId:null},min_timelapse_secs_on_cancel:{delay:1e3,timeoutId:null}}}},computed:{retractFilamentByEnabled:{get(){return this.printer.retract_on_pause>0},set(e){this.printer.retract_on_pause=e?6.5:0}},retractOnPause:{get(){return this.printer?this.printer.retract_on_pause:void 0},set(e){this.printer&&(this.printer.retract_on_pause=e)}},liftExtruderByEnabled:{get(){return this.printer.lift_z_on_pause>0},set(e){this.printer.lift_z_on_pause=e?2.5:0}},liftExtruderBy:{get(){return this.printer?this.printer.lift_z_on_pause:void 0},set(e){this.printer&&(this.printer.lift_z_on_pause=e)}},timelapseOnFinishEnabled:{get(){return this.printer.min_timelapse_secs_on_finish>=0},set(e){this.printer.min_timelapse_secs_on_finish=e?600:-1}},minTimelapseMinutesOnFinish:{get(){return this.printer?this.printer.min_timelapse_secs_on_finish/60:void 0},set(e){this.printer&&(this.printer.min_timelapse_secs_on_finish=60*e)}},timelapseOnCancelEnabled:{get(){return this.printer.min_timelapse_secs_on_cancel>=0},set(e){this.printer.min_timelapse_secs_on_cancel=e?300:-1}},minTimelapseMinutesOnCancel:{get(){return this.printer?this.printer.min_timelapse_secs_on_cancel/60:void 0},set(e){this.printer&&(this.printer.min_timelapse_secs_on_cancel=60*e)}},printerWizardUrl(){return le["a"].printerWizard(this.printer.id)},printerName:{get:function(){return this.printer?this.printer.name:void 0},set:function(e){this.printer.name=e}},detectiveSensitivity:{get(){return this.printer.detective_sensitivity},set(e){this.printer.detective_sensitivity=e,this.updateSetting("detective_sensitivity")}}},watch:{printerName:function(e,t){void 0!==t&&this.updateSetting("name")},retractOnPause:function(e,t){void 0!==t&&this.changeRetractOnPause(e)},liftExtruderBy:function(e,t){void 0!==t&&this.changeLiftExtruderBy(e)},minTimelapseMinutesOnFinish:function(e,t){void 0!==t&&this.updateSetting("min_timelapse_secs_on_finish")},minTimelapseMinutesOnCancel:function(e,t){void 0!==t&&this.updateSetting("min_timelapse_secs_on_cancel")}},created(){const{IS_ENT:e}=Object(Q["d"])();this.isEnt=!!e,this.printerId=it()(window.location.pathname,"/").slice(-2,-1).pop(),this.fetchPrinter()},methods:{fetchPrinter(){return oe["a"].get(le["a"].printer(this.printerId)).then(e=>{this.printer=Ae(e.data,this.printer)}).catch(e=>{this.errorDialog(e,""+this.$i18next.t("Printer not found"))})},patchPrinter(e,t){const i=this.getSettingsItemInput(e,t);return this.setSavingStatus(i,!0),oe["a"].patch(le["a"].printer(this.printerId),{[e]:t}).catch(e=>{if(e.response&&e.response.data&&"object"===typeof e.response.data)if(e.response.data.non_field_errors)this.errorAlert(e.response.data.non_field_errors);else for(const t in e.response.data)this.errorMessages[i]=e.response.data[t];else this.errorAlert()}).then(()=>{this.setSavingStatus(i,!1)})},errorAlert(){this.$swal.Toast.fire({icon:"error",html:`<div>${this.$i18next.t("Can not update printer settings.")}</div><div>${this.$i18next.t("Get help from")} <a href="https://obico.io/discord">${this.$i18next.t("the {brandName} general support forum",{brandName:this.$syndicateText.brandName})}</a> ${this.$i18next.t("or")} <a href="https://obico.io/discord">${this.$i18next.t("{brandName} for klipper support forum",{brandName:this.$syndicateText.brandName})}</a> ${this.$i18next.t("if this error persists.")}</div>`})},updateSetting(e){if(e in this.delayedSubmit){const t=this.delayedSubmit[e];return t["timeoutId"]&&clearTimeout(t["timeoutId"]),void(this.delayedSubmit[e]["timeoutId"]=setTimeout(()=>{this.patchPrinter(e,this.printer[e])},t["delay"]))}this.patchPrinter(e,this.printer[e])},sensitivityTooltipFormatter:function(e){return e<.95?"Low":e>1.05?"High":"Medium"},deletePrinter(e){this.$swal.Prompt.fire({title:""+this.$i18next.t("Are you sure?"),text:""+this.$i18next.t("Delete {name} printer? This action can not be undone.",{name:this.printer.name}),showCancelButton:!0,confirmButtonText:""+this.$i18next.t("Yes"),cancelButtonText:""+this.$i18next.t("No")}).then(e=>{e.isConfirmed&&oe["a"].delete(le["a"].printer(this.printerId)+"?with_archived=true").then(()=>{window.location.href="/printers/"})})},archivePrinter(){this.$swal.Confirm.fire().then(e=>{e.isConfirmed&&oe["a"].post(le["a"].printerAction(this.printerId,"/archive/")).then(()=>{this.$swal.Prompt.fire({title:""+this.$i18next.t("Printer archived"),html:`<p>${this.$i18next.t("{name} is archived.",{name:this.printer.name})}</p><p>${this.$i18next.t("You can find it on")} <a href="/ent/printers/archived/">${this.$i18next.t("this page")}</a> ${this.$i18next.t("and un-archive it")}.</p>`,confirmButtonText:""+this.$i18next.t("Go to the printer page")}).then(()=>{window.location.href="/printers/"})})})},getSettingsItemInput:function(e,t=""){switch(e){case"action_on_failure":return`${e}_${t}`;default:return""+e}},setSavingStatus(e,t){t&&delete this.errorMessages[e],this.$set(this.saving,e,t)},changeRetractOnPause(e){this.printer.retract_on_pause=e,this.updateSetting("retract_on_pause")},changeLiftExtruderBy(e){this.printer.lift_z_on_pause=e,this.updateSetting("lift_z_on_pause")}}},jl=Ul,Wl=(i("5716"),Object(N["a"])(jl,Il,Al,!1,null,"87bc2f04",null)),Hl=Wl.exports,Vl=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("b-container",[t("b-row",[t("b-col",[t("div",{staticClass:"form-container full-on-mobile border-radius-lg"},[t("div",{staticClass:"row"},[t("h3",{staticClass:"col-sm-12 text-center p-3"},[e._v(e._s(e.$t("Plugin Setup")))])]),t("b-row",{staticClass:"center mt-3 mb-5"},[t("div",{staticClass:"col-sm-12 col-lg-8"},[t("PrinterProgress",{attrs:{step:2}})],1)]),t("b-row",{staticClass:"center py-5"},[t("div",{staticClass:"col-sm-12 col-lg-8"},[t("loading",{attrs:{active:null!=e.chosenDeviceId,"can-cancel":!1}}),e.discoveryEnabled?t("div",{staticClass:"discover"},[t("div",{staticClass:"discover-body"},[e.canStartLinking?t("div",[t("div",{staticClass:"lead my-3"},[t("div",{staticClass:"spinner-border",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"})]),t("span",{staticClass:"sr-only"}),e._v(" "+e._s(e.$t("Scanning..., {name} printer(s) found on your local network:",{name:e.discoveredPrinters.length}))+" ")]),e._l(e.discoveredPrinters,(function(i){return t("discovered-printer",{key:i.device_id,attrs:{"discovered-printer":i},on:{"auto-link-printer":e.autoLinkPrinter}})}))],2):t("div",{staticStyle:{"text-align":"center"}},[t("div",{staticClass:"spinner-border big",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"})]),t("div",{staticClass:"lead"},[e._v(e._s(e.$t("Scanning...")))])]),e.discoveryCount>=2?t("div",{staticClass:"text-muted pt-4"},[t("div",[e._v(e._s(e.$t("To link your printer, please make sure:")))]),t("ul",[t("li",[e._v(e._s(e.$t("The printer is powered on. If you are using an external SBC such as a Raspberry Pi, make sure it's powered on as well.")))]),t("li",[e._v(" "+e._s(e.$t("The printer or SBC is connected to the same local network as your phone/computer."))+" ")]),e.targetOctoPrint?t("li",[e._v(e._s(e.$t("{brandName} for OctoPrint is 1.8.0 or above.",{brandName:e.$syndicateText.brandName})))]):e._e()])]):e._e(),t("div",{staticClass:"d-flex flex-column align-items-center"},[t("div",{staticClass:"mt-5 mb-3"},[e._v(" "+e._s(e.$t("Can’t find the printer you want to link? Switch to manual linking instead."))+" ")]),t("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(t){e.discoveryEnabled=!1}}},[e._v(" "+e._s(e.$t("Switch to manual linking"))+" ")])])])]):e.useLegacyVerificationCode?t("div",{staticClass:"container"},[t("div",{staticClass:"row justify-content-center pb-3"},[t("div",{staticClass:"col-sm-12 col-lg-8 d-flex flex-column align-items-center"},[t("input",{ref:"code",staticClass:"code-btn",attrs:{disabled:""},domProps:{value:""+(e.verificationCode&&e.verificationCode.code)}}),t("small",{staticClass:"mx-auto py-1",class:{"text-muted":!e.copied}},[e._v(e._s(e.copied?e.$t("Code copied to system clipboard"):e.$t("Ctrl-C/Cmd-C to copy the code")))]),t("div",{staticClass:"mx-auto pt-1 pb-4"},[t("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("Code will expire in ")))]),e._v(e._s(e.timeToExpire)+" ")]),t("div",{staticClass:"lead"},[t("i18next",{attrs:{translation:e.$t("Enter the {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("strong",[e._v(e._s(e.$t("6-digit verification code")))])]},proxy:!0}])})],1)])]),t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-sm-12 col-lg-8 img-container"},[e.targetOctoPrint?t("img",{staticClass:"screenshot",attrs:{src:i("f1f6")},on:{click:function(t){return e.zoomIn(t)}}}):e._e(),e.targetKlipper?t("img",{staticClass:"screenshot",attrs:{src:i("1c3a")},on:{click:function(t){return e.zoomIn(t)}}}):e._e(),t("div",{staticClass:"helper mx-auto py-2"},[t("a",{staticClass:"link font-weight-bold",on:{click:e.showVerificationCodeHelpModal}},[e._v(e._s(e.$t("Can't find the page to enter the 6-digit code?")))])])])])]):t("div",{staticClass:"container pt-5"},[t("div",{staticClass:"row justify-content-center pb-1"},[t("div",{staticClass:"col-sm-12 col-md-8 col-lg-6 d-flex flex-column align-items-center"},[t("div",{staticClass:"d-flex align-items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.oneTimePasscode,expression:"oneTimePasscode"}],staticClass:"form-control code-btn",attrs:{type:"text","aria-label":"One-time Passcode",disabled:"inprogress"===e.oneTimePasscodeStatus},domProps:{value:e.oneTimePasscode},on:{input:[function(t){t.target.composing||(e.oneTimePasscode=t.target.value)},e.oneTimePasscodeChanged]}}),"inprogress"===e.oneTimePasscodeStatus?t("div",{staticClass:"spinner-border text-primary ml-2",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[e._v("Loading...")])]):e._e()])])]),t("div",{staticClass:"row justify-content-center pb-3"},["failed"===e.oneTimePasscodeStatus?t("div",{staticClass:"text-danger col-sm-12 d-flex flex-column align-items-center"},[e._v(" "+e._s(e.$t("Invalid code. Is it expired?"))+" ")]):t("div",{staticClass:"col-sm-12 d-flex flex-column align-items-center"},[e._v(" "+e._s(e.$t("Enter the One-time Passcode"))+" ")])]),t("div",{staticClass:"mt-4"},[t("muted-alert",{staticClass:"muted-alert"},[t("i18next",{attrs:{translation:e.$t("If you using Obico for OctoPrint older than 2.5.0, or Obico for Klipper older than 1.6.0, switch to {localizedDom}.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{staticClass:"link",on:{click:function(t){e.useLegacyVerificationCode=!0}}},[e._v(e._s(e.$t("6-digit verification code")))])]},proxy:!0}])})],1)],1)])],1)]),e.discoveryEnabled||e.useLegacyVerificationCode?e._e():t("b-row",{staticClass:"center mt-3 mb-5"},[t("div",{staticClass:"col-md-4 p-4"},[t("h4",{staticClass:"text-center font-weight-bold"},[e._v(e._s(e.$t("Touch Screen")))]),t("img",{staticStyle:{"max-width":"80%"},attrs:{src:i("0886"),alt:""}}),t("ol",[t("li",[e._v(e._s(e.$t("Check to see if your printer already has Obico installed your printer screen.")))]),t("li",[e._v(e._s(e.$t("Navigate to the settings menu on the LCD screen of your printer.")))]),t("li",[e._v(e._s(e.$t("Find the “Link Obico” menu item and tap it to open the connection screen.")))])])]),t("div",{staticClass:"col-md-4 p-4"},[t("h4",{staticClass:"text-center font-weight-bold"},[e._v(e._s(e.$t("LCD Screen ")))]),t("img",{staticStyle:{"max-width":"80%"},attrs:{src:i("c914"),alt:""}}),t("ol",[t("li",[e._v(e._s(e.$t("Check to see if your printer already has Obico Easy Link installed on the LCD menu.")))]),t("li",[e._v(e._s(e.$t("Navigate to the settings menu on the LCD screen of your printer.")))]),t("li",[e._v(e._s(e.$t("Find the “Link Obico” menu item.")))])])]),t("div",{staticClass:"col-md-4 p-4"},[t("h4",{staticClass:"text-center font-weight-bold"},[e._v(e._s(e.$t("Install Via SSH")))]),t("img",{staticStyle:{"max-width":"80%"},attrs:{src:i("777a"),alt:""}}),t("ol",[t("li",[e._v(e._s(e.$t("If you can't find Obico Easy Link, you will need to SSH to your printer to install Obico. You will need to find a guide that works for your printer.")))])]),t("div",[t("a",{attrs:{target:"_blank",href:"https://www.obico.io/docs/user-guides/klipper-setup/"}},[e._v(e._s(e.$t("Show me how")))])])])]),t("div",{staticClass:"d-flex justify-content-between button-wrap"},[t("div",{staticClass:"back",on:{click:function(t){return e.$router.back()}}},[t("i",{staticClass:"fas fa-chevron-left"}),t("span",[e._v(" "+e._s(e.$t("Back")))])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"helper col-sm-12"},[t("i18next",{attrs:{translation:e.$t("Need help? Check out the {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{target:"_blank",href:e.targetKlipper?"https://www.obico.io/docs/user-guides/klipper-setup/":"https://www.obico.io/docs/user-guides/octoprint-plugin-setup/"}},[e._v(e._s(e.$t("step-by-step set up guide"))+".")])]},proxy:!0}])})],1)])],1)])],1)],1)]},proxy:!0}])})},Yl=[],Gl=i("ccf6"),ql=i("767e"),Kl=i.n(ql),Jl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"discovered-printers mt-4"},[t("div",{staticClass:"flex-grow-0 pt-1 mr-2"},[e.discoveredPrinter.agent.toLowerCase().includes("octoprint")?t("img",{staticClass:"logo-img",attrs:{src:i("2e7f")}}):e.discoveredPrinter.agent.toLowerCase().includes("klipper")?t("img",{staticClass:"logo-img",attrs:{src:i("886f")}}):t("img",{staticClass:"logo-img",attrs:{src:i("9605")}})]),t("div",{staticClass:"row flex-grow-1 ml-1 link-action"},[t("div",{staticClass:"col-sm-12 col-md-10 pb-2"},[e.discoveredPrinter.rpi_model?t("div",[e._v(" "+e._s(e.discoveredPrinter.rpi_model)+" ")]):e._e(),e.discoveredPrinter.machine_type?t("div",[e._v(" "+e._s(e.discoveredPrinter.machine_type)+" ")]):e._e(),e.discoveredPrinter.agent?t("div",{staticClass:"text-muted small"},[e._v(" "+e._s(e.$t("Platform"))+": "+e._s(e.discoveredPrinter.agent)+" ")]):e._e(),e.discoveredPrinter.host_or_ip?t("div",{staticClass:"text-muted small"},[e._v(" "+e._s(e.$t("IP address"))+": "+e._s(e.discoveredPrinter.host_or_ip)+" ")]):e._e(),e.discoveredPrinter.hostname?t("div",{staticClass:"text-muted small"},[e._v(" "+e._s(e.$t("Hostname"))+": "+e._s(e.discoveredPrinter.hostname)+" ")]):e._e(),e.discoveredPrinter.octopi_version?t("div",{staticClass:"text-muted small"},[e._v(" "+e._s(e.$t("OctoPi"))+": "+e._s(e.discoveredPrinter.octopi_version)+" ")]):e._e(),!e.discoveredPrinter.octopi_version&&e.discoveredPrinter.os?t("div",{staticClass:"text-muted small"},[e._v(" "+e._s(e.$t("OS"))+": "+e._s(e.discoveredPrinter.os)+" ")]):e._e()]),t("div",{staticClass:"col-sm-12 col-md-2 center px-3"},[t("button",{staticClass:"btn btn-block btn-primary",on:{click:function(t){return e.$emit("auto-link-printer",{...e.discoveredPrinter})}}},[e._v(" "+e._s(e.$t("Link"))+" ")])])])])},Zl=[],Ql={name:"DiscoveredPrinter",props:{discoveredPrinter:{type:Object,required:!0}}},Xl=Ql,ec=(i("262b"),Object(N["a"])(Xl,Jl,Zl,!1,null,null,null)),tc=ec.exports,ic=function(){var e=this,t=e._self._c;return t("div",{staticClass:"px-2"},[t("div",{staticClass:"title-pic"},[t("img",{staticClass:"pic-item",attrs:{src:i("4de7")}}),e._m(0),t("img",{staticClass:"pic-item",attrs:{src:i("67e8")}})]),t("div",{staticClass:"my-4"},[t("p",[e._v(e._s(e.$t("The {brandName} app needs to make sure you have access to selected printer.",{brandName:e.$syndicateText.brandName})))]),t("p",[e._v(" "+e._s(e.$t("When you press 'Link Now' button below, a new browser window will pop up to finish a handshake with this printer."))+" ")])]),t("div",[t("div",{staticClass:"row my-2"},[t("div",{staticClass:"col-sm-6"},[t("button",{staticClass:"btn btn-block btn-primary mt-2",attrs:{disabled:e.linking},on:{click:e.autoLinkPrinter}},[e.linking?t("b-spinner",{attrs:{small:""}}):e._e(),e._v(e._s(e.$t("Link Now"))+" "),t("i",{staticClass:"fas fa-external-link-alt"})],1)]),t("div",{staticClass:"col-sm-6"},[t("button",{staticClass:"btn btn-block btn-secondary mt-2",on:{click:e.cancel}},[e._v(e._s(e.$t("Cancel")))])])])])])},nc=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"pic-item"},[t("i",{staticClass:"fas fa-ellipsis-h fa-2x"}),t("i",{staticClass:"fas fa-ellipsis-h fa-2x"})])}],ac={name:"AutoLinkPopup",props:{discoveredPrinter:{type:Object,required:!0},switchToManualLinking:{type:Function,required:!0},secretObtained:{type:Function,required:!0}},data(){return{linking:!1}},mounted(){window.addEventListener("message",this.gotWindowMessage)},beforeDestroy(){window.removeEventListener("message",this.gotWindowMessage)},methods:{autoLinkPrinter(){if(this.linking=!0,this.gotSecret=null,this.obicoDiscoveryPopup=window.open(this.destUrl(),"_blank","toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,width=500,height=100"),!this.obicoDiscoveryPopup)return this.cancel(),void this.$swal.Prompt.fire({icon:"error",title:""+this.$i18next.t("Oops!"),html:`<p>${this.$i18next.t("Handshake failed because the pop-up was blcoked.")}</p><p>${this.$i18next.t("Please unblock the pop-up in your browser and try it again.")}</p>`,confirmButtonText:""+this.$i18next.t("Okay!"),showCancelButton:!0,cancelButtonText:""+this.$i18next.t("Switch to Manual Setup")}).then(e=>{e.isDismissed&&"cancel"===e.dismiss&&this.switchToManualLinking()});setTimeout(()=>{this.closeDiscoveryPopup(),this.gotSecret||(this.cancel(),this.$swal.Prompt.fire({icon:"error",title:""+this.$i18next.t("Handshake failed!"),html:`<p>${this.$i18next.t("Please make sure")}:</p>\n              <ul>\n                <li>${this.$i18next.t("The OctoPrint you want to link is at {host}:{port}, and it's connected to the same local network as your computer/phone.",{host:this.discoveredPrinter.host_or_ip,port:this.discoveredPrinter.port})}</li>\n                <li>${this.$i18next.t("The version of plugin is 1.8.0 or above.")}</li>\n              </ul>`,confirmButtonText:""+this.$i18next.t("Okay!"),showCancelButton:!0,cancelButtonText:""+this.$i18next.t("Switch to Manual Setup")}).then(e=>{e.isDismissed&&"cancel"===e.dismiss&&this.switchToManualLinking()}))},5e3)},destUrl(){const e=this.discoveredPrinter.agent?"obico":"thespaghettidetective";return`http://${this.discoveredPrinter.host_or_ip}:${this.discoveredPrinter.port||"80"}/plugin/${e}/grab-discovery-secret?device_id=${this.discoveredPrinter.device_id}`},switchToManual(){this.cancel(),this.switchToManualLinking()},closeDiscoveryPopup(){this.obicoDiscoveryPopup&&(this.obicoDiscoveryPopup.close(),this.obicoDiscoveryPopup=null)},gotWindowMessage(e){const t={...(null===e||void 0===e?void 0:e.data)||{}};!this.gotSecret&&this.discoveredPrinter.device_id&&t.device_secret?(this.gotSecret=t,this.secretObtained(this.discoveredPrinter.device_id,t.device_secret),this.cancel()):console.log("Ignored message",e)},cancel(){this.closeDiscoveryPopup(),this.$swal.close()}}},rc=ac,sc=(i("b223"),Object(N["a"])(rc,ic,nc,!1,null,"18c57e6c",null)),oc=sc.exports,lc=function(){var e=this,t=e._self._c;return t("div",{staticClass:"printer-progress"},[t("div",{staticClass:"circle",class:{active:0===e.step,done:e.step>0}},[t("font-awesome-icon",{attrs:{icon:"fa-check"}}),t("p",[e._v(" Device Selection ")])],1),t("div",{staticClass:"line",class:{active:e.step>=1}}),t("div",{staticClass:"circle",class:{active:1===e.step,done:e.step>1}},[t("font-awesome-icon",{attrs:{icon:["fas","check"]}}),t("p",[e._v(" Plugin Setup ")])],1),t("div",{staticClass:"line",class:{active:2===e.step}}),t("div",{staticClass:"circle",class:{active:2===e.step,done:3===e.step}},[t("font-awesome-icon",{attrs:{icon:["fas","check"]}}),t("p",[e._v(" Link Printer ")])],1)])},cc=[],dc={components:{},props:{step:{default:0,type:Number}},data(){return{}},computed:{},created(){},mounted(){},watch:{},methods:{}},uc=dc,pc=(i("afda"),Object(N["a"])(uc,lc,cc,!1,null,"731c7e84",null)),hc=pc.exports,mc={components:{Loading:gt.a,PageLayout:It,DiscoveredPrinter:tc,PrinterProgress:hc,MutedAlert:_n},data(){return{theme:Kl.a,verificationCode:null,verifiedPrinter:null,copied:!1,oneTimePasscode:"",oneTimePasscodeStatus:null,useLegacyVerificationCode:!1,discoveryEnabled:!0,discoveryCount:0,discoveredPrinters:[],chosenDeviceId:null,gotSecret:null,obicoDiscoveryPopup:null,apiCallIntervalId:null}},computed:{printerIdToLink(){return this.$route.query.printerId},title(){return this.printerIdToLink?"Re-Link Printer":"Link Printer"},expiryMoment(){return this.verificationCode?H()(this.verificationCode.expired_at):null},timeToExpire(){return this.expiryMoment?H.a.duration(this.expiryMoment.diff(H()())).humanize():"-"},canStartLinking(){var e,t;return(null===(e=this.verificationCode)||void 0===e?void 0:e.code)&&(null===(t=this.discoveredPrinters)||void 0===t?void 0:t.length)>0},targetOctoPrint(){return"octoprint"===this.$route.params.targetPlatform},targetKlipper(){return this.$route.params.targetPlatform.startsWith("klipper-")}},created(){this.targetOctoPrint&&(this.useLegacyVerificationCode=!0),this.getVerificationCode(),this.discoverPrinter()},methods:{oneTimePasscodeChanged(){this.oneTimePasscode=this.oneTimePasscode.toLowerCase(),5===this.oneTimePasscode.length&&(this.oneTimePasscodeStatus="inprogress",oe["a"].post(le["a"].oneTimePasscodes(),{one_time_passcode:this.oneTimePasscode,verification_code:this.verificationCode.code}).then(e=>{200!==e.status&&(this.oneTimePasscodeStatus="failed")}).catch(e=>{this.oneTimePasscodeStatus="failed"}))},verificationCodeUrl(){const e=le["a"].verificationCode();return this.verificationCode?this.verificationCode.verified_at||H()().isBefore(this.expiryMoment)?`${e}${this.verificationCode.id}/`:e:this.printerIdToLink?`${e}?printer_id=${this.printerIdToLink}`:e},callVerificationCodeApi(){oe["a"].get(this.verificationCodeUrl()).then(e=>{e.data&&(this.verificationCode=e.data,this.verificationCode.verified_at&&(this.verifiedPrinter=e.data.printer,Gl["onPrinterLinked"]&&Object(Gl["onPrinterLinked"])(),this.$router.push({path:`/printers/wizard/success/${this.verifiedPrinter.id}/`,query:{...this.$route.query}})))})},getVerificationCode(){this.callVerificationCodeApi(),this.apiCallIntervalId=setInterval(()=>{this.verifiedPrinter?clearInterval(this.apiCallIntervalId):this.callVerificationCodeApi()},5e3)},showVerificationCodeHelpModal(){let e=`<p>${this.$i18next.t("The 6-digit code needs to be entered in the Obico plugin in OctoPrint. There are a few reasons why you can't find this page:",{brandName:this.$syndicateText.brandName})}</p>\n        <p><ul>\n        <li style="margin: 10px 0;">${this.$i18next.t("You don't have the plugin installed or you haven't restarted OctoPrint after installation. Click")} <a href="/printers/wizard/">here</a> ${this.$i18next.t("to walk through the process again.")}</li>\n        <li style="margin: 10px 0;">${this.$i18next.t("The installed plugin is on a version earlier than 1.5.0. You need to upgrade the plugin to")} <b>1.5.0</b> ${this.$i18next.t("or later.")}</li>\n        <li style="margin: 10px 0;">${this.$i18next.t("Still no dice? Check out the step-by-step")} <a target="_blank" href="https://www.obico.io/docs/user-guides/octoprint-plugin-setup/">${this.$i18next.t("set up guide")}</a>.</li>\n        </ul></p>`;this.targetOctoPrint||(e=`<p>${this.$i18next.t("The 6-digit code needs to be entered to the Obico for Klipper installation script.")}</p>\n        <p>${this.$i18next.t("Check")} <a target="_blank" href="https://www.obico.io/docs/user-guides/klipper-setup/"${this.$i18next.t("this set up guide")}</a> ${this.$i18next.t("for detailed instructions.")}</p>`),this.$swal.fire({title:""+this.$i18next.t("Can't find the page to enter the 6-digit code?"),html:e,customClass:{container:"dark-backdrop"}})},zoomIn(e){e.target.classList.toggle("zoomedIn")},callPrinterDiscoveryApi(){this.discoveryEnabled&&(this.discoveryCount+=1,oe["a"].get(le["a"].printerDiscovery()).then(e=>{this.discoveredPrinters=dt()(e.data,e=>e.device_id)}))},discoverPrinter(){this.discoveryEnabled&&!this.verifiedPrinter&&(this.callPrinterDiscoveryApi(),setTimeout(()=>{this.discoverPrinter()},5e3))},autoLinkPrinter(e){this.$swal.openModalWithComponent(oc,{discoveredPrinter:e,switchToManualLinking:()=>this.discoveryEnabled=!1,secretObtained:(e,t)=>this.secretObtained(e,t)},{title:"Browser Pop-up",showConfirmButton:!1,allowOutsideClick:!1})},secretObtained(e,t){this.chosenDeviceId=e,oe["a"].post(le["a"].printerDiscovery(),{code:this.verificationCode.code,device_id:this.chosenDeviceId,device_secret:t}),setTimeout(()=>{this.chosenDeviceId&&!this.verifiedPrinter&&(this.chosenDeviceId=null,this.$swal.Toast.fire({icon:"error",title:"Something went wrong. Switched to using 6-digit code to link OctoPrint."}),this.discoveryEnabled=!1),this.chosenDeviceId=null},2e4)}}},fc=mc,gc=(i("a8d2"),i("8024"),Object(N["a"])(fc,Vl,Yl,!1,null,"7857a732",null)),vc=gc.exports,bc=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("b-container",[t("b-row",[t("b-col",[t("div",{staticClass:"form-container full-on-mobile border-radius-lg"},[e.printerIdToLink?t("b-row",[t("div",{staticClass:"col-sm-12 col-lg-8"},[t("div",{staticClass:"text-warning"},[t("i18next",{attrs:{translation:e.$t("Warning: Re-Linking OctoPrint should be your last resort to solve issues. Please make sure you have exhausted all options on {localizedDom}.")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{href:"https://www.obico.io/help/"}},[e._v(e._s(e.$t("{brandName}'s help website",{brandName:e.$syndicateText.brandName})))])]},proxy:!0}],null,!1,3291268443)})],1)])]):e._e(),t("div",{staticClass:"row"},[t("h3",{staticClass:"col-sm-12 text-center p-3"},[e._v(e._s(e.$t("Which platform are you using?")))])]),t("b-row",{staticClass:"center mt-3 mb-5 pb-5"},[t("div",{staticClass:"col-sm-12 col-lg-8"},[t("PrinterProgress",{attrs:{step:0}})],1)]),e.devicesWithObicoPreInstalled.length>0?t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-lg-6 py-4"},[t("h4",{staticClass:"py-3"},[e._v(e._s(e.$t("Devices with Obico Pre-installed")))]),t("div",{staticClass:"printer-list"},e._l(e.devicesWithObicoPreInstalled,(function(i){return t("div",{key:i.id,staticClass:"printer-item",on:{click:function(t){return e.targetPlatformClicked("klipper-obico-enabled",i)}}},[t("div",{staticClass:"img-wrap clickable"},[t("img",{attrs:{src:i.image_url,alt:""}})]),t("div",{staticClass:"item-label"},[e._v(e._s(i.brand))]),t("h5",{staticClass:"item-label"},[t("b",[e._v(e._s(i.model))])])])})),0)])]):e._e(),t("div",{staticClass:"wizard-card-list py-4"},[t("div",{staticClass:"wizard-card-horizontal",on:{click:function(t){return e.targetPlatformClicked("klipper-preinstalled")}}},[t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:i("886f")}})]),t("div",{staticClass:"text-wrap"},[t("h3",[e._v(e._s(e.$t("Pre-Installed Klipper Printer")))]),t("h5",[e._v(e._s(e.$t("Creality K1, Sonic Pad, Sovol SV07, Kingroon KLP1, Elegoo Neptune 4, etc...")))])])]),t("div",{staticClass:"wizard-card-horizontal",on:{click:function(t){return e.targetPlatformClicked("klipper-generic")}}},[t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:i("886f")}}),t("div",{staticClass:"img-tip"},[t("img",{attrs:{src:i("1f6a")}}),t("img",{attrs:{src:i("a085")}})])]),t("div",{staticClass:"text-wrap"},[t("h3",[e._v(e._s(e.$t("Generic Klipper - Self Installed")))]),t("h5",[e._v(e._s(e.$t("If you installed Klipper yourself on a Raspberry Pi or other linux device. E.g., Voron, RatRig")))])])]),t("div",{staticClass:"wizard-card-horizontal",on:{click:function(t){return e.targetPlatformClicked("octoprint")}}},[t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:i("2e7f")}})]),t("div",{staticClass:"text-wrap"},[t("h3",[e._v("OctoPrint")]),t("h5",[e._v(e._s(e.$t("Including OctoPrint for Klipper such as OctoKlipper.")))])])])])],1)])],1)],1)]},proxy:!0}])})},yc=[],wc={components:{PageLayout:It,PrinterProgress:hc},data(){return{devicesWithObicoPreInstalled:[]}},computed:{printerIdToLink(){return this.$route.query.printerId}},async created(){const e=await fetch("https://storage.googleapis.com/public-versioned/devices_with_obico_preinstalled.json?ts="+Date.now());this.devicesWithObicoPreInstalled=await e.json()},methods:{targetPlatformClicked(e,t){this.$router.push({path:`/printers/wizard/guide/${e}/`,query:{...this.$route.query,printerItem:t?JSON.stringify(t):void 0}})}}},_c=wc,Cc=(i("0af4"),Object(N["a"])(_c,bc,yc,!1,null,"9739003a",null)),kc=Cc.exports,Pc=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("b-container",[t("b-row",[t("b-col",[t("div",{staticClass:"form-container full-on-mobile border-radius-lg"},[t("div",{staticClass:"row"},[t("h3",{staticClass:"col-sm-12 text-center p-3"},[e._v(e._s(e.$t("Plugin Setup")))])]),t("b-row",{staticClass:"center mt-3 mb-5 pb-5"},[t("div",{staticClass:"col-sm-12 col-lg-8"},[t("PrinterProgress",{attrs:{step:1}})],1)]),t("div",[e.targetKlipperPreInstall?t("div",{staticClass:"kilpper-pre-install-wrap"},[t("img",{attrs:{src:i("777a"),alt:""}}),t("div",{staticClass:"text-wrap"},[t("h4",[e._v(e._s(e.$t("If you haven’t installed Obico Klipper, You need to find the right guide for your printer to install it.")))]),t("div",{staticClass:"find-printer-link"},[t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/klipper-setup/",target:"_blank"}},[e._v(e._s(e.$t("Find the Guide for Your Printer")))]),t("i",{staticClass:"fas fa-light fa-arrow-up"})]),t("h4",[e._v(e._s(e.$t("The basic steps involve:")))]),t("ol",[t("li",[e._v(e._s(e.$t("SSH to the device your Klipper runs on.")))]),t("li",[e._v(e._s(e.$t("Enter the terminal commands for your printer.")))]),t("li",[e._v(e._s(e.$t("Follow the installation steps.")))]),t("li",[e._v(e._s(e.$t("Get the one time passcode from the terminal.")))])])])]):e._e(),e.targetOctoPrint?t("div",{staticClass:"octo-wrap"},[t("div",{staticClass:"row justify-content-center pb-3"},[t("div",{staticClass:"col-sm-12 col-lg-10"},[t("ol",[t("li",[e._v(e._s(e.$t("Open OctoPrint in another browser tab.")))]),t("li",[e._v(" "+e._s(e.$t("Select"))+" "),t("em",[e._v('"'+e._s(e.$t("OctoPrint settings menu → Plugin Manager → Get More..."))+'"')]),e._v(". ")]),t("li",[e._v(e._s(e.$t("Enter '{brandName}' to locate the plugin. Click",{brandName:e.$syndicateText.brandName}))+" "),t("em",[e._v('"'+e._s(e.$t("Install"))+'"')]),e._v(".")]),t("li",[e._v(e._s(e.$t("Restart OctoPrint when prompted.")))])])])]),t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-sm-12 col-lg-8 img-container"},[t("img",{staticClass:"mx-auto screenshot",attrs:{src:i("2814")},on:{click:function(t){return e.zoomIn(t)}}})])])]):e._e(),e.targetKlipperGeneric?t("div",{staticClass:"klipper-wrap"},[t("div",{staticClass:"row justify-content-center pb-3"},[t("div",{staticClass:"col-sm-12 col-lg-10"},[t("ol",[t("li",[e._v(e._s(e.$t("SSH to the Raspberry Pi your Klipper runs on.")))]),t("li",[t("div",[e._v(e._s(e.$t("Run:")))]),t("pre",{staticClass:"mt-2"},[e._v("    cd ~\n    git clone https://github.com/TheSpaghettiDetective/moonraker-obico.git\n    cd moonraker-obico\n    ./install.sh\n                      ")])]),t("li",[e._v(e._s(e.$t("Follow the installation steps.")))])])])])]):e._e(),e.printerItem?t("div",{staticClass:"printer-item"},[t("div",{staticClass:"printer-left"},[t("h5",[e._v(e._s(e.printerItem.brand+" "+e.printerItem.model))]),t("div",{staticClass:"img-wrap"},[t("img",{attrs:{src:e.printerItem.image_url,alt:""}})])]),t("div",{staticClass:"line"}),t("div",{staticClass:"printer-right"},[t("ol",[t("li",[e._v(e._s(e.$t("1. Unbox and assemble the 3D printer following the manufacturers instructions")))]),t("li",[e._v(e._s(e.$t("2. Power on the 3D printer and make sure it is connected to WiFi.")))]),t("li",[e._v(e._s(e.$t("3. Tap “Next” when you are ready.")))])])])]):e._e()]),t("div",{staticClass:"d-flex justify-content-between button-wrap"},[t("div",{staticClass:"back",on:{click:function(t){return e.$router.back()}}},[t("i",{staticClass:"fas fa-chevron-left"}),t("span",[e._v(" "+e._s(e.$t("Back")))])]),t("b-button",{attrs:{variant:"primary"},on:{click:e.goForward}},[e._v(" "+e._s(e.$t("Next"))+" ")])],1),t("div",{staticClass:"center mt-5"},[t("i18next",{attrs:{translation:e.$t("Need help? Check out the {localizedDom}")},scopedSlots:e._u([{key:"localizedDom",fn:function(){return[t("a",{attrs:{target:"_blank",href:e.targetKlipper?"https://www.obico.io/docs/user-guides/klipper-setup/":"https://www.obico.io/docs/user-guides/octoprint-plugin-setup/"}},[e._v(e._s(e.$t("step-by-step set up guide"))+".")])]},proxy:!0}])})],1)],1)])],1)],1)]},proxy:!0}])})},Sc=[],Dc={components:{PageLayout:It,PrinterProgress:hc},computed:{printerItem(){if(this.$route.query.printerItem)return JSON.parse(this.$route.query.printerItem)},targetOctoPrint(){return"octoprint"===this.$route.params.targetPlatform},targetKlipperPreInstall(){return"klipper-preinstalled"===this.$route.params.targetPlatform},targetKlipperGeneric(){return"klipper-generic"===this.$route.params.targetPlatform},targetKlipper(){return this.$route.params.targetPlatform.startsWith("klipper-")}},methods:{goForward(){this.$router.push({path:`/printers/wizard/link/${this.$route.params.targetPlatform}/`,query:{...this.$route.query}})}}},xc=Dc,Tc=(i("2951"),Object(N["a"])(xc,Pc,Sc,!1,null,"59563868",null)),Fc=Tc.exports,Ic=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 p-4"},[t("div",{staticClass:"form-container full-on-mobile border-radius-lg"},[e.verifiedPrinter?t("div",{staticClass:"text-center py-5"},[t("svg",{staticClass:"success-checkmark"},[t("use",{attrs:{href:"#svg-success-checkmark"}})]),t("h3",{staticClass:"pb-4"},[e._v(e._s(e.$t("Successfully linked to your account!")))]),t("div",{staticClass:"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center"},[t("saving-animation",{attrs:{errors:e.errorMessages.printer_name,saving:e.saving.printer_name}},[t("div",{staticClass:"printer-name-input"},[t("div",{staticClass:"edit-icon"},[t("i",{staticClass:"fas fa-pen"})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.verifiedPrinter.name,expression:"verifiedPrinter.name"}],staticClass:"dark",attrs:{type:"text",placeholder:e.$t("Printer name")},domProps:{value:e.verifiedPrinter.name},on:{input:[function(t){t.target.composing||e.$set(e.verifiedPrinter,"name",t.target.value)},e.updatePrinterName]}})])]),t("div",[t("div",{staticClass:"text-muted mx-auto text-center font-weight-light"},[e._v(" "+e._s(e.$t("Give your printer a shiny name."))+" ")])])],1),t("br"),t("br"),t("div",{staticClass:"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center"},[e.redirectToTunnelCreation?t("div",{staticClass:"mt-4"},[t("a",{staticClass:"btn btn-primary btn-block mx-auto btn-lg",attrs:{href:e.redirectToTunnelCreation}},[e._v(e._s(e.$t("Authorize App Access")))])]):t("div",[t("div",{staticClass:"mt-4"},[t("a",{staticClass:"btn btn-primary btn-block mx-auto btn-lg",attrs:{href:"/printers/"}},[e._v(e._s(e.$t("Go Check Out Printer Feed!")))])]),t("div",{staticClass:"mt-5"},[t("a",{staticClass:"btn btn-outline-secondary btn-block mx-auto",attrs:{href:"/user_preferences/notification_twilio/"}},[e._v(e._s(e.$t("Add Phone Number")))])]),t("div",[t("div",{staticClass:"text-muted mx-auto text-center font-weight-light"},[e._v(" "+e._s(e.$t("Receive text (SMS) in case of print failures."))+" ")])]),t("div",{staticClass:"mt-4"},[t("a",{staticClass:"btn btn-outline-secondary btn-block mx-auto",attrs:{href:e.editPrinterUrl}},[e._v(e._s(e.$t("Change Printer Settings")))])]),t("div",[t("div",{staticClass:"text-muted mx-auto text-center font-weight-light"},[e._v(" "+e._s(e.$t("You can always change it later."))+" ")])])])])]):e._e()])])])])]},proxy:!0}])})},Ac=[],$c={components:{PageLayout:It,SavingAnimation:Nl["a"]},data(){return{verifiedPrinter:null,saving:{},errorMessages:{},delayedSubmit:{printer_name:{delay:1e3,timeoutId:null}}}},computed:{redirectToTunnelCreation(){return new URLSearchParams(window.location.search).get("redirectToTunnelCreation")},editPrinterUrl(){return`/printers/${this.verifiedPrinter.id}/`}},created(){this.fetchPrinter()},methods:{async fetchPrinter(){const e=await oe["a"].get(le["a"].printer(this.$route.params.printerId));this.verifiedPrinter=e.data},setSavingStatus(e,t){t&&delete this.errorMessages[e],this.$set(this.saving,e,t)},updatePrinterName(){if("name"in this.verifiedPrinter&&this.verifiedPrinter.name){const e=this.delayedSubmit["printer_name"];return e["timeoutId"]&&clearTimeout(e["timeoutId"]),void(this.delayedSubmit["printer_name"]["timeoutId"]=setTimeout(()=>(this.setSavingStatus("printer_name",!0),oe["a"].patch(le["a"].printer(this.verifiedPrinter.id),{name:this.verifiedPrinter.name}).then(()=>{this.setSavingStatus("printer_name",!1)}).catch(e=>{this.errorDialog(e,"Failed to update printer name")})),e["delay"]))}{const e=this.delayedSubmit["printer_name"];e["timeoutId"]&&clearTimeout(e["timeoutId"])}}}},Oc=$c,Nc=Object(N["a"])(Oc,Ic,Ac,!1,null,"d840a164",null),Lc=Nc.exports,Mc=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"topBarLeft",fn:function(){return[t("div",{staticClass:"printer-name truncated"},[e._v(" "+e._s(e.printer?e.printer.name:"")+" ")])]},proxy:!0},{key:"topBarRight",fn:function(){return[e.printer?t("div",{staticClass:"action-panel"},[t("a",{staticClass:"btn shadow-none action-btn icon-btn",attrs:{href:"#",title:"Share"},on:{click:function(t){return t.preventDefault(),e.onSharePrinter()}}},[t("i",{staticClass:"fas fa-share-alt fa-lg"}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("Share")))])]),t("a",{staticClass:"btn shadow-none action-btn icon-btn",attrs:{href:`/tunnels/${e.printer.id}/`,title:"OctoPrint Tunnel"}},[t("svg",{staticClass:"custom-svg-icon"},[t("use",{attrs:{href:"#svg-tunnel"}})]),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("OctoPrint Tunnel")))])]),t("a",{staticClass:"btn shadow-none action-btn icon-btn",attrs:{href:`/printers/${e.printer.id}/`,title:"Configure"}},[t("i",{staticClass:"fas fa-wrench"}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("Configure")))])]),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}],null,!1,3452768261)},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":[{key:"share",icon:"fas fa-share-alt fa-lg",title:e.$t("Share"),callback:!0},{key:"tunnel",svgIcon:"svg-tunnel",title:e.$t("OctoPrint Tunnel"),href:`/tunnels/${e.printer.id}/`},{key:"settings",icon:"fas fa-wrench",title:e.$t("Configure"),href:`/printers/${e.printer.id}/`}]},on:{menuOptionClicked:e.onMenuOptionClicked}})],1)],1):e._e()]},proxy:!0},{key:"content",fn:function(){return[e.printer?t("div",{staticClass:"page-container",attrs:{fluid:""}},[t("div",{staticClass:"widgets-container"},[e._l(e.widgets,(function(i){return[!i.enabled||(e.printer.isOffline()||e.printer.isDisconnected())&&"PrintJobControlWidget"!==i.component?e._e():t(i.component,{key:i.id,tag:"component",attrs:{printer:e.printer,"printer-comm":e.printerComm,print:e.lastPrint},on:{sendPrinterAction:e.onSendPrinterAction,notAFailureClicked:e.onNotAFailureClicked,updateSettings:e.onUpdateSettings}})]})),t("div",{staticClass:"extra-actions"},[t("h2",{staticClass:"section-title"},[e._v(e._s(e.$t("Additional Actions")))]),t("b-button",{staticClass:"custom-button",attrs:{variant:"outline-secondary"},on:{click:e.onReorderClicked}},[t("i",{staticClass:"fas fa-arrows-alt-v"}),e._v(" "+e._s(e.$t("Reorder"))+" & "+e._s(e.$t("Hide"))+" ")]),t("div",{staticClass:"text-muted extra-actions-explanation"},[t("small",[e._v(e._s(e.$t("Customize this page for each of your printers by reodering or hiding cards above.")))])]),t("b-button",{staticClass:"custom-button",attrs:{variant:"outline-primary",href:"/printers/wizard/"}},[t("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.$t("Add Printer"))+" ")]),t("div",{staticClass:"text-muted extra-actions-explanation"},[t("small",[e._v(e._s(e.$t("Link another printer to {brandName}.",{brandName:e.$syndicateText.brandName})))])])],1)],2),t("div",{staticClass:"stream-container"},[t("div",{ref:"streamInner",staticClass:"stream-inner"},[t("streaming-box",{attrs:{printer:e.printer,webrtc:e.webrtc,autoplay:e.user.is_pro},on:{onRotateRightClicked:t=>{e.customRotationDeg=t}}})],1)])]):t("loading-placeholder")]},proxy:!0}])})},Ec=[],zc=function(){var e=this,t=e._self._c;return t("widget-template",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.isPrinting?e.$t("Print Progress"):e.$t("Last Print")))]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"wrapper"},[e.print?[t("div",{staticClass:"header"},[t("g-code-details",{staticClass:"g-code-details",attrs:{file:e.print.g_code_file||{filename:e.print.filename},"show-open-button":e.print.g_code_file&&!e.print.g_code_file.resident_printer&&!e.print.g_code_file.deleted,"show-details":!1}})],1),t("div",{staticClass:"content"},[t("div",{staticClass:"details"},[e.isPrinting?[e.isPrinting?t("div",{staticClass:"progress-container"},[t("div",{staticClass:"progress-bar-wrapper"},[t("div",{staticClass:"progress-bar-inner",style:`width: ${e.printProgressPercentage}%`})]),t("div",{staticClass:"percentage-progress"},[e._v(e._s(e.printProgressPercentage)+"%")])]):e._e(),t("div",{staticClass:"info-line no-border"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-info"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Status")))])]),t("div",{staticClass:"value",class:"text-"+e.printer.calculatedStateColor()},[e._v(" "+e._s(e.printer.calculatedState())+" ")])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:["fas","layer-group"]}})],1),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Layer")))])]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.layerProgress)+" ")])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-stopwatch"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Remaining")))])]),t("div",{staticClass:"value"},[e.secondsLeft?t("span",[e._v(e._s(e.humanizedDuration(e.secondsLeft)))]):t("span",{staticClass:"text-secondary"},[e._v(e._s(e.$t("Calculating...")))])])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-flag-checkered"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Finishing at")))])]),t("div",{staticClass:"value"},[e.finishingAt?t("span",[e._v(e._s(e.finishingAt))]):t("span",{staticClass:"text-secondary"},[e._v(e._s(e.$t("Calculating...")))])])]),t("collapsable-details",[t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-clock"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Started")))])]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.print.started_at.format(e.DATE_TIME_FORMAT))+" ")])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-stopwatch"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Elapsed")))])]),t("div",{staticClass:"value"},[e.timeElapsed?t("span",[e._v(e._s(e.timeElapsed))]):t("b-spinner",{attrs:{small:""}})],1)]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:["fas","ruler-vertical"]}})],1),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Z-height")))])]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.mmProgress)+" ")])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-stopwatch"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Total time")))])]),e.timeTotal?t("div",{staticClass:"value"},[e._v(" "+e._s(e.timeTotal)+" ")]):t("span",{staticClass:"text-secondary"},[e._v(e._s(e.$t("Calculating...")))])]),e.print.filament_used?t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("font-awesome-icon",{attrs:{icon:["fas","ruler-vertical"]}})],1),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Total filament")))])]),t("div",{staticClass:"value"},[e._v(" "+e._s(e.humanizedFilamentUsage(e.print.filament_used))+" ")])]):e._e()])]:[t("div",{staticClass:"info-line no-border"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-info"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Status")))])]),t("div",{staticClass:"value"},[e.print.status.isActive?t("b-spinner",{attrs:{small:""}}):t("div",{staticClass:"print-status-color",class:e.print.status.key},[e._v(" "+e._s(e.print.status.title)+" ")])],1)]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"far fa-clock"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Started")))])]),t("div",{staticClass:"value"},[e._v(e._s(e.print.started_at.format("MMM D, YYYY h:mm a")))])]),t("div",{staticClass:"info-line"},[t("div",{staticClass:"label"},[t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-clock"})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Duration")))])]),e.print.status.isActive?t("b-spinner",{attrs:{small:""}}):t("div",{staticClass:"value"},[e._v(" "+e._s(e.print.duration||"-")+" ")])],1)]],2),e.isPrinting?e._e():t("div",{staticClass:"actions"},[t("b-button",{staticClass:"custom-button",attrs:{variant:"outline-secondary",href:"/prints/"+e.print.id}},[e._v(" "+e._s(e.$t("Open Print"))+" ")]),e.file.url?t("b-button",{staticClass:"custom-button",attrs:{variant:"secondary",disabled:e.isPrintStarting},on:{click:e.onRepeatClicked}},[e.isPrintStarting?t("b-spinner",{attrs:{small:""}}):t("i",{staticClass:"fas fa-redo"}),e._v(" "+e._s(e.$t("Reprint"))+" ")],1):e._e()],1)])]:[t("p",{staticClass:"empty-state-text"},[e._v(e._s(e.$t("No prints found")))])]],2)]},proxy:!0}])})},Rc=[];const Bc="MMM D, h:mm a";var Uc={name:"PrintProgressWidget",components:{WidgetTemplate:Ds,GCodeDetails:Ga,CollapsableDetails:Wa},props:{printer:{type:Object,required:!0},print:{type:Object,default:null}},data(){return{DATE_TIME_FORMAT:Bc,timeElapsed:null,finishingAt:null,startedAt:null,printProgressPercentage:0,extraVisible:!1}},computed:{file(){var e;return(null===(e=this.print)||void 0===e?void 0:e.g_code_file)||{}},isPrinting(){return this.printer.isActive()&&this.printer.progressCompletion()<100},isPrintStarting(){return this.printer.inTransientState()},mmProgress(){var e,t,i,n,a;let r;const s=null===(e=this.printer.status)||void 0===e?void 0:e.currentZ,o=null===(t=this.printer.status)||void 0===t||null===(i=t.file_metadata)||void 0===i||null===(n=i.analysis)||void 0===n||null===(a=n.printingArea)||void 0===a?void 0:a.maxZ;return(s||0==s)&&o&&(r=`${s.toFixed(2)}/${o.toFixed(2)} mm`),r||"--/--"},layerProgress(){var e,t,i,n;let a;const r=null===(e=this.printer.status)||void 0===e?void 0:e.currentLayerHeight,s=null===(t=this.printer.status)||void 0===t||null===(i=t.file_metadata)||void 0===i||null===(n=i.obico)||void 0===n?void 0:n.totalLayerCount;return(r||0==r)&&s&&(a=`${Math.round(r)}/${Math.round(s)}`),a||"--/--"},timeTotal(){let e=null;return this.secondsPrinted&&this.secondsLeft?(e=this.secondsPrinted+this.secondsLeft,fe(e)):null},secondsPrinted(){var e,t,i,n;return null!==(e=null===(t=this.printer)||void 0===t||null===(i=t.status)||void 0===i||null===(n=i.progress)||void 0===n?void 0:n.printTime)&&void 0!==e?e:null},secondsLeft(){var e,t,i,n;return null!==(e=null===(t=this.printer)||void 0===t||null===(i=t.status)||void 0===i||null===(n=i.progress)||void 0===n?void 0:n.printTimeLeft)&&void 0!==e?e:null}},watch:{printer:{handler:function(e,t){this.isPrinting&&this.updatePrintProgress()},deep:!0}},mounted(){this.isPrinting&&this.updatePrintProgress()},unmounted(){clearInterval(this.printerStateCheckInterval)},methods:{humanizedDuration:fe,humanizedFilamentUsage:ve,toggleZHeightProgressType(){this.preferZHeightProgressInLayers=!this.preferZHeightProgressInLayers,Object(s["b"])("preferZHeightProgressInLayers",this.preferZHeightProgressInLayers)},updatePrintProgress(){var e,t,i,n,a;if(!this.isPrinting)return;if(!this.print)return;const r=H.a.duration(H()().diff(this.print.started_at));this.timeElapsed=this.print.status.isActive?fe(r.asSeconds()):null,this.finishingAt="number"===typeof this.secondsLeft?be(this.secondsLeft,Bc):null,this.printProgressPercentage=Math.round(this.printer.progressCompletion()),this.printProgressMillimeters=Math.round((null===(e=this.printer.status)||void 0===e?void 0:e.currentZ)||0),this.printMillimetersTotal=Math.round((null===(t=this.printer.status)||void 0===t||null===(i=t.file_metadata)||void 0===i||null===(n=i.analysis)||void 0===n||null===(a=n.printingArea)||void 0===a?void 0:a.maxZ)||0)},onRepeatClicked(){this.isPrinting||(this.print?this.print.g_code_file.deleted?console.error("Can't repeat last print: G-Code deleted"):this.print.g_code_file.url?Aa(this.print.g_code_file,this.printer).then(()=>{var e;Oa({printer:this.printer,gcode:this.print.g_code_file,isCloud:null===(null===(e=this.print.g_code_file)||void 0===e?void 0:e.resident_printer),Swal:this.$swal})}):console.error("Can't repeat last print: no G-Code file in storage"):console.error("Can't repeat last print: no last print"))}}},jc=Uc,Wc=(i("9eda"),Object(N["a"])(jc,zc,Rc,!1,null,"951008e4",null)),Hc=Wc.exports,Vc=function(){var e=this,t=e._self._c;return t("widget-template",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("Failure Detection")))]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"wrapper"},[e.isEnt?t("div",{staticClass:"dh-balance-wrapper"},[t("a",{staticClass:"btn shadow-none action-btn icon-btn hours-btn",style:{marginRight:.25*String(e.dhBadgeNum).length+"rem"},attrs:{href:"/user_preferences/dh/",title:e.dhBadgeNum+" "+e.$t("AI Detection Hours")}},[t("svg",{staticClass:"custom-svg-icon"},[t("use",{attrs:{href:"#svg-hour-glass"}})]),t("span",{staticClass:"badge badge-light",attrs:{id:"user-credits"}},[e._v(e._s(e.dhBadgeNum))]),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("AI Detection Hours")))])])]):e._e(),t("div",{staticClass:"header"},[t("div",{staticClass:"gauge-wrapper"},[t("failure-detection-gauge",{attrs:{"normalized-p":e.printer.normalized_p,"is-watching":e.isWatching}})],1),e.printer.not_watching_reason?t("div",{staticClass:"overlay-info"},[t("muted-alert",{staticClass:"muted-alert"},[t("span",[e._v(e._s(e.$t("Not watching"))+" ("+e._s(e.printer.not_watching_reason)+"). "),t("a",{attrs:{href:"https://www.obico.io/docs/user-guides/detective-not-watching/",target:"_blank"}},[e._v(e._s(e.$t("Learn all possible reasons"))+" "),t("small",[t("i",{staticClass:"fas fa-external-link-alt"})])])])])],1):e._e()]),t("div",{staticClass:"controls"},[t("div",{staticClass:"line"},[t("label",{staticClass:"label",attrs:{for:"watching_enabled-toggle-"+e.printer.id}},[e._v(" "+e._s(e.$t("Enable AI failure detection"))+" "),e.enableFailureDetection?e._e():t("div",{staticClass:"text-muted"},[e._v(" "+e._s(e.$t("AI failure detection is disabled. You are on your own."))+" ")])]),t("div",{staticClass:"switch"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{staticClass:"custom-control-input update-printer",attrs:{id:"watching_enabled-toggle-"+e.printer.id,type:"checkbox",name:"watching_enabled"},domProps:{checked:e.enableFailureDetection},on:{click:e.onFailureDetectionToggled}}),t("label",{staticClass:"custom-control-label",staticStyle:{"font-size":"1rem"},attrs:{for:"watching_enabled-toggle-"+e.printer.id}})])])]),t("div",{staticClass:"line"},[t("label",{staticClass:"label",attrs:{for:"pause_on_failure-toggle-"+e.printer.id}},[e._v(" "+e._s(e.t("Pause on detected failures"))+" "),e.pauseOnFailure?e._e():t("div",{staticClass:"text-muted"},[e._v(" "+e._s(e.$t("You will still be alerted via notifications."))+" ")])]),t("div",{staticClass:"switch"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{staticClass:"custom-control-input update-printer",attrs:{id:"pause_on_failure-toggle-"+e.printer.id,type:"checkbox",name:"pause_on_failure"},domProps:{checked:e.pauseOnFailure},on:{click:e.onPauseOnFailureToggled}}),t("label",{staticClass:"custom-control-label",staticStyle:{"font-size":"1rem"},attrs:{for:"pause_on_failure-toggle-"+e.printer.id}})])])])]),e.printer.alertUnacknowledged()?t("div",{staticClass:"failure-detected-message"},[t("div",{staticClass:"warning-message"},[t("i",{staticClass:"fas fa-exclamation-triangle"}),e._v(" "+e._s(e.$t("Failure Detected!"))+" ")]),t("b-button",{attrs:{variant:"outline-warning custom-button"},on:{click:function(t){return e.onNotAFailureClicked(t)}}},[e._v(e._s(e.$t("Not a Failure?")))])],1):e._e()])]},proxy:!0}])})},Yc=[],Gc={name:"FailureDetectionWidget",components:{WidgetTemplate:Ds,FailureDetectionGauge:qn,MutedAlert:_n},props:{printer:{type:Object,required:!0}},data(){return{user:null,enableFailureDetection:!1,pauseOnFailure:!1,isEnt:!1}},computed:{dhBadgeNum(){return this.user&&this.user.is_dh_unlimited?"Unlimited":Math.round(this.user.dh_balance)},isWatching(){return!this.printer.not_watching_reason},notWatchingExplanation(){if(this.isWatching)return"";let e=this.printer.not_watching_reason;return""+e}},created(){this.user=Object(Q["f"])();const{IS_ENT:e}=Object(Q["d"])();this.isEnt=!!e,this.enableFailureDetection=this.printer.watching_enabled,this.pauseOnFailure="PAUSE"===this.printer.action_on_failure},methods:{onFailureDetectionToggled(){this.enableFailureDetection=!this.enableFailureDetection,this.$emit("updateSettings",{settingName:"watching_enabled",settingValue:this.enableFailureDetection})},onPauseOnFailureToggled(){this.pauseOnFailure=!this.pauseOnFailure,this.$emit("updateSettings",{settingName:"action_on_failure",settingValue:this.pauseOnFailure?"PAUSE":"NONE"})},onNotAFailureClicked(e){this.$emit("notAFailureClicked",e,!1)}}},qc=Gc,Kc=(i("a560"),Object(N["a"])(qc,Vc,Yc,!1,null,"2e6221c8",null)),Jc=Kc.exports,Zc=function(){var e=this,t=e._self._c;return t("widget-template",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("Temperature Controls")))]},proxy:!0},{key:"content",fn:function(){return[e._t("content",(function(){return[t("div",{staticClass:"wrapper"},[e.show?[e._l(e.temperatures,(function(i,n){return t("temperature-item",{key:n,attrs:{"temp-key":n,"temp-item":i,"is-plugin-version-sufficient":e.isPluginVersionSufficient},on:{TempEditClicked:function(t){return e.onEditClicked(n,i)}}})})),e.isPluginVersionSufficient?t("b-button",{staticClass:"custom-button",attrs:{variant:"outline-primary"},on:{click:e.onTemperaturePresetsClicked}},[e._v(" "+e._s(e.$t("Temperature Presets"))+" ")]):e._e()]:[t("div",{staticClass:"text-center mt-4"},[t("b-spinner"),t("p",{staticClass:"mt-2"},[e._v(e._s(e.$t("Loading temperature...")))])],1)]],2)]}))]},proxy:!0}],null,!0)})},Qc=[],Xc=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("h5",[e._v(e._s(e.$t("Presets"))+":")])]),t("div",[t("b-form-select",{staticClass:"form-control",attrs:{id:"id_preset"},model:{value:e.currentPreset,callback:function(t){e.currentPreset=t},expression:"currentPreset"}},e._l(e.allPresets,(function(i){return t("b-form-select-option",{key:i.name,attrs:{value:i.name}},[e._v(" "+e._s(i.name)+" ")])})),1)],1),t("muted-alert",{staticClass:"mt-4 mb-1"},[e._v(" "+e._s(e.$t("Temperature presets can be edited or added in {agentName} settings.",{agentName:e.agentName}))+" ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentPreset,expression:"currentPreset"}],attrs:{id:"selected-preset",type:"hidden"},domProps:{value:e.currentPreset},on:{input:function(t){t.target.composing||(e.currentPreset=t.target.value)}}})],1)},ed=[],td={name:"TempPresets",components:{MutedAlert:_n},props:{presets:{type:Array,required:!0},printer:{type:Object,required:!0}},data:function(){return{currentPreset:null}},computed:{allPresets(){let e=[...this.presets];return e.push({value:0,name:"OFF"}),e},agentName(){return this.printer.agentDisplayName()}},mounted(){this.currentPreset=this.allPresets[0].name},methods:{}},id=td,nd=Object(N["a"])(id,Xc,ed,!1,null,null,null),ad=nd.exports,rd={name:"TemperatureWidget",components:{WidgetTemplate:Ds,TemperatureItem:Jr},props:{printer:{type:Object,required:!0},printerComm:{type:Object,required:!0}},computed:{temperatures(){const e={};for(const[t,i]of Object.entries(de()(this.printer,"status.temperatures",{})))Boolean(i.actual)&&!isNaN(i.actual)&&(e[t]=i);return e},isPluginVersionSufficient(){return void 0!=de()(this.printer,"settings.temp_profiles")},show(){return Object.keys(this.temperatures).length>0}},methods:{temperatureDisplayName:Pn["f"],onEditClicked(e,t){if(!this.isPluginVersionSufficient||null===t.target)return;let i,n=de()(this.printer,"settings.temp_profiles",[]),a=350;e.search(/bed|chamber/)>-1&&(a=140),i=e.search(/tool/)>-1?n.map(e=>({name:e.name,target:e["extruder"]})):n.map(t=>({name:t.name,target:t[e]})),this.$swal.openModalWithComponent(ps,{presets:i,maxTemp:a,curTarget:t.target},{title:"Set "+Object(Pn["f"])(e)+" Temperature",confirmButtonText:"Confirm",showCancelButton:!0,preConfirm:()=>({target:parseInt(document.getElementById("target-temp").value)})}).then(t=>{if(t.value){let i=t.value.target;this.handleSetTemp(e,i)}})},onTemperaturePresetsClicked(){let e=de()(this.printer,"settings.temp_profiles",[]);this.$swal.openModalWithComponent(ad,{presets:e,printer:this.printer},{title:""+this.$i18next.t("Temperature Presets"),confirmButtonText:"Apply",showCancelButton:!0,preConfirm:()=>({preset:document.getElementById("selected-preset").value})}).then(e=>{var t;null!==(t=e.value)&&void 0!==t&&t.preset&&this.applyTempPreset(e.value.preset)})},applyTempPreset(e){const t=de()(this.printer,"settings.temp_profiles",[]);let i=t.find(t=>t.name===e);const n={};if(i)Object.entries(i).forEach(e=>{const t=e[0];t.toLowerCase().includes("bed")?n.bed=e[1]:t.toLowerCase().includes("tool")||t.toLowerCase().includes("extruder")?n.extruder=e[1]:t.toLowerCase().includes("chamber")&&(n.chamber=e[1])});else{if("OFF"!==e)return;n.bed=0,n.extruder=0,n.chamber=0}const a=de()(this.printer,"status.temperatures",[]);Object.entries(a).forEach(e=>{const t=e[0];t.toLowerCase().includes("bed")?this.handleSetTemp(t,n.bed):t.toLowerCase().includes("tool")||t.toLowerCase().includes("extruder")?this.handleSetTemp(t,n.extruder):t.toLowerCase().includes("chamber")&&n.chamber&&this.handleSetTemp(t,n.chamber)})},handleSetTemp(e,t){this.printerComm.passThruToPrinter({func:"set_temperature",target:"_printer",args:[e,t]})}}},sd=rd,od=(i("f086"),Object(N["a"])(sd,Zc,Qc,!1,null,"6556ed7d",null)),ld=od.exports,cd=function(){var e=this,t=e._self._c;return t("widget-template",{scopedSlots:e._u([{key:"title",fn:function(){return[e.activeMenu?t("div",{staticClass:"nav-btn",on:{click:function(t){e.activeMenu=null}}},[t("i",{staticClass:"fas fa-arrow-left"}),e._v("  "+e._s(e.$t("Back"))+" ")]):t("span",[e._v(e._s(e.$t("Printer Controls")))])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeMenu,expression:"!activeMenu"}],staticClass:"home-menu"},[t("button",{staticClass:"menu-button",attrs:{disabled:e.printer.isActive()},on:{click:function(t){e.activeMenu="move-head"}}},[t("svg",{staticClass:"icon move-xy"},[t("use",{attrs:{href:"#svg-move-xy"}})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Move Head")))])]),t("button",{staticClass:"menu-button",attrs:{disabled:e.printer.isActive()},on:{click:function(t){e.activeMenu="extrude"}}},[t("svg",{staticClass:"icon extruder"},[t("use",{attrs:{href:"#extruder"}})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Extrude")))])]),e.printer.isAgentMoonraker()?t("button",{staticClass:"menu-button",on:{click:function(t){e.activeMenu="baby-step-z"}}},[t("svg",{staticClass:"icon move-z"},[t("use",{attrs:{href:"#svg-move-z"}})]),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Baby Step Z")))])]):e._e(),e.hideTunePrinter?e._e():t("button",{staticClass:"menu-button",on:{click:function(t){e.activeMenu="tune-printer"}}},[t("font-awesome-icon",{attrs:{icon:["fas","gear"]}}),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Tune Printer")))])],1),e.powerDevices.length?t("button",{staticClass:"menu-button",on:{click:function(t){e.activeMenu="power-control"}}},[t("font-awesome-icon",{attrs:{icon:["fas","power-off"]}}),t("div",{staticClass:"title"},[e._v(e._s(e.$t("Power")))])],1):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:"move-head"===e.activeMenu,expression:"activeMenu === 'move-head'"}],staticClass:"control-panel move-head"},[t("div",{staticClass:"main"},[t("div",{staticClass:"toggles"},e._l(e.xyzJogDistance.options,(function(i){return t("div",{key:"xyz-"+i,staticClass:"pill",class:{active:i===e.xyzJogDistance.value},on:{click:function(t){e.xyzJogDistance.value=i}}},[e._v(" "+e._s(i)+" ")])})),0),t("div",{staticClass:"xy-move"},[t("div",{staticClass:"left",on:{click:function(t){return e.xyzControl(e.axis.x,e.directions.down)}}},[t("i",{staticClass:"fas fa-arrow-left"})]),t("div",{staticClass:"right",on:{click:function(t){return e.xyzControl(e.axis.x,e.directions.up)}}},[t("i",{staticClass:"fas fa-arrow-right"})]),t("div",{staticClass:"up",on:{click:function(t){return e.xyzControl(e.axis.y,e.directions.up)}}},[t("i",{staticClass:"fas fa-arrow-up"})]),t("div",{staticClass:"down",on:{click:function(t){return e.xyzControl(e.axis.y,e.directions.down)}}},[t("i",{staticClass:"fas fa-arrow-down"})]),t("div",{staticClass:"home",on:{click:function(t){return e.xyzControl(e.axis.xy,e.directions.home)}}},[t("i",{staticClass:"fas fa-home"})])]),t("div",{staticClass:"z-move"},[t("div",{staticClass:"up",on:{click:function(t){return e.xyzControl(e.axis.z,e.directions.up)}}},[t("i",{staticClass:"fas fa-arrow-up"})]),t("div",{staticClass:"down",on:{click:function(t){return e.xyzControl(e.axis.z,e.directions.down)}}},[t("i",{staticClass:"fas fa-arrow-down"})]),t("div",{staticClass:"home",on:{click:function(t){return e.xyzControl(e.axis.z,e.directions.home)}}},[t("i",{staticClass:"fas fa-home"})])])]),t("div",{staticClass:"additional"},[t("div",{staticClass:"control-btn",on:{click:e.homeAll}},[t("i",{staticClass:"fas fa-home"}),e._v(e._s(e.$t(" Home All")))]),t("div",{staticClass:"control-btn",on:{click:e.disableSteppers}},[t("i",{staticClass:"fas fa-power-off"}),e._v(" "+e._s(e.$t("Disable Steppers"))+" ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"extrude"===e.activeMenu,expression:"activeMenu === 'extrude'"}],staticClass:"control-panel extrude"},[t("div",{staticClass:"main"},[e.showExtrudeControl?[t("div",{staticClass:"toggles"},e._l(e.extrudeJogDistance.options,(function(i){return t("div",{key:"xyz-"+i,staticClass:"pill",class:{active:i===e.extrudeJogDistance.value},on:{click:function(t){e.extrudeJogDistance.value=i}}},[e._v(" "+e._s(i)+" ")])})),0),t("div",{staticClass:"main-buttons"},[t("div",{staticClass:"control-btn",on:{click:function(t){return e.handleFilament(e.filamentDirections.retract)}}},[t("i",{staticClass:"fas fa-minus"}),e._v(" "+e._s(e.$t("Retract"))+" ")]),t("div",{staticClass:"control-btn",on:{click:function(t){return e.handleFilament(e.filamentDirections.extrude)}}},[t("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s(e.$t("Extrude"))+" ")])])]:[t("div",{staticClass:"text-center mt-4"},[t("b-spinner"),t("p",{staticClass:"mt-2"},[e._v(e._s(e.$t("Loading tools...")))])],1)]],2),e.showToolsSelector?t("div",{staticClass:"additional"},[t("b-form-select",{staticClass:"form-control tool-select",model:{value:e.activeTool,callback:function(t){e.activeTool=t},expression:"activeTool"}},e._l(e.tools,(function(i,n){return t("b-form-select-option",{key:n,attrs:{value:n}},[e._v(" "+e._s(e.temperatureDisplayName(n))+" ")])})),1)],1):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:"baby-step-z"===e.activeMenu,expression:"activeMenu === 'baby-step-z'"}],staticClass:"control-panel baby-step-z"},[t("div",{staticClass:"main"},[t("div",{staticClass:"toggles"},e._l(e.zOffsetJogDistance.options,(function(i){return t("div",{key:"xyz-"+i,staticClass:"pill",class:{active:i===e.zOffsetJogDistance.value},on:{click:function(t){e.zOffsetJogDistance.value=i}}},[e._v(" "+e._s(i)+" ")])})),0),t("div",{staticClass:"z-move"},[t("div",{staticClass:"up",on:{click:function(t){return e.controlZOffset(e.directions.up)}}},[t("i",{staticClass:"fas fa-arrow-up"})]),t("div",{staticClass:"down",on:{click:function(t){return e.controlZOffset(e.directions.down)}}},[t("i",{staticClass:"fas fa-arrow-down"})])])]),t("div",{staticClass:"additional"},[t("div",{staticClass:"current-offset"},[t("div",{staticClass:"label"},[e._v(e._s(e.$t("Current Offset")))]),t("div",{staticClass:"value"},[e.currentZOffset||"number"===typeof e.currentZOffset?t("span",[e._v(" "+e._s(e.currentZOffset)+" ")]):t("span",[t("b-spinner",{attrs:{small:""}})],1)])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"tune-printer"===e.activeMenu,expression:"activeMenu === 'tune-printer'"}],staticClass:"control-panel tune-printer"},[e.printer.isAgentMoonraker()&&null===e.currentFeedRate?e._e():[t("div",{staticClass:"controls-title"},[t("span",[e._v(e._s(e.$t("Feed Rate / Speed")))]),t("help-widget",{staticClass:"help-message",attrs:{id:"print-speed-widget-help"}})],1),t("div",{staticClass:"controls"},[t("div",{staticClass:"custom"},[t("b-input-group",{attrs:{prepend:"%"},scopedSlots:e._u([{key:"append",fn:function(){return[t("b-button",{attrs:{variant:"background",disabled:null===e.customFeedRateFactor||parseInt(e.customFeedRateFactor)<1},on:{click:function(t){return e.setPrintSpeed(e.customFeedRateFactor)}}},[e._v(e._s(e.$t("Apply")))])]},proxy:!0}],null,!1,3696614275)},[t("b-form-input",{attrs:{placeholder:"100",type:"number"},on:{focus:function(e){return e.target.select()}},model:{value:e.customFeedRateFactor,callback:function(t){e.customFeedRateFactor=t},expression:"customFeedRateFactor"}})],1)],1)])],e.printer.isAgentMoonraker()&&null===e.currentFlowRate?e._e():[t("div",{staticClass:"controls-title"},[t("span",[e._v(e._s(e.$t("Flow Rate")))]),t("help-widget",{staticClass:"help-message",attrs:{id:"flow-rate-widget-help"}})],1),t("div",{staticClass:"controls"},[t("div",{staticClass:"custom"},[t("b-input-group",{attrs:{prepend:"%"},scopedSlots:e._u([{key:"append",fn:function(){return[t("b-button",{attrs:{variant:"background",disabled:null===e.customFlowRateFactor||parseInt(e.customFlowRateFactor)<1},on:{click:function(t){return e.setFlowRate(e.customFlowRateFactor)}}},[e._v(e._s(e.$t("Apply")))])]},proxy:!0}],null,!1,4188500917)},[t("b-form-input",{attrs:{placeholder:"100",type:"number"},on:{focus:function(e){return e.target.select()}},model:{value:e.customFlowRateFactor,callback:function(t){e.customFlowRateFactor=t},expression:"customFlowRateFactor"}})],1)],1)])],e.printer.isAgentMoonraker()&&null===e.currentFanSpeed?e._e():[t("div",{staticClass:"controls-title"},[t("span",[e._v(e._s(e.$t("Fan Speed")))]),t("help-widget",{staticClass:"help-message",attrs:{id:"fan-speed-widget-help"}})],1),t("div",{staticClass:"controls"},[t("b-button",{staticClass:"off",attrs:{variant:"background",small:""},on:{click:function(t){e.customFanSpeed=0,e.setFanSpeed(0)}}},[e._v(e._s(e.$t("0% (Off)")))]),t("div",{staticClass:"custom"},[t("b-input-group",{attrs:{prepend:"%"},scopedSlots:e._u([{key:"append",fn:function(){return[t("b-button",{attrs:{variant:"background",disabled:null===e.customFanSpeed||parseInt(e.customFanSpeed)>100||parseInt(e.customFanSpeed)<0},on:{click:function(t){return e.setFanSpeed(e.customFanSpeed)}}},[e._v(e._s(e.$t("Apply")))])]},proxy:!0}],null,!1,22301740)},[t("b-form-input",{attrs:{placeholder:"0-100",type:"number"},on:{focus:function(e){return e.target.select()}},model:{value:e.customFanSpeed,callback:function(t){e.customFanSpeed=t},expression:"customFanSpeed"}})],1)],1),t("b-button",{staticClass:"btn",attrs:{variant:"background",small:""},on:{click:function(t){e.customFanSpeed=100,e.setFanSpeed(100)}}},[e._v("100%")])],1)],e.printer.isAgentMoonraker()?e._e():t("muted-alert",{staticClass:"info-block"},[e._v(" "+e._s(e.$t("These settings can only be set. They can't be read back from the firmware due to a limitation of the communication protocol."))+" ")])],2),t("div",{directives:[{name:"show",rawName:"v-show",value:"power-control"===e.activeMenu,expression:"activeMenu === 'power-control'"}],staticClass:"control-panel power-control"},[e._l(e.powerDevices,(function(i,n){return t("div",{key:n,staticClass:"power-item"},[t("div",{staticClass:"title"},[t("div",{staticClass:"name"},[e._v(e._s(i.device))]),t("div",{staticClass:"status text-danger",class:{"text-success":"ON"===i.status.toUpperCase()}},[e._v(" • "+e._s(i.status.toUpperCase())+" ")])]),t("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return e.togglePower(i)}}},[e._v(e._s(e.$t(" Toggle Power ")))])],1)})),e.powerDevices.length>1?t("div",{staticClass:"bulk-actions"},[t("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.batchPowerControl("on")}}},[e._v(e._s(e.$t(" Power On All ")))]),t("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.batchPowerControl("off")}}},[e._v(e._s(e.$t(" Power Off All ")))])],1):e._e(),t("muted-alert",{staticClass:"info-block"},[e._v(" "+e._s(e.$t("Rapid toggling power may result in error. Please allow a cooldown period."))+" ")])],2)])]},proxy:!0}])})},dd=[];const ud={x:"x",y:"y",z:"z",xy:["x","y"]},pd={up:1,down:-1,home:0},hd={retract:-1,extrude:1};var md={name:"PrinterControlWidget",components:{WidgetTemplate:Ds,HelpWidget:Zi,MutedAlert:_n},props:{printer:{type:Object,required:!0},printerComm:{type:Object,required:!0}},data(){return{activeMenu:null,axis:ud,directions:pd,filamentDirections:hd,xyzJogDistance:{value:10,options:[1,10,50,100]},extrudeJogDistance:{value:10,options:[1,10,50]},zOffsetJogDistance:{value:.01,options:[.005,.01,.05,.1]},activeTool:null,currentZOffset:null,customFeedRateFactor:null,customFlowRateFactor:null,customFanSpeed:null,powerDevices:[]}},computed:{tools(){const e={};for(const[t,i]of Object.entries(de()(this.printer,"status.temperatures",{})))Boolean(i.actual)&&!isNaN(i.actual)&&(t.toLowerCase().includes("tool")||t.toLowerCase().includes("extruder"))&&(e[t]=i);return e},showExtrudeControl(){return Object.keys(this.tools).length>0},showToolsSelector(){return Object.keys(this.tools).length>1},currentFeedRate(){var e;const t=null===(e=this.printer.status)||void 0===e?void 0:e.currentFeedRate;return void 0!==t?t:null},currentFlowRate(){var e;const t=null===(e=this.printer.status)||void 0===e?void 0:e.currentFlowRate;return void 0!==t?t:null},currentFanSpeed(){var e;const t=null===(e=this.printer.status)||void 0===e?void 0:e.currentFanSpeed;return void 0!==t?t:null},hideTunePrinter(){return this.printer.isAgentMoonraker()&&null===this.currentFlowRate&&null===this.currentFanSpeed&&null===this.currentFeedRate}},watch:{tools:{handler:function(e,t){e&&(this.activeTool=Object.keys(e)[0])},immediate:!0},printer:{handler:function(e,t){e.isActive()&&["move-head","extrude"].includes(this.activeMenu)&&(this.activeMenu=null)},deep:!0},xyzJogDistance:{handler:function(e,t){Object(we["a"])()&&localStorage.setItem("xyz-mm-per-step-"+this.printer.id,e.value)},deep:!0},extrudeJogDistance:{handler:function(e,t){Object(we["a"])()&&localStorage.setItem("extrude-mm-per-step-"+this.printer.id,e.value)},deep:!0},zOffsetJogDistance:{handler:function(e,t){Object(we["a"])()&&localStorage.setItem("z-offset-mm-per-step-"+this.printer.id,e.value)},deep:!0},activeMenu(e,t){"baby-step-z"===e?this.getCurrentZOffset():"tune-printer"===e&&(this.customFeedRateFactor=null!==this.currentFeedRate?Math.round(100*this.currentFeedRate):null,this.customFlowRateFactor=null!==this.currentFlowRate?Math.round(100*this.currentFlowRate):null,this.customFanSpeed=null!==this.currentFanSpeed?Math.round(100*this.currentFanSpeed):null)}},created(){this.getPowerDevices(),Object(we["a"])()&&(this.xyzJogDistance.value=+localStorage.getItem("xyz-mm-per-step-"+this.printer.id)||this.xyzJogDistance.value,this.extrudeJogDistance.value=+localStorage.getItem("extrude-mm-per-step-"+this.printer.id)||this.extrudeJogDistance.value,this.zOffsetJogDistance.value=+localStorage.getItem("z-offset-mm-per-step-"+this.printer.id)||this.zOffsetJogDistance.value);const e=e=>{27===e.keyCode&&(this.activeMenu=null)};document.addEventListener("keydown",e),this.$once("hook:destroyed",()=>{document.removeEventListener("keydown",e)})},methods:{xyzControl(e,t){let i=[],n="jog";t===this.directions.home?(i.push(e),n="home"):i.push({[e]:t*this.xyzJogDistance.value});const a={func:n,target:"_printer",args:i};this.printerComm.passThruToPrinter(a,(e,t)=>{e&&this.$swal.Toast.fire({icon:"error",title:e})})},getCurrentZOffset(){const e={func:"printer/objects/query?gcode_move",target:"moonraker_api"};this.printerComm.passThruToPrinter(e,(e,t)=>{if(e)this.currentZOffset="no reading";else{const e=t.status.gcode_move.homing_origin[2],i=parseFloat(e.toFixed(3));this.currentZOffset=i}})},homeAll(){this.xyzControl(this.axis.z,this.directions.home),this.xyzControl(this.axis.xy,this.directions.home)},disableSteppers(){const e={func:"commands",target:"_printer",args:["M18"]},t={func:"printer/gcode/script",target:"moonraker_api",kwargs:{script:"M18"}},i=this.printer.isAgentMoonraker()?t:e;this.printerComm.passThruToPrinter(i,(e,t)=>{e&&this.$swal.Toast.fire({icon:"error",title:e})})},temperatureDisplayName:Pn["f"],handleFilament(e){const t=this.tools[this.activeTool].actual;if(t<179)return void this.$swal.Confirm.fire({title:""+this.$i18next.t("Unable to extrude / retract"),html:`<p class="text-center">${this.$i18next.t("The hotend is below the minimum temperature")}</p>`,confirmButtonText:""+this.$i18next.t("Heat to 180°C"),cancelButtonText:""+this.$i18next.t("Cancel")}).then(e=>{e.isConfirmed&&this.printerComm.passThruToPrinter({func:"set_temperature",target:"_printer",args:[this.activeTool,180]},(e,t)=>{e&&this.$swal.Toast.fire({icon:"error",title:e})})});const i=Object.entries(this.tools).findIndex(e=>e[0]===this.activeTool),n=e*this.extrudeJogDistance.value,a=`M83\nT${i}\nG1 E${n} F300`,r={func:"commands",target:"_printer",args:[a]},s={func:"printer/gcode/script",target:"moonraker_api",kwargs:{script:a}},o=this.printer.isAgentMoonraker()?s:r;this.printerComm.passThruToPrinter(o,(e,t)=>{e&&this.$swal.Toast.fire({icon:"error",title:e})})},controlZOffset(e){const t=this.zOffsetJogDistance.value*e,i=Math.round(1e4*t)/1e4,n=i>0?"+"+i:""+i,a={func:"commands",target:"_printer",args:["M290 Z "+i],force:!0},r={func:"printer/gcode/script",target:"moonraker_api",kwargs:{script:"SET_GCODE_OFFSET Z_ADJUST="+n}},s=this.printer.isAgentMoonraker()?r:a;this.currentZOffset=null,this.printerComm.passThruToPrinter(s,(e,t)=>{e?this.$swal.Toast.fire({icon:"error",title:e}):this.getCurrentZOffset()})},setPrintSpeed(e){null===e||e<1||this.sendCommandToPrinter("M220 S"+Math.round(e))},setFlowRate(e){null===e||e<1||this.sendCommandToPrinter("M221 S"+Math.round(e))},setFanSpeed(e){if(null===e||e<0||e>100)return;let t=0===e?"M107":"M106 S"+Math.round(e/100*255);this.sendCommandToPrinter(t)},sendCommandToPrinter(e,{onError:t,onSuccess:i}={}){const n=this.printer.isAgentMoonraker()?{func:"printer/gcode/script",target:"moonraker_api",kwargs:{script:e}}:{func:"commands",target:"_printer",args:[e]};this.printerComm.passThruToPrinter(n,(e,n)=>{e?t?t(e,n):this.$swal.Toast.fire({icon:"error",title:e}):i?i(e,n):this.$swal.Toast.fire({icon:"success",title:""+this.$i18next.t("Command successfully sent!")})})},getPowerDevices(){if(!this.printer.isAgentMoonraker())return;const e={func:"machine/device_power/devices",target:"moonraker_api",args:[]};this.printerComm.passThruToPrinter(e,(e,t)=>{e?this.$swal.Toast.fire({icon:"error",title:e}):this.powerDevices=(null===t||void 0===t?void 0:t.devices)||[]})},togglePower(e){const t="ON"===e.status.toUpperCase()?"off":"on",i=`device=${e.device}&action=${t}`,n={func:"machine/device_power/device?"+i,target:"moonraker_api",kwargs:{verb:"post"}};this.printerComm.passThruToPrinter(n,(e,t)=>{this.getPowerDevices(),e&&this.$swal.Toast.fire({icon:"error",title:e})})},batchPowerControl(e){if(!this.powerDevices.length)return;const t=""+this.powerDevices.map(e=>e.device).join("&"),i={func:`machine/device_power/${e}?${t}`,target:"moonraker_api",kwargs:{verb:"post"}};this.printerComm.passThruToPrinter(i,(e,t)=>{this.getPowerDevices(),e&&this.$swal.Toast.fire({icon:"error",title:e})})}}},fd=md,gd=(i("e871"),Object(N["a"])(fd,cd,dd,!1,null,"dfc3af1e",null)),vd=gd.exports,bd=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("draggable",{attrs:{"ghost-class":"ghost",handle:".handle"},on:{start:function(t){e.dragging=!0},end:function(t){e.dragging=!1}},model:{value:e.currentItems,callback:function(t){e.currentItems=t},expression:"currentItems"}},e._l(e.currentItems,(function(i){return t("div",{key:i.id,staticClass:"item"},[t("div",{staticClass:"handle"},[t("i",{staticClass:"fas fa-grip-lines"})]),t("div",{staticClass:"title"},[t("span",[e._v(e._s(e.getTitle(i.id)))])]),t("div",{staticClass:"switch"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{staticClass:"custom-control-input update-printer",attrs:{id:"widget-toggle-"+i.id,type:"checkbox",name:"pause_on_failure"},domProps:{checked:i.enabled},on:{click:function(t){return e.toggleItemEnabled(i)}}}),t("label",{staticClass:"custom-control-label",staticStyle:{"font-size":"1rem"},attrs:{for:"widget-toggle-"+i.id}})])])])})),0),t("input",{ref:"sortingConfig",attrs:{id:"sorting-config",type:"hidden"}})],1)},yd=[],wd=i("b76a"),_d=i.n(wd),Cd={name:"ReorderModal",components:{draggable:_d.a},props:{items:{type:Array,required:!0},extraInfo:{type:Array,required:!0}},data(){return{dragging:!1,currentItems:[]}},watch:{dragging(e,t){e||this.saveNewOrder()}},created(){this.currentItems=JSON.parse(JSON.stringify(this.items))},mounted(){},methods:{getTitle(e){return this.extraInfo.find(t=>t.id===e).title},toggleItemEnabled(e){e.enabled=!e.enabled,this.saveNewOrder()},saveNewOrder(){this.$refs.sortingConfig.value=JSON.stringify(this.currentItems)}}},kd=Cd,Pd=(i("89d8"),Object(N["a"])(kd,bd,yd,!1,null,"825483f2",null)),Sd=Pd.exports,Dd=function(){var e=this,t=e._self._c;return t("widget-template",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$t("Printer Terminal")))]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"terminal-widget"},[t("printer-terminal",{attrs:{printer:e.printer,"printer-comm":e.printerComm,"show-full-screen-opt":!0}})],1)]},proxy:!0}])})},xd=[],Td=function(){var e=this,t=e._self._c;return t("div",{class:["wrapper",{"full-screen-height":e.fullScreenHeight}]},[t("div",{staticClass:"actionWrap"},[e.showFullScreenOpt?t("a",{attrs:{href:`/printers/${e.printer.id}/terminal/`}},[t("b-button",{staticClass:"actionBtn",attrs:{disabled:!e.feedIsOn}},[t("i",{staticClass:"fas fa-expand actionIcon"})])],1):e._e(),e.canToggleFeed?t("b-button",{staticClass:"actionBtn",on:{click:e.toggleTerminalPower}},[null===e.feedIsOn?t("b-spinner",{attrs:{small:""}}):t("i",{class:["fas","fa-power-off","actionIcon",{"text-primary":!e.feedIsOn}]})],1):e._e(),t("b-button",{staticClass:"actionBtn",attrs:{disabled:!e.feedIsOn},on:{click:e.clearFeed}},[t("i",{staticClass:"fas fa-trash actionIcon"})]),t("b-dropdown",{staticClass:"actionBtnNoP",attrs:{disabled:!e.feedIsOn,right:"","no-caret":"","toggle-class":"action-btn icon-btn","menu-class":"scrollable",title:"Filter"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-filter"})]},proxy:!0}])},[t("div",[t("div",[t("b-dropdown-text",{staticClass:"small text-secondary"},[e._v(e._s(e.$t("Filter")))]),t("b-dropdown-item",{nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.updateFilterPrefs("temperature",!e.hideTempMessages)}}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.hideTempMessages?"visible":"hidden"}}),t("div",{staticClass:"filterItemH"},[t("i",{staticClass:"fas fa-fire"}),t("div",{staticClass:"text"},[e._v(e._s(e.$t("Suppress Temperature")))])])])]),t("b-dropdown-item",{nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.updateFilterPrefs("sd",!e.hideSDMessages)}}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.hideSDMessages?"visible":"hidden"}}),t("div",{staticClass:"filterItemH"},[t("i",{staticClass:"fas fa-sd-card"}),t("div",{staticClass:"text"},[e._v(e._s(e.$t("Suppress SD Status Messages")))])])])]),t("b-dropdown-item",{nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.updateFilterPrefs("gcode",!e.hideGCodeMessages)}}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.hideGCodeMessages?"visible":"hidden"}}),t("div",{staticClass:"filterItemH"},[t("i",{staticClass:"fas fa-code"}),t("div",{staticClass:"text"},[e._v(e._s(e.$t("Suppress Position Messages")))])])])]),t("b-dropdown-item",{nativeOn:{"!click":function(t){return t.stopPropagation(),t.preventDefault(),e.updateFilterPrefs("ok",!e.hideOKMessages)}}},[t("div",{staticClass:"dropdown-text-group"},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:e.hideOKMessages?"visible":"hidden"}}),t("div",{staticClass:"filterItemH"},[t("i",{staticClass:"fas fa-thumbs-up"}),t("div",{staticClass:"text"},[e._v(e._s(e.$t("Suppress 'OK' Messages")))])])])])],1)])])],1),t("terminal-feed-view",{staticClass:"feedWrap",attrs:{"terminal-feed-array":e.terminalFeedArray,"feed-is-on":e.feedIsOn}}),t("div",{staticClass:"inputWrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"textInput",attrs:{disabled:!e.feedIsOn,type:"text",placeholder:e.$t("Enter code...")},domProps:{value:e.inputValue},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage.apply(null,arguments)},input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),t("b-button",{staticClass:"sendBtn",attrs:{disabled:!e.feedIsOn,variant:"outline-primary"},on:{click:e.sendMessage}},[t("i",{staticClass:"fas fa-chevron-right text-primary-icon"})])],1)],1)},Fd=[],Id=function(){var e=this,t=e._self._c;return t("div",{staticClass:"feedWrap",attrs:{colorScheme:"background"}},[e.feedIsOn?e._l(e.terminalFeedArray,(function(i,n){return t("div",{key:n,staticClass:"itemWrap"},[null!==i&&void 0!==i&&i.msg?t("div",{staticClass:"terminalText"},[t("p",{staticClass:"messageTimeStamp"},[e._v(" "+e._s(i.normalTimeStamp)+" ")]),t("p",{staticClass:"messageText"},[e._v(" "+e._s(i.msg)+" ")])]):e._e(),t("div",{staticClass:"divider"})])})):t("div",{staticStyle:{width:"100%"}},[t("p",{staticStyle:{margin:"0","margin-top":"5px","text-align":"center"}},[t("i",{staticClass:"fas fa-power-off",staticStyle:{"margin-right":"5px"}}),e._v(e._s(e.$t("Terminal feed is off"))+" ")])])],2)},Ad=[],$d={name:"TerminalFeedView",components:{},props:{terminalFeedArray:{type:Array,required:!0},feedIsOn:{type:Boolean,required:!0}},methods:{onMenuOptionClicked(e){"share"===e&&this.onSharePrinter()}}},Od=$d,Nd=(i("da42"),Object(N["a"])(Od,Id,Ad,!1,null,"e788be14",null)),Ld=Nd.exports,Md={name:"PrinterTerminal",components:{TerminalFeedView:Ld},props:{printer:{type:Object,required:!0},printerComm:{type:Object,required:!0},fullScreenHeight:{type:Boolean,required:!1,default:!1},showFullScreenOpt:{type:Boolean,required:!0,default:!0}},data(){return{oldTerminalFeed:null,terminalFeedArray:[],inputValue:"",hideTempMessages:!0,hideSDMessages:!0,hideOKMessages:!0,hideGCodeMessages:!0,feedIsOn:!0}},computed:{canToggleFeed(){return!this.printer.isAgentMoonraker()&&this.printer.isAgentVersionGte("2.4.7","0.0.0")}},created(){this.printerComm.onTerminalFeedReceived=this.onNextTerminalFeed,this.terminalSetup()},mounted(){const e=localStorage.getItem("printer-terminal-filter-prefs-temperature"),t=localStorage.getItem("printer-terminal-filter-prefs-sd"),i=localStorage.getItem("printer-terminal-filter-prefs-ok"),n=localStorage.getItem("printer-terminal-filter-prefs-gcode");e&&(this.hideTempMessages=JSON.parse(e)),t&&(this.hideSDMessages=JSON.parse(t)),n&&(this.hideGCodeMessages=JSON.parse(n)),i&&(this.hideOKMessages=JSON.parse(i))},methods:{onNextTerminalFeed(e){var t,i;const n=(null===e||void 0===e?void 0:e.msg)===(null===(t=this.oldTerminalFeed)||void 0===t?void 0:t.msg),a=(null===e||void 0===e?void 0:e._ts)===(null===(i=this.oldTerminalFeed)||void 0===i?void 0:i._ts),r=null===e||void 0===e?void 0:e.msg;this.oldTerminalFeed=e;const s=/((N\d+\s+)?M105)|((ok\s+([PBN]\d+\s+)*)?([BCLPR]|T\d*):-?\d+)/g,o=/((N\d+\s+)?M27)|(SD printing byte)|(Not SD printing)/g,l=/^G[0-3].*$/g;this.hideSDMessages&&o.test(r)||this.hideTempMessages&&s.test(r)||this.hideGCodeMessages&&l.test(r)||this.hideOKMessages&&"ok"===r.toLowerCase().trim()||n||a||(e.normalTimeStamp=H()().format("h:mm:ssa"),e.msg=r.trim(),this.terminalFeedArray.unshift(e))},sendMessage(){if(!this.inputValue.length)return;if(!this.feedIsOn)return;const e=this.inputValue.toUpperCase();this.printer.isAgentMoonraker()&&this.onNextTerminalFeed({msg:e,_ts:new Date});const t={func:"printer/gcode/script",target:"moonraker_api",kwargs:{script:""+e}},i={func:"commands",target:"_printer",args:[""+e],force:!0},n=this.printer.isAgentMoonraker()?t:i;this.printerComm.passThruToPrinter(n,(e,t)=>{e&&this.$swal.Toast.fire({icon:"error",title:e})}),this.inputValue=""},clearFeed(){this.terminalFeedArray=[]},updateFilterPrefs(e,t){localStorage.setItem("printer-terminal-filter-prefs-"+e,JSON.stringify(t)),"temperature"===e?this.hideTempMessages=t:"gcode"===e?this.hideGCodeMessages=t:"ok"===e?this.hideOKMessages=t:this.hideSDMessages=t},async terminalSetup(){this.canToggleFeed?this.printerComm.passThruToPrinter({func:"toggle_terminal_feed",target:"gcode_hooks",args:["get"]},(e,t)=>{this.feedIsOn=t||!1}):this.feedIsOn=!0},async toggleTerminalPower(){const e=this.feedIsOn?"off":"on";this.feedIsOn=null,this.clearFeed(),this.printerComm.passThruToPrinter({func:"toggle_terminal_feed",target:"gcode_hooks",args:[e]},(e,t)=>{this.feedIsOn=t||!1})}}},Ed=Md,zd=(i("45e1"),Object(N["a"])(Ed,Td,Fd,!1,null,"e9a802f6",null)),Rd=zd.exports,Bd={name:"TerminalWidget",components:{WidgetTemplate:Ds,PrinterTerminal:Rd},props:{printer:{type:Object,required:!0},printerComm:{type:Object,required:!0}}},Ud=Bd,jd=(i("6984"),Object(N["a"])(Ud,Dd,xd,!1,null,"4fa56247",null)),Wd=jd.exports;const Hd="/resume_print/",Vd="/mute_current_print/?mute_alert=true",Yd="/acknowledge_alert/?alert_overwrite=NOT_FAILED",Gd=[{id:1,title:"Print Job Control",component:"PrintJobControlWidget"},{id:2,title:"Last Print / Progress",component:"PrintProgressWidget"},{id:3,title:"Failure Detection",component:"FailureDetectionWidget"},{id:4,title:"Temperature Controls",component:"TemperatureWidget"},{id:5,title:"Printer Controls",component:"PrinterControlWidget"},{id:6,title:"Terminal Widget",component:"TerminalWidget"}];var qd={name:"PrinterControlPage",components:{StreamingBox:Mr,PageLayout:It,CascadedDropdown:ci,PrintJobControlWidget:Xo,PrintProgressWidget:Hc,FailureDetectionWidget:Jc,TemperatureWidget:ld,PrinterControlWidget:vd,TerminalWidget:Wd},data(){return{user:null,printerId:null,printer:null,webrtc:null,currentBitrate:null,lastPrint:null,lastPrintFetchCounter:0,widgetsConfig:null,customRotationDeg:Object(s["a"])("webcamRotationDeg",0)}},computed:{widgets(){if(this.widgetsConfig)return this.widgetsConfig.map(e=>{const t=Gd.find(t=>t.id===e.id);return{...e,...t}})},videoRotationDeg(){var e,t,i;const n=+(null!==(e=null===(t=this.printer)||void 0===t||null===(i=t.settings)||void 0===i?void 0:i.webcam_rotation)&&void 0!==e?e:0)+this.customRotationDeg;return n%360}},watch:{printer:{handler(e,t){var i,n;e&&null===t?(this.$nextTick(this.resizeStream),this.widgetsConfig=this.restoreWidgets()):(null===e||void 0===e?void 0:e.isActive())===(null===t||void 0===t?void 0:t.isActive())&&(null===e||void 0===e||null===(i=e.current_print)||void 0===i?void 0:i.started_at)===(null===t||void 0===t||null===(n=t.current_print)||void 0===n?void 0:n.started_at)||this.fetchLastPrint({pollForCorrect:!0})},deep:!0},videoRotationDeg(){this.resizeStream()}},created(){this.user=Object(Q["f"])(),this.printerId=it()(window.location.pathname,"/").slice(-3,-2).pop(),this.fetchLastPrint(),this.webrtc=Dr(),this.printerComm=Ca.getOrCreatePrinterComm(this.printerId,le["a"].printerWebSocket(this.printerId),{onPrinterUpdateReceived:e=>{this.printer=Ae(e,this.printer),this.webrtc&&!this.webrtc.initialized&&(this.webrtc.openForPrinter(this.printer.id,this.printer.auth_token),this.printerComm.setWebRTC(this.webrtc))}}),this.printerComm.connect()},mounted(){document.querySelector("body").style.paddingBottom=0,addEventListener("resize",this.resizeStream)},methods:{onMenuOptionClicked(e){"share"===e&&this.onSharePrinter()},onSharePrinter(){this.$swal.openModalWithComponent(bs,{isProAccount:this.user.is_pro,printer:this.printer},{confirmButtonText:"Close"})},restoreWidgets(){let e=Gd.map(e=>({id:e.id,enabled:!0}));Object(we["a"])()&&(e=JSON.parse(localStorage.getItem("printer-control-widgets-"+this.printer.id))||e);for(const i of Gd)e.find(e=>e.id===i.id)||e.push({id:i.id,enabled:!0});for(const i of e)Gd.find(e=>e.id===i.id)||e.splice(e.indexOf(i),1);const t=e.find(e=>6===e.id);return t&&!this.printer.isAgentVersionGte("2.3.11","1.4.4")&&e.splice(e.indexOf(t),1),Object(we["a"])()&&localStorage.setItem("printer-control-widgets-"+this.printer.id,JSON.stringify(e)),e},onUpdateSettings(e){const{settingName:t,settingValue:i}=e;this.printer[t]=i,oe["a"].patch(le["a"].printer(this.printer.id),{[t]:i}).catch(e=>{console.error("Failed to update printer settings: ",e)})},fetchLastPrint(e){const t={pollForCorrect:!1},{pollForCorrect:i}=e||t;oe["a"].get(le["a"].prints(),{params:{start:0,limit:1,filter_by_printer_ids:[this.printerId],sorting:"date_desc"}}).then(e=>{if(e.data.length&&(this.lastPrint=Te(e.data[0])),i){let e=!1;if(this.lastPrint&&this.printer.isActive()===this.lastPrint.status.isActive||(e=!0),e&&this.lastPrintFetchCounter<5){const e=1e3*(this.lastPrintFetchCounter+1);setTimeout(()=>this.fetchLastPrint({pollForCorrect:!0}),e),this.lastPrintFetchCounter+=1}else this.lastPrintFetchCounter=0}}).catch(e=>{console.error("Error fetching last print: ",e)})},resizeStream(){const e=this.$refs.streamInner;if(!e)return;const t=e.parentElement,i=window.getComputedStyle(t),n=i.getPropertyValue("position");if("fixed"!==n)return e.style.width="100%",void(e.style.height="auto");const a=t.getBoundingClientRect(),r=a.width,s=a.height,o=this.videoRotationDeg%180!==0,l=this.printer.settings.ratio169,c=l?o?16/9:9/16:o?4/3:3/4;let d=r,u=d*c;u>s&&(u=s,d=u/c),o&&(d=Math.max(d,u),u=Math.max(d,u)),e.style.width=d+"px",e.style.height=u+"px"},onNotAFailureClicked(e,t){this.$swal.Confirm.fire({title:""+this.$i18next.t("Noted!"),html:`<p>${this.$i18next.t("Do you want to mute failure detection on for this print?")}</p><small>${this.$i18next.t("If you select 'Mute', failure detection will be turned off for this print, but will be automatically turned on for your next print.")}</small>`,confirmButtonText:""+this.$i18next.t("Mute"),cancelButtonText:""+this.$i18next.t("Cancel")}).then(e=>{e.isConfirmed&&setTimeout(()=>{this.onSendPrinterAction(this.printer.id,Vd)},1e3),t?(this.printer.setTransientState("Resuming"),this.onSendPrinterAction(this.printer.id,Hd)):this.onSendPrinterAction(this.printer.id,Yd)}),e.preventDefault()},onSendPrinterAction(e,t,i){oe["a"].post(le["a"].printerAction(e,t))},onReorderClicked(){this.$swal.openModalWithComponent(Sd,{items:[...this.widgetsConfig],extraInfo:Gd},{confirmButtonText:""+this.$i18next.t("Save"),showCancelButton:!0,preConfirm:()=>({config:document.getElementById("sorting-config").value})}).then(e=>{var t;if(null!==(t=e.value)&&void 0!==t&&t.config){const t=JSON.parse(e.value.config);this.widgetsConfig=t,Object(we["a"])()&&localStorage.setItem("printer-control-widgets-"+this.printer.id,JSON.stringify(t))}})}}},Kd=qd,Jd=(i("83ad"),Object(N["a"])(Kd,Mc,Ec,!1,null,"5b4d2609",null)),Zd=Jd.exports,Qd=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"content",fn:function(){return[t("b-container",{staticClass:"flex-full-size",class:{"is-in-mobile":e.useMobileLayout},attrs:{fluid:"xl"}},[t("b-row",{staticClass:"flex-full-size"},[t("b-col",{staticClass:"flex-full-size"},[e.user?t("div",{staticClass:"flex-full-size"},[e.useMobileLayout?t("div",{staticClass:"mobile-settings-wrapper full-on-mobile"},["/user_preferences/"===e.$route.path?t("div",{staticClass:"mobile-settings-categories"},[t("h2",{directives:[{name:"show",rawName:"v-show",value:!e.onlyNotifications,expression:"!onlyNotifications"}],staticClass:"categories-title section-title"},[e._v(" "+e._s(e.$t("Account"))+" ")]),e._l(e.sections,(function(i,n){return[i.isHidden?e._e():t("router-link",{key:n,class:i.isSubcategory?"subcategory":"",attrs:{to:i.route}},[t("span",[i.faIcon?t("i",{class:[i.faIcon,"mr-2"],staticStyle:{"font-size":"1.125rem"}}):e._e(),t("span",[e._v(e._s(i.title))])]),t("i",{staticClass:"fas fa-arrow-right"})])]})),e.onlyNotifications?e._e():t("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[t("span",[t("i",{class:["fas fa-sign-out-alt","mr-2"],staticStyle:{"font-size":"1.125rem"}}),e._v(" "+e._s(e.$t("Logout"))+" ")])])],2):t("div",{staticClass:"mobile-settings-content",class:{"is-in-mobile":e.useMobileLayout}},[!e.currentSection||e.currentSection.isNotificationChannel&&!e.availableNotificationPlugins?e._e():t(e.currentRouteComponent,{tag:"component",attrs:{user:e.user,"error-messages":e.errorMessages,saving:e.saving,config:e.config,"notification-channel":e.currentSection&&e.currentSection.isNotificationChannel?e.currentSection:{}},on:{createNotificationChannel:e.createNotificationChannel,updateNotificationChannel:e.patchNotificationChannel,deleteNotificationChannel:e.deleteNotificationChannel,clearErrorMessages:e.clearErrorMessages,addErrorMessage:e.addErrorMessage,updateSetting:e.updateSetting}})],1)]):t("b-tabs",{staticClass:"desktop-settings-wrapper",attrs:{vertical:!0,"nav-wrapper-class":"settings-nav","active-nav-item-class":"","content-class":"desktop-settings-content"},on:{"activate-tab":e.updateRoute},scopedSlots:e._u([{key:"tabs-end",fn:function(){return[t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[t("i",{class:["fas fa-sign-out-alt","mr-2"]}),e._v(" "+e._s(e.$t("Logout"))+" ")])])]},proxy:!0}],null,!1,2570481543)},[e._l(e.sections,(function(i,n){return[i.isHidden?e._e():t("b-tab",{key:n,attrs:{"title-item-class":i.isSubcategory?"subcategory":"",active:e.$route.path===i.route,disabled:i.isNotificationChannel&&!e.user.notification_enabled},scopedSlots:e._u([{key:"title",fn:function(){return[i.faIcon?t("i",{class:[i.faIcon,"mr-2"]}):e._e(),e._v(" "+e._s(i.title)+" ")]},proxy:!0}],null,!0)},[!i.isNotificationChannel||e.availableNotificationPlugins?t(n,{tag:"component",attrs:{user:e.user,"error-messages":e.errorMessages,saving:e.saving,config:e.config,"notification-channel":i.isNotificationChannel?i:{}},on:{createNotificationChannel:e.createNotificationChannel,updateNotificationChannel:e.patchNotificationChannel,deleteNotificationChannel:e.deleteNotificationChannel,clearErrorMessages:e.clearErrorMessages,addErrorMessage:e.addErrorMessage,updateSetting:e.updateSetting}}):e._e()],1)]}))],2)],1):t("div",{staticClass:"text-center"},[t("b-spinner",{staticClass:"mt-5",attrs:{label:e.$t("Loading...")}})],1)])],1)],1)]},proxy:!0}])})},Xd=[];const eu="true"===new URLSearchParams(window.location.search).get("onlyNotifications"),tu={GeneralPreferences:{title:""+G["a"].t("General"),faIcon:"fas fa-cog",importComponent:()=>i.e("chunk-2d0d5f72").then(i.bind(null,"7113")),route:ae.GeneralPreferences,isHidden:Object(Q["a"])()||eu},ThemePreferences:{title:""+G["a"].t("Appearance"),faIcon:"fas fa-magic",importComponent:()=>i.e("chunk-63df7391").then(i.bind(null,"3922")),route:ae.ThemePreferences,isHidden:Object(Q["a"])()&&!("true"===new URLSearchParams(window.location.search).get("themeable"))||eu},ProfilePreferences:{title:""+G["a"].t("Profile"),faIcon:"fas fa-user-edit",importComponent:()=>i.e("chunk-2d22c522").then(i.bind(null,"f376")),route:ae.ProfilePreferences,isHidden:eu},AuthorizedApps:{title:""+G["a"].t("Authorized Apps"),faIcon:"fas fa-check-circle",importComponent:()=>i.e("chunk-2d21a9b7").then(i.bind(null,"bbde")),route:ae.AuthorizedApps,isHidden:eu},GeneralNotifications:{title:""+G["a"].t("Notifications"),faIcon:"fas fa-bell",importComponent:()=>i.e("chunk-d085a80a").then(i.bind(null,"9c95")),route:ae.GeneralNotifications},PushNotifications:{title:""+G["a"].t("Push Notification"),isSubcategory:!0,isNotificationChannel:!0,importComponent:()=>({}),route:ae.PushNotifications,isHidden:!Object(Q["a"])()}},iu=Object.keys(te).reduce((e,t)=>Object.assign(e,{[t]:{title:te[t].displayName,channelName:t,isSubcategory:!0,isNotificationChannel:!0,route:ae[t],importComponent:()=>i("17ae")("./"+te[t].componentName)}}),{});var nu={...tu,...iu},au={name:"UserPreferencesPage",components:{PageLayout:It,...Object.keys(nu).reduce((e,t)=>Object.assign(e,{[t]:nu[t].importComponent}),{})},props:{config:{default(){return{}},type:Object}},data(){return{sections:nu,availableNotificationPlugins:null,configuredNotificationChannels:null,user:null,saving:{},errorMessages:{},delayedSubmit:{first_name:{delay:1e3,timeoutId:null},last_name:{delay:1e3,timeoutId:null}},combinedInputs:{},useMobileLayout:!1}},computed:{visibleSections(){return Object.values(nu).filter(e=>!e.isHidden)},currentRouteComponent(){for(const[e,t]of Object.entries(ae))if(this.$route.path===t)return e;return null},currentSection(){for(const e of Object.values(this.sections))if(e.route===this.$route.path)return e;return null},inMobileWebView(){return Object(Q["a"])()},clientIsThemeable(){return!Object(Q["a"])()||"true"===new URLSearchParams(window.location.search).get("themeable")},onlyNotifications(){return"true"===new URLSearchParams(window.location.search).get("onlyNotifications")}},created(){this.fetchNotificationPlugins(),this.fetchNotificationChannels(),this.fetchUser()},mounted(){this.checkMobileLayout(),window.onresize=this.checkMobileLayout,this.useMobileLayout&&(document.querySelector("body").style.paddingTop="0px")},methods:{updateRoute(e){const t=Object.values(this.visibleSections)[e];this.$router.replace({path:t.route})},logout(){this.$swal.Confirm.fire({title:""+this.$i18next.t("Confirmation"),html:`<p class="text-center">${this.$i18next.t("You a going to logout from your account")}</p>`,confirmButtonText:""+this.$i18next.t("Logout"),cancelButtonText:""+this.$i18next.t("Cancel")}).then(e=>{e.isConfirmed&&window.location.replace("/accounts/logout/")})},checkMobileLayout(){const e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);this.useMobileLayout=Object(Q["a"])()||e<1140},fetchUser(){return oe["a"].get(le["a"].user()).then(e=>{this.user=e.data})},fetchNotificationPlugins(){return oe["a"].get(le["a"].notificationPlugins()).then(e=>{const t=e.data.plugins||{};this.availableNotificationPlugins=t;for(const[i,n]of Object.entries(this.sections))if(n.isNotificationChannel&&(this.sections[i].pluginInfo=t[n.channelName]),n.channelName&&t[n.channelName]&&t[n.channelName].env_vars){const e=t[n.channelName].env_vars,a=Object.values(e).some(e=>e.is_required&&!e.is_set);a&&this.$set(this.sections,i,{...this.sections[i],isHidden:!0})}})},fetchNotificationChannels(){return oe["a"].get(le["a"].notificationChannels()).then(e=>{const t=e.data;this.configuredNotificationChannels=t;for(const[i,n]of Object.entries(this.sections))n.isNotificationChannel&&(this.sections[i].channelInfo=t.find(e=>e.name===n.channelName))})},createNotificationChannel({section:e,config:t,opts:i={}}){const n={user:this.user.id,name:e.channelName,config:t,...i},a=Object(Pn["e"])(e,"config");return this.setSavingStatus(a,!0),oe["a"].post(le["a"].notificationChannels(),n).then(()=>{this.setSavingStatus(a,!1),this.$router.go()}).catch(t=>{if(this.setSavingStatus(a,!1),t.response&&t.response.data&&"object"===typeof t.response.data){let i=[];for(const e of Object.values(t.response.data))if("object"===typeof e)for(const t of Object.values(e))i.push(t);else"string"===typeof e?i.push(e):(console.warn("Undefined error object structure"),console.log(t.response));const n=Object(Pn["e"])(e,"config");this.$set(this.errorMessages,n,i)}else this.errorDialog(t,""+this.$i18next.t("Can not update your preferences"))})},patchNotificationChannel({section:e,propNames:t,propValues:i}){void 0!==i&&i.forEach((i,n)=>{const a=t[n];this.sections[e.channelName].channelInfo[a]=i});let n={name:e.channelName};for(const a of t)n[a]=e.channelInfo[a];for(const a of t){const t=Object(Pn["e"])(e,a);this.setSavingStatus(t,!0)}return oe["a"].patch(le["a"].updateNotificationChannel(e.channelInfo.id),n).then(()=>{for(const i of t){const t=Object(Pn["e"])(e,i);this.setSavingStatus(t,!1)}}).catch(i=>{for(const n of t){const t=Object(Pn["e"])(e,n);this.setSavingStatus(t,!1)}if(i.response&&i.response.data&&"object"===typeof i.response.data){let n=[];for(const e of Object.values(i.response.data))if("object"===typeof e)for(const t of Object.values(e))n.push(t);else"string"===typeof e?n.push(e):(console.warn("Undefined error object structure"),console.log(i.response));for(const i of t){const t=Object(Pn["e"])(e,i);this.$set(this.errorMessages,t,n)}}else this.errorDialog(i,""+this.$i18next.t("Can not update your preferences"))})},deleteNotificationChannel(e){return oe["a"].delete(le["a"].updateNotificationChannel(e.channelInfo.id)).then(()=>{this.$router.go()}).catch(e=>{this.errorDialog(e,""+this.$i18next.t("Can not update your preferences"))})},clearErrorMessages(e){this.errorMessages[e]=[]},addErrorMessage(e,t){this.errorMessages[e]?this.errorMessages[e].push(t):this.errorMessages[e]=[t]},patchUser(e,t){let i={},n=e;const a=this.checkForCombinedValues(e);if(a){for(const r of a.inputs){n=a.key;const e=this.user[r];i[r]=e}const e=Object.values(i),t=e.filter(e=>!e);if(t.length!==e.length&&0!==t.length)return}else i={[e]:t};return this.setSavingStatus(n,!0),oe["a"].patch(le["a"].user(),i).catch(e=>{if(e.response&&e.response.data&&"object"===typeof e.response.data)if(e.response.data.non_field_errors)this.errorDialog(e,e.response.data.non_field_errors);else for(const t in e.response.data)this.errorMessages[n]=e.response.data[t];else this.errorDialog(e,""+this.$i18next.t("Can not update your preferences"))}).then(()=>{window.ReactNativeWebView&&("first_name"===n?window.ReactNativeWebView.postMessage(JSON.stringify({firstName:this.user.first_name})):"last_name"===n&&window.ReactNativeWebView.postMessage(JSON.stringify({lastName:this.user.last_name}))),this.setSavingStatus(n,!1)})},checkForCombinedValues(e){for(const[t,i]of Object.entries(this.combinedInputs))if(i.includes(e))return{inputs:i,key:t};return null},setSavingStatus(e,t){t&&delete this.errorMessages[e],this.$set(this.saving,e,t)},updateSetting(e,t){if(void 0!==t&&(this.user[e]=t),e in this.delayedSubmit){const t=this.delayedSubmit[e];return t["timeoutId"]&&clearTimeout(t["timeoutId"]),void(this.delayedSubmit[e]["timeoutId"]=setTimeout(()=>{this.patchUser(e,this.user[e])},t["delay"]))}this.patchUser(e,this.user[e])}}},ru=au,su=(i("883d"),Object(N["a"])(ru,Qd,Xd,!1,null,"720acc46",null)),ou=su.exports,lu=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"topBarRight",fn:function(){return[t("div",[t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-filter"})]},proxy:!0}])},[e._l(e.eventClassFiltering,(function(i){return t("b-dropdown-item",{key:i.key,on:{click:function(t){return e.toggleEventFiltering("eventClassFiltering",i.key)}}},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:i.selected?"visible":"hidden"}}),t("span",{class:e.cssClassFromEventClass(i.key)},[e._v(e._s(i.title))])])})),t("b-dropdown-divider"),e._l(e.eventTypeFiltering,(function(i){return t("b-dropdown-item",{key:i.key,on:{click:function(t){return e.toggleEventFiltering("eventTypeFiltering",i.key)}}},[t("i",{staticClass:"fas fa-check text-primary",style:{visibility:i.selected?"visible":"hidden"}}),e._v(e._s(i.title)+" ")])}))],2)],1)]},proxy:!0},{key:"content",fn:function(){return[t("b-container",[t("b-row",{staticClass:"justify-content-center"},[t("div",{staticClass:"col-sm-12 col-md-10 col-lg-8"},[e.loading||0!==e.printerEvents.length?t("div",[e._l(e.printerEvents,(function(e){return t("printer-event-card",{key:e.id,attrs:{"printer-event":e}})})),t("mugen-scroll",{staticClass:"text-center p-4",attrs:{handler:e.fetchMoreData,"should-handle":!e.loading}},[e.noMoreData?t("div",{staticClass:"text-center p-2"},[e._v(e._s(e.$t("No more notifications.")))]):e._e(),e.noMoreData?e._e():t("b-spinner",{attrs:{label:"Loading..."}})],1)],2):t("div",{staticClass:"text-center"},[t("img",{staticClass:"w-25 my-4",attrs:{src:i("f23d")}}),t("h5",{staticClass:"text-primary"},[e._v(e._s(e.$t("Nothing to look here. Enjoy your vacation!")))])])])])],1)]},proxy:!0}])})},cu=[],du=function(){var e=this,t=e._self._c;return t("div",{staticClass:"printer-event-card my-3",class:e.tintBorderClass},[t("div",{staticClass:"printer-event-text",class:{link:e.printerEvent.info_url},on:{click:e.onTextClick}},[t("div",{staticClass:"title font-weight-bold my-2",class:e.tintClass},[e._v(" "+e._s(e.eventTitle)+" "),e.printerEvent.info_url?t("i",{staticClass:"fas fa-external-link-alt"}):e._e()]),t("div",{staticClass:"description",domProps:{innerHTML:e._s(e.printerEvent.event_text)}}),t("div",{staticClass:"my-2 text-muted font-weight-light small"},[e._v(" "+e._s(e.printerEvent.created_at.format("LLLL"))+" ")])]),e.printerEvent.image_url?t("div",{staticClass:"printer-event-snapshot",style:{backgroundImage:`url(${e.printerEvent.image_url})`}}):e._e()])},uu=[],pu={name:"PrinterEventCard",components:{},props:{printerEvent:{type:Object,required:!0}},computed:{eventTitle(){return this.printerEvent.event_title||""+this.$i18next.t("Unknown event")},tintClass(){switch(this.printerEvent.event_class){case"ERROR":return"text-danger";case"WARNING":return"text-warning";case"SUCCESS":return"text-success";default:return""}},tintBorderClass(){switch(this.printerEvent.event_class){case"ERROR":return"border-danger";case"WARNING":return"border-warning";case"SUCCESS":return"border-success";default:return""}}},methods:{onTextClick(){this.printerEvent.info_url&&window.open(this.printerEvent.info_url,"_blank")}}},hu=pu,mu=(i("59d9"),Object(N["a"])(hu,du,uu,!1,null,"4f0efb80",null)),fu=mu.exports;const gu={eventClassFiltering:"printer-event-class-filtering",eventTypeFiltering:"printer-event-type-filtering"},vu=(e,t)=>`${gu["prefix"]}.${t}`,bu=(e,t,i)=>Object(s["a"])(vu(e,t),i),yu=12;var wu={name:"PrinterEventsPage",components:{MugenScroll:ni.a,PageLayout:It,PrinterEventCard:fu},props:{},data(){return{printerEvents:[],loading:!1,noMoreData:!1,eventClassFiltering:[{key:"ERROR",title:"Error",selected:bu("eventClassFiltering","ERROR",!0)},{key:"WARNING",title:"Warning",selected:bu("eventClassFiltering","WARNING",!0)},{key:"SUCCESS",title:"Successs",selected:bu("eventClassFiltering","SUCCESS",!0)},{key:"INFO",title:"Other",selected:bu("eventClassFiltering","INFO",!0)}],eventTypeFiltering:[{key:"ALERT",title:"Failure Detection",selected:bu("eventTypeFiltering","ALERT",!0)},{key:"ENDED",title:"Print Job Ended",selected:bu("eventTypeFiltering","ENDED",!0)},{key:"STARTED",title:"Print Job Started",selected:bu("eventTypeFiltering","STARTED",!0)},{key:"PAUSE_RESUME",title:"Print Job Paused/Resumed",selected:bu("eventTypeFiltering","PAUSE_RESUME",!0)},{key:"FILAMENT_CHANGE",title:"Filament Change",selected:bu("eventTypeFiltering","FILAMENT_CHANGE",!0)},{key:"PRINTER_ERROR",title:"Printer Error",selected:bu("eventTypeFiltering","PRINTER_ERROR",!0)}]}},created(){this.refetchData()},methods:{fetchMoreData(){if(this.noMoreData)return;this.loading=!0;const e=zn()(Io()(this.eventClassFiltering,"selected"),"key"),t=zn()(Io()(this.eventTypeFiltering,"selected"),"key");oe["a"].get(le["a"].printerEvents(),{params:{start:this.printerEvents.length,limit:yu,filter_by_classes:e,filter_by_types:t}}).then(e=>{this.loading=!1,this.noMoreData=e.data.length<yu,this.printerEvents.push(...e.data.map(e=>$e(e)))})},refetchData(){this.printerEvents=[],this.noMoreData=!1,this.fetchMoreData()},cssClassFromEventClass(e){switch(e){case"ERROR":return"text-danger";case"INFO":return"";default:return"text-"+e.toLowerCase()}},toggleEventFiltering(e,t){const i=pt()(this[e],e=>e.key==t),n=this[e][i];this.$set(this[e],i,{...n,selected:!n.selected}),Object(s["b"])(vu("eventClassFiltering",e.key),!n.selected),this.refetchData()}}},_u=wu,Cu=Object(N["a"])(_u,lu,cu,!1,null,"4c7d7dc7",null),ku=Cu.exports,Pu=function(){var e=this,t=e._self._c;return t("page-layout",{scopedSlots:e._u([{key:"topBarLeft",fn:function(){return[t("div",{staticClass:"printer-name truncated"},[e._v(" "+e._s(e.printer?e.printer.name:"")+" ")])]},proxy:!0},{key:"topBarRight",fn:function(){return[e.printer?t("div",{staticClass:"action-panel"},[t("a",{staticClass:"btn shadow-none action-btn icon-btn",attrs:{href:`/tunnels/${e.printer.id}/`,title:e.$t("OctoPrint Tunnel")}},[t("svg",{staticClass:"custom-svg-icon"},[t("use",{attrs:{href:"#svg-tunnel"}})]),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("OctoPrint Tunnel")))])]),t("a",{staticClass:"btn shadow-none action-btn icon-btn",attrs:{href:`/printers/${e.printer.id}/`,title:e.$t("Configure")}},[t("i",{staticClass:"fas fa-wrench"}),t("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("Configure")))])]),t("b-dropdown",{attrs:{right:"","no-caret":"","toggle-class":"icon-btn d-md-none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[t("i",{staticClass:"fas fa-ellipsis-v"})]},proxy:!0}],null,!1,3452768261)},[t("cascaded-dropdown",{ref:"cascadedDropdown",attrs:{"menu-options":[{key:"tunnel",svgIcon:"svg-tunnel",title:e.$t("OctoPrint Tunnel"),href:`/tunnels/${e.printer.id}/`},{key:"settings",icon:"fas fa-wrench",title:e.$t("Configure"),href:`/printers/${e.printer.id}/`}]},on:{menuOptionClicked:e.onMenuOptionClicked}})],1)],1):e._e()]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"contentWrap"},[null!==e.printerComm&&null!==e.printer?t("printer-terminal",{attrs:{printer:e.printer,"printer-comm":e.printerComm,"full-screen-height":!0,"show-full-screen-opt":!1}}):e._e()],1)]},proxy:!0}])})},Su=[],Du={name:"PrinterTerminalPage",components:{PageLayout:It,CascadedDropdown:ci,PrinterTerminal:Rd},data:function(){return{user:null,printerId:null,printer:null,printerComm:null}},created(){this.user=Object(Q["f"])(),this.printerId=it()(window.location.pathname,"/").slice(-3,-2).pop(),this.printerComm=Ca.getOrCreatePrinterComm(this.printerId,le["a"].printerWebSocket(this.printerId),{onPrinterUpdateReceived:e=>{this.printer=Ae(e,this.printer),this.webrtc&&!this.webrtc.initialized&&(this.webrtc.openForPrinter(this.printer.id,this.printer.auth_token),this.printerComm.setWebRTC(this.webrtc))},onTerminalFeedReceived:this.onNextTerminalFeed}),this.printerComm.connect()},methods:{onMenuOptionClicked(e){"share"===e&&this.onSharePrinter()}}},xu=Du,Tu=(i("5782"),Object(N["a"])(xu,Pu,Su,!1,null,"249551ea",null)),Fu=Tu.exports;const Iu=new a["a"]({mode:"history",routes:[{path:"/g_code_folders/cloud/:parentFolder",component:Do},{path:"/g_code_folders/local/:printerId/:parentFolder?",component:Do},{path:"/g_code_files/cloud/:fileId",component:Bo},{path:"/g_code_files/local/:printerId/:fileId",component:Bo},{path:"/user_preferences",component:ou},{path:"/printers/wizard/",component:kc},{path:"/printers/wizard/guide/:targetPlatform/",component:Fc},{path:"/printers/wizard/link/:targetPlatform/",component:vc},{path:"/printers/wizard/success/:printerId/",component:Lc},...Object.values(ae).map(e=>({path:e,component:ou}))]}),Au={NewOctoPrintTunnelPage:Qe,OctoPrintTunnelPage:st,PrintShotFeedbackApp:Xt,PrinterListPage:vl,SharedPrinterPage:Fl,PrinterSettingsPage:Hl,PrinterLinkingPage:vc,PrinterControlPage:Zd,GCodeFoldersPage:Do,GCodeFilePage:Bo,PrintsPage:ha,PrintPage:ar,PrintHistoryPage:hn,StatsPage:Nn,UploadPrintPage:pr,UserPreferencesPage:ou,PrinterEventsPage:ku,PrinterTerminalPage:Fu};ee(Iu,Au)},"56e0":function(e,t,i){},5716:function(e,t,i){"use strict";i("1a72")},5782:function(e,t,i){"use strict";i("aca5")},"585ae":function(e,t,i){},"587d":function(e,t,i){"use strict";i("9135")},"58d0":function(e,t,i){"use strict";i("30c2")},"59cf":function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return d})),i.d(t,"b",(function(){return m})),i.d(t,"d",(function(){return g}));var n={};i.r(n),i.d(n,"yumi",(function(){return s})),i.d(n,"mintion",(function(){return o})),i.d(n,"biqu",(function(){return l}));var a=i("6c44");const r={Light:"Light",Dark:"Dark",System:"System"},s={colors:[{name:"primary",values:{[r.Light]:"#078ED3",[r.Dark]:"#FFCC2E"}},{name:"primary-hover",values:{[r.Light]:"#0B88C8",[r.Dark]:"#FFCC2E"}},{name:"primary-muted",values:{[r.Light]:"#24A8EC",[r.Dark]:"#018786"}},{name:"on-primary",values:{[r.Light]:"#FFFFFF",[r.Dark]:"#001210"}},{name:"secondary",values:{[r.Light]:"#28303A",[r.Dark]:"#AAACB0"}},{name:"secondary-hover",values:{[r.Light]:"#424A54",[r.Dark]:"#D0D0D0"}},{name:"on-secondary",values:{[r.Light]:"#EBEBEB",[r.Dark]:"#28303A"}},{name:"success",values:{[r.Light]:"#5CB85C",[r.Dark]:"#5CB85C"}},{name:"success-hover",values:{[r.Light]:"#4CAE4C",[r.Dark]:"#4CAE4C"}},{name:"on-success",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"danger",values:{[r.Light]:"#D9534F",[r.Dark]:"#D9534F"}},{name:"danger-hover",values:{[r.Light]:"#C2413D",[r.Dark]:"#C2413D"}},{name:"on-danger",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"warning",values:{[r.Light]:"#F0AD4E",[r.Dark]:"#F0AD4E"}},{name:"warning-hover",values:{[r.Light]:"#DB9A3F",[r.Dark]:"#DB9A3F"}},{name:"on-warning",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"on-warning-2",values:{[r.Light]:"#000000",[r.Dark]:"#000000"}},{name:"background",values:{[r.Light]:"#EBEBEB",[r.Dark]:"#212224"}},{name:"surface-primary",values:{[r.Light]:"#ffffff",[r.Dark]:"#131920"}},{name:"surface-secondary",values:{[r.Light]:"#F5F5F5",[r.Dark]:"#000000"}},{name:"overlay",values:{[r.Light]:"#F5F5F5CC",[r.Dark]:"#000000CC"}},{name:"hover",values:{[r.Light]:"#66666613",[r.Dark]:"#FFFFFF13"}},{name:"hover-accent",values:{[r.Light]:"#66666626",[r.Dark]:"#C9E0FA26"}},{name:"divider",values:{[r.Light]:"#ABB6C2",[r.Dark]:"#6A7B8A"}},{name:"divider-muted",values:{[r.Light]:"#ABB6C266",[r.Dark]:"#6A7B8A66"}},{name:"text-primary",values:{[r.Light]:"#28303A",[r.Dark]:"#FFFFFF"}},{name:"text-secondary",values:{[r.Light]:"#8A94A2",[r.Dark]:"#AAACB0"}},{name:"text-help",values:{[r.Light]:"#4C9BE8",[r.Dark]:"#4C9BE8"}},{name:"input-background",values:{[r.Light]:"#E2E8ED",[r.Dark]:"#42566B"}},{name:"input-placeholder",values:{[r.Light]:"#28303A80",[r.Dark]:"#EBEBEB80"}},{name:"table-accent",values:{[r.Light]:"#E3E3E3",[r.Dark]:"#283848"}},{name:"icon-tunneling-1",values:{[r.Light]:"#4E5D6C",[r.Dark]:"#EAEAEA"}},{name:"icon-tunneling-2",values:{[r.Light]:"#1D2935",[r.Dark]:"#CDCDCD"}}]},o={colors:[{name:"primary",values:{[r.Light]:"#75C4FE",[r.Dark]:"#75C4FE"}},{name:"primary-hover",values:{[r.Light]:"#35A9FD",[r.Dark]:"#35A9FD"}},{name:"primary-muted",values:{[r.Light]:"#03DAC5",[r.Dark]:"#03DAC5"}},{name:"on-primary",values:{[r.Light]:"#FFFFFF",[r.Dark]:"#FFFFFF"}},{name:"secondary",values:{[r.Light]:"#28303A",[r.Dark]:"#28303A"}},{name:"secondary-hover",values:{[r.Light]:"#424A54",[r.Dark]:"#424A54"}},{name:"on-secondary",values:{[r.Light]:"#EBEBEB",[r.Dark]:"#EBEBEB"}},{name:"success",values:{[r.Light]:"#5CB85C",[r.Dark]:"#5CB85C"}},{name:"success-hover",values:{[r.Light]:"#4CAE4C",[r.Dark]:"#4CAE4C"}},{name:"on-success",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"danger",values:{[r.Light]:"#D9534F",[r.Dark]:"#D9534F"}},{name:"danger-hover",values:{[r.Light]:"#C2413D",[r.Dark]:"#C2413D"}},{name:"on-danger",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"warning",values:{[r.Light]:"#F0AD4E",[r.Dark]:"#F0AD4E"}},{name:"warning-hover",values:{[r.Light]:"#DB9A3F",[r.Dark]:"#DB9A3F"}},{name:"on-warning",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"on-warning-2",values:{[r.Light]:"#000000",[r.Dark]:"#000000"}},{name:"background",values:{[r.Light]:"#EBEBEB",[r.Dark]:"#EBEBEB"}},{name:"surface-primary",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"surface-secondary",values:{[r.Light]:"#F5F5F5",[r.Dark]:"#F5F5F5"}},{name:"overlay",values:{[r.Light]:"#F5F5F5CC",[r.Dark]:"#F5F5F5CC"}},{name:"hover",values:{[r.Light]:"#66666613",[r.Dark]:"#66666613"}},{name:"hover-accent",values:{[r.Light]:"#66666626",[r.Dark]:"#66666626"}},{name:"divider",values:{[r.Light]:"#ABB6C2",[r.Dark]:"#ABB6C2"}},{name:"divider-muted",values:{[r.Light]:"#ABB6C266",[r.Dark]:"#ABB6C266"}},{name:"text-primary",values:{[r.Light]:"#28303A",[r.Dark]:"#28303A"}},{name:"text-secondary",values:{[r.Light]:"#8A94A2",[r.Dark]:"#8A94A2"}},{name:"text-help",values:{[r.Light]:"#4C9BE8",[r.Dark]:"#4C9BE8"}},{name:"input-background",values:{[r.Light]:"#E2E8ED",[r.Dark]:"#E2E8ED"}},{name:"input-placeholder",values:{[r.Light]:"#28303A80",[r.Dark]:"#28303A80"}},{name:"table-accent",values:{[r.Light]:"#E3E3E3",[r.Dark]:"#E3E3E3"}},{name:"icon-tunneling-1",values:{[r.Light]:"#4E5D6C",[r.Dark]:"#4E5D6C"}},{name:"icon-tunneling-2",values:{[r.Light]:"#1D2935",[r.Dark]:"#1D2935"}}]},l={colors:[{name:"primary",values:{[r.Light]:"#3596f3",[r.Dark]:"#3596f3"}},{name:"primary-hover",values:{[r.Light]:"#70EFDE",[r.Dark]:"#70EFDE"}},{name:"primary-muted",values:{[r.Light]:"#018786",[r.Dark]:"#018786"}},{name:"on-primary",values:{[r.Light]:"#001210",[r.Dark]:"#001210"}},{name:"secondary",values:{[r.Light]:"#EBEBEB",[r.Dark]:"#EBEBEB"}},{name:"secondary-hover",values:{[r.Light]:"#D0D0D0",[r.Dark]:"#D0D0D0"}},{name:"on-secondary",values:{[r.Light]:"#28303A",[r.Dark]:"#28303A"}},{name:"success",values:{[r.Light]:"#5CB85C",[r.Dark]:"#5CB85C"}},{name:"success-hover",values:{[r.Light]:"#4CAE4C",[r.Dark]:"#4CAE4C"}},{name:"on-success",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"danger",values:{[r.Light]:"#D9534F",[r.Dark]:"#D9534F"}},{name:"danger-hover",values:{[r.Light]:"#C2413D",[r.Dark]:"#C2413D"}},{name:"on-danger",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"warning",values:{[r.Light]:"#F0AD4E",[r.Dark]:"#F0AD4E"}},{name:"warning-hover",values:{[r.Light]:"#DB9A3F",[r.Dark]:"#DB9A3F"}},{name:"on-warning",values:{[r.Light]:"#ffffff",[r.Dark]:"#ffffff"}},{name:"on-warning-2",values:{[r.Light]:"#000000",[r.Dark]:"#000000"}},{name:"background",values:{[r.Light]:"#0a0c22",[r.Dark]:"#0a0c22"}},{name:"surface-primary",values:{[r.Light]:"#20274f",[r.Dark]:"#20274f"}},{name:"surface-secondary",values:{[r.Light]:"#0c1239",[r.Dark]:"#0c1239"}},{name:"overlay",values:{[r.Light]:"#F5F5F5CC",[r.Dark]:"#F5F5F5CC"}},{name:"hover",values:{[r.Light]:"#66666613",[r.Dark]:"#66666613"}},{name:"hover-accent",values:{[r.Light]:"#66666626",[r.Dark]:"#66666626"}},{name:"divider",values:{[r.Light]:"#6A7B8A",[r.Dark]:"#6A7B8A"}},{name:"divider-muted",values:{[r.Light]:"#ABB6C266",[r.Dark]:"#ABB6C266"}},{name:"text-primary",values:{[r.Light]:"#EBEBEB",[r.Dark]:"#EBEBEB"}},{name:"text-secondary",values:{[r.Light]:"#AAACB0",[r.Dark]:"#AAACB0"}},{name:"text-help",values:{[r.Light]:"#283848",[r.Dark]:"#283848"}},{name:"input-background",values:{[r.Light]:"#42566B",[r.Dark]:"#000000"}},{name:"input-placeholder",values:{[r.Light]:"#28303A80",[r.Dark]:"#28303A80"}},{name:"table-accent",values:{[r.Light]:"#E3E3E3",[r.Dark]:"#E3E3E3"}},{name:"icon-tunneling-1",values:{[r.Light]:"#4E5D6C",[r.Dark]:"#4E5D6C"}},{name:"icon-tunneling-2",values:{[r.Light]:"#1D2935",[r.Dark]:"#1D2935"}}]},c={Light:"Light",Dark:"Dark",System:"System"},d=(Object(a["a"])()?localStorage.getItem("colorTheme"):c.Dark)||c.Dark,u=[{name:"primary",values:{[c.Light]:"#01A299",[c.Dark]:"#03DAC5"}},{name:"primary-hover",values:{[c.Light]:"#019592",[c.Dark]:"#70EFDE"}},{name:"primary-muted",values:{[c.Light]:"#03DAC5",[c.Dark]:"#018786"}},{name:"on-primary",values:{[c.Light]:"#FFFFFF",[c.Dark]:"#001210"}},{name:"secondary",values:{[c.Light]:"#28303A",[c.Dark]:"#EBEBEB"}},{name:"secondary-hover",values:{[c.Light]:"#424A54",[c.Dark]:"#D0D0D0"}},{name:"on-secondary",values:{[c.Light]:"#EBEBEB",[c.Dark]:"#28303A"}},{name:"success",values:{[c.Light]:"#5CB85C",[c.Dark]:"#5CB85C"}},{name:"success-hover",values:{[c.Light]:"#4CAE4C",[c.Dark]:"#4CAE4C"}},{name:"on-success",values:{[c.Light]:"#ffffff",[c.Dark]:"#ffffff"}},{name:"danger",values:{[c.Light]:"#D9534F",[c.Dark]:"#D9534F"}},{name:"danger-hover",values:{[c.Light]:"#C2413D",[c.Dark]:"#C2413D"}},{name:"on-danger",values:{[c.Light]:"#ffffff",[c.Dark]:"#ffffff"}},{name:"warning",values:{[c.Light]:"#F0AD4E",[c.Dark]:"#F0AD4E"}},{name:"warning-hover",values:{[c.Light]:"#DB9A3F",[c.Dark]:"#DB9A3F"}},{name:"on-warning",values:{[c.Light]:"#ffffff",[c.Dark]:"#ffffff"}},{name:"on-warning-2",values:{[c.Light]:"#000000",[c.Dark]:"#000000"}},{name:"background",values:{[c.Light]:"#EBEBEB",[c.Dark]:"#233141"}},{name:"surface-primary",values:{[c.Light]:"#ffffff",[c.Dark]:"#485B71"}},{name:"surface-secondary",values:{[c.Light]:"#F5F5F5",[c.Dark]:"#2D3E4F"}},{name:"overlay",values:{[c.Light]:"#F5F5F5CC",[c.Dark]:"#000000CC"}},{name:"hover",values:{[c.Light]:"#66666613",[c.Dark]:"#FFFFFF13"}},{name:"hover-accent",values:{[c.Light]:"#66666626",[c.Dark]:"#C9E0FA26"}},{name:"divider",values:{[c.Light]:"#ABB6C2",[c.Dark]:"#6A7B8A"}},{name:"divider-muted",values:{[c.Light]:"#ABB6C266",[c.Dark]:"#6A7B8A66"}},{name:"text-primary",values:{[c.Light]:"#28303A",[c.Dark]:"#EBEBEB"}},{name:"text-secondary",values:{[c.Light]:"#8A94A2",[c.Dark]:"#AAACB0"}},{name:"text-help",values:{[c.Light]:"#4C9BE8",[c.Dark]:"#4C9BE8"}},{name:"input-background",values:{[c.Light]:"#E2E8ED",[c.Dark]:"#42566B"}},{name:"input-placeholder",values:{[c.Light]:"#28303A80",[c.Dark]:"#EBEBEB80"}},{name:"table-accent",values:{[c.Light]:"#E3E3E3",[c.Dark]:"#283848"}},{name:"icon-tunneling-1",values:{[c.Light]:"#4E5D6C",[c.Dark]:"#EAEAEA"}},{name:"icon-tunneling-2",values:{[c.Light]:"#1D2935",[c.Dark]:"#CDCDCD"}}],p=[{name:"loader",values:{[c.Light]:'url("/static/img/loader/loader_light-scheme.svg")',[c.Dark]:'url("/static/img/loader/loader_dark-scheme.svg")'}}],h=[{name:"top-nav",values:{[c.Light]:"0px 2px 10px rgb(0 0 0 / .1)",[c.Dark]:"0px 2px 10px rgb(0 0 0 / .3)"}}];function m(e){return e.value===c.System?"not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: light)").matches?c.Light:c.Dark:e.value}function f(e,t){const i=new Map(e.map(e=>[e.name,e]));return t.forEach(e=>{i.set(e.name,e)}),Array.from(i.values())}function g(e,t){const i=t&&n[t]?f(u,n[t].colors):u;i.forEach((function(t){if(document.documentElement.style.setProperty("--color-"+t.name,t.values[e]),"surface-secondary"===t.name){let i=document.querySelector('meta[name="theme-color"]');i.content=t.values[e]}})),p.forEach((function(t){document.documentElement.style.setProperty("--url-"+t.name,t.values[e])})),h.forEach((function(t){document.documentElement.style.setProperty("--shadow-"+t.name,t.values[e])}))}},"59d9":function(e,t,i){"use strict";i("9650")},"5bd7":function(e,t,i){},"5ce2":function(e,t,i){},"5fad":function(e,t,i){"use strict";i("6736")},"5fdc":function(e,t,i){"use strict";i("bc75")},6005:function(e,t,i){},"60f8":function(e,t,i){},"60fa":function(e,t,i){},6736:function(e,t,i){},6737:function(e,t,i){},"67e8":function(e,t,i){e.exports=i.p+"img/printer.png"},"68d7":function(e,t,i){"use strict";i("6737")},6912:function(e,t,i){"use strict";i("3476")},6984:function(e,t,i){"use strict";i("b49d")},"6c44":function(e,t,i){"use strict";function n(){try{const e="__random_key_we_are_not_going_to_use__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}i.d(t,"a",(function(){return n}))},"6dfa":function(e,t,i){},"6f38":function(e,t,i){},"6f7a":function(e,t,i){"use strict";i("6dfa")},"6f88":function(e,t,i){"use strict";i("02c7")},"704a":function(e,t,i){},"70bc":function(e,t,i){},"742c":function(e,t,i){},"751c":function(e,t,i){"use strict";i("910d")},7566:function(e,t,i){},"767e":function(e,t,i){e.exports={primary:"#00c4b4",white:"#fff"}},"777a":function(e,t,i){e.exports=i.p+"img/commandLinePrompt.png"},"7ad3":function(e,t,i){},"7dc1":function(e,t,i){},"7eaa":function(e,t,i){},"7ffa":function(e,t,i){},"800e":function(e,t,i){"use strict";i("60f8")},8024:function(e,t,i){"use strict";i("56e0")},"83ad":function(e,t,i){"use strict";i("3ec8")},"847e":function(e,t,i){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",[t("div",{class:{"saving-in-progress":e.savingClass,"successfully-saved":e.savingDoneClass,"failed-to-save":e.savingFailedClass,"small-height":e.smallHeightClass}},[e._t("default")],2),e.errors&&e.errors.length>0?t("small",{staticClass:"text-danger"},[e._v(e._s(e.errorMsg))]):e._e()])},a=[],r={name:"SavingAnimation",props:{saving:{default(){return!1},type:Boolean},errors:{type:Array,default:null},height:{default(){return"normal"},type:String}},data(){return{savingTimeout:null,savingDoneTimeout:null}},computed:{savingClass(){return this.saving&&this.savingTimeout},savingDoneClass(){return!this.saving&&this.savingDoneTimeout&&!this.errors},savingFailedClass(){return!this.saving&&this.savingDoneTimeout&&this.errors&&this.errors.length>0},smallHeightClass(){return"small"===this.height},errorMsg(){return this.errors?this.errors.join(" "):""}},watch:{saving:function(e,t){!t&&e?(this.clearSavingTimeout(),this.savingTimeout=setTimeout(this.clearSavingTimeout,15e3)):t&&!e&&(this.clearSavingTimeout(),this.savingDoneTimeout=setTimeout(()=>{clearTimeout(this.savingDoneTimeout),this.savingDoneTimeout=null},2e3))}},methods:{clearSavingTimeout(){this.savingTimeout&&(clearTimeout(this.savingTimeout),this.savingTimeout=null)}}},s=r,o=(i("8a34"),i("2877")),l=Object(o["a"])(s,n,a,!1,null,"2e4df370",null);t["a"]=l.exports},"862f":function(e,t,i){},"86ab":function(e,t,i){"use strict";i("e008")},"86e2":function(e,t,i){},"883d":function(e,t,i){"use strict";i("60fa")},"886f":function(e,t,i){e.exports=i.p+"img/klipper_logo.jpg"},"89d8":function(e,t,i){"use strict";i("7eaa")},"8a34":function(e,t,i){"use strict";i("0fcf")},"910d":function(e,t,i){},9135:function(e,t,i){},"917a":function(e,t,i){"use strict";i("d0ea")},"93ad":function(e,t,i){},9605:function(e,t,i){e.exports=i.p+"img/raspberry_pi.png"},9650:function(e,t,i){},"9da6":function(e,t,i){},"9da9":function(e,t,i){"use strict";i("2bfb")},"9eda":function(e,t,i){"use strict";i("ced1")},a085:function(e,t,i){e.exports=i.p+"img/fluidd_logo.png"},a1cb:function(e,t,i){"use strict";i("4650")},a525:function(e,t,i){},a560:function(e,t,i){"use strict";i("ecc1")},a6c8:function(e,t,i){"use strict";i("439d")},a8d2:function(e,t,i){"use strict";i("6f38")},a9ee:function(e,t,i){"use strict";i("e017")},aca5:function(e,t,i){},afda:function(e,t,i){"use strict";i("5bd7")},b223:function(e,t,i){"use strict";i("2a20")},b279:function(e,t,i){"use strict";i.d(t,"e",(function(){return u})),i.d(t,"f",(function(){return p})),i.d(t,"d",(function(){return h})),i.d(t,"g",(function(){return m})),i.d(t,"c",(function(){return f})),i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return v}));i("5494");var n=i("e740c"),a=i.n(n),r=i("2f9f"),s=i.n(r),o=i("6373"),l=i.n(o),c=i("9b02"),d=i.n(c);function u(e,t){return`${e.channelName}_${t}`}function p(e){return a()(s()(l()(e,/_/g," ")))}const h=(e,t,i)=>{const n=Math.round(e.length*t),a=i?"p":"fields.normalized_p";return d()(e[n],""+a,0)},m=(e,t)=>{if(e)if(e instanceof Blob){const i=new FileReader;i.addEventListener("loadend",e=>{e.srcElement&&t(e.srcElement.result)}),i.readAsArrayBuffer(e)}else t(e)},f=()=>{var e;return null===(e=document.getElementsByName("csrfmiddlewaretoken")[0])||void 0===e?void 0:e.value},g=(e,t)=>{fetch(e).then(e=>e.blob()).then(e=>{const i=document.createElement("a");i.setAttribute("download",t);const n=URL.createObjectURL(e);i.href=n,i.setAttribute("target","_blank"),i.click(),URL.revokeObjectURL(n)})},v=(e,t)=>e.utcOffset(e._tzm).format(t)},b3d0:function(e,t,i){},b459:function(e,t,i){"use strict";i("93ad")},b49d:function(e,t,i){},b579:function(e){e.exports=JSON.parse('{"Filters applied":"已应用的过滤器","SHOW ALL":"显示全部","Back":"返回","Show less":"显示较少","Show more":"显示更多","At least one date is needed":"至少需要一个日期","Select Dates":"选择日期","Apply":"应用","Cancel":"取消","Date from":"起始日期","If empty, will default to your registration date":"如果为空，则默认为您的注册日期","Enter date":"输入日期","Date to":"结束日期","If empty, will default to today":"如果为空，则默认为今天","Obi is still busy working on your time-lapse":"Obi仍在忙于处理您的延时摄影","Not Watching":"未观看","Looking Good":"看起来不错","Fishy...":"有点可疑...","Failing!":"失败！","{name} isn\'t ready for print for one of the following reasons":"{{name}} 因以下原因之一未准备好打印","{name} is powered off or not connected to the Internet":"{{name}} 已关闭电源或未连接到互联网","Printer is not connected to {name}":"打印机未连接到 {{name}}","Printer is currently busy":"打印机当前正忙","No available printers":"没有可用的打印机","Print on":"打印于","Print":"打印","Are you sure?":"你确定吗？","Delete":"删除","Failed to delete item":"删除项目失败","No prints yet":"尚无打印","Printing...":"打印中...","Rename":"重命名","Move":"移动","Print duration estimate":"打印持续时间预估","Filament usage estimate":"耗材使用预估","First layer bed temperature":"首层床温","First layer extruder temperature":"首层挤出机温度","First layer height":"首层高度","Layer height":"层高","Object height":"对象高度","Filament type":"耗材类型","Filament name":"耗材名称","Slicer":"切片器","Slicer version":"切片器版本","Name":"名称","Size":"大小","Created":"已创建","Last Printed":"最后打印","Loading...":"加载中...","Nothing here yet":"这里还什么都没有","Nothing found":"未找到任何内容","Failed to move item(s)":"移动项目失败","Move item":"移动项目","Place Here":"放置在这里","Go Back":"返回","Enter new folder name":"输入新文件夹名称","Create":"创建","Folder name":"文件夹名称","Server error":"服务器错误","Enter new name":"输入新名称","New name":"新名称","Print!":"打印！","You\'ll be redirected to printers page in":"您将在以下时间后重定向到打印机页面","seconds":"秒","Total prints":"总打印量","Uploaded":"已上传","Deleted":"已删除","Fields above were embedded in the G-Code file by your slicer. Consult your slicer\'s manual if some fields are not accurate or missing.":"上述字段由您的切片器嵌入到G-Code文件中。如果某些字段不准确或缺失，请咨询您的切片器手册。","Basic Streaming":"基础流媒体","Up to 5 FPS (frame-per-second)":"最高5 FPS（每秒帧数）","Throttled for 30 seconds every minute":"每分钟限流30秒","Learn more about {localizedDom}":"了解更多关于 {localizedDom} 的信息","the differences between the Premium Streaming and the Basic Streaming":"高级流媒体与基础流媒体之间的差异","Yup! Even Free account gets 10 AI Detection Hours for FREE each month.":"是的！即使是免费账户每月也可以免费获得10小时的AI检测时间。","Unused AI Detection Hours roll over month to month.":"未使用的AI检测时间可以月累月滚动。","You can":"您可以","earn free AI Detection Hours by helping her improve":"通过帮助她改进赚取免费AI检测时间","You can also":"您也可以","purchase additional AI hours":"购买额外的AI小时","Learn more about":"了解更多关于","how the AI Detection Hour works ":"AI检测小时如何工作","Pro plan includes 50 AI Detection Hours each month.":"Pro计划每月包括50小时AI检测时间。","AI Detection Hours expire when subscription ends.":"订阅结束时，AI检测时间将过期。","earn more AI Detection Hours by helping her improve":"通过帮助她改进赚取更多AI检测时间","Premium Streaming":"高级流媒体","Up to 25 FPS (frame-per-second)":"最高25 FPS（每秒帧数）","Un-throttled":"未限流","Securely tunnel to your OctoPrint/Klipper from anywhere.":"从任何地方安全地隧道连接到您的OctoPrint/Klipper。","Free plan is subject to 300MB/month data cap. Data usage is reset on the 1st day of each month.":"免费计划受到每月300MB数据上限的限制。数据使用量将在每月的第一天重置。","OctoPrint/Klipper tunnel ":"OctoPrint/Klipper隧道","Securely tunnel to your OctoPrint/Klipper from anywhere. Unlimited.":"从任何地方安全地隧道连接到您的OctoPrint/Klipper。不限量。","The monthly cap is shared between 3rd-party app and OctoPrint tunnel":"月度上限在第三方应用和OctoPrint隧道之间共享","The combined usage can\'t exceed 300MB per month.":"合并使用量每月不能超过300MB。","Data usage is reset on the 1st day of each month.":"数据使用量将在每月的第一天重置。","Supported 3rd-party mobile apps":"支持的第三方移动应用","Required versions":"所需版本","OctoPrint 1.7.0 or higher":"OctoPrint 1.7.0或更高","The {brandName} plugin 1.8.11 or higher":"The {{brandName}} 插件 1.8.11 或更高","Filament Runout Notifications":"耗材用尽通知","Host_action_commands must be enabled in your firmware to make it possible for your filament runout sensor to communicate with OctoPrint and the {brandName} app. If you enable action commands in your firmware, then the filament runout sensor can work properly and the {brandName} app can notify you when the filament runs out. Unfortunately, without host_action_commands enabled, OctoPrint is unable to communicate with the printer to know that a filament runout was detected.":"您的固件中必须启用 Host_action_commands，以便您的耗材用尽传感器能够与 OctoPrint 和 {{brandName}} 应用通信。如果您在固件中启用动作命令，那么耗材用尽传感器可以正常工作，并且 {{brandName}} 应用可以在耗材用尽时通知您。不幸的是，如果没有启用 host_action_commands，OctoPrint 将无法与打印机通信以知道检测到耗材用尽。","To enable support, you need to do the following":"要启用支持，您需要执行以下操作","Marlin: Uncomment #define HOST_ACTION_COMMANDS in Configuration_adv.h and recompile. See here for more information on host_action_commands.":"Marlin：在Configuration_adv.h中取消注释#define HOST_ACTION_COMMANDS并重新编译。有关host_action_commands的更多信息，请参见此处。","Color Change Notifications":"颜色变更通知","Notifications on color change will work with any printer that has M600 enabled in its firmware. You do not need host_action_commands enabled to get notified when a color change is needed.":"只要打印机的固件中启用了M600，颜色变更通知就会工作。您不需要启用host_action_commands就可以在需要颜色变更时收到通知。","Is filament usage inaccurate?":"耗材使用是否不准确？","G-code files uploaded to your {brandName} account before upgrading to {brandName} for OctoPrint version 2.3.0 or {brandName} for Klipper version 1.2.0 do not include filament usage data.":"在升级到OctoPrint版本2.3.0或Klipper版本1.2.0的{{brandName}}之前上传到您的{{brandName}}账户的G-code文件不包括耗材使用数据。","To ensure accurate filament usage and other statistics":"为确保耗材使用和其他统计数据的准确性","Upload G-code files and start prints directly through {brandName} instead of OctoPrint/Klipper.":"通过{{brandName}}直接上传G-code文件并开始打印，而不是通过OctoPrint/Klipper。","Use a slicer that supports filament usage parameters, such as Cura, Prusa Slicer, SuperSlicer, IdeaMaker, or Simplify3D.":"使用支持耗材使用参数的切片软件，如Cura、Prusa Slicer、SuperSlicer、IdeaMaker或Simplify3D。","Print statistics for G-code files deleted before 12/20/2022 are not included. For files deleted after 12/20/2022, statistics are preserved.":"2022年12月20日之前删除的G-code文件的打印统计数据不包括在内。对于2022年12月20日之后删除的文件，统计数据将被保留。","Learn how to configure G-Code preview generation in your slicer":"了解如何在您的切片软件中配置G-Code预览生成","Adjust the speed of the cooling fan by setting a percentage value between 0 and 100. The default value is usually 100, which means the fan will run at full speed. Lowering the fan speed can reduce noise and save energy, but may also affect print quality if the printer gets too hot.":"通过设置0到100之间的百分比值来调整冷却风扇的速度。默认值通常为100，这意味着风扇将以全速运行。降低风扇速度可以减少噪音并节省能源，但如果打印机过热，也可能影响打印质量。","Adjust the speed of your 3D printer by changing the speed of all movement commands by a specified factor. The default value is 100%, meaning that the printer will move at its standard speed. Lowering the print speed factor will slow down your print, while increasing it will speed it up. Value of 200% will double the speed.":"通过按指定因素更改所有移动命令的速度来调整3D打印机的速度。默认值为100%，意味着打印机将以其标准速度移动。降低打印速度因子将减慢打印速度，增加则会加快速度。200%的值将使速度加倍。","Flow rate is the speed at which the printer extrudes plastic. If the flow rate is too high, the printer may extrude too much plastic and create blobs or stringing, while too low flow rate may result in weak and brittle prints. Adjusting the flow rate can help achieve the optimal balance between speed and quality. The default value is 100%.":"流速是打印机挤出塑料的速度。如果流速过高，打印机可能会挤出过多的塑料，造成滴落或拉丝现象；而流速过低可能导致打印物脆弱易断。调整流速可以帮助在速度和质量之间达到最佳平衡。默认值为100%。","No cost for three months. Plan renews after expiration. Cancel anytime.":"三个月不用花钱。 计划到期后续订。 随时取消。","Printers":"打印机","Print History":"打印历史","G-Codes":"G-代码","Spaghetti Gallery":"意大利面画廊","Pricing":"定价","Help":"帮助","Community":"社区","SIGN IN":"登录","SIGN UP":"注册","Preferences":"偏好设置","Log out":"登出","Upgrade to Pro":"升级到专业版","Statistics":"统计","Notifications":"通知","Number of snapshots":"快照数量","Estimated time to finish":"预计完成时间","Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of the print. You will earn {localizedDom} after you finish this Focused Feedback. {localizedDom2}":"通过对打印快照提供深入反馈，帮助Obi更好地检测失败。完成这次专注反馈后，您将获得 {localizedDom}。{localizedDom2}","2 non-expirable AI Detection Hours":"2小时不过期的AI检测时间","Learn more":"了解更多","Start Focused Feedback":"开始专注反馈","I grant the {brandName} app team members the permission to review the time-lapse video of the print shown on this page.":"我授权 {{brandName}} 应用团队成员查看此页面上显示的打印延时视频的权限。","Why is this necessary? ":"为什么这是必要的？","File":"文件","Printed":"已打印","You are awesome!":"你太棒了！","The AI failure detection just got a little better because of your feedback!":"因为你的反馈，AI失败检测刚刚变得更好了！","You just earned 2 non-expirable AI Detection Hours - Yay!":"你刚刚获得了2小时不过期的AI检测时间 - 赞！","I\'m done!":"我完成了！","Change feedback":"更改反馈","Not sure? Look at":"不确定？看看","some examples. ":"一些例子。","Previous":"上一个","Next":"下一个","Failure Detection":"故障检测","AI Detection Hours":"AI检测小时","Not watching":"未观看","Learn all possible reasons":"了解所有可能的原因","Enable AI failure detection":"启用AI故障检测","AI failure detection is disabled. You are on your own.":"AI故障检测已禁用。你得自己来。","You will still be alerted via notifications.":"你仍然会通过通知被提醒。","Failure Detected!":"检测到故障！","Not a Failure?":"不是故障？","Unable to extrude / retract":"无法挤出/回收","The hotend is below the minimum temperature":"热端温度低于最低温度","Heat to 180°C":"加热至180°C","Command successfully sent!":"命令成功发送！","Printer Controls":"打印机控制","Move Head":"移动喷头","Extrude":"挤出","Baby Step Z":"微调Z轴","Tune Printer":"调整打印机","Power":"电源"," Home All":"回归原点","Disable Steppers":"禁用步进电机","Retract":"回抽","Loading tools...":"加载工具...","Current Offset":"当前偏移","Feed Rate / Speed":"进给率/速度","Flow Rate":"流量","Fan Speed":"风扇速度","0% (Off)":"0%（关闭）","These settings can only be set. They can\'t be read back from the firmware due to a limitation of the communication protocol.":"这些设置只能被设定。由于通信协议的限制，它们无法从固件中读回。"," Toggle Power ":" 切换电源 "," Power On All ":" 全部开机 "," Power Off All ":" 全部关机 ","Rapid toggling power may result in error. Please allow a cooldown period.":"快速切换电源可能会导致错误。请允许一个冷却期。","Uh-Oh. No printer is found on the serial port.":"哦哦。在串行端口上找不到打印机。","Once cancelled, the print can no longer be resumed.":"一旦取消，打印就无法再恢复了。","Print Job Control":"打印任务控制","Error":"错误","Filament Change or User Interaction Required":"需要更换耗材或用户互动","Printer is Currently Printing":"打印机当前正在打印","Print is Paused":"打印已暂停","Pause":"暂停","Resume":"恢复","Open G-Code File to Start Printing":"打开G-Code文件开始打印","Files":"文件","Printer Not Connected at the Serial Port":"打印机未在串行端口连接","Contacting OctoPrint":"正在联系OctoPrint","Connect":"连接","{brandName} for {name} is Offline.":"{{brandName}} 为 {{name}} 处于离线状态。","Why?":"为什么？","Print Progress":"打印进度","Last Print":"上次打印","Status":"状态","Started":"已开始","Duration":"持续时间","Layer":"层","Remaining":"剩余","Calculating...":"正在计算...","Finishing at":"完成于","Elapsed":"已过去","Z-height":"Z高度","Total time":"总时间","Total filament":"总耗材","Open Print":"打开打印","Reprint":"重新打印","No prints found":"未找到打印","Temperature Presets":"温度预设","Temperature Controls":"温度控制","Loading temperature...":"加载温度...","Printer Terminal":"打印机终端","Unknown event":"未知事件","Serial Port":"串行端口","Baudrate":"波特率","Auto":"自动","Noted!":"已记录！","Do you want to mute failure detection on for this print?":"您是否希望对这次打印关闭故障检测？","If you select \'Mute\', failure detection will be turned off for this print, but will be automatically turned on for your next print.":"如果您选择\'静音\'，故障检测将为这次打印关闭，但会在您的下次打印时自动开启。","Mute":"静音","Failed to update printer":"更新打印机失败","Open":"打开","Details":"详情","Share":"分享","Tunnel":"隧道","Configure":"配置","Not a failure?":"不是故障？","Failure Detection is Off":"故障检测已关闭","Learn more. ":"了解更多。","Enable AI failure detection {localizedDom}":"启用AI故障检测 {localizedDom}","AI failure detection is disabled. You are on your own":"AI故障检测已禁用。您需要自己判断","Pause on detected failures {localizedDom}":"在检测到故障时暂停 {localizedDom}","You will still be alerted via notifications":"您仍然会通过通知被提醒"," Remaining ":" 剩余 "," Total ":" 总计 ","Printer Feed Sharing":"打印机源分享","Wait! You need to {localizedDom} to enable Printer feed.":"等一下！您需要 {localizedDom} 来启用打印机源。","upgrade to the Pro plan":"升级到专业计划","Printer feed sharing is a Pro feature.":"打印机源分享是专业版功能。","Running the {brandName} app incurs non-trivial amount of costs":"运行 {{brandName}} 应用产生了相当数量的成本","With little more than 1 Starbucks per month, you can upgrade to a Pro account and help us run the {brandName} app smoothly.":"仅需每月1杯星巴克的费用，您就可以升级到专业账户，并帮助我们顺利运行 {{brandName}} 应用。","Check out Pro pricing >>>":"查看专业版价格 >>>","Share live feed for printer ":"分享打印机实时源 ","Click the clipboard icon above to copy the secure shareable link to your clipboard.":"点击上方的剪贴板图标，将安全可分享的链接复制到您的剪贴板。","You can test the shareable link by right-clicking {localizedDom} and select \'Open Link in Incognito Window\'.":"您可以通过右键点击 {localizedDom} 并选择\'在隐身窗口中打开链接\'来测试可分享链接。","here":"这里","Notes":"备注","Send the secure link to anyone you want to share your printer feed with. They do NOT need the {brandName} account to see your printer feed.":"将安全链接发送给任何您想与之分享打印机源的人。他们不需要 {{brandName}} 账户就可以查看您的打印机源。","Anyone with this shareable link will be able to see your printer feed.":"任何拥有此可分享链接的人都将能够查看您的打印机源。","Learn more about what they can see.":"了解更多关于他们能看到什么。","Presets":"预设","Temperature presets can be edited or added in {agentName} settings.":"温度预设可以在 {{agentName}} 设置中被编辑或添加。","OFF":"关闭","Manual":"手动","Oops!":"哎呀！","Handshake failed because the pop-up was blcoked.":"由于弹出窗口被阻止，握手失败。","Please unblock the pop-up in your browser and try it again.":"请在浏览器中解除弹出窗口阻止，然后再试一次。","Okay!":"好的！","Switch to Manual Setup":"切换到手动设置","Handshake failed!":"握手失败！","Please make sure":"请确保","The OctoPrint you want to link is at {host}:{port}, and it\'s connected to the same local network as your computer/phone.":"您要链接的OctoPrint位于{{host}}:{{port}}，并且与您的计算机/手机连接到同一局域网。","The version of plugin is 1.8.0 or above.":"插件版本为1.8.0或以上。","The {brandName} app needs to make sure you have access to selected printer.":"{{brandName}} 应用需要确保您可以访问所选的打印机。","When you press \'Link Now\' button below, a new browser window will pop up to finish a handshake with this printer.":"当您点击下面的\'立即链接\'按钮时，将弹出一个新的浏览器窗口来完成与此打印机的握手。","Link Now":"立即链接","Platform":"平台","IP address":"IP地址","Hostname":"主机名","OctoPi":"OctoPi","OS":"操作系统","Link":"链接","First Layer Report":"首层报告","uploaded":"已上传","Open File":"打开文件","First Layer Grade":"首层等级","First Layer Print Time":"首层打印时间","First Layer Notes":"首层备注","You\'re first layer score is":"您的首层得分是","Grade {localizedDom} usually means one of the following":"等级 {localizedDom} 通常意味着以下之一：","Click pins on the g-node map to see snapshots of certain areas of the print.":"点击g-node地图上的图钉，查看打印某些区域的快照。","View First Layer Timelapse":"查看首层延时摄影","Give Feedback About This Report":"提供关于此报告的反馈","Possible failure detected!":"可能检测到故障！","(Cancelled)":"（已取消）","Time-lapse video deleted":"时间延迟视频已删除","Time-lapse videos older than 6-months are deleted from the {brandName} app server as they are rarely needed and cost significant amount to store in the cloud.":"超过6个月的时间延迟视频将从 {{brandName}} 应用服务器中删除，因为它们很少被需要且在云端存储成本很高。","If you are a Pro subscriber and you don\'t want your time-lapse videos to be deleted, please ":"如果您是专业订阅者并且不希望您的时间延迟视频被删除，请","contact us":"联系我们","Download Original Time-lapse":"下载原始时间延迟视频","Download Detective Time-lapse":"下载侦探时间延迟视频"," ":" ","Video file is deleted.":"视频文件已删除。","Did we get it right?":"我们做对了吗？","CUSED FEEDBACK":"专注反馈","Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback.":"感谢您完成专注反馈。您已赚取2小时不过期的AI检测时间。您可以再次点击按钮来更改您的反馈。","With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve.":"通过专注反馈，您可以准确告诉我们我们哪里做错了。这是帮助我们改进的最有效方式。","You will earn 2 AI Detection Hours once you finish the Focused Feedback":"完成专注反馈后，您将获得2小时AI检测时间","Every time you give us feedback,":"每次您给我们反馈，","you help us get better at detecting failures":"您帮助我们更好地检测失败","Search":"搜索","Ascending":"升序","Descending":"降序","SORT BY":"排序方式","DIRECTION":"方向","Upgrade for Better Streaming":"升级以获得更好的流媒体","Because you are now on the":"因为您现在处于","{brandName} Cloud Free plan":"{{brandName}} 云免费计划","Streaming is limited to 5 FPS (frames per second).":"流媒体限制为5 FPS（每秒帧数）。","After 30 seconds of streaming there is a 30-second cooldown before you can resume streaming.":"流媒体30秒后，您需要等待30秒冷却时间才能继续流媒体。","Support the {brandName} project by":"通过以下方式支持 {{brandName}} 项目","upgrading to the Pro plan for little more than 1 Starbucks a month.":"每月仅需略高于1杯星巴克的费用即可升级到专业计划。","The Pro plan offers many perks, including the":"专业计划提供许多特权，包括","Smooth 25 FPS.":"平滑的25 FPS。","Unlimited streaming with no cooldowns.":"无限流媒体，无需冷却。","Video frames dropped":"视频帧丢失","The video frames are getting dropped because there is most likely a bandwidth bottleneck along the route they travel from your Raspberry Pi to your computer. The bottleneck can be anywhere, but in most cases,":"视频帧丢失可能是因为从您的树莓派到您的计算机的路由上存在带宽瓶颈。瓶颈可以在任何地方，但在大多数情况下，","it is either your computer\'s internet connection, or your Raspberry Pi\'s":"要么是您计算机的互联网连接，要么是您的树莓派的","Make sure your computer is connected to the same network as your Pi. If you still see this warning, you need to trouble-shoot your computer\'s Wi-Fi connection, probably by moving closer to the Wi-Fi router.":"确保您的计算机与您的Pi连接到同一网络。如果您仍然看到这个警告，您需要对您的计算机的Wi-Fi连接进行故障排除，可能通过靠近Wi-Fi路由器来解决。","If the webcam stream is smooth when your computer is on the same Wi-Fi network as your Pi, the bottleneck is likely with the upload speed of your internet connection. You need to run a speed test to make sure you have high-enough upload speed, as well as":"如果当您的计算机与您的Pi在同一个Wi-Fi网络上时，摄像头流畅，则瓶颈可能在于您的互联网连接的上传速度。您需要进行速度测试，以确保您有足够高的上传速度，以及","low latency (ping)":"低延迟（ping）","Check out":"查看","the step-by-step trouble-shooting guide.":"逐步故障排除指南。","Webcam stream buffering":"网络摄像头流缓冲","When you see the messaging about webcam stream is \'buffering\' occasionally, you can just reload the page. If this message repeatedly appears, it may indicate one of the problems":"当您偶尔看到有关网络摄像头流“缓冲”的消息时，您可以重新加载页面。如果这个消息反复出现，它可能表明存在以下问题之一","1. A constricted video stream on your Raspberry Pi. The most common reasons are":"1. 您的树莓派上的视频流受限。最常见的原因是","Camera resolution is set too high.":"摄像头分辨率设置过高。","Camera framerate is set too high.":"摄像头帧率设置过高。","The upload speed of your Raspberry Pi is too low.":"您的树莓派的上传速度太低。","2. The internet connection of your computer or phone is not fast enough.":"2. 您的计算机或手机的互联网连接不够快。","3. Your webcam is not properly connected to your Raspberry Pi.":"3. 您的网络摄像头未正确连接到您的树莓派。","Check":"检查","this step-by-step troubleshooting guide":"这个逐步故障排除指南","Buffering...":"缓冲中...","Why is it stuck?":"为什么会卡住？","Webcam streams up to 5 FPS for Free":"免费提供高达5 FPS的网络摄像头流","Learn more...":"了解更多...","Filter":"过滤器","Suppress Temperature":"抑制温度消息","Suppress SD Status Messages":"抑制SD状态消息","Suppress Position Messages":"抑制位置消息","Suppress \'OK\' Messages":"抑制\'OK\'消息","Enter code...":"输入代码...","Terminal feed is off":"终端输出已关闭","Failed to fetch authorized apps":"获取授权应用失败","Failed to remove access":"移除访问权限失败","Authorized Apps":"授权应用","App Name":"应用名称","Printer to Access":"访问打印机","Remove Access":"移除访问权限","General":"通用","Land directly on the printer control page if I have only 1 printer":"如果我只有一台打印机，则直接进入打印机控制页面","This option will be ignored if you have multiple printers. In this case, you will always land on the printer overview page.":"如果您有多台打印机，此选项将被忽略。在这种情况下，您将始终进入打印机概览页面。","View Archived Printers":"查看已归档打印机","Enable notifications":"启用通知","Enable notification":"启用通知","Please configure the following variables in the \'.env\' file":"请在\'.env\'文件中配置以下变量","Edit Name":"编辑名称","Profile":"个人资料","First Name":"名字","Last Name":"姓","Primary Email":"主要电子邮箱","Manage email addresses":"管理电子邮箱地址","Password":"密码","Change":"更改","Appearance":"外观","Theme":"主题","DARK":"暗色","LIGHT":"亮色","Sync theme with system settings":"与系统设置同步主题","Failure alerts":"故障警报","When possible failures are detected":"当检测到可能的故障时","Print job events":"打印任务事件","Upon start/end/cancellation of a print job":"在打印任务开始/结束/取消时","When print is done":"当打印完成时","When print is cancelled":"当打印被取消时","When printer needs attention":"当打印机需要注意时","Such as filament change or run-out":"例如耗材更换或用尽","When print is started":"当打印开始时","When print is paused":"当打印暂停时","Note: this event may be triggered by other plugins that pause the print frequently, such as the timelapse plugin":"注意：此事件可能由其他经常暂停打印的插件触发，例如延时摄影插件","When print is resumed":"当打印恢复时","Heater status change":"加热器状态变化","Heater reached target or cooled down":"加热器达到目标温度或已冷却","Push Notification":"推送通知","Failed to contact printer. Is it powered on and connected to Internet?":"无法联系到打印机。它是否已开机并连接到互联网？","Printer not responding":"打印机无响应","The printer doesn\'t seem to be responding. Is it powered on and connected to the Internet? Please":"打印机似乎没有响应。它是否已开机并连接到互联网？请","report the problem to us":"向我们报告问题","if this error repeats multiple times.":"如果这个错误多次重复。","Get help from":"获取帮助来自","the {brandName} for Klipper support forum":"{{brandName}} Klipper 支持论坛","or":"或","the {brandName} general support forum":"{{brandName}} 通用支持论坛","if this error persists.":"如果这个错误持续存在。","Email":"电子邮件","SMS":"短信","Pushbullet":"Pushbullet","Discord":"Discord","Telegram":"Telegram","Pushover":"Pushover","Slack":"Slack","Webhook":"Webhook","Webhook URL":"Webhook URL","Discord Webhook":"Discord Webhook","If you have a Discord channel you wish to receive notifications on, you can {localizedDom} and enter it here.":"如果您有希望接收通知的Discord频道，您可以{localizedDom}然后在这里输入。","generate webhook url":"生成webhook网址","Notifications are sent to verified email addresses only.":"通知仅发送至已验证的电子邮件地址。","Account events {localizedDom}":"账户事件 {localizedDom}","Plan changed; AI Detection Hours running low; etc.":"计划变更；AI检测时间不足；等。","Access Token":"访问令牌","Pushbullet Access Token":"Pushbullet访问令牌","If you have a Pushbullet account, you can {localizedDom} and enter it here.":"如果您有一个Pushbullet账户，您可以{localizedDom}然后在这里输入。","generate an access token":"生成一个访问令牌","User Key":"用户密钥","Pushover User Key":"Pushover用户密钥","If you have a Pushover account, you can {localizedDom} and enter it here.":"如果您有一个Pushover账户，您可以{localizedDom}然后在这里输入。","get your User Key":"获取您的用户密钥","Slack test failed":"Slack测试失败","Close":"关闭","{brandName} Messenger has been successfully added to your workspace.":"{{brandName}} Messenger 已成功添加到您的工作区。","What\'s Next?":"下一步是什么？"," 1. Make sure {brandName} Messenger is added to the channels you want the notifications to be sent to.":" 1. 确保 {{brandName}} Messenger 已添加到您希望发送通知的频道。","2. There is no 2. You are all set. It\'s this simple. 😀":"2. 没有第二步。您已全部设置好。就是这么简单。😀","Click the button below to add the {brandName} Slack App into your workspace":"点击下面的按钮将 {{brandName}} Slack 应用添加到您的工作区","Test Notifications":"测试通知","Test Slack Notification":"测试Slack通知","Questions?":"有问题？","Q: How do I remove the {brandName} Slack App from a slack channel so that it won\'t send notifications to that channel?":"Q: 我如何从Slack频道中移除 {{brandName}} Slack 应用，以便它不会向该频道发送通知？","Q: How do I remove the {brandName} Slack App from the entire workspace?":"Q: 我如何从整个工作区中移除 {{brandName}} Slack 应用？","A: Please follow the instructions in {localizedDom}.":"A: 请按照 {localizedDom} 中的说明操作。","this Slack help doc":"这个Slack帮助文档","Telegram test failed":"Telegram测试失败","Login to be notified by our Telegram bot.":"登录以接收我们Telegram机器人的通知。","Telegram in the mobile app is very finicky. Please open a browser, and log into {localizedDom} using the same credential to set up Telegram.":"移动应用中的Telegram非常挑剔。请打开浏览器，并使用相同的凭据登录到 {localizedDom} 来设置Telegram。","the {brandName} web app":"{{brandName}} 网络应用","Once set up, Telegram notification will work properly on your phone.":"一旦设置完成，Telegram通知将在您的手机上正常工作。","If you see \'Bot domain invalid\', please hard-refresh the browser a few times. I know it\'s annoying. But Telegram API has a very high failure rate.":"如果您看到\'Bot域无效\'，请对浏览器进行几次硬刷新。我知道这很烦人。但Telegram API的失败率非常高。","If you press the \'Test Telegram Notification\' button and see an error, please hard-refresh the browser a few times and press the test button again.":"如果您按下\'测试Telegram通知\'按钮并看到错误，请对浏览器进行几次硬刷新并再次按测试按钮。","Unlink Telegram":"取消链接Telegram","Test Telegram Notification":"测试Telegram通知","Oops, we don\'t send SMS to this country code":"哎呀，我们不向这个国家代码发送短信","Phone Number":"电话号码","Country Code":"国家代码","Custom Webhook URL":"自定义Webhook URL","Enter a custom webhook URL at which to receive notifications.":"输入一个自定义的webhook URL来接收通知。","Host printer for this gcode not found":"未找到此gcode的宿主打印机","Rename file":"重命名文件","Delete file":"删除文件","This G-Code file doesn\'t exists":"此G-Code文件不存在","This file is deleted and unavailable for print":"该文件已被删除，无法打印","This file doesn\'t have any prints yet":"这个文件还没有任何打印","File storage":"文件存储","Sort":"排序","Create folder":"创建文件夹","Available to browse files":"可浏览文件","Unable to browse files":"无法浏览文件","Delete {name} item(s)? This action can not be undone.":"删除 {{name}} 项？此操作无法撤销。","Yes":"是","No":"否","Failed to delete files and folders":"删除文件和文件夹失败","{name} isn\'t available for browsing files for one of the following reasons":"{{name}} 由于以下原因之一，无法浏览文件","{brandName} for {name} plugin is outdated (you need version {version} or later)":"{{brandName}} 适用于 {{name}} 的插件已过时（您需要 {{version}} 版本或更高）","Printer not found or unavailable":"找不到打印机或不可用","Folder with this name already exists":"已存在同名文件夹","Select all":"全选","selected":"已选","STORAGE":"存储","Cloud":"云","G-Code file (*.gcode, *.gco, or *.g) only.":"仅限G-Code文件（*.gcode、*.gco或*.g）。","Up to {maxFilesize} MB each file, {maxTotalFilesize} GB total.":"每个文件最多 {{maxFilesize}} MB，总计 {{maxTotalFilesize}} GB。","Search in Klipper printers works only for current directory":"在Klipper打印机中搜索仅适用于当前目录","Welcome To":"欢迎来到","Your 30-Day {localizedDom} Free Trial Has Started!":"您的30天 {localizedDom} 免费试用已开始！","Pro Plan":"专业计划","{trialDaysLeft} Days Left on Your {localizedDom} Free Trial!":"您的 {localizedDom} 免费试用还剩 {trialDaysLeft} 天！","Unlimited Secure Tunnel to your {platformDisplayName}":"无限安全隧道至您的 {{platformDisplayName}}","Premium 25 FPS Webcam Streaming":"高级25 FPS网络摄像头流媒体","250 AI Failure Detection Hours":"250小时AI故障检测","G-Code Remote Upload and Printing":"G-Code远程上传和打印","{platformDisplayName} has not been linked to your {brandName} account.":"{{platformDisplayName}} 尚未与您的 {{brandName}} 账户链接。","Link {platformDisplayName} Now":"立即链接 {{platformDisplayName}}","It\'s as easy as 1-2-3.":"简单如1-2-3。","Not ready to start yet? {localizedDom} to pause your free trial.":"还没准备好开始？{localizedDom} 来暂停您的免费试用。","Email us":"给我们发送电子邮件","Authorization Successful!":"授权成功！","You can close this page":"您可以关闭此页面","Tunnel Access Authorization":"隧道访问授权","is requesting to access you {platformDisplayName} Tunnel.":"正在请求访问您的 {{platformDisplayName}} 隧道。","is a secure way provided by {localizedDom} to remotely access your {platformDisplayName}. With the {platformDisplayName} Tunnel, you can use {appDisplayName} to access your {platformDisplayName} from anywhere.":"是由 {localizedDom} 提供的一种安全方式，用于远程访问您的 {platformDisplayName}。通过 {platformDisplayName} 隧道，您可以从任何地方使用 {appDisplayName} 访问您的 {platformDisplayName}。","Tunnel usage of a free account is {localizedDom} to enjoy unlimited tunnel usage.":"免费账户的隧道使用是 {localizedDom}，以享受无限的隧道使用。","capped at 300MB per month":"每月上限为300MB","upgrade to the {brandName} app Pro plan for 1 Starbucks a month":"每月1星巴克的价格升级到 {{brandName}} 应用的Pro计划","After the Free trial expires, tunnel data usage will be {localizedDom} to continue enjoying unlimited tunnel usage.":"免费试用结束后，隧道数据使用将被 {localizedDom}，以继续享受无限的隧道使用。","Tunnel access by {localizedDom} (make sure you trust it)":"隧道访问由 {localizedDom} 提供（确保您信任它）：","You have 0 active printers":"您有0台活跃的打印机","Please select a printer":"请选择一台打印机","Authorize":"授权","Manage Apps":"管理应用","Security notes":"安全说明","The app can only access the tunnel, not your {brandName} account info such as your email address.":"应用只能访问隧道，无法访问您的 {{brandName}} 账户信息，如您的电子邮件地址。","The access remains valid until explicitly revoked. You can revoke the access by going to Preferences -> Authorized Apps.":"访问权限将保持有效，直到明确撤销。您可以通过前往偏好设置 -> 授权应用来撤销访问权限。","Log Out":"登出","Free {platformDisplayName} Tunnel":"免费的 {{platformDisplayName}} 隧道","Powered by {brandName}":"由 {{brandName}} 提供支持","With the Free {platformDisplayName} Tunnel by {brandName}, you can now use {appDisplayName} to":"通过 {{brandName}} 提供的免费 {{platformDisplayName}} 隧道，您现在可以使用 {{appDisplayName}} 来","securely control and monitor your printer from anywhere":"从任何地方安全地控制和监视您的打印机","Unlimited realtime webcam at 0.1FPS.":"无限实时网络摄像头，0.1FPS。","300MB monthly tunnel data cap (excluding webcam streaming).":"每月300MB隧道数据上限（不包括网络摄像头流媒体）。","10 hours/mo AI failure detection.":"每月10小时AI故障检测。","Upgrade to {brandName} Pro Account ({localizedDom}) to get premium features":"升级到 {brandName} Pro账户 ({localizedDom}) 以获取高级功能：","from $4/mo":"从 $4/月起","Unlimited realtime webcam streaming.":"无限实时网络摄像头流媒体。","Unlimited tunnel data usage.":"无限隧道数据使用。","50 hours/mo AI failure detection.":"每月50小时AI故障检测。","And much more...":"还有更多...","SIGN IN ":"登录 ","- OR -":"- 或 -","OctoPrint/Klipper Secure Tunnel":"OctoPrint/Klipper 安全隧道","It may take long time for OctoPrint/Mainsail/Fluidd page to load as it is securely tunneled via the {brandName} app server.":"由于通过 {{brandName}} 应用服务器安全隧道传输，加载 OctoPrint/Mainsail/Fluidd 页面可能需要较长时间。","Learn more about OctoPrint/Klipper tunnel\'s security and page load speed.":"了解更多关于 OctoPrint/Klipper 隧道的安全性和页面加载速度。","Don\'t show again":"不再显示","Monthly data usage ({localizedDom})":"每月数据使用情况 ({localizedDom})","Resets in {daysUntilReset} days":"{{daysUntilReset}} 天后重置","Used {usageMTD} of {humanizedUsageCap}.":"已使用 {{usageMTD}}，共 {{humanizedUsageCap}}。","Your month-to-date tunnel data usage is over the Free plan limit.":"您到目前为止的本月隧道数据使用量已超过免费计划限制。","Get Unlimited Tunnel Data":"获取无限隧道数据","Successfully linked to your account!":"成功链接到您的账户！","Printer name":"打印机名称","Give your printer a shiny name.":"给您的打印机一个闪亮的名称。","Authorize App Access":"授权应用访问","Go Check Out Printer Feed!":"去查看打印机源！","Add Phone Number":"添加电话号码","Receive text (SMS) in case of print failures.":"在打印失败时接收文本（短信）。","Change Printer Settings":"更改打印机设置","You can always change it later.":"您可以稍后再更改。","Plugin Setup":"插件设置","If you haven’t installed Obico Klipper, You need to find the right guide for your printer to install it.":"如果您尚未安装 Obico Klipper，您需要找到适合您的打印机的正确指南来安装它。","Find the Guide for Your Printer":"查找适合您的打印机的指南","The basic steps involve:":"基本步骤包括：","SSH to the device your Klipper runs on.":"通过 SSH 连接到运行 Klipper 的设备。","Enter the terminal commands for your printer.":"输入打印机的终端命令。","Follow the installation steps.":"按照安装步骤操作。","Get the one time passcode from the terminal.":"从终端获取一次性密码。","Open OctoPrint in another browser tab.":"在另一个浏览器标签页中打开OctoPrint。","Select":"选择","OctoPrint settings menu → Plugin Manager → Get More...":"OctoPrint设置菜单 → 插件管理器 → 获取更多...","Enter \'{brandName}\' to locate the plugin. Click":"输入\'{{brandName}}\'来定位插件。点击","Install":"安装","Restart OctoPrint when prompted.":"根据提示重启OctoPrint。","SSH to the Raspberry Pi your Klipper runs on.":"SSH到运行Klipper的树莓派。","Run:":"运行：","1. Unbox and assemble the 3D printer following the manufacturers instructions":"1. 按照制造商的说明拆箱并组装 3D 打印机","2. Power on the 3D printer and make sure it is connected to WiFi.":"2. 打开3D打印机电源并确保其连接到WiFi。","3. Tap “Next” when you are ready.":"3. 准备好后，点击“下一步”。","Need help? Check out the {localizedDom}":"需要帮助？查看{localizedDom}","step-by-step set up guide":"逐步设置指南","The 6-digit code needs to be entered in the Obico plugin in OctoPrint. There are a few reasons why you can\'t find this page:":"需要在 OctoPrint 的 Obico 插件中输入 6 位代码。 找不到此页面有以下几个原因：","You don\'t have the plugin installed or you haven\'t restarted OctoPrint after installation. Click":"您没有安装插件，或者安装后没有重启 OctoPrint。点击","to walk through the process again.":"再次走过这个过程。","The installed plugin is on a version earlier than 1.5.0. You need to upgrade the plugin to":"已安装的插件版本早于 1.5.0。您需要将插件升级到","or later.":"或更高版本。","Still no dice? Check out the step-by-step":"仍然不行？查看逐步","set up guide":"设置指南","The 6-digit code needs to be entered to the Obico for Klipper installation script.":"需要将 6 位代码输入到 Obico for Klipper 安装脚本中。","this set up guide":"这个设置指南","for detailed instructions.":"获取详细说明。","Can\'t find the page to enter the 6-digit code?":"找不到输入6位数代码的页面？","Scanning...":"正在扫描...","Scanning..., {name} printer(s) found on your local network:":"正在扫描...，在您的本地网络上发现了{{name}}台打印机：","To link your printer, please make sure:":"要链接您的打印机，请确保：","The printer is powered on. If you are using an external SBC such as a Raspberry Pi, make sure it\'s powered on as well.":"打印机已开机。如果您正在使用外部SBC，如树莓派，请确保它也已开机。","The printer or SBC is connected to the same local network as your phone/computer.":"打印机或SBC与您的手机/计算机连接到同一局域网。","{brandName} for OctoPrint is 1.8.0 or above.":"{{brandName}}适用于OctoPrint的版本为1.8.0或以上。","Can’t find the printer you want to link? Switch to manual linking instead.":"找不到您要链接的打印机？ 改为手动链接。","Switch to manual linking":"切换到手动链接","Code copied to system clipboard":"代码已复制到系统剪贴板","Ctrl-C/Cmd-C to copy the code":"使用Ctrl-C/Cmd-C复制代码","Code will expire in ":"代码将在以下时间后过期：","Enter the {localizedDom}":"输入{localizedDom}","6-digit verification code":"6位验证码","Invalid code. Is it expired?":"无效代码。它是否已过期？","Enter the One-time Passcode":"输入一次性密码","If you using Obico for OctoPrint older than 2.5.0, or Obico for Klipper older than 1.6.0, switch to {localizedDom}.":"如果您使用 Obico for OctoPrint 早于 2.5.0 的版本，或 Obico for Klipper 早于 1.6.0 的版本，请切换到 {localizedDom}。","Touch Screen":"触摸屏","Check to see if your printer already has Obico installed your printer screen.":"检查您的打印机是否已安装 Obico 打印机屏幕。","Navigate to the settings menu on the LCD screen of your printer.":"导航至打印机 LCD 屏幕上的设置菜单。","Find the “Link Obico” menu item and tap it to open the connection screen.":"找到“Link Obico”菜单项并点击它以打开连接屏幕。","LCD Screen ":"液晶屏","Check to see if your printer already has Obico Easy Link installed on the LCD menu.":"检查您的打印机的 LCD 菜单上是否已安装 Obico Easy Link。","Find the “Link Obico” menu item.":"找到“链接 Obico”菜单项。","Install Via SSH":"通过 SSH 安装","If you can\'t find Obico Easy Link, you will need to SSH to your printer to install Obico. You will need to find a guide that works for your printer.":"如果找不到 Obico Easy Link，则需要通过 SSH 连接到打印机才能安装 Obico。 您需要找到适合您的打印机的指南。","Show me how":"告诉我怎么做","Warning: Re-Linking OctoPrint should be your last resort to solve issues. Please make sure you have exhausted all options on {localizedDom}.":"警告：重新链接 OctoPrint 应该是解决问题的最后手段。 请确保您已用尽 {localizedDom} 上的所有选项。","{brandName}\'s help website":"{{brandName}}的帮助网站","Which platform are you using?":"您正在使用哪个平台？","Devices with Obico Pre-installed":"预装 Obico 的设备","Pre-Installed Klipper Printer":"预装 Klipper 打印机","Creality K1, Sonic Pad, Sovol SV07, Kingroon KLP1, Elegoo Neptune 4, etc...":"Creality K1、Sonic Pad、Sovol SV07、Kingroon KLP1、Elegoo Neptune 4 等...","Generic Klipper - Self Installed":"通用 Klipper - 自安装","If you installed Klipper yourself on a Raspberry Pi or other linux device. E.g., Voron, RatRig":"如果您自己在 Raspberry Pi 或其他 Linux 设备上安装了 Klipper。 例如，Voron、RatRig","Including OctoPrint for Klipper such as OctoKlipper.":"包括适用于Klipper的OctoPrint，如OctoKlipper。","Save":"保存","OctoPrint Tunnel":"OctoPrint隧道","Additional Actions":"额外操作","Reorder":"重新排序","Hide":"隐藏","Customize this page for each of your printers by reodering or hiding cards above.":"通过重新排序或隐藏上面的卡片，为您的每台打印机自定义此页面。","Add Printer":"添加打印机","Link another printer to {brandName}.":"将另一台打印机链接到{{brandName}}。","Nothing to look here. Enjoy your vacation!":"这里没有什么可看的。享受您的假期！","No more notifications.":"没有更多通知。","Created at":"创建于","Print Status":"打印状态","All Printers":"所有打印机","Online Printers":"在线打印机","Active Printers":"活跃打印机","{name} AI Detection Hours":"{{name}} AI检测小时","You can always view your archived printers in by navigating to the General tab within Preferences.":"您可以通过导航至偏好设置中的“通用”标签页随时查看已存档的打印机。","Link New Printer":"链接新打印机","have been archived.":"已被归档。","Show Archived Printers":"显示已归档的打印机","Never Show Again":"不再显示","Printer not found":"未找到打印机","Can not update printer settings.":"无法更新打印机设置。","{brandName} for klipper support forum":"klipper 支持论坛的 {{brandName}}","Delete {name} printer? This action can not be undone.":"删除{{name}}打印机？此操作无法撤销。","Printer archived":"打印机已归档","{name} is archived.":"{{name}}已被归档。","You can find it on":"您可以在此找到它","this page":"这个页面","and un-archive it":"并取消其归档","Go to the printer page":"前往打印机页面","Settings":"设置","Give your shiny new printer a name":"给您的全新打印机起个亮眼的名字","When a potential failure is detected":"当检测到潜在故障时","Just notify me":"只需通知我","Pause the printer and notify me":"暂停打印机并通知我","If you are not sure about the settings below, leave the default values to minimize surprises.":"如果您不确定以下设置，请保留默认值以尽量减少意外。","When print is paused,":"当打印暂停时，","Turn off hotend heater(s)":"关闭热端加热器","Turn off bed heater":"关闭热床加热器","Retract filament by":"回抽耗材","Lift extruder along Z axis by":"沿Z轴提升挤出机","AI failure detection sensitivity":"AI故障检测灵敏度","Low - I don\'t want a lot of false alarms. Only alert me when you are absolutely sure.":"低 - 我不想要很多误报。只有在你绝对确定时才提醒我。","Medium - A few false alarms won\'t bother me. But some well-disguised spaghetti will be missed.":"中 - 一些误报不会打扰我。但是一些伪装得很好的意大利面条会被错过。","High - Hit me with all the false alarms. I want to catch as many failures as possible.":"高 - 给我所有的误报。我想尽可能捕捉到更多的失败。","Time-lapse":"延时摄影","Focused Feedback won\'t be available when time-lapse recording is turned off. You won\'t be able to {localizedDom}":"关闭延时摄影录制时，将无法使用专注反馈。您将无法 {localizedDom}","help us get better while earning AI Detection Hours for yourself":"在为自己赚取AI检测时间的同时帮助我们变得更好","Record time-lapse when a print finishes successfully.":"打印成功完成时记录延时摄影。","Skip if the print is finished in less than":"如果打印在少于以下时间内完成则跳过","Record time-lapse when a print is cancelled.":"打印被取消时记录延时摄影。","Skip if the print is cancelled in less than":"如果打印在少于以下时间内取消则跳过","Danger Zone":"危险区","Re-Link Printer":"重新链接打印机","If your printer is always showing as \'offline\', and you have gone through {localizedDom}, you can try to re-link printer as the last resort.":"如果您的打印机始终显示为\'离线\'，并且您已经尝试了 {localizedDom}，您可以将重新链接打印机作为最后的手段。","all the trouble-shooting steps":"所有故障排除步骤","Archive Printer":"归档打印机","Archived printers are not counted toward your subscription plan. You won\'t see them in the app either. Go to {localizedDom} to find all archived printers and/or un-archive them.":"归档的打印机不计入您的订阅计划。您在应用程序中也看不到它们。前往 {localizedDom} 查找所有归档的打印机并/或取消归档它们。","Delete Printer":"删除打印机","Bye-bye printer.":"再见，打印机。","Date":"日期","Time Period":"时间段","All":"全部","This Week":"本周","This Month":"本月","This Year":"今年","Custom":"自定义","Finished":"已完成","Cancelled":"已取消","Feedback Needed":"需要反馈","Review Needed":"需要审查","Focused Feedback Needed":"需要专注反馈","Delete {name} print(s)? This action can not be undone.":"删除 {{name}} 打印？此操作无法撤销。","Until":"直到","and later":"及以后","Sort By":"排序方式","Prints done":"完成的打印","Total print time":"总打印时间","Filament used":"使用的耗材","Full Stats":"完整统计","Older":"较旧","Newer":"较新","Failed to fetch printer information":"获取打印机信息失败","Start time":"开始时间","End time":"结束时间","Open Detailed Report":"打开详细报告","Time-Lapse video deleted":"时间延迟视频已删除","If you are a Pro subscriber and you don\'t want your time-lapse videos to be deleted, please {localizedDom}":"如果您是Pro订阅者并且不希望您的时间延迟视频被删除，请{localizedDom}","FOCUSED FEEDBACK":"专注反馈","Time-Lapse video unavailable because":"时间延迟视频不可用，因为","The {brandName} server is still processing the time-lapse;":"{{brandName}} 服务器仍在处理时间延迟；","Or, the print time was shorter than the threshold. You can change the threshold in {localizedDom}":"或者，打印时间短于阈值。您可以在 {localizedDom} 中更改阈值","the printer settings":"打印机设置","Print Page":"打印页面","Delete {brandName} print(s)? This action can not be undone.":"删除{{brandName}}印刷品吗？ 此操作无法撤消。","{name} time-lapse(s) deleted!":"{{name}} 时间延迟视频已删除！","Time-lapse {name} deleted!":"时间延迟视频 {{name}} 已删除！","selected...":"已选择...","No more time-lapses.":"没有更多时间延迟视频。","You are viewing an awesome 3D print your friend shared specifically with you on":"您正在查看您的朋友在以下平台上特别与您分享的精彩3D打印：","lets you monitor and control your printer from anywhere, on your phone.":"让您可以在任何地方通过手机监控和控制您的打印机。","Sign up for a free {brandName} account":"注册免费的 {{brandName}} 账户","Failed to fetch statistics":"获取统计数据失败","GROUP BY":"分组依据","Group By":"分组依据","Statistics include deleted prints":"统计包括已删除的打印","Total Prints":"总打印数","Print Time":"打印时间","Longest print":"最长打印","Average print":"平均打印","Prints Count":"打印计数","Filament Usage":"耗材使用","total":"总计","Upload Time-lapse":"上传时间延迟","Upload time-lapse videos to test {brandName}\'s AI failure detection.":"上传时间延迟视频以测试 {{brandName}} 的AI故障检测。","Drop files here or click to upload.":"将文件拖放到此处或点击上传。","*.mp4 or *.mpg files only. Up to 100MB each.":"仅限 *.mp4 或 *.mpg 文件。每个文件最多 100MB。","The {brandName} Server is running failure detection on the time-lapse video(s) you uploaded.":"{{brandName}} 服务器正在您上传的时间延迟视频上运行故障检测。","We will send you email when it is done.":"完成后我们将通过电子邮件通知您。","Check status now >>>":"立即检查状态 >>>","Confirmation":"确认","You a going to logout from your account":"您即将从您的账户登出","Logout":"登出","Can not update your preferences":"无法更新您的偏好设置","Account":"账户"}')},b5c8:function(e,t,i){"use strict";i("b3d0")},b6d2:function(e,t,i){},bb69:function(e){e.exports=JSON.parse('{"Filters applied":"Filters applied","SHOW ALL":"SHOW ALL","Back":"Back","Show less":"Show less","Show more":"Show more","At least one date is needed":"At least one date is needed","Select Dates":"Select Dates","Apply":"Apply","Cancel":"Cancel","Date from":"Date from","If empty, will default to your registration date":"If empty, will default to your registration date","Enter date":"Enter date","Date to":"Date to","If empty, will default to today":"If empty, will default to today","Obi is still busy working on your time-lapse":"Obi is still busy working on your time-lapse","Not Watching":"Not Watching","Looking Good":"Looking Good","Fishy...":"Fishy...","Failing!":"Failing!","{name} isn\'t ready for print for one of the following reasons":"{{name}} isn\'t ready for print for one of the following reasons","{name} is powered off or not connected to the Internet":"{{name}} is powered off or not connected to the Internet","Printer is not connected to {name}":"Printer is not connected to {{name}}","Printer is currently busy":"Printer is currently busy","No available printers":"No available printers","Print on":"Print on","Print":"Print","Are you sure?":"Are you sure?","Delete":"Delete","Failed to delete item":"Failed to delete item","No prints yet":"No prints yet","Printing...":"Printing...","Rename":"Rename","Move":"Move","Print duration estimate":"Print duration estimate","Filament usage estimate":"Filament usage estimate","First layer bed temperature":"First layer bed temperature","First layer extruder temperature":"First layer extruder temperature","First layer height":"First layer height","Layer height":"Layer height","Object height":"Object height","Filament type":"Filament type","Filament name":"Filament name","Slicer":"Slicer","Slicer version":"Slicer version","Name":"Name","Size":"Size","Created":"Created","Last Printed":"Last Printed","Loading...":"Loading...","Nothing here yet":"Nothing here yet","Nothing found":"Nothing found","Failed to move item(s)":"Failed to move item(s)","Move item":"Move item","Place Here":"Place Here","Go Back":"Go Back","Enter new folder name":"Enter new folder name","Create":"Create","Folder name":"Folder name","Server error":"Server error","Enter new name":"Enter new name","New name":"New name","Print!":"Print!","You\'ll be redirected to printers page in":"You\'ll be redirected to printers page in","seconds":"seconds","Total prints":"Total prints","Uploaded":"Uploaded","Deleted":"Deleted","Fields above were embedded in the G-Code file by your slicer. Consult your slicer\'s manual if some fields are not accurate or missing.":"Fields above were embedded in the G-Code file by your slicer. Consult your slicer\'s manual if some fields are not accurate or missing.","Basic Streaming":"Basic Streaming","Up to 5 FPS (frame-per-second)":"Up to 5 FPS (frame-per-second)","Throttled for 30 seconds every minute":"Throttled for 30 seconds every minute","Learn more about {localizedDom}":"Learn more about {localizedDom}","the differences between the Premium Streaming and the Basic Streaming":"the differences between the Premium Streaming and the Basic Streaming","Yup! Even Free account gets 10 AI Detection Hours for FREE each month.":"Yup! Even Free account gets 10 AI Detection Hours for FREE each month.","Unused AI Detection Hours roll over month to month.":"Unused AI Detection Hours roll over month to month.","You can":"You can","earn free AI Detection Hours by helping her improve":"earn free AI Detection Hours by helping her improve","You can also":"You can also","purchase additional AI hours":"purchase additional AI hours","Learn more about":"Learn more about","how the AI Detection Hour works ":"how the AI Detection Hour works ","Pro plan includes 50 AI Detection Hours each month.":"Pro plan includes 50 AI Detection Hours each month.","AI Detection Hours expire when subscription ends.":"AI Detection Hours expire when subscription ends.","earn more AI Detection Hours by helping her improve":"earn more AI Detection Hours by helping her improve","Premium Streaming":"Premium Streaming","Up to 25 FPS (frame-per-second)":"Up to 25 FPS (frame-per-second)","Un-throttled":"Un-throttled","Securely tunnel to your OctoPrint/Klipper from anywhere.":"Securely tunnel to your OctoPrint/Klipper from anywhere.","Free plan is subject to 300MB/month data cap. Data usage is reset on the 1st day of each month.":"Free plan is subject to 300MB/month data cap. Data usage is reset on the 1st day of each month.","OctoPrint/Klipper tunnel ":"OctoPrint/Klipper tunnel ","Securely tunnel to your OctoPrint/Klipper from anywhere. Unlimited.":"Securely tunnel to your OctoPrint/Klipper from anywhere. Unlimited.","The monthly cap is shared between 3rd-party app and OctoPrint tunnel":"The monthly cap is shared between 3rd-party app and OctoPrint tunnel","The combined usage can\'t exceed 300MB per month.":"The combined usage can\'t exceed 300MB per month.","Data usage is reset on the 1st day of each month.":"Data usage is reset on the 1st day of each month.","Supported 3rd-party mobile apps":"Supported 3rd-party mobile apps","Required versions":"Required versions","OctoPrint 1.7.0 or higher":"OctoPrint 1.7.0 or higher","The {brandName} plugin 1.8.11 or higher":"The {{brandName}} plugin 1.8.11 or higher","Filament Runout Notifications":"Filament Runout Notifications","Host_action_commands must be enabled in your firmware to make it possible for your filament runout sensor to communicate with OctoPrint and the {brandName} app. If you enable action commands in your firmware, then the filament runout sensor can work properly and the {brandName} app can notify you when the filament runs out. Unfortunately, without host_action_commands enabled, OctoPrint is unable to communicate with the printer to know that a filament runout was detected.":"Host_action_commands must be enabled in your firmware to make it possible for your filament runout sensor to communicate with OctoPrint and the {{brandName}} app. If you enable action commands in your firmware, then the filament runout sensor can work properly and the {{brandName}} app can notify you when the filament runs out. Unfortunately, without host_action_commands enabled, OctoPrint is unable to communicate with the printer to know that a filament runout was detected.","To enable support, you need to do the following":"To enable support, you need to do the following","Marlin: Uncomment #define HOST_ACTION_COMMANDS in Configuration_adv.h and recompile. See here for more information on host_action_commands.":"Marlin: Uncomment #define HOST_ACTION_COMMANDS in Configuration_adv.h and recompile. See here for more information on host_action_commands.","Color Change Notifications":"Color Change Notifications","Notifications on color change will work with any printer that has M600 enabled in its firmware. You do not need host_action_commands enabled to get notified when a color change is needed.":"Notifications on color change will work with any printer that has M600 enabled in its firmware. You do not need host_action_commands enabled to get notified when a color change is needed.","Is filament usage inaccurate?":"Is filament usage inaccurate?","G-code files uploaded to your {brandName} account before upgrading to {brandName} for OctoPrint version 2.3.0 or {brandName} for Klipper version 1.2.0 do not include filament usage data.":"G-code files uploaded to your {{brandName}} account before upgrading to {{brandName}} for OctoPrint version 2.3.0 or {{brandName}} for Klipper version 1.2.0 do not include filament usage data.","To ensure accurate filament usage and other statistics":"To ensure accurate filament usage and other statistics","Upload G-code files and start prints directly through {brandName} instead of OctoPrint/Klipper.":"Upload G-code files and start prints directly through {{brandName}} instead of OctoPrint/Klipper.","Use a slicer that supports filament usage parameters, such as Cura, Prusa Slicer, SuperSlicer, IdeaMaker, or Simplify3D.":"Use a slicer that supports filament usage parameters, such as Cura, Prusa Slicer, SuperSlicer, IdeaMaker, or Simplify3D.","Print statistics for G-code files deleted before 12/20/2022 are not included. For files deleted after 12/20/2022, statistics are preserved.":"Print statistics for G-code files deleted before 12/20/2022 are not included. For files deleted after 12/20/2022, statistics are preserved.","Learn how to configure G-Code preview generation in your slicer":"Learn how to configure G-Code preview generation in your slicer","Adjust the speed of the cooling fan by setting a percentage value between 0 and 100. The default value is usually 100, which means the fan will run at full speed. Lowering the fan speed can reduce noise and save energy, but may also affect print quality if the printer gets too hot.":"Adjust the speed of the cooling fan by setting a percentage value between 0 and 100. The default value is usually 100, which means the fan will run at full speed. Lowering the fan speed can reduce noise and save energy, but may also affect print quality if the printer gets too hot.","Adjust the speed of your 3D printer by changing the speed of all movement commands by a specified factor. The default value is 100%, meaning that the printer will move at its standard speed. Lowering the print speed factor will slow down your print, while increasing it will speed it up. Value of 200% will double the speed.":"Adjust the speed of your 3D printer by changing the speed of all movement commands by a specified factor. The default value is 100%, meaning that the printer will move at its standard speed. Lowering the print speed factor will slow down your print, while increasing it will speed it up. Value of 200% will double the speed.","Flow rate is the speed at which the printer extrudes plastic. If the flow rate is too high, the printer may extrude too much plastic and create blobs or stringing, while too low flow rate may result in weak and brittle prints. Adjusting the flow rate can help achieve the optimal balance between speed and quality. The default value is 100%.":"Flow rate is the speed at which the printer extrudes plastic. If the flow rate is too high, the printer may extrude too much plastic and create blobs or stringing, while too low flow rate may result in weak and brittle prints. Adjusting the flow rate can help achieve the optimal balance between speed and quality. The default value is 100%.","No cost for three months. Plan renews after expiration. Cancel anytime.":"No cost for three months. Plan renews after expiration. Cancel anytime.","Printers":"Printers","Print History":"Print History","G-Codes":"G-Codes","Spaghetti Gallery":"Spaghetti Gallery","Pricing":"Pricing","Help":"Help","Community":"Community","SIGN IN":"SIGN IN","SIGN UP":"SIGN UP","Preferences":"Preferences","Log out":"Log out","Upgrade to Pro":"Upgrade to Pro","Statistics":"Statistics","Notifications":"Notifications","Number of snapshots":"Number of snapshots","Estimated time to finish":"Estimated time to finish","Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of the print. You will earn {localizedDom} after you finish this Focused Feedback. {localizedDom2}":"Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of the print. You will earn {localizedDom} after you finish this Focused Feedback. {localizedDom2}","2 non-expirable AI Detection Hours":"2 non-expirable AI Detection Hours","Learn more":"Learn more","Start Focused Feedback":"Start Focused Feedback","I grant the {brandName} app team members the permission to review the time-lapse video of the print shown on this page.":"I grant the {{brandName}} app team members the permission to review the time-lapse video of the print shown on this page.","Why is this necessary? ":"Why is this necessary? ","File":"File","Printed":"Printed","You are awesome!":"You are awesome!","The AI failure detection just got a little better because of your feedback!":"The AI failure detection just got a little better because of your feedback!","You just earned 2 non-expirable AI Detection Hours - Yay!":"You just earned 2 non-expirable AI Detection Hours - Yay!","I\'m done!":"I\'m done!","Change feedback":"Change feedback","Not sure? Look at":"Not sure? Look at","some examples. ":"some examples. ","Previous":"Previous","Next":"Next","Failure Detection":"Failure Detection","AI Detection Hours":"AI Detection Hours","Not watching":"Not watching","Learn all possible reasons":"Learn all possible reasons","Enable AI failure detection":"Enable AI failure detection","AI failure detection is disabled. You are on your own.":"AI failure detection is disabled. You are on your own.","You will still be alerted via notifications.":"You will still be alerted via notifications.","Failure Detected!":"Failure Detected!","Not a Failure?":"Not a Failure?","Unable to extrude / retract":"Unable to extrude / retract","The hotend is below the minimum temperature":"The hotend is below the minimum temperature","Heat to 180°C":"Heat to 180°C","Command successfully sent!":"Command successfully sent!","Printer Controls":"Printer Controls","Move Head":"Move Head","Extrude":"Extrude","Baby Step Z":"Baby Step Z","Tune Printer":"Tune Printer","Power":"Power"," Home All":" Home All","Disable Steppers":"Disable Steppers","Retract":"Retract","Loading tools...":"Loading tools...","Current Offset":"Current Offset","Feed Rate / Speed":"Feed Rate / Speed","Flow Rate":"Flow Rate","Fan Speed":"Fan Speed","0% (Off)":"0% (Off)","These settings can only be set. They can\'t be read back from the firmware due to a limitation of the communication protocol.":"These settings can only be set. They can\'t be read back from the firmware due to a limitation of the communication protocol."," Toggle Power ":" Toggle Power "," Power On All ":" Power On All "," Power Off All ":" Power Off All ","Rapid toggling power may result in error. Please allow a cooldown period.":"Rapid toggling power may result in error. Please allow a cooldown period.","Uh-Oh. No printer is found on the serial port.":"Uh-Oh. No printer is found on the serial port.","Once cancelled, the print can no longer be resumed.":"Once cancelled, the print can no longer be resumed.","Print Job Control":"Print Job Control","Error":"Error","Filament Change or User Interaction Required":"Filament Change or User Interaction Required","Printer is Currently Printing":"Printer is Currently Printing","Print is Paused":"Print is Paused","Pause":"Pause","Resume":"Resume","Open G-Code File to Start Printing":"Open G-Code File to Start Printing","Files":"Files","Printer Not Connected at the Serial Port":"Printer Not Connected at the Serial Port","Contacting OctoPrint":"Contacting OctoPrint","Connect":"Connect","{brandName} for {name} is Offline.":"{{brandName}} for {{name}} is Offline.","Why?":"Why?","Print Progress":"Print Progress","Last Print":"Last Print","Status":"Status","Started":"Started","Duration":"Duration","Layer":"Layer","Remaining":"Remaining","Calculating...":"Calculating...","Finishing at":"Finishing at","Elapsed":"Elapsed","Z-height":"Z-height","Total time":"Total time","Total filament":"Total filament","Open Print":"Open Print","Reprint":"Reprint","No prints found":"No prints found","Temperature Presets":"Temperature Presets","Temperature Controls":"Temperature Controls","Loading temperature...":"Loading temperature...","Printer Terminal":"Printer Terminal","Unknown event":"Unknown event","Serial Port":"Serial Port","Baudrate":"Baudrate","Auto":"Auto","Noted!":"Noted!","Do you want to mute failure detection on for this print?":"Do you want to mute failure detection on for this print?","If you select \'Mute\', failure detection will be turned off for this print, but will be automatically turned on for your next print.":"If you select \'Mute\', failure detection will be turned off for this print, but will be automatically turned on for your next print.","Mute":"Mute","Failed to update printer":"Failed to update printer","Open":"Open","Details":"Details","Share":"Share","Tunnel":"Tunnel","Configure":"Configure","Not a failure?":"Not a failure?","Failure Detection is Off":"Failure Detection is Off","Learn more. ":"Learn more. ","Enable AI failure detection {localizedDom}":"Enable AI failure detection {localizedDom}","AI failure detection is disabled. You are on your own":"AI failure detection is disabled. You are on your own","Pause on detected failures {localizedDom}":"Pause on detected failures {localizedDom}","You will still be alerted via notifications":"You will still be alerted via notifications"," Remaining ":" Remaining "," Total ":" Total ","Printer Feed Sharing":"Printer Feed Sharing","Wait! You need to {localizedDom} to enable Printer feed.":"Wait! You need to {localizedDom} to enable Printer feed.","upgrade to the Pro plan":"upgrade to the Pro plan","Printer feed sharing is a Pro feature.":"Printer feed sharing is a Pro feature.","Running the {brandName} app incurs non-trivial amount of costs":"Running the {{brandName}} app incurs non-trivial amount of costs","With little more than 1 Starbucks per month, you can upgrade to a Pro account and help us run the {brandName} app smoothly.":"With little more than 1 Starbucks per month, you can upgrade to a Pro account and help us run the {{brandName}} app smoothly.","Check out Pro pricing >>>":"Check out Pro pricing >>>","Share live feed for printer ":"Share live feed for printer ","Click the clipboard icon above to copy the secure shareable link to your clipboard.":"Click the clipboard icon above to copy the secure shareable link to your clipboard.","You can test the shareable link by right-clicking {localizedDom} and select \'Open Link in Incognito Window\'.":"You can test the shareable link by right-clicking {localizedDom} and select \'Open Link in Incognito Window\'.","here":"here","Notes":"Notes","Send the secure link to anyone you want to share your printer feed with. They do NOT need the {brandName} account to see your printer feed.":"Send the secure link to anyone you want to share your printer feed with. They do NOT need the {{brandName}} account to see your printer feed.","Anyone with this shareable link will be able to see your printer feed.":"Anyone with this shareable link will be able to see your printer feed.","Learn more about what they can see.":"Learn more about what they can see.","Presets":"Presets","Temperature presets can be edited or added in {agentName} settings.":"Temperature presets can be edited or added in {{agentName}} settings.","OFF":"OFF","Manual":"Manual","Oops!":"Oops!","Handshake failed because the pop-up was blcoked.":"Handshake failed because the pop-up was blcoked.","Please unblock the pop-up in your browser and try it again.":"Please unblock the pop-up in your browser and try it again.","Okay!":"Okay!","Switch to Manual Setup":"Switch to Manual Setup","Handshake failed!":"Handshake failed!","Please make sure":"Please make sure","The OctoPrint you want to link is at {host}:{port}, and it\'s connected to the same local network as your computer/phone.":"The OctoPrint you want to link is at {{host}}:{{port}}, and it\'s connected to the same local network as your computer/phone.","The version of plugin is 1.8.0 or above.":"The version of plugin is 1.8.0 or above.","The {brandName} app needs to make sure you have access to selected printer.":"The {{brandName}} app needs to make sure you have access to selected printer.","When you press \'Link Now\' button below, a new browser window will pop up to finish a handshake with this printer.":"When you press \'Link Now\' button below, a new browser window will pop up to finish a handshake with this printer.","Link Now":"Link Now","Platform":"Platform","IP address":"IP address","Hostname":"Hostname","OctoPi":"OctoPi","OS":"OS","Link":"Link","First Layer Report":"First Layer Report","uploaded":"uploaded","Open File":"Open File","First Layer Grade":"First Layer Grade","First Layer Print Time":"First Layer Print Time","First Layer Notes":"First Layer Notes","You\'re first layer score is":"You\'re first layer score is","Grade {localizedDom} usually means one of the following":"Grade {localizedDom} usually means one of the following:","Click pins on the g-node map to see snapshots of certain areas of the print.":"Click pins on the g-node map to see snapshots of certain areas of the print.","View First Layer Timelapse":"View First Layer Timelapse","Give Feedback About This Report":"Give Feedback About This Report","Possible failure detected!":"Possible failure detected!","(Cancelled)":"(Cancelled)","Time-lapse video deleted":"Time-lapse video deleted","Time-lapse videos older than 6-months are deleted from the {brandName} app server as they are rarely needed and cost significant amount to store in the cloud.":"Time-lapse videos older than 6-months are deleted from the {{brandName}} app server as they are rarely needed and cost significant amount to store in the cloud.","If you are a Pro subscriber and you don\'t want your time-lapse videos to be deleted, please ":"If you are a Pro subscriber and you don\'t want your time-lapse videos to be deleted, please ","contact us":"contact us","Download Original Time-lapse":"Download Original Time-lapse","Download Detective Time-lapse":"Download Detective Time-lapse"," ":" ","Video file is deleted.":"Video file is deleted.","Did we get it right?":"Did we get it right?","CUSED FEEDBACK":"CUSED FEEDBACK","Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback.":"Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback.","With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve.":"With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve.","You will earn 2 AI Detection Hours once you finish the Focused Feedback":"You will earn 2 AI Detection Hours once you finish the Focused Feedback","Every time you give us feedback,":"Every time you give us feedback,","you help us get better at detecting failures":"you help us get better at detecting failures","Search":"Search","Ascending":"Ascending","Descending":"Descending","SORT BY":"SORT BY","DIRECTION":"DIRECTION","Upgrade for Better Streaming":"Upgrade for Better Streaming","Because you are now on the":"Because you are now on the","{brandName} Cloud Free plan":"{{brandName}} Cloud Free plan","Streaming is limited to 5 FPS (frames per second).":"Streaming is limited to 5 FPS (frames per second).","After 30 seconds of streaming there is a 30-second cooldown before you can resume streaming.":"After 30 seconds of streaming there is a 30-second cooldown before you can resume streaming.","Support the {brandName} project by":"Support the {{brandName}} project by","upgrading to the Pro plan for little more than 1 Starbucks a month.":"upgrading to the Pro plan for little more than 1 Starbucks a month.","The Pro plan offers many perks, including the":"The Pro plan offers many perks, including the","Smooth 25 FPS.":"Smooth 25 FPS.","Unlimited streaming with no cooldowns.":"Unlimited streaming with no cooldowns.","Video frames dropped":"Video frames dropped","The video frames are getting dropped because there is most likely a bandwidth bottleneck along the route they travel from your Raspberry Pi to your computer. The bottleneck can be anywhere, but in most cases,":"The video frames are getting dropped because there is most likely a bandwidth bottleneck along the route they travel from your Raspberry Pi to your computer. The bottleneck can be anywhere, but in most cases,","it is either your computer\'s internet connection, or your Raspberry Pi\'s":"it is either your computer\'s internet connection, or your Raspberry Pi\'s","Make sure your computer is connected to the same network as your Pi. If you still see this warning, you need to trouble-shoot your computer\'s Wi-Fi connection, probably by moving closer to the Wi-Fi router.":"Make sure your computer is connected to the same network as your Pi. If you still see this warning, you need to trouble-shoot your computer\'s Wi-Fi connection, probably by moving closer to the Wi-Fi router.","If the webcam stream is smooth when your computer is on the same Wi-Fi network as your Pi, the bottleneck is likely with the upload speed of your internet connection. You need to run a speed test to make sure you have high-enough upload speed, as well as":"If the webcam stream is smooth when your computer is on the same Wi-Fi network as your Pi, the bottleneck is likely with the upload speed of your internet connection. You need to run a speed test to make sure you have high-enough upload speed, as well as","low latency (ping)":"low latency (ping)","Check out":"Check out","the step-by-step trouble-shooting guide.":"the step-by-step trouble-shooting guide.","Webcam stream buffering":"Webcam stream buffering","When you see the messaging about webcam stream is \'buffering\' occasionally, you can just reload the page. If this message repeatedly appears, it may indicate one of the problems":"When you see the messaging about webcam stream is \'buffering\' occasionally, you can just reload the page. If this message repeatedly appears, it may indicate one of the problems","1. A constricted video stream on your Raspberry Pi. The most common reasons are":"1. A constricted video stream on your Raspberry Pi. The most common reasons are","Camera resolution is set too high.":"Camera resolution is set too high.","Camera framerate is set too high.":"Camera framerate is set too high.","The upload speed of your Raspberry Pi is too low.":"The upload speed of your Raspberry Pi is too low.","2. The internet connection of your computer or phone is not fast enough.":"2. The internet connection of your computer or phone is not fast enough.","3. Your webcam is not properly connected to your Raspberry Pi.":"3. Your webcam is not properly connected to your Raspberry Pi.","Check":"Check","this step-by-step troubleshooting guide":"this step-by-step troubleshooting guide","Buffering...":"Buffering...","Why is it stuck?":"Why is it stuck?","Webcam streams up to 5 FPS for Free":"Webcam streams up to 5 FPS for Free","Learn more...":"Learn more...","Filter":"Filter","Suppress Temperature":"Suppress Temperature","Suppress SD Status Messages":"Suppress SD Status Messages","Suppress Position Messages":"Suppress Position Messages","Suppress \'OK\' Messages":"Suppress \'OK\' Messages","Enter code...":"Enter code...","Terminal feed is off":"Terminal feed is off","Failed to fetch authorized apps":"Failed to fetch authorized apps","Failed to remove access":"Failed to remove access","Authorized Apps":"Authorized Apps","App Name":"App Name","Printer to Access":"Printer to Access","Remove Access":"Remove Access","General":"General","Land directly on the printer control page if I have only 1 printer":"Land directly on the printer control page if I have only 1 printer","This option will be ignored if you have multiple printers. In this case, you will always land on the printer overview page.":"This option will be ignored if you have multiple printers. In this case, you will always land on the printer overview page.","View Archived Printers":"View Archived Printers","Enable notifications":"Enable notifications","Enable notification":"Enable notification","Please configure the following variables in the \'.env\' file":"Please configure the following variables in the \'.env\' file","Edit Name":"Edit Name","Profile":"Profile","First Name":"First Name","Last Name":"Last Name","Primary Email":"Primary Email","Manage email addresses":"Manage email addresses","Password":"Password","Change":"Change","Appearance":"Appearance","Theme":"Theme","DARK":"DARK","LIGHT":"LIGHT","Sync theme with system settings":"Sync theme with system settings","Failure alerts":"Failure alerts","When possible failures are detected":"When possible failures are detected","Print job events":"Print job events","Upon start/end/cancellation of a print job":"Upon start/end/cancellation of a print job","When print is done":"When print is done","When print is cancelled":"When print is cancelled","When printer needs attention":"When printer needs attention","Such as filament change or run-out":"Such as filament change or run-out","When print is started":"When print is started","When print is paused":"When print is paused","Note: this event may be triggered by other plugins that pause the print frequently, such as the timelapse plugin":"Note: this event may be triggered by other plugins that pause the print frequently, such as the timelapse plugin","When print is resumed":"When print is resumed","Heater status change":"Heater status change","Heater reached target or cooled down":"Heater reached target or cooled down","Push Notification":"Push Notification","Failed to contact printer. Is it powered on and connected to Internet?":"Failed to contact printer. Is it powered on and connected to Internet?","Printer not responding":"Printer not responding","The printer doesn\'t seem to be responding. Is it powered on and connected to the Internet? Please":"The printer doesn\'t seem to be responding. Is it powered on and connected to the Internet? Please","report the problem to us":"report the problem to us","if this error repeats multiple times.":"if this error repeats multiple times.","Get help from":"Get help from","the {brandName} for Klipper support forum":"the {{brandName}} for Klipper support forum","or":"or","the {brandName} general support forum":"the {{brandName}} general support forum","if this error persists.":"if this error persists.","Email":"Email","SMS":"SMS","Pushbullet":"Pushbullet","Discord":"Discord","Telegram":"Telegram","Pushover":"Pushover","Slack":"Slack","Webhook":"Webhook","Webhook URL":"Webhook URL","Discord Webhook":"Discord Webhook","If you have a Discord channel you wish to receive notifications on, you can {localizedDom} and enter it here.":"If you have a Discord channel you wish to receive notifications on, you can {localizedDom} and enter it here.","generate webhook url":"generate webhook url","Notifications are sent to verified email addresses only.":"Notifications are sent to verified email addresses only.","Account events {localizedDom}":"Account events {localizedDom}","Plan changed; AI Detection Hours running low; etc.":"Plan changed; AI Detection Hours running low; etc.","Access Token":"Access Token","Pushbullet Access Token":"Pushbullet Access Token","If you have a Pushbullet account, you can {localizedDom} and enter it here.":"If you have a Pushbullet account, you can {localizedDom} and enter it here.","generate an access token":"generate an access token","User Key":"User Key","Pushover User Key":"Pushover User Key","If you have a Pushover account, you can {localizedDom} and enter it here.":"If you have a Pushover account, you can {localizedDom} and enter it here.","get your User Key":"get your User Key","Slack test failed":"Slack test failed","Close":"Close","{brandName} Messenger has been successfully added to your workspace.":"{{brandName}} Messenger has been successfully added to your workspace.","What\'s Next?":"What\'s Next?"," 1. Make sure {brandName} Messenger is added to the channels you want the notifications to be sent to.":" 1. Make sure {{brandName}} Messenger is added to the channels you want the notifications to be sent to.","2. There is no 2. You are all set. It\'s this simple. 😀":"2. There is no 2. You are all set. It\'s this simple. 😀","Click the button below to add the {brandName} Slack App into your workspace":"Click the button below to add the {{brandName}} Slack App into your workspace","Test Notifications":"Test Notifications","Test Slack Notification":"Test Slack Notification","Questions?":"Questions?","Q: How do I remove the {brandName} Slack App from a slack channel so that it won\'t send notifications to that channel?":"Q: How do I remove the {{brandName}} Slack App from a slack channel so that it won\'t send notifications to that channel?","Q: How do I remove the {brandName} Slack App from the entire workspace?":"Q: How do I remove the {{brandName}} Slack App from the entire workspace?","A: Please follow the instructions in {localizedDom}.":"A: Please follow the instructions in {localizedDom}.","this Slack help doc":"this Slack help doc","Telegram test failed":"Telegram test failed","Login to be notified by our Telegram bot.":"Login to be notified by our Telegram bot.","Telegram in the mobile app is very finicky. Please open a browser, and log into {localizedDom} using the same credential to set up Telegram.":"Telegram in the mobile app is very finicky. Please open a browser, and log into {localizedDom} using the same credential to set up Telegram.","the {brandName} web app":"the {{brandName}} web app","Once set up, Telegram notification will work properly on your phone.":"Once set up, Telegram notification will work properly on your phone.","If you see \'Bot domain invalid\', please hard-refresh the browser a few times. I know it\'s annoying. But Telegram API has a very high failure rate.":"If you see \'Bot domain invalid\', please hard-refresh the browser a few times. I know it\'s annoying. But Telegram API has a very high failure rate.","If you press the \'Test Telegram Notification\' button and see an error, please hard-refresh the browser a few times and press the test button again.":"If you press the \'Test Telegram Notification\' button and see an error, please hard-refresh the browser a few times and press the test button again.","Unlink Telegram":"Unlink Telegram","Test Telegram Notification":"Test Telegram Notification","Oops, we don\'t send SMS to this country code":"Oops, we don\'t send SMS to this country code","Phone Number":"Phone Number","Country Code":"Country Code","Custom Webhook URL":"Custom Webhook URL","Enter a custom webhook URL at which to receive notifications.":"Enter a custom webhook URL at which to receive notifications.","Host printer for this gcode not found":"Host printer for this gcode not found","Rename file":"Rename file","Delete file":"Delete file","This G-Code file doesn\'t exists":"This G-Code file doesn\'t exists","This file is deleted and unavailable for print":"This file is deleted and unavailable for print","This file doesn\'t have any prints yet":"This file doesn\'t have any prints yet","File storage":"File storage","Sort":"Sort","Create folder":"Create folder","Available to browse files":"Available to browse files","Unable to browse files":"Unable to browse files","Delete {name} item(s)? This action can not be undone.":"Delete {{name}} item(s)? This action can not be undone.","Yes":"Yes","No":"No","Failed to delete files and folders":"Failed to delete files and folders","{name} isn\'t available for browsing files for one of the following reasons":"{{name}} isn\'t available for browsing files for one of the following reasons","{brandName} for {name} plugin is outdated (you need version {version} or later)":"{{brandName}} for {{name}} plugin is outdated (you need version {{version}} or later)","Printer not found or unavailable":"Printer not found or unavailable","Folder with this name already exists":"Folder with this name already exists","Select all":"Select all","selected":"selected","STORAGE":"STORAGE","Cloud":"Cloud","G-Code file (*.gcode, *.gco, or *.g) only.":"G-Code file (*.gcode, *.gco, or *.g) only.","Up to {maxFilesize} MB each file, {maxTotalFilesize} GB total.":"Up to {{maxFilesize}} MB each file, {{maxTotalFilesize}} GB total.","Search in Klipper printers works only for current directory":"Search in Klipper printers works only for current directory","Welcome To":"Welcome To","Your 30-Day {localizedDom} Free Trial Has Started!":"Your 30-Day {localizedDom} Free Trial Has Started!","Pro Plan":"Pro Plan","{trialDaysLeft} Days Left on Your {localizedDom} Free Trial!":"{trialDaysLeft} Days Left on Your {localizedDom} Free Trial!","Unlimited Secure Tunnel to your {platformDisplayName}":"Unlimited Secure Tunnel to your {{platformDisplayName}}","Premium 25 FPS Webcam Streaming":"Premium 25 FPS Webcam Streaming","250 AI Failure Detection Hours":"250 AI Failure Detection Hours","G-Code Remote Upload and Printing":"G-Code Remote Upload and Printing","{platformDisplayName} has not been linked to your {brandName} account.":"{{platformDisplayName}} has not been linked to your {{brandName}} account.","Link {platformDisplayName} Now":"Link {{platformDisplayName}} Now","It\'s as easy as 1-2-3.":"It\'s as easy as 1-2-3.","Not ready to start yet? {localizedDom} to pause your free trial.":"Not ready to start yet? {localizedDom} to pause your free trial.","Email us":"Email us","Authorization Successful!":"Authorization Successful!","You can close this page":"You can close this page","Tunnel Access Authorization":"Tunnel Access Authorization","is requesting to access you {platformDisplayName} Tunnel.":"is requesting to access you {{platformDisplayName}} Tunnel.","is a secure way provided by {localizedDom} to remotely access your {platformDisplayName}. With the {platformDisplayName} Tunnel, you can use {appDisplayName} to access your {platformDisplayName} from anywhere.":"is a secure way provided by {localizedDom} to remotely access your {platformDisplayName}. With the {platformDisplayName} Tunnel, you can use {appDisplayName} to access your {platformDisplayName} from anywhere.","Tunnel usage of a free account is {localizedDom} to enjoy unlimited tunnel usage.":"Tunnel usage of a free account is {localizedDom} to enjoy unlimited tunnel usage.","capped at 300MB per month":"capped at 300MB per month","upgrade to the {brandName} app Pro plan for 1 Starbucks a month":"upgrade to the {{brandName}} app Pro plan for 1 Starbucks a month","After the Free trial expires, tunnel data usage will be {localizedDom} to continue enjoying unlimited tunnel usage.":"After the Free trial expires, tunnel data usage will be {localizedDom} to continue enjoying unlimited tunnel usage.","Tunnel access by {localizedDom} (make sure you trust it)":"Tunnel access by {localizedDom} (make sure you trust it):","You have 0 active printers":"You have 0 active printers","Please select a printer":"Please select a printer","Authorize":"Authorize","Manage Apps":"Manage Apps","Security notes":"Security notes","The app can only access the tunnel, not your {brandName} account info such as your email address.":"The app can only access the tunnel, not your {{brandName}} account info such as your email address.","The access remains valid until explicitly revoked. You can revoke the access by going to Preferences -> Authorized Apps.":"The access remains valid until explicitly revoked. You can revoke the access by going to Preferences -> Authorized Apps.","Log Out":"Log Out","Free {platformDisplayName} Tunnel":"Free {{platformDisplayName}} Tunnel","Powered by {brandName}":"Powered by {{brandName}}","With the Free {platformDisplayName} Tunnel by {brandName}, you can now use {appDisplayName} to":"With the Free {{platformDisplayName}} Tunnel by {{brandName}}, you can now use {{appDisplayName}} to","securely control and monitor your printer from anywhere":"securely control and monitor your printer from anywhere","Unlimited realtime webcam at 0.1FPS.":"Unlimited realtime webcam at 0.1FPS.","300MB monthly tunnel data cap (excluding webcam streaming).":"300MB monthly tunnel data cap (excluding webcam streaming).","10 hours/mo AI failure detection.":"10 hours/mo AI failure detection.","Upgrade to {brandName} Pro Account ({localizedDom}) to get premium features":"Upgrade to {brandName} Pro Account ({localizedDom}) to get premium features:","from $4/mo":"from $4/mo","Unlimited realtime webcam streaming.":"Unlimited realtime webcam streaming.","Unlimited tunnel data usage.":"Unlimited tunnel data usage.","50 hours/mo AI failure detection.":"50 hours/mo AI failure detection.","And much more...":"And much more...","SIGN IN ":"SIGN IN ","- OR -":"- OR -","OctoPrint/Klipper Secure Tunnel":"OctoPrint/Klipper Secure Tunnel","It may take long time for OctoPrint/Mainsail/Fluidd page to load as it is securely tunneled via the {brandName} app server.":"It may take long time for OctoPrint/Mainsail/Fluidd page to load as it is securely tunneled via the {{brandName}} app server.","Learn more about OctoPrint/Klipper tunnel\'s security and page load speed.":"Learn more about OctoPrint/Klipper tunnel\'s security and page load speed.","Don\'t show again":"Don\'t show again","Monthly data usage ({localizedDom})":"Monthly data usage ({localizedDom})","Resets in {daysUntilReset} days":"Resets in {{daysUntilReset}} days","Used {usageMTD} of {humanizedUsageCap}.":"Used {{usageMTD}} of {{humanizedUsageCap}}.","Your month-to-date tunnel data usage is over the Free plan limit.":"Your month-to-date tunnel data usage is over the Free plan limit.","Get Unlimited Tunnel Data":"Get Unlimited Tunnel Data","Successfully linked to your account!":"Successfully linked to your account!","Printer name":"Printer name","Give your printer a shiny name.":"Give your printer a shiny name.","Authorize App Access":"Authorize App Access","Go Check Out Printer Feed!":"Go Check Out Printer Feed!","Add Phone Number":"Add Phone Number","Receive text (SMS) in case of print failures.":"Receive text (SMS) in case of print failures.","Change Printer Settings":"Change Printer Settings","You can always change it later.":"You can always change it later.","Plugin Setup":"Plugin Setup","If you haven’t installed Obico Klipper, You need to find the right guide for your printer to install it.":"If you haven’t installed Obico Klipper, You need to find the right guide for your printer to install it.","Find the Guide for Your Printer":"Find the Guide for Your Printer","The basic steps involve:":"The basic steps involve:","SSH to the device your Klipper runs on.":"SSH to the device your Klipper runs on.","Enter the terminal commands for your printer.":"Enter the terminal commands for your printer.","Follow the installation steps.":"Follow the installation steps.","Get the one time passcode from the terminal.":"Get the one time passcode from the terminal.","Open OctoPrint in another browser tab.":"Open OctoPrint in another browser tab.","Select":"Select","OctoPrint settings menu → Plugin Manager → Get More...":"OctoPrint settings menu → Plugin Manager → Get More...","Enter \'{brandName}\' to locate the plugin. Click":"Enter \'{{brandName}}\' to locate the plugin. Click","Install":"Install","Restart OctoPrint when prompted.":"Restart OctoPrint when prompted.","SSH to the Raspberry Pi your Klipper runs on.":"SSH to the Raspberry Pi your Klipper runs on.","Run:":"Run:","1. Unbox and assemble the 3D printer following the manufacturers instructions":"1. Unbox and assemble the 3D printer following the manufacturers instructions","2. Power on the 3D printer and make sure it is connected to WiFi.":"2. Power on the 3D printer and make sure it is connected to WiFi.","3. Tap “Next” when you are ready.":"3. Tap “Next” when you are ready.","Need help? Check out the {localizedDom}":"Need help? Check out the {localizedDom}","step-by-step set up guide":"step-by-step set up guide","The 6-digit code needs to be entered in the Obico plugin in OctoPrint. There are a few reasons why you can\'t find this page:":"The 6-digit code needs to be entered in the Obico plugin in OctoPrint. There are a few reasons why you can\'t find this page:","You don\'t have the plugin installed or you haven\'t restarted OctoPrint after installation. Click":"You don\'t have the plugin installed or you haven\'t restarted OctoPrint after installation. Click","to walk through the process again.":"to walk through the process again.","The installed plugin is on a version earlier than 1.5.0. You need to upgrade the plugin to":"The installed plugin is on a version earlier than 1.5.0. You need to upgrade the plugin to","or later.":"or later.","Still no dice? Check out the step-by-step":"Still no dice? Check out the step-by-step","set up guide":"set up guide","The 6-digit code needs to be entered to the Obico for Klipper installation script.":"The 6-digit code needs to be entered to the Obico for Klipper installation script.","this set up guide":"this set up guide","for detailed instructions.":"for detailed instructions.","Can\'t find the page to enter the 6-digit code?":"Can\'t find the page to enter the 6-digit code?","Scanning...":"Scanning...","Scanning..., {name} printer(s) found on your local network:":"Scanning..., {{name}} printer(s) found on your local network:","To link your printer, please make sure:":"To link your printer, please make sure:","The printer is powered on. If you are using an external SBC such as a Raspberry Pi, make sure it\'s powered on as well.":"The printer is powered on. If you are using an external SBC such as a Raspberry Pi, make sure it\'s powered on as well.","The printer or SBC is connected to the same local network as your phone/computer.":"The printer or SBC is connected to the same local network as your phone/computer.","{brandName} for OctoPrint is 1.8.0 or above.":"{{brandName}} for OctoPrint is 1.8.0 or above.","Can’t find the printer you want to link? Switch to manual linking instead.":"Can’t find the printer you want to link? Switch to manual linking instead.","Switch to manual linking":"Switch to manual linking","Code copied to system clipboard":"Code copied to system clipboard","Ctrl-C/Cmd-C to copy the code":"Ctrl-C/Cmd-C to copy the code","Code will expire in ":"Code will expire in ","Enter the {localizedDom}":"Enter the {localizedDom}","6-digit verification code":"6-digit verification code","Invalid code. Is it expired?":"Invalid code. Is it expired?","Enter the One-time Passcode":"Enter the One-time Passcode","If you using Obico for OctoPrint older than 2.5.0, or Obico for Klipper older than 1.6.0, switch to {localizedDom}.":"If you using Obico for OctoPrint older than 2.5.0, or Obico for Klipper older than 1.6.0, switch to {localizedDom}.","Touch Screen":"Touch Screen","Check to see if your printer already has Obico installed your printer screen.":"Check to see if your printer already has Obico installed your printer screen.","Navigate to the settings menu on the LCD screen of your printer.":"Navigate to the settings menu on the LCD screen of your printer.","Find the “Link Obico” menu item and tap it to open the connection screen.":"Find the “Link Obico” menu item and tap it to open the connection screen.","LCD Screen ":"LCD Screen ","Check to see if your printer already has Obico Easy Link installed on the LCD menu.":"Check to see if your printer already has Obico Easy Link installed on the LCD menu.","Find the “Link Obico” menu item.":"Find the “Link Obico” menu item.","Install Via SSH":"Install Via SSH","If you can\'t find Obico Easy Link, you will need to SSH to your printer to install Obico. You will need to find a guide that works for your printer.":"If you can\'t find Obico Easy Link, you will need to SSH to your printer to install Obico. You will need to find a guide that works for your printer.","Show me how":"Show me how","Warning: Re-Linking OctoPrint should be your last resort to solve issues. Please make sure you have exhausted all options on {localizedDom}.":"Warning: Re-Linking OctoPrint should be your last resort to solve issues. Please make sure you have exhausted all options on {localizedDom}.","{brandName}\'s help website":"{{brandName}}\'s help website","Which platform are you using?":"Which platform are you using?","Devices with Obico Pre-installed":"Devices with Obico Pre-installed","Pre-Installed Klipper Printer":"Pre-Installed Klipper Printer","Creality K1, Sonic Pad, Sovol SV07, Kingroon KLP1, Elegoo Neptune 4, etc...":"Creality K1, Sonic Pad, Sovol SV07, Kingroon KLP1, Elegoo Neptune 4, etc...","Generic Klipper - Self Installed":"Generic Klipper - Self Installed","If you installed Klipper yourself on a Raspberry Pi or other linux device. E.g., Voron, RatRig":"If you installed Klipper yourself on a Raspberry Pi or other linux device. E.g., Voron, RatRig","Including OctoPrint for Klipper such as OctoKlipper.":"Including OctoPrint for Klipper such as OctoKlipper.","Save":"Save","OctoPrint Tunnel":"OctoPrint Tunnel","Additional Actions":"Additional Actions","Reorder":"Reorder","Hide":"Hide","Customize this page for each of your printers by reodering or hiding cards above.":"Customize this page for each of your printers by reodering or hiding cards above.","Add Printer":"Add Printer","Link another printer to {brandName}.":"Link another printer to {{brandName}}.","Nothing to look here. Enjoy your vacation!":"Nothing to look here. Enjoy your vacation!","No more notifications.":"No more notifications.","Created at":"Created at","Print Status":"Print Status","All Printers":"All Printers","Online Printers":"Online Printers","Active Printers":"Active Printers","{name} AI Detection Hours":"{{name}} AI Detection Hours","You can always view your archived printers in by navigating to the General tab within Preferences.":"You can always view your archived printers in by navigating to the General tab within Preferences.","Link New Printer":"Link New Printer","have been archived.":"have been archived.","Show Archived Printers":"Show Archived Printers","Never Show Again":"Never Show Again","Printer not found":"Printer not found","Can not update printer settings.":"Can not update printer settings.","{brandName} for klipper support forum":"{{brandName}} for klipper support forum","Delete {name} printer? This action can not be undone.":"Delete {{name}} printer? This action can not be undone.","Printer archived":"Printer archived","{name} is archived.":"{{name}} is archived.","You can find it on":"You can find it on","this page":"this page","and un-archive it":"and un-archive it","Go to the printer page":"Go to the printer page","Settings":"Settings","Give your shiny new printer a name":"Give your shiny new printer a name","When a potential failure is detected":"When a potential failure is detected","Just notify me":"Just notify me","Pause the printer and notify me":"Pause the printer and notify me","If you are not sure about the settings below, leave the default values to minimize surprises.":"If you are not sure about the settings below, leave the default values to minimize surprises.","When print is paused,":"When print is paused,","Turn off hotend heater(s)":"Turn off hotend heater(s)","Turn off bed heater":"Turn off bed heater","Retract filament by":"Retract filament by","Lift extruder along Z axis by":"Lift extruder along Z axis by","AI failure detection sensitivity":"AI failure detection sensitivity","Low - I don\'t want a lot of false alarms. Only alert me when you are absolutely sure.":"Low - I don\'t want a lot of false alarms. Only alert me when you are absolutely sure.","Medium - A few false alarms won\'t bother me. But some well-disguised spaghetti will be missed.":"Medium - A few false alarms won\'t bother me. But some well-disguised spaghetti will be missed.","High - Hit me with all the false alarms. I want to catch as many failures as possible.":"High - Hit me with all the false alarms. I want to catch as many failures as possible.","Time-lapse":"Time-lapse","Focused Feedback won\'t be available when time-lapse recording is turned off. You won\'t be able to {localizedDom}":"Focused Feedback won\'t be available when time-lapse recording is turned off. You won\'t be able to {localizedDom}","help us get better while earning AI Detection Hours for yourself":"help us get better while earning AI Detection Hours for yourself","Record time-lapse when a print finishes successfully.":"Record time-lapse when a print finishes successfully.","Skip if the print is finished in less than":"Skip if the print is finished in less than","Record time-lapse when a print is cancelled.":"Record time-lapse when a print is cancelled.","Skip if the print is cancelled in less than":"Skip if the print is cancelled in less than","Danger Zone":"Danger Zone","Re-Link Printer":"Re-Link Printer","If your printer is always showing as \'offline\', and you have gone through {localizedDom}, you can try to re-link printer as the last resort.":"If your printer is always showing as \'offline\', and you have gone through {localizedDom}, you can try to re-link printer as the last resort.","all the trouble-shooting steps":"all the trouble-shooting steps","Archive Printer":"Archive Printer","Archived printers are not counted toward your subscription plan. You won\'t see them in the app either. Go to {localizedDom} to find all archived printers and/or un-archive them.":"Archived printers are not counted toward your subscription plan. You won\'t see them in the app either. Go to {localizedDom} to find all archived printers and/or un-archive them.","Delete Printer":"Delete Printer","Bye-bye printer.":"Bye-bye printer.","Date":"Date","Time Period":"Time Period","All":"All","This Week":"This Week","This Month":"This Month","This Year":"This Year","Custom":"Custom","Finished":"Finished","Cancelled":"Cancelled","Feedback Needed":"Feedback Needed","Review Needed":"Review Needed","Focused Feedback Needed":"Focused Feedback Needed","Delete {name} print(s)? This action can not be undone.":"Delete {{name}} print(s)? This action can not be undone.","Until":"Until","and later":"and later","Sort By":"Sort By","Prints done":"Prints done","Total print time":"Total print time","Filament used":"Filament used","Full Stats":"Full Stats","Older":"Older","Newer":"Newer","Failed to fetch printer information":"Failed to fetch printer information","Start time":"Start time","End time":"End time","Open Detailed Report":"Open Detailed Report","Time-Lapse video deleted":"Time-Lapse video deleted","If you are a Pro subscriber and you don\'t want your time-lapse videos to be deleted, please {localizedDom}":"If you are a Pro subscriber and you don\'t want your time-lapse videos to be deleted, please {localizedDom}","FOCUSED FEEDBACK":"FOCUSED FEEDBACK","Time-Lapse video unavailable because":"Time-Lapse video unavailable because","The {brandName} server is still processing the time-lapse;":"The {{brandName}} server is still processing the time-lapse;","Or, the print time was shorter than the threshold. You can change the threshold in {localizedDom}":"Or, the print time was shorter than the threshold. You can change the threshold in {localizedDom}","the printer settings":"the printer settings","Print Page":"Print Page","Delete {brandName} print(s)? This action can not be undone.":"Delete {{brandName}} print(s)? This action can not be undone.","{name} time-lapse(s) deleted!":"{{name}} time-lapse(s) deleted!","Time-lapse {name} deleted!":"Time-lapse {{name}} deleted!","selected...":"selected...","No more time-lapses.":"No more time-lapses.","You are viewing an awesome 3D print your friend shared specifically with you on":"You are viewing an awesome 3D print your friend shared specifically with you on","lets you monitor and control your printer from anywhere, on your phone.":"lets you monitor and control your printer from anywhere, on your phone.","Sign up for a free {brandName} account":"Sign up for a free {{brandName}} account","Failed to fetch statistics":"Failed to fetch statistics","GROUP BY":"GROUP BY","Group By":"Group By","Statistics include deleted prints":"Statistics include deleted prints","Total Prints":"Total Prints","Print Time":"Print Time","Longest print":"Longest print","Average print":"Average print","Prints Count":"Prints Count","Filament Usage":"Filament Usage","total":"total","Upload Time-lapse":"Upload Time-lapse","Upload time-lapse videos to test {brandName}\'s AI failure detection.":"Upload time-lapse videos to test {{brandName}}\'s AI failure detection.","Drop files here or click to upload.":"Drop files here or click to upload.","*.mp4 or *.mpg files only. Up to 100MB each.":"*.mp4 or *.mpg files only. Up to 100MB each.","The {brandName} Server is running failure detection on the time-lapse video(s) you uploaded.":"The {{brandName}} Server is running failure detection on the time-lapse video(s) you uploaded.","We will send you email when it is done.":"We will send you email when it is done.","Check status now >>>":"Check status now >>>","Confirmation":"Confirmation","You a going to logout from your account":"You a going to logout from your account","Logout":"Logout","Can not update your preferences":"Can not update your preferences","Account":"Account"}')},bc75:function(e,t,i){},c0a8:function(e,t,i){"use strict";i("7566")},c7f6:function(e,t,i){"use strict";var n=i("0b49"),a=i.n(n),r=i("dd61"),s=i.n(r);t["a"]={printShotFeedback:(e,t)=>`/api/v1/printshotfeedbacks/${e}/?print_id=${t}`,print:e=>`/api/v1/prints/${e}/`,prints:()=>"/api/v1/prints/",printsBulkDelete:()=>"/api/v1/prints/bulk_delete/",stats:()=>"/api/v1/prints/stats/",printers:()=>"/api/v1/printers/",printer:e=>`/api/v1/printers/${e}/`,printerAction:(e,t)=>`/api/v1/printers/${e}${t}`,pubPrinter:()=>"/api/v1p/printer/",tunnels:()=>"/api/v1/tunnels/",tunnel:e=>`/api/v1/tunnels/${e}/`,tunnelUsage:()=>"/api/v1/tunnelusage/",verificationCode:()=>"/api/v1/onetimeverificationcodes/",user:()=>"/api/v1/users/me/",sharedResources:e=>"/api/v1/sharedresources/?"+s()(a()(e),e=>e.join("=")).join("&"),sharedResource:e=>`/api/v1/sharedresources/${e}/`,printerDiscovery:()=>"/api/v1/printer_discovery/",oneTimePasscodes:()=>"/api/v1/one_time_passcodes/",printerEvents:()=>"/api/v1/printer_events/",notificationPlugins:()=>"/api/v1/notification_settings/available_plugins/",notificationChannels:()=>"/api/v1/notification_settings/",updateNotificationChannel:e=>`/api/v1/notification_settings/${e}/`,testNotificationChannel:e=>`/api/v1/notification_settings/${e}/send_test_message/`,printerControl:e=>`/printers/${e}/control/`,printerWebSocket:e=>`/ws/web/${e}/`,printerSharedWebSocket:e=>`/ws/share_token/web/${e}/`,printerWizard:e=>"/printers/wizard/?printerId="+e,gcodeFile:e=>`/api/v1/g_code_files/${e}/`,gcodeFiles:()=>"/api/v1/g_code_files/",gcodeFolder:e=>`/api/v1/g_code_folders/${e}/`,gcodeFolders:()=>"/api/v1/g_code_folders/",gcode:e=>`/api/v1/g_code_files/${e}/`,gcodeFolderBulkDelete:()=>"/api/v1/g_code_folders/bulk_delete/",gcodeFileBulkDelete:()=>"/api/v1/g_code_files/bulk_delete/",gcodeFolderBulkMove:()=>"/api/v1/g_code_folders/bulk_move/",gcodeFileBulkMove:()=>"/api/v1/g_code_files/bulk_move/"}},c914:function(e,t,i){e.exports=i.p+"img/lcdScreenLarge.png"},c991:function(e,t,i){"use strict";i("d3a5")},c9b4:function(e,t,i){"use strict";i("2c72")},ca14:function(e,t,i){e.exports=i.p+"img/octoapp.webp"},cb79:function(e,t,i){"use strict";i("562d")},cc1d:function(e,t,i){},ccf6:function(e,t){},cdb9:function(e,t,i){"use strict";i("e5d8")},cdd3:function(e,t,i){"use strict";i("5ce2")},ced1:function(e,t,i){},cf8b:function(e,t,i){"use strict";i("9da6")},cfe5:function(e,t,i){"use strict";i("0820")},d06f:function(e,t,i){},d0ea:function(e,t,i){},d1d5:function(e,t,i){e.exports=i.p+"img/generic-app.png"},d3a5:function(e,t,i){},d424:function(e,t,i){"use strict";i("fbd2")},d61a:function(e,t,i){e.exports=i.p+"img/mobileraker.webp"},d70c:function(e,t,i){},da42:function(e,t,i){"use strict";i("3ad7")},dbc4:function(e,t,i){"use strict";i("d70c")},dcd7:function(e,t,i){},e008:function(e,t,i){},e017:function(e,t,i){},e1a7:function(e,t,i){"use strict";i("86e2")},e4df:function(e,t,i){},e5d8:function(e,t,i){},e871:function(e,t,i){"use strict";i("7dc1")},e8c1:function(e,t,i){},ebf7:function(e,t,i){"use strict";i("f837")},ec79:function(e,t,i){},ecc1:function(e,t,i){},f086:function(e,t,i){"use strict";i("2f4c")},f1f6:function(e,t,i){e.exports=i.p+"img/plugin_verification_code.png"},f23d:function(e,t,i){e.exports=i.p+"img/vacation.gif"},f837:function(e,t,i){},f9b8:function(e,t,i){},fbd2:function(e,t,i){},fea3:function(e,t,i){"use strict";i("2fd9")}});
//# sourceMappingURL=root.js.map