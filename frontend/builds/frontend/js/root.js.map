{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/img/detective-working.gif","webpack:///./src/lib/color-scheme-controller.js","webpack:///./src/notifications/plugins lazy ^\\.\\/.*$ namespace object","webpack:///./static/img/octoprint-plugin-guide/moonraker_verification_code.png","webpack:///./src/components/prints/PrintCard.vue?48cc","webpack:///./src/components/Navbar.vue?2dd0","webpack:///./static/img/mainsail_logo.png","webpack:///./static/img/octopod.webp","webpack:///./static/img/octoprint-plugin-guide/install_plugin.png","webpack:///./src/components/StreamingBox.vue?ed37","webpack:///./static/img/octoprint_logo.png","webpack:///./src/components/Gauge.vue?396f","webpack:///./src/components/printers/StartPrint.vue?7d11","webpack:///./src/views/PrintsPage.vue?71dc","webpack:///./static/img/polymer.webp","webpack:///./static/img/printoid.webp","webpack:///./src/components/printer-events/PrinterEventCard.vue?9837","webpack:///./static/img/webpage-multiple.svg","webpack:///./static/img/octoprint-plugin-guide/plugin_wizard_websetup.png","webpack:///./src/lib/page_context.js","webpack:///./src/components/SearchInput.vue?ab8b","webpack:///./src/lib/pref.js","webpack:///./src/lib/VueSwal.js","webpack:///./src/lib/filters.js","webpack:///./src/lib/sentry.js","webpack:///./src/mount.js","webpack:///./src/notifications/plugins.js","webpack:///./src/config/user-preferences/routes.js","webpack:///./src/views/printer-wizard/wizard-routes.js","webpack:///./src/views/NewOctoPrintTunnelPage.vue?16d8","webpack:///./src/lib/normalizers.js","webpack:///src/views/NewOctoPrintTunnelPage.vue","webpack:///./src/views/NewOctoPrintTunnelPage.vue?74f1","webpack:///./src/views/NewOctoPrintTunnelPage.vue?183e","webpack:///./src/views/OctoPrintTunnelPage.vue?a82d","webpack:///src/views/OctoPrintTunnelPage.vue","webpack:///./src/views/OctoPrintTunnelPage.vue?0454","webpack:///./src/views/OctoPrintTunnelPage.vue?f879","webpack:///./src/views/PrintShotFeedbackApp.vue?3729","webpack:///./src/components/print-shot-feedback/Consent.vue?7291","webpack:///./src/components/VideoBox.vue?9154","webpack:///src/components/VideoBox.vue","webpack:///./src/components/VideoBox.vue?597a","webpack:///./src/components/VideoBox.vue?f9fb","webpack:///./src/components/DetectiveWorking.vue?df35","webpack:///src/components/DetectiveWorking.vue","webpack:///./src/components/DetectiveWorking.vue?b8d3","webpack:///./src/components/DetectiveWorking.vue","webpack:///src/components/print-shot-feedback/Consent.vue","webpack:///./src/components/print-shot-feedback/Consent.vue?30a0","webpack:///./src/components/print-shot-feedback/Consent.vue?de76","webpack:///./src/components/print-shot-feedback/PrintShotCard.vue?c495","webpack:///src/components/print-shot-feedback/PrintShotCard.vue","webpack:///./src/components/print-shot-feedback/PrintShotCard.vue?779c","webpack:///./src/components/print-shot-feedback/PrintShotCard.vue","webpack:///./src/components/Layout.vue?0eb6","webpack:///./src/config/layout/sections.js","webpack:///src/components/Layout.vue","webpack:///./src/components/Layout.vue?b1af","webpack:///./src/components/Layout.vue?ffdc","webpack:///src/views/PrintShotFeedbackApp.vue","webpack:///./src/views/PrintShotFeedbackApp.vue?4003","webpack:///./src/views/PrintShotFeedbackApp.vue?c1dc","webpack:///./src/views/PrintsPage.vue?7066","webpack:///./src/components/prints/PrintCard.vue?08cb","webpack:///./src/components/Gauge.vue?3a9f","webpack:///src/components/Gauge.vue","webpack:///./src/components/Gauge.vue?a3fa","webpack:///./src/components/Gauge.vue?71fa","webpack:///src/components/prints/PrintCard.vue","webpack:///./src/components/prints/PrintCard.vue?cf6f","webpack:///./src/components/prints/PrintCard.vue?37e3","webpack:///./src/components/prints/FullScreenPrintCard.vue?ead9","webpack:///src/components/prints/FullScreenPrintCard.vue","webpack:///./src/components/prints/FullScreenPrintCard.vue?6e57","webpack:///./src/components/prints/FullScreenPrintCard.vue?7223","webpack:///./src/components/CascadedDropdown.vue?1c52","webpack:///src/components/CascadedDropdown.vue","webpack:///./src/components/CascadedDropdown.vue?77f8","webpack:///./src/components/CascadedDropdown.vue","webpack:///src/views/PrintsPage.vue","webpack:///./src/views/PrintsPage.vue?ebf0","webpack:///./src/views/PrintsPage.vue?fd79","webpack:///./src/views/PrintPage.vue?fa72","webpack:///src/views/PrintPage.vue","webpack:///./src/views/PrintPage.vue?25fb","webpack:///./src/views/PrintPage.vue","webpack:///./src/views/UploadPrintPage.vue?0aeb","webpack:///src/views/UploadPrintPage.vue","webpack:///./src/views/UploadPrintPage.vue?90e9","webpack:///./src/views/UploadPrintPage.vue?aa99","webpack:///./src/views/PrinterListPage.vue?dd2f","webpack:///./src/components/printers/PrinterCard.vue?2f4a","webpack:///./src/lib/printer_comm.js","webpack:///./src/lib/janus.js","webpack:///./src/lib/webrtc.js","webpack:///./src/components/StreamingBox.vue?fd88","webpack:///./src/lib/viewing_throttle.js","webpack:///src/components/StreamingBox.vue","webpack:///./src/components/StreamingBox.vue?c6cb","webpack:///./src/components/StreamingBox.vue?674b","webpack:///./src/components/printers/DurationBlock.vue?b996","webpack:///src/components/printers/DurationBlock.vue","webpack:///./src/components/printers/DurationBlock.vue?6128","webpack:///./src/components/printers/DurationBlock.vue","webpack:///./src/components/printers/PrinterActions.vue?f724","webpack:///src/components/printers/PrinterActions.vue","webpack:///./src/components/printers/PrinterActions.vue?a548","webpack:///./src/components/printers/PrinterActions.vue","webpack:///./src/components/printers/StatusTemp.vue?e11d","webpack:///src/components/printers/StatusTemp.vue","webpack:///./src/components/printers/StatusTemp.vue?4222","webpack:///./src/components/printers/StatusTemp.vue","webpack:///./src/components/printers/StartPrint.vue?8078","webpack:///./src/components/SearchInput.vue?81b3","webpack:///src/components/SearchInput.vue","webpack:///./src/components/SearchInput.vue?8cb6","webpack:///./src/components/SearchInput.vue?c4fb","webpack:///src/components/printers/StartPrint.vue","webpack:///./src/components/printers/StartPrint.vue?7799","webpack:///./src/components/printers/StartPrint.vue?5360","webpack:///./src/components/printers/ConnectPrinter.vue?037c","webpack:///src/components/printers/ConnectPrinter.vue","webpack:///./src/components/printers/ConnectPrinter.vue?8ff4","webpack:///./src/components/printers/ConnectPrinter.vue","webpack:///./src/components/printers/TempTargetEditor.vue?2d8d","webpack:///src/components/printers/TempTargetEditor.vue","webpack:///./src/components/printers/TempTargetEditor.vue?43fe","webpack:///./src/components/printers/TempTargetEditor.vue","webpack:///./src/components/printers/SharePrinter.vue?e3f1","webpack:///src/components/printers/SharePrinter.vue","webpack:///./src/components/printers/SharePrinter.vue?3b36","webpack:///./src/components/printers/SharePrinter.vue?9250","webpack:///src/components/printers/PrinterCard.vue","webpack:///./src/components/printers/PrinterCard.vue?c939","webpack:///./src/components/printers/PrinterCard.vue?6a73","webpack:///src/views/PrinterListPage.vue","webpack:///./src/views/PrinterListPage.vue?b402","webpack:///./src/views/PrinterListPage.vue?5799","webpack:///./src/views/SharedPrinterPage.vue?d14e","webpack:///./src/components/Navbar.vue?020c","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?1807","webpack:///./src/components/Navbar.vue?36b0","webpack:///src/views/SharedPrinterPage.vue","webpack:///./src/views/SharedPrinterPage.vue?ba3e","webpack:///./src/views/SharedPrinterPage.vue?efd5","webpack:///./src/views/PrinterSettingsPage.vue?8b6f","webpack:///./src/components/NumberInput.vue?96f6","webpack:///src/components/NumberInput.vue","webpack:///./src/components/NumberInput.vue?f6fb","webpack:///./src/components/NumberInput.vue?8f60","webpack:///src/views/PrinterSettingsPage.vue","webpack:///./src/views/PrinterSettingsPage.vue?6beb","webpack:///./src/views/PrinterSettingsPage.vue?6820","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?b868","webpack:///./src/components/printers/DiscoveredPrinter.vue?ff26","webpack:///src/components/printers/DiscoveredPrinter.vue","webpack:///./src/components/printers/DiscoveredPrinter.vue?223f","webpack:///./src/components/printers/DiscoveredPrinter.vue?a839","webpack:///./src/components/printers/AutoLinkPopup.vue?98b6","webpack:///src/components/printers/AutoLinkPopup.vue","webpack:///./src/components/printers/AutoLinkPopup.vue?7dde","webpack:///./src/components/printers/AutoLinkPopup.vue?608d","webpack:///src/views/printer-wizard/PrinterWizardPage.vue","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?21b8","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?e3df","webpack:///./src/views/PrinterControlPage.vue?4929","webpack:///src/views/PrinterControlPage.vue","webpack:///./src/views/PrinterControlPage.vue?e17e","webpack:///./src/views/PrinterControlPage.vue?1081","webpack:///./src/views/GCodesPage.vue?219d","webpack:///src/views/GCodesPage.vue","webpack:///./src/views/GCodesPage.vue?7332","webpack:///./src/views/GCodesPage.vue?fcf2","webpack:///./src/views/UserPreferencesPage.vue?2004","webpack:///./src/config/user-preferences/sections.js","webpack:///src/views/UserPreferencesPage.vue","webpack:///./src/views/UserPreferencesPage.vue?9ec7","webpack:///./src/views/UserPreferencesPage.vue?c574","webpack:///./src/views/PrinterEventsPage.vue?173e","webpack:///./src/components/printer-events/PrinterEventCard.vue?ac46","webpack:///src/components/printer-events/PrinterEventCard.vue","webpack:///./src/components/printer-events/PrinterEventCard.vue?af32","webpack:///./src/components/printer-events/PrinterEventCard.vue?bdf2","webpack:///src/views/PrinterEventsPage.vue","webpack:///./src/views/PrinterEventsPage.vue?bfa3","webpack:///./src/views/PrinterEventsPage.vue","webpack:///./src/pages.js","webpack:///./src/main.js","webpack:///./static/js/color-scheme.js","webpack:///./src/views/UserPreferencesPage.vue?d516","webpack:///./static/js/utils.js","webpack:///./src/styles/main.sass?967e","webpack:///./src/components/printers/DiscoveredPrinter.vue?2b5f","webpack:///./src/components/Layout.vue?f363","webpack:///./src/views/PrinterListPage.vue?55a1","webpack:///./src/components/SavingAnimation.vue?d389","webpack:///src/components/SavingAnimation.vue","webpack:///./src/components/SavingAnimation.vue?6e6a","webpack:///./src/components/SavingAnimation.vue?3c7d","webpack:///./static/img/klipper_logo.jpg","webpack:///./src/views/UploadPrintPage.vue?0e4c","webpack:///./src/views/PrintShotFeedbackApp.vue?1996","webpack:///./src/components/NumberInput.vue?1642","webpack:///./static/img/raspberry_pi.png","webpack:///./static/img/fluidd_logo.png","webpack:///./src/views/OctoPrintTunnelPage.vue?5de1","webpack:///./static/img/octoprint-plugin-guide/plugin_rerun_setup.png","webpack:///./src/lib/utils.js","webpack:///./src/components/VideoBox.vue?bfcd","webpack:///./src/views/PrinterControlPage.vue?886a","webpack:///./src/components/printers/PrinterCard.vue?fda6","webpack:///./src/views/SharedPrinterPage.vue?7344","webpack:///./src/components/Layout.vue?69c5","webpack:///./src/components/prints/FullScreenPrintCard.vue?1a90","webpack:///./src/views/PrinterSettingsPage.vue?0859","webpack:///./src/config/server-urls.js","webpack:///./static/img/octoapp.webp","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?888a","webpack:///./src/components/printers/SharePrinter.vue?5295","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?5c07","webpack:///./static/img/generic-app.png","webpack:///./src/views/OctoPrintTunnelPage.vue?ce0b","webpack:///./src/components/SavingAnimation.vue?5374","webpack:///./src/components/print-shot-feedback/Consent.vue?b2a9","webpack:///./src/components/printers/AutoLinkPopup.vue?ba56","webpack:///./static/img/octoprint-plugin-guide/plugin_verification_code.png","webpack:///./static/img/vacation.gif","webpack:///./src/views/GCodesPage.vue?e7ee","webpack:///./src/views/NewOctoPrintTunnelPage.vue?db46"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","theme","Vue","observable","defaultTheme","currentThemeValue","themeValue","initTheme","init","setTheme","newTheme","isLocalStorageSupported","localStorage","setItem","map","webpackAsyncContext","req","ids","id","keys","mobilePlatform","JSON","parse","querySelector","text","inMobileWebView","user","settings","onlyNotifications","URLSearchParams","location","search","onlyName","getLocalPref","prefId","defaultValue","savedVal","getItem","val","setLocalPref","openModalWithComponent","C","props","modalOptions","wrapper","render","h","$mount","swal","customClass","container","html","onBeforeOpen","el","replaceWith","$el","onDestroy","$destroy","remove","openModalWithElement","element","install","options","use","VueSwal","Confirm","mixin","title","showCancelButton","confirmButtonText","cancelButtonText","Toast","toast","position","showConfirmButton","timer","Reject","icon","Prompt","DismissableToast","swalOpt","dismissKey","opt","log","$swal","filter","Math","floor","COMPONENT_NAME_REGEXP","ROOT_COMPONENT_NAME","ANONYMOUS_COMPONENT_NAME","splitPathRe","splitPath","filename","parts","exec","basename","path","ext","f","substr","getComponentName","vm","$root","$options","_componentTag","__file","unifiedFile","replace","_","toUpperCase","build","to","from","prefix","depth","maxDepth","maxKeys","setup","defaultErrorHandler","config","errorHandler","info","Sentry","metadata","obj","_original","componentName","stringify","propsData","_oO","lifecycleHook","getCurrentHub","withScope","scope","setContext","captureException","util","warn","toString","router","components","setupSentry","VueRouter","BootstrapVue","Sticky","VueMoment","VuePluralize","OnoffToggle","LoadScript","getElementById","email","displayName","twilio","pushbullet","discord","telegram","pushover","slack","defaultRoutes","ThemePreferences","ProfilePreferences","AuthorizedApps","GeneralNotifications","PushNotifications","notificationRoutes","notificationPlugins","reduce","assign","routes","printerWizard","printerWizardSetup","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","printersToShow","_v","isEnt","trialDaysLeft","_s","wizardUrl","_e","appName","is_pro","directives","rawName","expression","on","$event","$$selectedVal","Array","selected","_value","printerToAuthorize","multiple","domProps","_l","printer","staticStyle","performingAuthRequest","authorize","appLogo","loginUrl","signupUrl","staticRenderFns","toMomentOrNull","datetimeStr","moment","normalizedPrint","print","ended_at","cancelled_at","finished_at","started_at","uploaded_at","has_alerts","Boolean","alerted_at","normalizedGcode","gcode","created_at","updated_at","deleted","filesize","num_bytes","normalizedPrinter","newData","oldData","printerMixin","createdAt","isOffline","isPaused","isDisconnected","isActive","flags","operational","ready","paused","inTransientState","hasError","includes","inUserInteractionRequired","toLowerCase","isAgentMoonraker","agentDisplayName","basicStreamingInWebrtc","semverGte","alertUnacknowledged","isAfter","status","normalizedPrinterEvent","printerEvent","printers","printerId","authorized","created","IS_ENT","fetchPrinters","computed","methods","isPro","usageFetched","showDetails","daysUntilReset","class","usageClass","usageMTD","humanizedUsageCap","percentage","iframeUrl","bytesMTD","usageCap","overage","round","endOfMonth","diff","mounted","skipWarning","fire","input","inputPlaceholder","isConfirmed","matchMedia","classList","add","setInterval","fetchUsage","scopedSlots","_u","fn","access_consented_at","ref","onNextShot","page","pageClass","shot","onShotChanged","consentBtnPressed","proxy","printshotfeedback_set","estimatedFeedbackTime","_m","consentChecked","$emit","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","fromNow","video_url","poster_url","playerOptions","onTimeUpdate","videoPlayer","videoUrl","String","posterUrl","fullscreenBtn","default","fluid","autoplay","muted","preload","language","playbackRates","fill","sources","controlBar","poster","currentTime","duration","seconds","image_url","updateShot","model","callback","answer","BFormGroup","BFormRadioGroup","collapsed","unseenPrinterEventsDisplay","$slots","topBarLeft","topBarRight","_t","layoutSections","pathname","allowSignUp","hasUnseenPrinterEvents","num","ACCOUNT_ALLOW_SIGN_UP","staticAlert","style","paddingBottom","Consent","Loading","PrintShotCard","VueSlickCarousel","Layout","shots","currentShot","fetchData","updatePrint","$set","$refs","carousel","next","shotIndex","answered_at","allPrintsSelected","selectedPrintIds","size","onDeleteBtnClick","menuOptions","menuSelections","menuSelectionChanged","onShowAllClicked","activeFiltering","prints","has","onSelectedChanged","onPrintDeleted","printDataChanged","openFullScreen","fetchMoreData","loading","noMoreData","fullScreenClosed","fullScreenPrint","fullScreenPrintVideoUrl","creator_name","visibility","hasSelectedChangedListener","onSelectedChange","selectedCardView","canShowDetectiveView","video_archived_at","tagged_video_url","deleteVideo","posterSrc","showVideoArchivedDescription","hasFullscreenListener","cardView","isPublic","modifiers","humanizedPrintedOrUploadedTime","longFormat","wasTimelapseUploaded","endStatus","_f","humanize","opacity","normalizedP","thumbedUp","onThumbUpClick","thumbedDown","onThumbDownClick","focusedFeedbackLink","focusedFeedbackCompleted","color","titleColor","titleText","computedOptions","RadialGauge","Number","isWatching","highlight1","highlight2","highlight3","needle","valueDec","valueInt","width","height","units","box","minValue","maxValue","majorTicks","minorTicks","highlights","colorPlate","colorTitle","colorStrokeTicks","colorNeedleEnd","inactiveColor","colorNeedle","colorNeedleShadowUp","valueBox","animationRule","animationDuration","animatedValue","startAngle","ticksAngle","borders","level","VideoBox","Gauge","DetectiveWorking","ALERT_THRESHOLD","currentPosition","predictions","inflightAlertOverwrite","alert_overwrite","focusedFeedbackEligible","$listeners","selectedChanged","fullscreen","alertOverwrite","fetchPredictions","ts","format","preventDefault","showCloseButton","prediction_json_url","required","initialPosition","menuExpanded","menu","stopPropagation","iconClass","activeItems","option","onSelected","items","filtering","sorting","MugenScroll","PrintCard","FullScreenPrintCard","CascadedDropdown","Set","set","shouldShowFilterWarning","found","refetchData","selectedPrintIdsClone","printId","delete","selectedOption","userAction","$delete","$bvModal","show","dropzoneOptions","printUploadSuccess","vueDropzone","csrf","requeired","withCredentials","maxFilesize","acceptedFiles","url","headers","uploaded","file","dhBadgeNum","visiblePrinters","onPrinterUpdated","archivedPrinterNum","current_print","hasCurrentPrintFilename","statusClass","statusText","onSharePrinter","octoPrintTunnelUrl","settingsUrl","webrtc","isProAccount","onNotAFailureClicked","overlay","not_watching_reason","normalized_p","_b","onPrinterActionPauseClicked","onPrinterActionResumeClicked","onPrinterActionCancelClicked","onPrinterActionConnectClicked","onPrinterActionStartClicked","onPrinterActionControlClicked","actionsProps","pressed","section_toggles","onSettingsToggleClicked","time","onTimeToggleClicked","statusTemp","onStatusTempToggleClicked","watchForFailures","onWatchForFailuresToggled","pauseOnFailure","onPauseOnFailureToggled","timeRemaining","timeTotal","progressPct","tempProps","onTempEditClicked","PrinterComm","wsUri","onPrinterUpdateReceived","onStatusReceived","self","ws","passthruQueue","Map","ifvisible","closeWebSocket","connect","onPassThruReceived","msg","refId","ret","printer_event","event_class","event_title","event_text","isDismissed","dismiss","WebSocket","protocol","host","onmessage","passthru","ensureWebsocketClosed","heartbeat","setWebRTC","parseJsonData","jsonData","setCallbacks","onData","maybeBin","toArrayBuffer","arrayBuffer","pako","ungzip","Uint8Array","passThruToPrinter","canSend","random","sendData","send","onclose","ev","close","readyState","Janus","sessions","isExtensionEnabled","navigator","mediaDevices","getDisplayMedia","userAgent","match","chromever","parseInt","maxver","extension","isInstalled","defaultExtension","extensionId","getScreen","pending","cache","postMessage","addEventListener","origin","sourceId","gatewayCallbacks","success","noop","wsopened","destroyed","initDone","isWebrtcSupported","server","websockets","wsHandlers","wsKeepaliveTimeoutId","servers","serversIndex","debug","indexOf","iceServers","urls","iceTransportPolicy","bundlePolicy","ipv6Support","ipv6","maxev","max_poll_events","token","apisecret","destroyOnUnload","keepAlivePeriod","isNaN","longPollTimeout","getMaxBitrates","simulcastMaxBitrates","maxBitrates","high","medium","low","connected","sessionId","pluginHandles","that","retries","transactions","eventHandler","longpoll","Date","getTime","encodeURIComponent","httpAPICall","verb","handleEvent","textStatus","errorThrown","json","skipTimeout","session_id","sender","pluginHandle","candidate","webrtcStuff","pc","remoteSdp","completed","addIceCandidate","endOfCandidates","candidates","webrtcState","hangup","detached","ondetached","detach","mediaState","slowLink","reason","transaction","reportSuccess","plugindata","jsep","vdebug","keepAlive","randomString","createSession","callbacks","onopen","eventName","newWebSocket","body","getInfo","destroySession","unload","notifyDestroyed","cleanupHandles","handleId","destroyHandle","noRequest","sendBeacon","unbindWebSocket","removeEventListener","onUnbindMessage","onUnbindError","createHandle","consentDialog","iceState","onlocalstream","onremotestream","ondata","ondataopen","oncleanup","plugin","opaqueId","handleToken","session","started","myStream","streamExternal","remoteStream","mySdp","mediaConstraints","dataChannel","dtmfSender","trickle","iceDone","volume","bitrate","bsnow","bsbefore","tsnow","tsbefore","getId","getPlugin","getVolume","getRemoteVolume","getLocalVolume","isAudioMuted","isMuted","muteAudio","mute","unmuteAudio","isVideoMuted","muteVideo","unmuteVideo","getBitrate","sendMessage","dtmf","sendDtmf","createOffer","prepareWebrtc","createAnswer","handleRemoteJsep","prepareWebrtcPeer","ontrackmuted","ontrackunmuted","sendRequest","cleanupWebrtc","sdp","e2ee","rid_order","sendTrickleCandidate","createDataChannel","dclabel","dcprotocol","incoming","pendingData","onDataChannelMessage","label","onDataChannelStateChange","dcState","onDataChannelError","dcoptions","ordered","dataChanDefaultLabel","senders","getSenders","audioSender","find","track","kind","ontonechange","tone","tones","gap","insertDTMF","streamsDone","media","stream","stopAllTracks","getAudioTracks","getVideoTracks","addTracks","update","replaceAudio","replaceVideo","isAudioSendEnabled","addAudio","addTrack","unifiedPlan","audioTransceiver","transceivers","getTransceivers","receiver","replaceTrack","isVideoSendEnabled","addVideo","videoTransceiver","pc_config","webRTCAdapter","browserDetails","browser","version","pc_constraints","optional","rtcConstraints","RTCRtpSender","createEncodedStreams","createEncodedAudioStreams","createEncodedVideoStreams","senderTransforms","receiverTransforms","RTCPeerConnection","getStats","oniceconnectionstatechange","iceConnectionState","onicecandidate","sendSDP","sdpMid","sdpMLineIndex","ontrack","streams","onended","receiverStreams","createAudioEncodedStreams","readableStream","writableStream","pipeThrough","pipeTo","readable","writable","trackMutedTimeoutId","removeTrack","onmute","onunmute","simulcast2","getTracks","forEach","tr","addTransceiver","direction","sendEncodings","rid","active","maxBitrate","scaleResolutionDownBy","senderStreams","isDataEnabled","ondatachannel","channel","oldsdp","pattern","newsdp","setRemoteDescription","offer","webrtcError","audio","video","isTrickleEnabled","keepAudio","removeAudio","audioSend","keepVideo","removeVideo","videoSend","addData","at","stop","ra","asnd","vt","rv","vsnd","isGetUserMediaAvailable","constraints","mandatory","audioSupport","videoSupport","simulcast","screenshareFrameRate","frameRate","screenshareHeight","screenshareWidth","captureDesktopAudio","getUserMedia","audioStream","callbackUserMedia","getScreenMedia","gsmCallback","useAudio","catch","googLeakyBucket","maxWidth","screen","maxHeight","minFrameRate","maxFrameRate","chromeMediaSource","googTemporalLayeredScreencast","chromeMediaSourceId","mozMediaSource","mediaSource","lastTime","polly","clearInterval","enumerateDevices","devices","audioExist","some","device","videoExist","isScreenSendEnabled","needAudioDevice","isAudioSendRequired","needVideoDevice","isVideoSendRequired","haveAudioDevice","haveVideoDevice","gumConstraints","customizeSdp","audioRecv","isAudioRecvEnabled","setDirection","videoRecv","isVideoRecvEnabled","iceRestart","sendVideo","parameters","getParameters","encodings","setParameters","mungeSdpForSimulcasting","setLocalDescription","offerToReceiveAudio","offerToReceiveVideo","OfferToReceiveAudio","OfferToReceiveVideo","localDescription","sdpSent","remote","stats","res","remoteSource","audioLevel","enabled","inStats","mediaType","bytesReceived","googCodecName","fps","framesPerSecond","timestamp","timePassed","bitRate","hangupRequest","lines","split","ssrc","ssrc_fid","cname","msid","mslabel","insertAt","mline","sim","fid","join","endsWith","failIfNoAudio","failIfNoVideo","getServer","isConnected","reconnect","getSessionId","destroy","attach","useDefaultDependencies","deps","fetch","socketCls","proto","arr","adapter","fetchOptions","method","credentials","fetching","timerId","race","response","ok","parsed","useOldDependencies","jq","jQuery","payload","contentType","xhrFields","ajax","extend","dataType","async","xhr","tracks","mst","trace","usedDependencies","dependencies","listDevices","attachMediaStream","srcObject","URL","createObjectURL","reattachMediaStream","iOS","platform","oldOBF","safariVp8","getCapabilities","codecs","codec","mimeType","testpc","RTCRtpTransceiver","tempPc","len","charSet","randomPoz","substring","printerWebRTCUrl","printerSharedWebRTCUrl","WebRTCConnection","initialized","mainWebRTCConn","MainWebRTCConnection","mjpegWebRTCConn","MJpegtWebRTCConnection","openForShareToken","shareToken","openForPrinter","authToken","stopStream","startStream","streamId","streaming","bitrateInterval","connectJanusWebSocket","turnServer","hostname","credential","username","janus","onStreamAvailable","onMessage","rawData","onMJpegData","channelOpen","offer_video","streamIdToTest","videoStreamExisting","onRemoteStream","onTrackMuted","onTrackUnmuted","uplink","lost","onSlowLink","onDefaultStreamCleanup","clearBitrateInterval","onBitrateUpdated","slowLinkLoss","slowLinkClicked","fixSlowLinkTextWidth","slowLinkShowing","slowLinkHiding","showMutedStatusDescription","isVideoAvailable","isBasicStreamingReadyToPlay","isBasicStreamingFrozen","onPlayBtnClicked","remainingSecondsUntilNextCycle","trackMuted","videoLoading","isBasicStreamingInProgress","currentBitrate","onInfoClicked","remainingSecondsCurrentVideoCycle","webcamRotateClass","webcamRatioClass","taggedSrc","printerStockImgSrc","flipH","webcam_flipH","flipV","webcam_flipV","mjpgSrc","webcamVideoHeight","onLoadStart","onCanPlay","ViewingThrottle","countDownCallback","remainingSeconds","localStorageItemId","countDownTimer","startOrResumeVideoCycle","countDown","resumeVideoCycle","updateRemainingSeconds","newValue","remainingViewableSeconds","tsNextVideoCycle","parseFloat","now","MJpegStreamDecoder","onFrame","contentLength","NaN","imageBuffer","bytesRead","originalJpgLength","lengthHeaders","mjpegStreamDecoder","onWebRTCRemoteStream","onMJpegChunk","videoLimit","stickyStreamingSrc","isVideoVisible","taggedImgAvailable","showVideo","showMJpeg","webcam_rotate90","ratio169","videoTracks","slowLinkText","loss","valid","printing","showHours","hours","showMinutes","minutes","showSeconds","state","onPauseToggled","connecting","onConnectClicked","connectBtnClicked","item","temperatureDisplayName","actual","toFixed","isEditable","onEditClicked","temperatures","editable","temperature","searchText","gcodeFiles","gcf","isSending","onSendPrintClicked","SearchInput","onGcodeFileSelected","Function","visibleGcodeFiles","gcodeFileId","selectedPort","connectionOptions","port","selectedBaudrate","baudrate","ports","onPresetChanged","preset","pre","maxTemp","onSliderChanged","composing","VueSlider","presets","curTarget","allPresets","sharedResource","onSharingToggled","sharedLink","copyToClipboard","copyStatus","copyMessage","share","fetchSharedResources","postSharedResources","deleteSharedResources","focus","select","execCommand","Settings","Time","StatusTemp","StreamingBox","DurationBlock","PrinterActions","printerComm","auth_token","toDuration","secondsPrinted","secondsLeft","secs","watching_enabled","action_on_failure","updatedPrinter","resumePrint","updatePrinter","sendPrinterAction","RESUME_PRINT","tempProfiles","shouldVideoBeFull","shouldBeThumb","asHours","asc","desc","StateFilter","SortFilter","PrinterCard","dontShowFilterWarning","is_dh_unlimited","dh_balance","hiddenPrinterCount","shouldShowArchiveWarning","insertPrinter","index","themes","Dark","Light","showMainMenu","viewName","first_name","hideDropdowns","accountDropdown","hide","Navbar","videoAvailable","errorMessages","saving","action_on_failure_NONE","_q","updateSetting","action_on_failure_PAUSE","tools_off_on_pause","bed_off_on_pause","retract_on_pause","retractFilamentByEnabled","retractOnPause","lift_z_on_pause","liftExtruderByEnabled","liftExtruderBy","detective_sensitivity","sensitivityTooltipFormatter","detectiveSensitivity","timelapseOnFinishEnabled","timelapseOnCancelEnabled","min_timelapse_secs_on_finish","minTimelapseMinutesOnFinish","min_timelapse_secs_on_cancel","minTimelapseMinutesOnCancel","printerWizardUrl","archivePrinter","deletePrinter","disable","inputValue","step","unit","watch","SavingAnimation","NumberInput","delayedSubmit","printerName","oldValue","changeRetractOnPause","changeLiftExtruderBy","fetchPrinter","patchPrinter","setSavingStatus","inputElem","errorAlert","settingsItem","delayInfo","getSettingsItemInput","propName","printer_name","verifiedPrinter","updatePrinterName","redirectToTunnelCreation","editPrinterUrl","$route","activeTabIndex","nativeOn","prevTab","isLastStep","fillButtonStyle","nextTab","slot","printerIdToLink","targetOctoPrint","zoomIn","chosenDeviceId","canStartLinking","discoveredPrinters","discoveredPrinter","device_id","autoLinkPrinter","discoveryEnabled","discoveryCount","verificationCode","copied","timeToExpire","showVerificationCodeHelpModal","targetMoonraker","setTargetPlatform","rpi_model","machine_type","agent","host_or_ip","octopi_version","os","linking","cancel","switchToManualLinking","secretObtained","gotWindowMessage","beforeDestroy","gotSecret","obicoDiscoveryPopup","open","destUrl","switchToManual","closeDiscoveryPopup","device_secret","FormWizard","TabContent","WizardButton","DiscoveredPrinter","onVerificationStep","apiCallIntervalId","targetPlatform","getVerificationCode","$router","expiryMoment","platfrom","activeStep","discoverPrinter","keyCode","ctrlKey","cmdKey","ctrlDown","copyFunc","verificationCodeUrl","verified_at","baseUrl","copyCode","textArea","top","left","callVerificationCodeApi","toggle","callPrinterDiscoveryApi","MAX_DISCOVERY_CALLS","secret","control","axis","y","directions","up","x","down","xy","home","z","ariaDescribedby","jogDistanceOptions","jogDistance","AXIS","DIRECTIONS","storageValue","args","func","updateSearch","gcodeUploadSuccess","gcodeUploadError","maxTotalFilesize","activeSorting","NAME","updateSorting","sortDirection","DESC","SIZE","UPLOADED","removeItem","fetchGCodes","ASC","SORTING","SORT_DIRECTION","gcodes","currentPage","gcodesToShow","gcodesDropzone","removeAllFiles","sortOption","useMobileLayout","isHidden","isSubcategory","route","faIcon","logout","currentSection","isNotificationChannel","availableNotificationPlugins","currentRouteComponent","createNotificationChannel","patchNotificationChannel","deleteNotificationChannel","clearErrorMessages","addErrorMessage","updateRoute","notification_enabled","defaultSections","importComponent","notificationSections","channelName","sections","configuredNotificationChannels","combinedInputs","visibleSections","values","component","section","clientIsThemeable","firstName","lastName","last_name","fetchNotificationPlugins","fetchNotificationChannels","fetchUser","checkMobileLayout","patchUser","checkForCombinedValues","inputs","onresize","paddingTop","eventClass","toggleEventFiltering","cssClassFromEventClass","eventType","printerEvents","tintBorderClass","link","info_url","onTextClick","tintClass","eventTitle","backgroundImage","eventClassFiltering","eventTypeFiltering","PrinterEventCard","UserPreferencesPage","wizardRoutes","PrinterWizardPage","NewOctoPrintTunnelPage","OctoPrintTunnelPage","PrintShotFeedbackApp","PrinterListPage","SharedPrinterPage","PrinterSettingsPage","PrinterControlPage","GCodesPage","PrintsPage","PrintPage","UploadPrintPage","PrinterEventsPage","mountVue","Themes","System","colors","shadows","matches","documentElement","setProperty","meta","content","shadow","savingClass","savingDoneClass","savingFailedClass","smallHeightClass","errors","errorMsg","savingTimeout","savingDoneTimeout","prevSaving","nowSaving","clearSavingTimeout","getNotificationSettingKey","notificationChannel","startCase","toLower","getNormalizedP","Blob","reader","FileReader","srcElement","readAsArrayBuffer","printShotFeedback","shotId","printsBulkDelete","printerAction","pubPrinter","page_size","gcodeId","tunnels","tunnel","tunnelUsage","sharedResources","paramsObj","entries","entry","resourceId","printerDiscovery","notificationChannels","updateNotificationChannel","testNotificationChannel","printerControl","printerWebSocket","printerSharedWebSocket"],"mappings":"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","file":"js/root.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"root\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"root\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-129fbd24\":1,\"chunk-207f8542\":1,\"chunk-2a713caa\":1,\"chunk-40e6f31a\":1,\"chunk-4f250c50\":1,\"chunk-571535b8\":1,\"chunk-61f8bca3\":1,\"chunk-738fea3f\":1,\"chunk-e7f0879a\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/frontend/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/detective-working.gif\";","import Vue from 'vue'\nimport { isLocalStorageSupported } from '@static/js/utils'\nimport { currentThemeValue as themeValue, defaultTheme, initTheme as init } from '@static/js/color-scheme'\n\n\nexport const theme = Vue.observable({\n  value: defaultTheme,\n})\n\nexport function currentThemeValue() {\n  return themeValue(theme)\n}\n\nexport function initTheme() {\n  return init(currentThemeValue())\n}\n\nexport function setTheme(newTheme) {\n  theme.value = newTheme\n  if (isLocalStorageSupported()) {\n    localStorage.setItem('colorTheme', theme.value)\n  }\n  initTheme()\n}\n","var map = {\n\t\"./discord\": [\n\t\t\"6289\",\n\t\t\"chunk-61f8bca3\"\n\t],\n\t\"./discord.vue\": [\n\t\t\"6289\",\n\t\t\"chunk-61f8bca3\"\n\t],\n\t\"./email\": [\n\t\t\"a10d\",\n\t\t\"chunk-40e6f31a\"\n\t],\n\t\"./email.vue\": [\n\t\t\"a10d\",\n\t\t\"chunk-40e6f31a\"\n\t],\n\t\"./pushbullet\": [\n\t\t\"fde9\",\n\t\t\"chunk-4f250c50\"\n\t],\n\t\"./pushbullet.vue\": [\n\t\t\"fde9\",\n\t\t\"chunk-4f250c50\"\n\t],\n\t\"./pushover\": [\n\t\t\"6ad2\",\n\t\t\"chunk-207f8542\"\n\t],\n\t\"./pushover.vue\": [\n\t\t\"6ad2\",\n\t\t\"chunk-207f8542\"\n\t],\n\t\"./slack\": [\n\t\t\"9aa3\",\n\t\t\"chunk-738fea3f\"\n\t],\n\t\"./slack.vue\": [\n\t\t\"9aa3\",\n\t\t\"chunk-738fea3f\"\n\t],\n\t\"./telegram\": [\n\t\t\"037c\",\n\t\t\"chunk-129fbd24\"\n\t],\n\t\"./telegram.vue\": [\n\t\t\"037c\",\n\t\t\"chunk-129fbd24\"\n\t],\n\t\"./twilio\": [\n\t\t\"0bd0\",\n\t\t\"chunk-571535b8\"\n\t],\n\t\"./twilio.vue\": [\n\t\t\"0bd0\",\n\t\t\"chunk-571535b8\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"17ae\";\nmodule.exports = webpackAsyncContext;","module.exports = __webpack_public_path__ + \"img/moonraker_verification_code.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintCard.vue?vue&type=style&index=0&id=41b4b42a&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintCard.vue?vue&type=style&index=0&id=41b4b42a&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=ff689708&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=ff689708&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/mainsail_logo.png\";","module.exports = __webpack_public_path__ + \"img/octopod.webp\";","module.exports = __webpack_public_path__ + \"img/install_plugin.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingBox.vue?vue&type=style&index=0&id=52691049&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingBox.vue?vue&type=style&index=0&id=52691049&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/octoprint_logo.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gauge.vue?vue&type=style&index=0&id=6763f78b&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gauge.vue?vue&type=style&index=0&id=6763f78b&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartPrint.vue?vue&type=style&index=0&id=165c928e&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartPrint.vue?vue&type=style&index=0&id=165c928e&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintsPage.vue?vue&type=style&index=0&id=59d5e13b&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintsPage.vue?vue&type=style&index=0&id=59d5e13b&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/polymer.webp\";","module.exports = __webpack_public_path__ + \"img/printoid.webp\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventCard.vue?vue&type=style&index=0&id=1671f474&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventCard.vue?vue&type=style&index=0&id=1671f474&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/webpage-multiple.svg\";","module.exports = __webpack_public_path__ + \"img/plugin_wizard_websetup.png\";","\nexport const mobilePlatform = () => {\n  return JSON.parse(document.querySelector('#app-platform-json').text)['platform']\n}\n\nexport const inMobileWebView = () => {\n  return mobilePlatform() !== ''\n}\n\nexport const user = () => {\n  return JSON.parse(document.querySelector('#user-json').text)\n}\n\nexport const settings = () => {\n  return JSON.parse(document.querySelector('#settings-json').text)\n}\n\nexport const onlyNotifications = () => {\n  return new URLSearchParams(window.location.search).get('onlyNotifications') === 'true'\n}\n\nexport const onlyName = () => {\n  return new URLSearchParams(window.location.search).get('onlyName') === 'true'\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=style&index=0&id=755d6efe&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=style&index=0&id=755d6efe&lang=sass&scoped=true&\"","\nimport { isLocalStorageSupported } from '@static/js/utils'\n\nexport const getLocalPref = (prefId, defaultValue) => {\n  var savedVal = isLocalStorageSupported() ? localStorage.getItem(prefId) : null\n  var val = savedVal || defaultValue\n  // Hack to deal with data type such as boolean and number\n  try {\n    return JSON.parse(val)\n  } catch (e) {\n    return val\n  }\n}\n\nexport const setLocalPref = (prefId, value) => {\n  if (isLocalStorageSupported()) {\n    localStorage.setItem(prefId, value)\n  }\n}\n","import Vue from 'vue'\nimport VueSwal from 'vue-sweetalert2'\n\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\n\nconst openModalWithComponent = (C, props, modalOptions) => {\n  let wrapper = document.createElement('div')\n  const c = new Vue({\n    render: h => h(C, {props: props}),\n  }).$mount(wrapper)\n\n  return Vue.swal({\n    ...modalOptions,\n    customClass: {\n      container: 'dark-backdrop',\n    },\n    html: '<div id=\"replace-here\">Placeholder</div>',\n    onBeforeOpen: (el) => {\n      el.querySelector('#replace-here').replaceWith(c.$el)\n    },\n    onDestroy: () => {\n      c.$destroy()\n      wrapper.remove()\n    }\n  })\n}\n\n\nconst openModalWithElement = (element, props, modalOptions) => {\n  return Vue.swal({\n    ...modalOptions,\n    customClass: {\n      container: 'dark-backdrop',\n    },\n    html: '<div id=\"replace-here\">Placeholder</div>',\n    onBeforeOpen: (el) => {\n      el.querySelector('#replace-here').replaceWith(element)\n    },\n  })\n}\n\nconst install = (Vue, options) => {\n  Vue.use(VueSwal, options)\n\n  const Confirm = Vue.swal.mixin({\n    title: 'Are you sure?',\n    showCancelButton: true,\n    confirmButtonText: 'Yes',\n    cancelButtonText: 'No',\n    customClass: {\n      container: 'dark-backdrop',\n    },\n  })\n\n  const Toast = Vue.swal.mixin({\n    toast: true,\n    position: 'top-end',\n    showConfirmButton: false,\n    timer: 5000,\n  })\n\n  const Reject = Vue.swal.mixin({\n    icon: 'error',\n    customClass: {\n      container: 'dark-backdrop',\n    },\n  })\n\n  const Prompt = Vue.swal.mixin({\n    customClass: {\n      container: 'dark-backdrop',\n    },\n  })\n\n  const DismissableToast = (swalOpt, dismissKey) => {\n\n    if (!getLocalPref(dismissKey, false)) {\n      const opt = {\n        ...swalOpt,\n        position: 'top-end',\n        confirmButtonText: 'Gotcha! Don\\'t show this again.',\n      }\n      return Vue.swal(opt)\n        .then(function (result) {\n          if (result.value) {\n            setLocalPref(dismissKey, true)\n            console.log(result)\n          }\n        })\n    }\n  }\n\n  Vue.prototype.$swal['openModalWithComponent'] = openModalWithComponent\n  Vue.prototype.$swal['openModalWithElement'] = openModalWithElement\n  Vue.prototype.$swal['Confirm'] = Confirm\n  Vue.prototype.$swal['Toast'] = Toast\n  Vue.prototype.$swal['DismissableToast'] = DismissableToast\n  Vue.prototype.$swal['Reject'] = Reject\n  Vue.prototype.$swal['Prompt'] = Prompt\n}\n\nexport default {install: install}\n","import Vue from 'vue'\n\nVue.filter('floor', value => Math.floor(value))\n","// extract from @sentry/vue package\n\nconst COMPONENT_NAME_REGEXP = /(?:^|[-_/])(\\w)/g\nconst ROOT_COMPONENT_NAME = 'root'\nconst ANONYMOUS_COMPONENT_NAME = 'anonymous component'\n\nconst splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^/]+?|)(\\.[^./]*|))(?:[/]*)$/\nconst splitPath = (filename) => {\n  const parts = splitPathRe.exec(filename)\n  return parts ? parts.slice(1) : []\n}\n\nconst basename = (path, ext) => {\n  let f = splitPath(path)[2]\n  if (ext && f.substr(ext.length * -1) === ext) {\n    f = f.substr(0, f.length - ext.length)\n  }\n  return f\n}\n\nconst getComponentName = (vm) => {\n  if (!vm) {\n    return ANONYMOUS_COMPONENT_NAME\n  }\n\n  if (vm.$root === vm) {\n    return ROOT_COMPONENT_NAME\n  }\n\n  if (!vm.$options) {\n    return ANONYMOUS_COMPONENT_NAME\n  }\n\n  if (vm.$options.name) {\n    return vm.$options.name\n  }\n\n  if (vm.$options._componentTag) {\n    return vm.$options._componentTag\n  }\n\n  // injected by vue-loader\n  if (vm.$options.__file) {\n    const unifiedFile = vm.$options.__file.replace(/^[a-zA-Z]:/, '').replace(/\\\\/g, '/')\n    const filename = basename(unifiedFile, '.vue')\n    return filename.replace(COMPONENT_NAME_REGEXP, (_, c) =>\n      c ? c.toUpperCase() : '',\n    )\n  }\n\n  return ANONYMOUS_COMPONENT_NAME\n}\n\nconst build = (to, from, prefix, depth, maxDepth, maxKeys) => {\n  let c = 0\n  for (let key in from) {\n    c += 1\n    if (c > maxKeys) {\n      break\n    }\n    if (typeof from[key] == 'object') {\n      if (maxDepth > depth) {\n        build(to, from[key], prefix + '.' + key, depth + 1, maxDepth, maxKeys)\n      }\n    } else {\n      to[prefix + '.' + key] = from[key]\n    }\n  }\n}\n\nconst setup = (Vue) => {\n  const defaultErrorHandler = Vue.config.errorHandler\n\n  Vue.config.errorHandler = (error, vm, info) => {\n    if (window.Sentry) {\n      const metadata = {}\n\n      let obj = vm\n      if (vm._original) {\n        obj = vm._original\n      }\n\n      if (obj) {\n\n        try {\n          metadata.componentName = getComponentName(obj)\n          build(metadata, JSON.parse(JSON.stringify(obj.$options.propsData)), 'props', 0, 2, 10)\n        } catch (_oO) {\n          console.log('Unable to extract metadata from Vue component.')\n        }\n      }\n\n      if (info) {\n        metadata.lifecycleHook = info\n      }\n\n      // Capture exception in the next event loop, to make sure that all breadcrumbs are recorded in time.\n      setTimeout(() => {\n        window.Sentry.getCurrentHub().withScope(scope => {\n          scope.setContext('vue', metadata)\n          window.Sentry.getCurrentHub().captureException(error)\n        })\n      })\n    }\n\n    if (typeof defaultErrorHandler === 'function') {\n      defaultErrorHandler.call(Vue, error, vm, info)\n    }\n\n    if (Vue.util) {\n      Vue.util.warn(`Error in ${info}: \"${error.toString()}\"`, vm)\n    }\n    console.error(error)\n  }\n}\n\nexport default setup\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport VueSwal from '@src/lib/VueSwal'\nimport { BootstrapVue } from 'bootstrap-vue'\nimport Sticky from 'vue-sticky-directive'\nimport VueMoment from 'vue-moment'\nimport '@src/lib/filters'\nimport setupSentry from '@src/lib/sentry'\nimport { initTheme } from '@src/lib/color-scheme-controller'\nimport VuePluralize from 'vue-pluralize'\nimport OnoffToggle from 'vue-onoff-toggle'\nimport LoadScript from \"vue-plugin-load-script\"\n\nexport default (router, components) => {\n  initTheme()\n  setupSentry(Vue)\n  Vue.use(VueRouter)\n  Vue.use(BootstrapVue)\n  Vue.use(VueSwal)\n  Vue.use(Sticky)\n  Vue.use(VueMoment)\n  Vue.use(VuePluralize)\n  Vue.use(OnoffToggle)\n  Vue.use(LoadScript)\n\n  if (document.getElementById('app')) {\n    new Vue({\n      router,\n      components,\n    }).$mount('#app')\n  }\n}\n","export default {\n  email: {\n    displayName: 'Email',\n  },\n  twilio: {\n    displayName: 'SMS',\n  },\n  pushbullet: {\n    displayName: 'Pushbullet',\n  },\n  discord: {\n    displayName: 'Discord',\n  },\n  telegram: {\n    displayName: 'Telegram',\n  },\n  pushover: {\n    displayName: 'Pushover',\n  },\n  slack: {\n    displayName: 'Slack',\n  },\n}\n","import notificationPlugins from '@src/notifications/plugins'\n\nconst defaultRoutes = {\n  ThemePreferences: '/user_preferences/personalization/',\n  ProfilePreferences: '/user_preferences/profile/',\n  AuthorizedApps: '/user_preferences/authorized_apps/',\n  GeneralNotifications: '/user_preferences/general_notifications/',\n  PushNotifications: '/user_preferences/mobile_push_notifications/',\n}\n\nconst notificationRoutes = Object.keys(notificationPlugins).reduce((obj, name) => {\n  return Object.assign(obj, { [name]: `/user_preferences/notification_${name}/`})\n}, {})\n\nexport default {\n  ...defaultRoutes,\n  ...notificationRoutes,\n}\n","const routes = {\n  printerWizard: '/printers/wizard/',\n  printerWizardSetup: '/printers/wizard/setup/',\n}\n\nexport default routes\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[(_vm.user)?_c('b-col',{staticClass:\"mt-3\",attrs:{\"lg\":\"8\"}},[(_vm.printersToShow.length === 0)?_c('div',{staticClass:\"wizard-container full-on-mobile\"},[_c('b-container',[_c('b-row',[_c('div',{staticClass:\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3\"},[_c('svg',{staticClass:\"logo-img\",attrs:{\"viewBox\":\"0 0 1965 240\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-compact\"}})])])]),_c('b-row',[_c('h1',{staticClass:\"mx-auto\"},[_vm._v(\"Welcome To Obico\")])]),_c('b-row',[_c('b-col',[_c('hr')])],1),(_vm.isEnt && _vm.trialDaysLeft > 0)?_c('b-row',[_c('b-col',[(_vm.trialDaysLeft >= 29)?_c('h3',{staticClass:\"py-3\"},[_vm._v(\"Your 30-Day \"),_c('a',{staticClass:\"link\",attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\"}},[_vm._v(\"Pro Plan\")]),_vm._v(\" Free Trial Has Started!\")]):_c('h3',{staticClass:\"py-3\"},[_vm._v(_vm._s(_vm.trialDaysLeft)+\" Days Left on Your \"),_c('a',{staticClass:\"link\",attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\"}},[_vm._v(\"Pro Plan \")]),_vm._v(\"Free Trial!\")]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"Unlimited Secure Tunneling to your OctoPrint\")])]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"Premium 25 FPS Webcam Streaming\")])]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"250 AI Failure Detection Hours\")])]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"G-Code Remote Upload and Printing\")])]),_c('div',{staticClass:\"lead py-4\"},[_vm._v(\"OctoPrint has not been linked to your Obico account.\")]),_c('div',{staticClass:\"d-flex flex-column align-center justify-content-center\"},[_c('div',[_c('a',{staticClass:\"btn btn-primary btn-block mx-auto btn-lg\",attrs:{\"href\":_vm.wizardUrl}},[_vm._v(\"Link OctoPrint Now\")])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\"It's as easy as 1-2-3.\")])])])])],1):_vm._e(),_c('div',{staticClass:\"footer-note small\"},[_vm._v(\"Not ready to start yet? \"),_c('a',{attrs:{\"href\":\"mailto:support@obico.io?subject=Please%20pause%20my%20free%20trial\"}},[_vm._v(\"Email us\")]),_vm._v(\" to pause your free trial.\")])],1)],1):_c('div',[_c('div',{staticClass:\"text-center\"},[_c('svg',{attrs:{\"width\":\"100\",\"height\":\"30\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-full\"}})])]),(_vm.authorized)?_c('div',{staticClass:\"authorization-successful\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"Authorization Successful!\")]),_c('p',[_vm._v(\"You can close this page\")])]):_c('div',[_c('div',[_c('div',{staticClass:\"lead text-center mt-3 mb-5\"},[_vm._v(\"Tunnel Access Authorization\")]),_c('h4',{staticClass:\"my-4\"},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.appName))]),_vm._v(\" is requesting to access you OctoPrint Tunnel.\")]),_c('p',{staticClass:\"text-muted\"},[_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\",\"target\":\"_blank\"}},[_vm._v(\"OctoPrint Tunnel\")]),_vm._v(\" is a secure way provided by \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/\",\"target\":\"_blank\"}},[_vm._v(\"Obico\")]),_vm._v(\" to remotely access your OctoPrint. With the OctoPrint Tunnel, you can use \"+_vm._s(_vm.appName)+\" to access your OctoPrint from anywhere.\")]),(!_vm.user.is_pro)?_c('b-alert',{staticClass:\"my-3\",attrs:{\"variant\":\"warning\",\"dismissible\":\"\",\"show\":\"\"}},[_c('div',[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Tunnel usage of a free account is \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\",\"target\":\"_blank\"}},[_vm._v(\"capped at 300MB per month\")]),_vm._v(\". You can \"),_c('a',{attrs:{\"href\":\"http://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"upgrade to the Obico app Pro plan for 1 Starbucks a month\")]),_vm._v(\" to enjoy unlimited tunnel usage. \")])]):_vm._e(),(_vm.user.is_pro && _vm.trialDaysLeft > 0)?_c('b-alert',{staticClass:\"my-3\",attrs:{\"variant\":\"warning\",\"dismissible\":\"\",\"show\":\"\"}},[_c('div',[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" After the Free trial expires, tunnel data usage will be \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\",\"target\":\"_blank\"}},[_vm._v(\"capped at 300MB per month\")]),_vm._v(\". You can \"),_c('a',{attrs:{\"href\":\"http://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"upgrade to the Obico app Pro plan for 1 Starbucks a month\")]),_vm._v(\" to continue enjoying unlimited tunnel usage. \")])]):_vm._e(),_c('div',{staticClass:\"mt-5\"},[_c('p',{staticClass:\"lead\"},[_vm._v(\"Tunnel access by \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.appName))]),_vm._v(\" (make sure you trust it): \")]),(_vm.printersToShow.length === 0)?_c('h5',[_vm._v(\"You have 0 active printers\")]):(_vm.printersToShow.length === 1)?_c('h5',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.printersToShow[0].name))]):(_vm.printersToShow.length > 1)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printerToAuthorize),expression:\"printerToAuthorize\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.printerToAuthorize=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"},domProps:{\"value\":null}},[_vm._v(\"Please select a printer\")]),_vm._l((_vm.printersToShow),function(printer){return _c('option',{key:printer.id,domProps:{\"value\":printer.id}},[_vm._v(\" \"+_vm._s(printer.name)+\" \")])})],2):_vm._e(),(_vm.printersToShow.length)?_c('div',{staticClass:\"d-flex mt-4 mb-3\"},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"flex\":\"1\"},attrs:{\"disabled\":!_vm.printerToAuthorize || _vm.performingAuthRequest},on:{\"click\":_vm.authorize}},[(_vm.performingAuthRequest)?_c('b-spinner',{attrs:{\"small\":\"\",\"label\":\"Loading...\"}}):_c('span',[_vm._v(\"Authorize\")])],1),_c('a',{staticClass:\"btn btn-outline-secondary ml-2\",staticStyle:{\"flex\":\"1\"},attrs:{\"href\":\"/user_preferences/authorized_apps\"}},[_vm._v(\"Manage Apps\")])]):_vm._e()])],1),_c('div',{staticClass:\"mt-4\"},[_c('p',{staticClass:\"text-muted small mb-1\"},[_vm._v(\" Security notes: \")]),_c('ul',{staticClass:\"text-muted small pl-4\"},[_c('li',[_vm._v(\"The app can only access the tunnel, not your Obico account info such as your email address.\")]),_c('li',[_vm._v(\"The access remains valid until explicitly revoked. You can revoke the access by going to Preferences -> Authorized Apps.\")])])])])])]):_c('b-col',{staticClass:\"mt-5\"},[_c('div',[_c('b-container',[_c('div',{staticClass:\"d-flex justify-content-center align-items-center\"},[_c('img',{staticClass:\"logo-icon\",attrs:{\"src\":_vm.appLogo}}),_c('h3',[_vm._v(\"\")]),_c('svg',{staticClass:\"logo-icon obico\"},[_c('use',{attrs:{\"href\":\"#svg-logo-compact\"}})]),_c('h3',[_vm._v(\"\")]),_c('img',{staticClass:\"logo-icon\",attrs:{\"src\":require('@static/img/octoprint_logo.png')}})]),_c('div',{staticClass:\"my-4\"},[_c('div',{staticClass:\"mx-auto text-center\"},[_c('h4',[_vm._v(\"OctoPrint Tunnel\")]),_c('div',{staticClass:\"lead\"},[_vm._v(\"Powered by Obico\")])])]),_c('div',{staticClass:\"account-details\"},[_c('p',[_vm._v(\"With the OctoPrint Tunnel by Obico, you can now use \"+_vm._s(_vm.appName)+\" to \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\",\"target\":\"_blank\"}},[_vm._v(\"securely control and monitor your printer from anywhere\")]),_vm._v(\".\")]),_c('div',{staticClass:\"text-muted\"},[_vm._v(\"Obico Free Account:\")]),_c('ul',{staticClass:\"text-muted\"},[_c('li',[_vm._v(\"Unlimited realtime webcam at 0.1FPS.\")]),_c('li',[_vm._v(\"300MB monthly tunnel data cap (excluding webcam streaming).\")]),_c('li',[_vm._v(\"10 hours/mo AI failure detection.\")])]),_c('div',{staticClass:\"text-muted\"},[_vm._v(\"Obico Pro Account (\"),_c('a',{attrs:{\"href\":\"https://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"from $4/mo\")]),_vm._v(\"):\")]),_c('ul',{staticClass:\"text-muted\"},[_c('li',[_vm._v(\"Unlimited realtime webcam streaming.\")]),_c('li',[_vm._v(\"Unlimited tunnel data usage.\")]),_c('li',[_vm._v(\"50 hours/mo AI failure detection.\")]),_c('li',[_c('a',{attrs:{\"href\":\"https://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"And much more...\")])])])]),_c('div',[_c('div',{staticClass:\"my-5 w-100\"},[_c('a',{staticClass:\"btn btn-primary btn-block\",attrs:{\"href\":_vm.loginUrl}},[_vm._v(\"SIGN IN \")]),_c('div',{staticClass:\"text-center pt-3 w-100\"},[_c('div',{staticClass:\"font-weight-light text-muted\"},[_vm._v(\"- OR -\")]),_c('a',{staticClass:\"btn\",attrs:{\"href\":_vm.signupUrl}},[_vm._v(\"SIGN UP\")])])])])])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import moment from 'moment'\nimport get from 'lodash/get'\nimport filesize from 'filesize'\nimport semverGte from 'semver/functions/gte'\n\nexport const toMomentOrNull = datetimeStr => {\n  if (!datetimeStr) {\n    return null\n  }\n  return moment(datetimeStr)\n}\n\nexport const normalizedPrint = print => {\n  print.ended_at = toMomentOrNull(print.cancelled_at || print.finished_at)\n  print.started_at = toMomentOrNull(print.started_at)\n  print.uploaded_at = toMomentOrNull(print.uploaded_at)\n  print.has_alerts = Boolean(print.alerted_at)\n  return print\n}\n\nexport const normalizedGcode = gcode => {\n  gcode.created_at = toMomentOrNull(gcode.created_at)\n  gcode.updated_at = toMomentOrNull(gcode.updated_at)\n  gcode.deleted = toMomentOrNull(gcode.deleted)\n  gcode.filesize = filesize(gcode.num_bytes)\n  return gcode\n}\n\nexport const normalizedPrinter = (newData, oldData) => {\n  const printerMixin = {\n    createdAt: function() { return toMomentOrNull(this.created_at) },\n    isOffline: function() { return get(this, 'status', null) === null },\n    isPaused: function() { return get(this, 'status.state.flags.paused', false) },\n    isDisconnected: function() { return get(this, 'status.state.flags.closedOrError', true) },\n    isActive: function() {\n      const flags = get(this, 'status.state.flags')\n      // https://discord.com/channels/704958479194128507/705047010641838211/1013193281280159875\n      return Boolean(flags && flags.operational && (!flags.ready || flags.paused))\n    },\n    inTransientState: function() { return !this.hasError() && get(this, 'status.state.text', '').includes('ing') && !get(this, 'status.state.text', '').includes('Printing') },\n    inUserInteractionRequired: function() { return get(this, 'status.user_interaction_required', false) },\n    hasError: function() { return get(this, 'status.state.flags.error') || get(this, 'status.state.text', '').toLowerCase().includes('error') },\n    isAgentMoonraker: function() { return get(this, 'agent_name', '') === 'moonraker_obico'},\n    agentDisplayName: function() { return this.isAgentMoonraker() ? 'Klipper' : 'OctoPrint' },\n    basicStreamingInWebrtc: function() {\n      return get(this, 'settings.agent_name', '') === 'octoprint_obico' && semverGte(get(this, 'settings.agent_version', '0.0.0'), '2.1.0') ||\n        get(this, 'settings.agent_name', '') === 'moonraker_obico' && semverGte(get(this, 'settings.agent_version', '0.0.0'), '0.3.0')\n    },\n    alertUnacknowledged: function() {\n      return get(this, 'current_print.alerted_at')\n                && moment(\n                  get(this, 'current_print.alerted_at')\n                ).isAfter(\n                  moment(get(this, 'current_print.alert_acknowledged_at') || 0)\n                )\n    },\n  }\n  if (oldData){\n    if (get(oldData, 'status._ts', -1) > get(newData, 'status._ts', get(oldData, 'status._ts', 0))) {\n      delete newData.status\n    }\n    return {\n      ...oldData,\n      ...newData,\n      ...printerMixin,\n    }\n  } else {\n    return {\n      ...newData,\n      ...printerMixin,\n    }\n  }\n}\n\nexport const normalizedPrinterEvent = printerEvent => {\n  printerEvent.created_at = toMomentOrNull(printerEvent.created_at)\n  return printerEvent\n}","<template>\n  <b-container>\n    <b-row class=\"justify-content-center\">\n      <b-col v-if=\"user\" lg=\"8\" class=\"mt-3\">\n        <div v-if=\"printersToShow.length === 0\" class=\"wizard-container full-on-mobile\">\n          <b-container>\n            <b-row>\n              <div class=\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3\">\n                <svg viewBox=\"0 0 1965 240\" class=\"logo-img\">\n                  <use href=\"#svg-logo-compact\" />\n                </svg>\n              </div>\n            </b-row>\n            <b-row>\n              <h1 class=\"mx-auto\">Welcome To Obico</h1>\n            </b-row>\n            <b-row>\n              <b-col>\n                <hr />\n              </b-col>\n            </b-row>\n            <b-row v-if=\"isEnt && trialDaysLeft > 0\">\n              <b-col>\n                <h3 v-if=\"trialDaysLeft >= 29\" class=\"py-3\">Your 30-Day <a class=\"link\" target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\">Pro Plan</a> Free Trial Has Started!</h3>\n                <h3 v-else class=\"py-3\">{{trialDaysLeft}} Days Left on Your <a class=\"link\" target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\">Pro Plan </a>Free Trial!</h3>\n                <div class=\"pb-1\"><i class=\"feature-check fas fa-check-circle\"></i><span class=\"feature-text\">Unlimited Secure Tunneling to your OctoPrint</span></div>\n                <div class=\"pb-1\"><i class=\"feature-check fas fa-check-circle\"></i><span class=\"feature-text\">Premium 25 FPS Webcam Streaming</span></div>\n                <div class=\"pb-1\"><i class=\"feature-check fas fa-check-circle\"></i><span class=\"feature-text\">250 AI Failure Detection Hours</span></div>\n                <div class=\"pb-1\"><i class=\"feature-check fas fa-check-circle\"></i><span class=\"feature-text\">G-Code Remote Upload and Printing</span></div>\n                <div class=\"lead py-4\">OctoPrint has not been linked to your Obico account.</div>\n                <div class=\"d-flex flex-column align-center justify-content-center\">\n                  <div>\n                    <a :href=\"wizardUrl\" class=\"btn btn-primary btn-block mx-auto btn-lg\">Link OctoPrint Now</a>\n                  </div>\n                  <div>\n                    <div class=\"text-muted mx-auto text-center font-weight-light\">It's as easy as 1-2-3.</div>\n                  </div>\n                </div>\n              </b-col>\n            </b-row>\n            <div class=\"footer-note small\">Not ready to start yet? <a href=\"mailto:support@obico.io?subject=Please%20pause%20my%20free%20trial\">Email us</a> to pause your free trial.</div>\n          </b-container>\n        </div>\n        <div v-else>\n          <div class=\"text-center\">\n            <svg width=\"100\" height=\"30\">\n              <use href=\"#svg-logo-full\" />\n            </svg>\n          </div>\n\n          <div v-if=\"authorized\" class=\"authorization-successful\">\n            <h4 class=\"title\">Authorization Successful!</h4>\n            <p>You can close this page</p>\n          </div>\n          <div v-else>\n            <div>\n              <div class=\"lead text-center mt-3 mb-5\">Tunnel Access Authorization</div>\n              <h4 class=\"my-4\"><span class=\"font-weight-bold\">{{ appName }}</span> is requesting to access you OctoPrint Tunnel.</h4>\n              <p class=\"text-muted\"><a href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\" target=\"_blank\">OctoPrint Tunnel</a> is a secure way provided by <a href=\"https://www.obico.io/\" target=\"_blank\">Obico</a> to remotely access your OctoPrint. With the OctoPrint Tunnel, you can use {{appName}} to access your OctoPrint from anywhere.</p>\n\n              <b-alert v-if=\"!user.is_pro\" variant=\"warning\" dismissible class=\"my-3\" show>\n                <div>\n                  <i class=\"fas fa-exclamation-triangle\"></i> Tunnel usage of a free account is <a href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\" target=\"_blank\">capped at 300MB per month</a>. You can <a href=\"http://app.obico.io/ent_pub/pricing/\" target=\"_blank\">upgrade to the Obico app Pro plan for 1 Starbucks a month</a> to enjoy unlimited tunnel usage.\n                </div>\n              </b-alert>\n              <b-alert v-if=\"user.is_pro && trialDaysLeft > 0\" variant=\"warning\" dismissible class=\"my-3\" show>\n                <div>\n                  <i class=\"fas fa-exclamation-triangle\"></i> After the Free trial expires, tunnel data usage will be <a href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\" target=\"_blank\">capped at 300MB per month</a>. You can <a href=\"http://app.obico.io/ent_pub/pricing/\" target=\"_blank\">upgrade to the Obico app Pro plan for 1 Starbucks a month</a> to continue enjoying unlimited tunnel usage.\n                </div>\n              </b-alert>\n\n              <div class=\"mt-5\">\n                <p class=\"lead\">Tunnel access by <span class=\"font-weight-bold\">{{ appName }}</span> (make sure you trust it):\n                <h5 v-if=\"printersToShow.length === 0\">You have 0 active printers</h5>\n                <h5 v-else-if=\"printersToShow.length === 1\" class=\"font-weight-bold\">{{ printersToShow[0].name }}</h5>\n                <select v-else-if=\"printersToShow.length > 1\" v-model=\"printerToAuthorize\" class=\"custom-select\">\n                  <option :value=\"null\" selected disabled>Please select a printer</option>\n                  <option\n                    v-for=\"printer in printersToShow\"\n                    :key=\"printer.id\"\n                    :value=\"printer.id\"\n                  >\n                    {{ printer.name }}\n                  </option>\n                </select>\n                <div v-if=\"printersToShow.length\" class=\"d-flex mt-4 mb-3\">\n                  <button\n                    class=\"btn btn-primary\"\n                    style=\"flex: 1\"\n                    @click=\"authorize\"\n                    :disabled=\"!printerToAuthorize || performingAuthRequest\"\n                  >\n                    <b-spinner v-if=\"performingAuthRequest\" small label=\"Loading...\"></b-spinner>\n                    <span v-else>Authorize</span>\n                  </button>\n                  <a class=\"btn btn-outline-secondary ml-2\" style=\"flex: 1\" href=\"/user_preferences/authorized_apps\">Manage Apps</a>\n                </div>\n              </div>\n            </div>\n            <div class=\"mt-4\">\n              <p class=\"text-muted small mb-1\">\n                Security notes:\n              </p>\n              <ul class=\"text-muted small pl-4\">\n                <li>The app can only access the tunnel, not your Obico account info such as your email address.</li>\n                <li>The access remains valid until explicitly revoked. You can revoke the access by going to Preferences -> Authorized Apps.</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </b-col>\n      <b-col v-else class=\"mt-5\">\n        <div>\n          <b-container>\n            <div class=\"d-flex justify-content-center align-items-center\">\n                <img class=\"logo-icon\"\n                  :src=\"appLogo\" />\n                <h3>&#8644;</h3>\n                <svg class=\"logo-icon obico\">\n                  <use href=\"#svg-logo-compact\" />\n                </svg>\n                <h3>&#8644;</h3>\n                <img class=\"logo-icon\"\n                  :src=\"require('@static/img/octoprint_logo.png')\" />\n            </div>\n            <div class=\"my-4\">\n              <div class=\"mx-auto text-center\">\n                <h4>OctoPrint Tunnel</h4>\n                <div class=\"lead\">Powered by Obico</div>\n              </div>\n            </div>\n            <div class=\"account-details\">\n              <p>With the OctoPrint Tunnel by Obico, you can now use {{appName}} to <a href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\" target=\"_blank\">securely control and monitor your printer from anywhere</a>.</p>\n              <div class=\"text-muted\">Obico Free Account:</div>\n              <ul class=\"text-muted\">\n                <li>Unlimited realtime webcam at 0.1FPS.</li>\n                <li>300MB monthly tunnel data cap (excluding webcam streaming).</li>\n                <li>10 hours/mo AI failure detection.</li>\n              </ul>\n              <div class=\"text-muted\">Obico Pro Account (<a href=\"https://app.obico.io/ent_pub/pricing/\" target=\"_blank\">from $4/mo</a>):</div>\n              <ul class=\"text-muted\">\n                <li>Unlimited realtime webcam streaming.</li>\n                <li>Unlimited tunnel data usage.</li>\n                <li>50 hours/mo AI failure detection.</li>\n                <li><a href=\"https://app.obico.io/ent_pub/pricing/\" target=\"_blank\">And much more...</a></li>\n              </ul>\n            </div>\n            <div>\n              <div class=\"my-5 w-100\">\n                <a class=\"btn btn-primary btn-block\" :href=\"loginUrl\">SIGN IN </a>\n                <div class=\"text-center pt-3 w-100\">\n                  <div class=\"font-weight-light text-muted\">- OR -</div>\n                  <a class=\"btn\" :href=\"signupUrl\">SIGN UP</a>\n                </div>\n              </div>\n            </div>\n          </b-container>\n        </div>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport urls from '@config/server-urls'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport { user, settings} from '@src/lib/page_context'\nimport octopodLogo from '@static/img/octopod.webp'\nimport octoappLogo from '@static/img/octoapp.webp'\nimport polymerLogo from '@static/img/polymer.webp'\nimport printoidLogo from '@static/img/printoid.webp'\nimport genericAppLogo from '@static/img/generic-app.png'\n\nexport default {\n  name: 'NewOctoPrintTunnelPage',\n\n  components: {\n  },\n\n  data() {\n    return {\n      user: null,\n      printers: [],\n      printerId: null,\n      printerToAuthorize: null,\n      performingAuthRequest: false,\n      authorized: false,\n    }\n  },\n\n  created() {\n    this.user = user()\n    const {IS_ENT} = settings()\n    this.isEnt = !!IS_ENT\n    this.printerId = new URLSearchParams(window.location.search).get('printer_id')\n    if (this.user) {\n      this.fetchPrinters()\n    }\n  },\n\n  computed: {\n    printersToShow() {\n      return this.printerId ? this.printers.filter((printer) => printer.id == this.printerId) : this.printers\n    },\n    loginUrl() {\n      return `/accounts/login/?hide_navbar=true&next=${encodeURIComponent(window.location.pathname+window.location.search)}`\n    },\n    signupUrl() {\n      return `/accounts/signup/?hide_navbar=true&next=${encodeURIComponent(window.location.pathname+window.location.search)}`\n    },\n    wizardUrl() {\n      return `/printers/wizard/?redirectToTunnelCreation=${encodeURIComponent(window.location.pathname+window.location.search)}`\n    },\n    appName() {\n      return new URLSearchParams(window.location.search).get('app') || 'Unknown App'\n    },\n    trialDaysLeft() {\n      if (this.user?.subscription?.plan_id !== 'pro-trial') {\n        return -1\n      }\n      return moment(this.user.subscription.expired_at).diff(moment(), 'days') + 1\n    },\n    appLogo() {\n      switch (this.appName.toLowerCase()) {\n        case 'octopod':\n          return octopodLogo\n        case 'printoid':\n          return printoidLogo\n        case 'polymer':\n          return polymerLogo\n        case 'octoapp':\n          return octoappLogo\n        default:\n          return genericAppLogo\n      }\n    },\n  },\n\n  methods: {\n    fetchPrinters() {\n      return axios\n        .get(urls.printers())\n        .then(response => {\n          response.data.forEach((p) => {\n            this.printers.push(normalizedPrinter(p))\n          })\n          if (this.printersToShow.length == 1) {\n            this.printerToAuthorize = this.printersToShow[0].id\n          }\n        })\n    },\n\n    authorize() {\n      if (this.printersToShow.length) {\n        this.performingAuthRequest = true\n        axios\n          .post(urls.tunnels(), {\n            app_name: this.appName,\n            target_printer_id: this.printerToAuthorize || this.printersToShow[0].id,\n          })\n          .then(response => {\n            this.authorized = true\n            const tunnelEndpoint = response.data.tunnel_endpoint\n            const redirectUrl = new URLSearchParams(window.location.search).get('success_redirect_url') || '/tunnels/succeeded/'\n            window.location.replace(`${redirectUrl}?tunnel_endpoint=${tunnelEndpoint}`)\n          })\n          .catch(error => {\n            this.performingAuthRequest = false\n            this.$swal.Reject.fire({\n              title: 'Oops',\n              text: error.message,\n            })\n          })\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\nbody\n  padding-bottom: 0\n\n.wizard-container\n  padding: 1.5rem 0.6rem 3rem\n\n.feature-check\n  color: var(--color-primary)\n\n.feature-text\n  margin-left: 0.5em\n\n.authorization-successful\n  padding-top: 6rem\n  text-align: center\n\n.logo-img\n  max-height: 4em\n  margin-bottom: 2em\n\n.logo-icon\n  max-height: 50px\n  object-fit: contain\n  border-radius: 8px\n  margin: 0px 15px\n\n  &.obico\n    max-width: 46px\n    color: var(--color-primary)\n\n.account-details\n  background: var(--color-surface-secondary)\n  border-radius: var(--border-radius-sm)\n  padding: 15px\n  margin-left: -15px\n  margin-right: -15px\n\n.footer-note\n  margin: 3rem 0 -1.5rem\n  text-align: right\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewOctoPrintTunnelPage.vue?vue&type=template&id=963b7958&scoped=true&\"\nimport script from \"./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nexport * from \"./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewOctoPrintTunnelPage.vue?vue&type=style&index=0&id=963b7958&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"963b7958\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isPro && _vm.usageFetched)?_c('div',{staticClass:\"floating-panel\"},[(_vm.showDetails)?_c('div',{on:{\"click\":function($event){_vm.showDetails = false},\"mouseover\":function($event){_vm.showDetails = true},\"mouseleave\":function($event){_vm.showDetails = false}}},[_c('div',{staticClass:\"text-muted\"},[_vm._v(\"Monthly data usage (\"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users\",\"target\":\"_blank\"}},[_vm._v(\"Resets in \"+_vm._s(_vm.daysUntilReset)+\" days\")]),_vm._v(\")\")]),_c('div',{class:_vm.usageClass},[_vm._v(\"Used \"+_vm._s(_vm.usageMTD)+\" of \"+_vm._s(_vm.humanizedUsageCap)+\".\")]),(_vm.overage)?_c('div',[_vm._v(\"Your month-to-date tunneling usage is over the Free plan limit. \"),_c('a',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"button\",\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"Get Unlimited Tunneling\")])]):_vm._e()]):_c('div',{class:_vm.usageClass,on:{\"click\":function($event){_vm.showDetails = true},\"mouseover\":function($event){_vm.showDetails = true},\"mouseleave\":function($event){_vm.showDetails = false}}},[_vm._v(_vm._s(_vm.percentage)+\"%\")])]):_vm._e(),_c('div',[(_vm.printerId)?_c('iframe',{staticClass:\"tunnel-iframe\",attrs:{\"src\":_vm.iframeUrl() + '#temp'}}):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"!isPro && usageFetched\" class=\"floating-panel\">\n        <div v-if=\"showDetails\" @click=\"showDetails = false\" @mouseover=\"showDetails = true\" @mouseleave=\"showDetails = false\">\n          <div class=\"text-muted\">Monthly data usage (<a href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users\" target=\"_blank\">Resets in {{ daysUntilReset}} days</a>)</div>\n          <div :class=\"usageClass\">Used {{ usageMTD }} of {{ humanizedUsageCap }}.</div>\n          <div v-if=\"overage\">Your month-to-date tunneling usage is over the Free plan limit. <a type=\"button\" class=\"btn btn-sm btn-primary\" href=\"/ent_pub/pricing/\">Get Unlimited Tunneling</a></div>\n        </div>\n        <div v-else @click=\"showDetails = true\" @mouseover=\"showDetails = true\" @mouseleave=\"showDetails = false\" :class=\"usageClass\">{{percentage}}%</div>\n    </div>\n    <div>\n      <iframe v-if=\"printerId\" :src=\"iframeUrl() + '#temp'\" class=\"tunnel-iframe\"></iframe>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport split from 'lodash/split'\nimport filesize from 'filesize'\nimport urls from '@config/server-urls'\nimport { user } from '@src/lib/page_context'\nimport { isLocalStorageSupported } from '@static/js/utils'\n\nexport default {\n  name: 'OctoPrintTunnelPage',\n\n  components: {},\n\n  props: {\n  },\n  data: function() {\n    return {\n      bytesMTD: null,\n      usageCap: null,\n      usageFetched: false,\n      isPro: true,\n      printerId: null,\n      showDetails: false,\n    }\n  },\n\n  computed: {\n    usageClass() {\n      return {\n        'text-success': this.bytesMTD < this.usageCap * 0.8,\n        'text-warning': this.bytesMTD >= this.usageCap * 0.8 && this.bytesMTD < this.usageCap,\n        'text-danger': this.bytesMTD >= this.usageCap\n      }\n    },\n    usageMTD() {\n      return filesize(this.bytesMTD)\n    },\n    humanizedUsageCap() {\n      return filesize(this.usageCap)\n    },\n    overage() {\n      return this.bytesMTD >= this.usageCap\n    },\n    percentage() {\n      return Math.round(this.bytesMTD/this.usageCap*100)\n    },\n    daysUntilReset() {\n      const endOfMonth = moment().endOf('month')\n      return endOfMonth.diff(moment(), 'days') + 1\n    }\n  },\n\n  created() {\n    this.isPro = user().is_pro\n    this.printerId = split(window.location.pathname, '/').slice(-2, -1).pop()\n  },\n\n  mounted() {\n    const skipWarning = isLocalStorageSupported() ? localStorage.getItem('skip-tunneling-warning') : null\n    if (skipWarning !== 'yes') {\n      this.$swal.Prompt.fire({\n        html: `\n          <h4 class=\"text-center p-2\">\n            <svg class=\"menu-icon\" style=\"height: 1.1em; width: 1em; margin-right: 0.75em;\">\n              <use href=\"#svg-octoprint-tunneling\" />\n            </svg>\n            OctoPrint Secure Tunnel\n          </h4>\n          <div class=\"p-1\">\n            It may take long time for OctoPrint page to load as it is securely tunneled via the Obico app server.\n          </div>\n          <div class=\"p-1\">\n            <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users\">\n            Learn more about OctoPrint Tunneling's security and page load speed.\n            <i class=\"fas fa-external-link-alt\"></i>\n          </a>\n        </div>\n        `,\n        input: 'checkbox',\n        inputPlaceholder: 'Don\\'t show again',\n      },\n      'octoprint-tunnel.warning').then((result) => {\n        if (result.isConfirmed) {\n          if (result.value && isLocalStorageSupported()) {\n            localStorage.setItem('skip-tunneling-warning', 'yes')\n          }\n        }\n      })\n\n      // Scale up popup on mobiles, otherwise it's too small (because of disabled meta viewport tag)\n      if (window.matchMedia('(pointer:none), (pointer:coarse)')) {\n        document.querySelector('.swal2-popup').classList.add('x150')\n      }\n    }\n\n    const self = this\n    const fetchUsage = (firstFetch = false) => {\n      axios\n        .get(urls.tunnelUsage())\n        .then((resp) => {\n          self.bytesMTD = resp.data.total\n          self.usageCap = resp.data.monthly_cap\n          if (firstFetch) {\n            self.usageFetched = true\n          }\n        })\n    }\n    setInterval(fetchUsage, 15*1000)\n    setTimeout(() => { fetchUsage(true) }, 4000)\n  },\n\n  methods: {\n    iframeUrl() {\n      return `/octoprint/${this.printerId}/`\n    },\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.tunnel-iframe\n    width: 100%\n    height: 100vh\n    background: var(--color-background)\n    position: absolute\n    top: 0\n    left: 0\n\n.floating-panel\n  position: fixed\n  bottom: 0px\n  right: 0px\n  box-shadow: 2px 2px 10px rgba(0,0,0,.3)\n  background-color: var(--color-surface-primary)\n  padding: 10px\n  max-width: 300px\n  z-index: 10\n  display: flex\n  align-items: center\n\n</style>\n\n<style lang=\"sass\">\n@media (pointer:none), (pointer:coarse)\n  .swal2-popup.x150\n    transform: scale(1.5)\n  .floating-panel\n    transform: scale(2)\n    transform-origin: right bottom\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OctoPrintTunnelPage.vue?vue&type=template&id=66809798&scoped=true&\"\nimport script from \"./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nexport * from \"./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OctoPrintTunnelPage.vue?vue&type=style&index=0&id=66809798&lang=sass&scoped=true&\"\nimport style1 from \"./OctoPrintTunnelPage.vue?vue&type=style&index=1&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66809798\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"lg\":\"8\"}},[_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header text-center\"},[_vm._v(\" F \"),_c('i',{staticClass:\"fas fa-search focused-feedback-icon\"}),_vm._v(\"CUSED FEEDBACK \")]),_c('loading',{attrs:{\"active\":_vm.print === null,\"is-full-page\":true}}),(_vm.print !== null)?_c('div',[(!_vm.print.access_consented_at)?_c('consent',{attrs:{\"print\":_vm.print},on:{\"continue-btn-pressed\":_vm.consentBtnPressed}}):_c('div',[_c('div',[_c('vue-slick-carousel',{ref:\"carousel\",attrs:{\"arrows\":true,\"dots\":true},on:{\"afterChange\":_vm.onNextShot},scopedSlots:_vm._u([{key:\"customPaging\",fn:function(page){return [_c('div',{class:_vm.pageClass(page)},[_vm._v(\"\")])]}}],null,false,3226812120)},_vm._l((_vm.shots),function(shot,i){return _c('print-shot-card',{key:i,attrs:{\"shot\":shot},on:{\"shotChanged\":_vm.onShotChanged}})}),1)],1),_c('br'),_c('div',{staticClass:\"card-body p-3\"},[_c('a',{attrs:{\"href\":\"/prints/\"}},[_c('i',{staticClass:\"fas fa-chevron-left\"}),_vm._v(\" Time-lapse \")])])])],1):_vm._e()],1)])],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body consent-section\"},[_c('div',[_vm._v(\" Number of snapshots: \"),_c('span',{staticClass:\"feedback-estimate\"},[_vm._v(_vm._s(this.print.printshotfeedback_set.length))])]),_c('p',[_vm._v(\" Estimated time to finish: \"),_c('span',{staticClass:\"feedback-estimate\"},[_vm._v(_vm._s(this.estimatedFeedbackTime))])]),_vm._m(0),_c('br'),_c('button',{staticClass:\"btn btn-primary btn-block\",attrs:{\"disabled\":!_vm.consentChecked,\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('continue-btn-pressed')}}},[_vm._v(\"Start Focused Feedback\")]),_c('br'),_c('div',{staticClass:\"custom-control custom-checkbox form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.consentChecked),expression:\"consentChecked\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"name\":\"consented\",\"id\":\"consented-checkbox\"},domProps:{\"checked\":Array.isArray(_vm.consentChecked)?_vm._i(_vm.consentChecked,null)>-1:(_vm.consentChecked)},on:{\"change\":function($event){var $$a=_vm.consentChecked,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.consentChecked=$$a.concat([$$v]))}else{$$i>-1&&(_vm.consentChecked=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.consentChecked=$$c}}}}),_vm._m(1)]),_c('br'),_c('div',[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"File:\")]),_vm._v(\" \"+_vm._s(_vm.print.filename)+\" \")]),_c('div',[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Printed:\")]),_vm._v(\" \"+_vm._s(_vm.print.started_at.fromNow())+\" \")]),_c('br'),(_vm.print.video_url)?_c('video-box',{attrs:{\"videoUrl\":_vm.print.video_url,\"posterUrl\":_vm.print.poster_url,\"fullScreenBtn\":false}}):_c('div',[_c('detective-working')],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"font-weight-light\"},[_vm._v(\" Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of the print. You will earn \"),_c('strong',{staticClass:\"text-light\"},[_vm._v(\"2 non-expirable AI Detection Hours\")]),_vm._v(\" after you finish this Focused Feedback. \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"}},[_vm._v(\"Learn more. \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"for\":\"consented-checkbox\"}},[_vm._v(\" I grant the Obico app team members the permission to review the time-lapse video of the print shown on this page. \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-need-to-grant-permission-to-tsd-team-to-review-your-time-lapse\"}},[_vm._v(\"Why is this necessary? \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-img-top\"},[_c('video-player',{ref:\"videoPlayer\",staticClass:\"vjs-default-skin vjs-big-play-centered\",attrs:{\"options\":_vm.playerOptions,\"playsinline\":true},on:{\"timeupdate\":_vm.onTimeUpdate}}),(_vm.fullscreenBtn)?_c('a',{staticClass:\"fullscreen-btn\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){return _vm.$emit('fullscreen')}}},[_c('i',{staticClass:\"fa fa-expand fa-2x\",attrs:{\"aria-hidden\":\"true\"}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card-img-top\">\n    <video-player\n      class=\"vjs-default-skin vjs-big-play-centered\"\n      ref=\"videoPlayer\"\n      :options=\"playerOptions\"\n      :playsinline=\"true\"\n      @timeupdate=\"onTimeUpdate\"\n    />\n    <a v-if=\"fullscreenBtn\" class=\"fullscreen-btn\" role=\"button\" @click=\"$emit('fullscreen')\">\n      <i class=\"fa fa-expand fa-2x\" aria-hidden=\"true\"></i>\n    </a>\n  </div>\n</template>\n\n<script>\nimport 'video.js/dist/video-js.css'\nimport { videoPlayer } from 'vue-video-player'\n\nexport default {\n  name: 'VideoBox',\n  components: {\n    videoPlayer\n  },\n  props: {\n    videoUrl: String,\n    posterUrl: String,\n    fullscreenBtn: {\n      default() {\n        return true\n      },\n      type: Boolean\n    },\n    fluid: {\n      type: Boolean,\n      default() {\n        return true\n      }\n    },\n    autoplay: {\n      type: Boolean,\n      default() {\n        return false\n      }\n    }\n  },\n  computed: {\n    playerOptions() {\n      return {\n        // videojs options\n        muted: true,\n        preload: 'none',\n        language: 'en',\n        playbackRates: [0.5, 1, 1.5, 2],\n        fluid: this.fluid,\n        fill: !this.fluid,\n        autoplay: this.autoplay,\n        sources: [\n          {\n            type: 'video/mp4',\n            src: this.videoUrl\n          }\n        ],\n        controlBar: { fullscreenToggle: false },\n        poster: this.posterUrl\n      }\n    }\n  },\n  methods: {\n    onTimeUpdate(event) {\n      this.$emit('timeupdate', event.currentTime() / event.duration())\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.card-img-top\n  position: relative\n  background-color: black\n\n  a.fullscreen-btn\n    position: absolute\n    top: 0\n    right: 0\n    padding: 0.5rem\n    background-color: rgba(0,0,0,0.7)\n    color: rgba(255,255,255,0.5)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoBox.vue?vue&type=template&id=6f83ffbe&scoped=true&\"\nimport script from \"./VideoBox.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoBox.vue?vue&type=style&index=0&id=6f83ffbe&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f83ffbe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card bg-dark text-white\"},[_c('img',{staticClass:\"card-img\",attrs:{\"src\":require('@static/img/detective-working.gif'),\"alt\":\"Obi is still working\"}}),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-img-overlay\",staticStyle:{\"background-color\":\"rgba(0,0,0,0.6)\"}},[_c('h5',{staticClass:\"card-title text-center\",staticStyle:{\"padding\":\"70px 0\"}},[_vm._v(\"Obi is still busy working on your time-lapse\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card bg-dark text-white\">\n    <img\n      class=\"card-img\"\n      :src=\"require('@static/img/detective-working.gif')\"\n      alt=\"Obi is still working\"\n    />\n    <div class=\"card-img-overlay\" style=\"background-color: rgba(0,0,0,0.6);\">\n      <h5\n        class=\"card-title text-center\"\n        style=\"padding: 70px 0;\"\n      >Obi is still busy working on your time-lapse</h5>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DetectiveWorking'\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetectiveWorking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetectiveWorking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetectiveWorking.vue?vue&type=template&id=32fcec64&\"\nimport script from \"./DetectiveWorking.vue?vue&type=script&lang=js&\"\nexport * from \"./DetectiveWorking.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"card-body consent-section\">\n    <div>\n      Number of snapshots:\n      <span\n        class=\"feedback-estimate\"\n      >{{ this.print.printshotfeedback_set.length }}</span>\n    </div>\n    <p>\n      Estimated time to finish:\n      <span class=\"feedback-estimate\">{{ this.estimatedFeedbackTime }}</span>\n    </p>\n    <p class=\"font-weight-light\">\n      Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of the print.\n      You will earn\n      <strong\n        class=\"text-light\"\n      >2 non-expirable AI Detection Hours</strong> after you finish this Focused Feedback.\n      <a target=\"_blank\"\n        href=\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"\n      >Learn more. <small><i class=\"fas fa-external-link-alt\"></i></small></a>\n    </p>\n    <br />\n    <button\n      v-on:click=\"$emit('continue-btn-pressed')\"\n      :disabled=\"!consentChecked\"\n      class=\"btn btn-primary btn-block\"\n      type=\"button\"\n    >Start Focused Feedback</button>\n    <br />\n    <div class=\"custom-control custom-checkbox form-check-inline\">\n      <input\n        v-model=\"consentChecked\"\n        type=\"checkbox\"\n        name=\"consented\"\n        class=\"custom-control-input\"\n        id=\"consented-checkbox\"\n      />\n      <label class=\"custom-control-label\" style=\"font-size: 16px;\" for=\"consented-checkbox\">\n        I grant the Obico app team members the permission to review the time-lapse video of the print shown on this page.\n          <a target=\"_blank\"\n            href=\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-need-to-grant-permission-to-tsd-team-to-review-your-time-lapse\"\n          >Why is this necessary? <small><i class=\"fas fa-external-link-alt\"></i></small></a>\n      </label>\n    </div>\n    <br />\n    <div>\n      <span class=\"text-muted\">File:</span>\n      {{ print.filename }}\n    </div>\n    <div>\n      <span class=\"text-muted\">Printed:</span>\n      {{ print.started_at.fromNow() }}\n    </div>\n    <br />\n    <video-box\n      v-if=\"print.video_url\"\n      :videoUrl=\"print.video_url\"\n      :posterUrl=\"print.poster_url\"\n      :fullScreenBtn=\"false\"\n    />\n    <div v-else>\n      <detective-working />\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\n\nimport VideoBox from '@src/components/VideoBox'\nimport DetectiveWorking from '@src/components/DetectiveWorking'\n\nexport default {\n  name: 'Consent',\n\n  props: {\n    print: Object\n  },\n\n  components: { VideoBox, DetectiveWorking },\n\n  data() {\n    return {\n      consentChecked: false\n    }\n  },\n\n  computed: {\n    estimatedFeedbackTime() {\n      const seconds = this.print.printshotfeedback_set.length * 12\n      if (seconds < 60) {\n        return `${seconds} seconds`\n      } else {\n        return moment.duration(seconds, 'seconds').humanize()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.consent-section\n  background: var(--color-surface-secondary)\n\n.feedback-estimate\n  font-size: 1.2em\n  font-weight: bolder\n  color: var(--color-primary)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Consent.vue?vue&type=template&id=05780852&scoped=true&\"\nimport script from \"./Consent.vue?vue&type=script&lang=js&\"\nexport * from \"./Consent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Consent.vue?vue&type=style&index=0&id=05780852&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05780852\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('img',{staticClass:\"card-img-top\",attrs:{\"src\":_vm.shot.image_url}}),_c('div',{staticClass:\"px-3 pt-4\"},[_c('b-form-group',{attrs:{\"label\":\"Do you see any spaghetti in this picture?\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.options},on:{\"change\":_vm.updateShot},model:{value:(_vm.answer),callback:function ($$v) {_vm.answer=$$v},expression:\"answer\"}})],1),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',{staticClass:\"text-muted\"},[_vm._v(\" Not sure? Look at \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work#spaghetti-examples\"}},[_vm._v(\"some examples. \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <img class=\"card-img-top\" :src=\"shot.image_url\" />\n    <div class=\"px-3 pt-4\">\n      <b-form-group label=\"Do you see any spaghetti in this picture?\">\n        <b-form-radio-group\n          v-model=\"answer\"\n          :options=\"options\"\n          @change=\"updateShot\"\n        ></b-form-radio-group>\n      </b-form-group>\n      <small class=\"text-muted\">\n        Not sure? Look at\n        <a target=\"_blank\"\n          href=\"https://www.obico.io/docs/user-guides/how-does-credits-work#spaghetti-examples\"\n        >some examples. <small><i class=\"fas fa-external-link-alt\"></i></small></a>\n      </small>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport urls from '@config/server-urls'\nimport { BFormGroup, BFormRadioGroup} from 'bootstrap-vue'\n\nexport default {\n  name: 'PrintShotCard',\n\n  components: {\n    BFormGroup,\n    BFormRadioGroup,\n  },\n\n  props: {\n    shot: Object\n  },\n\n  data() {\n    return {\n      answer: this.shot.answer,\n      options: [\n        { text: 'Yes', value: 'LOOKS_BAD' },\n        { text: 'No', value: 'LOOKS_OK' },\n        { text: 'I am not sure', value: 'UNDECIDED' },\n      ]\n    }\n  },\n\n  methods: {\n    updateShot: function(answer) {\n      axios\n        .put(urls.printShotFeedback(this.shot.id, this.shot.print_id), {\n          answer: answer\n        })\n\n        .then(response => {\n          const { instance, credited_dhs } = response.data\n\n          if (credited_dhs > 0) {\n            this.$swal.Prompt.fire({\n              title: 'You are awesome!',\n              html:\n                '<p>The AI failure detection just got a little better because of your feedback!</p><p>You just earned 2 non-expirable AI Detection Hours - Yay!</p>',\n              confirmButtonText: 'I\\'m done!',\n              showCancelButton: true,\n              cancelButtonText: 'Change feedback'\n            }).then(result => {\n              if (result.isConfirmed) {\n                window.location.href = '/prints/'\n              } else {\n                this.$emit('shotChanged', instance)\n              }\n            })\n          } else {\n            this.$emit('shotChanged', instance)\n          }\n        })\n    }\n  }\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintShotCard.vue?vue&type=template&id=81fe0bc4&\"\nimport script from \"./PrintShotCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintShotCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-wrapper\",class:{'collapsed': _vm.collapsed, 'is-in-mobile': _vm.inMobileWebView}},[_c('nav',{staticClass:\"side-nav\"},[_c('a',{staticClass:\"sidebar-header\",attrs:{\"href\":\"/\"}},[_c('svg',{staticClass:\"logo-small\"},[_c('use',{attrs:{\"href\":\"#svg-logo-compact\"}})])]),_c('ul',{staticClass:\"list-unstyled m-0\"},[(_vm.isEnt && !_vm.user.is_pro)?_c('li',{class:{'active': _vm.path === '/ent_pub/pricing/'}},[_vm._m(0)]):_vm._e(),(_vm.user)?_c('li',{class:{'active': _vm.path === '/printers/'}},[_c('a',{attrs:{\"href\":\"/printers/\"}},[_c('svg',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"width\":\"1.4em\",\"height\":\"1.4em\"}},[_c('use',{attrs:{\"href\":\"#svg-3d-printer\"}})]),_c('br'),_vm._v(\" Printers \")])]):_vm._e(),(_vm.user)?_c('li',{class:{'active': _vm.path === '/prints/'}},[_vm._m(1)]):_vm._e(),(_vm.user)?_c('li',{class:{'active': _vm.path === '/g_code_files/'}},[_vm._m(2)]):_vm._e()]),_c('div',{staticClass:\"side-nav-footer\"},[_c('ul',{staticClass:\"list-unstyled m-0\"},[(_vm.isEnt)?_c('li',{class:{'active': _vm.path === '/ent_pub/pricing/'}},[_vm._m(3)]):_vm._e(),_vm._m(4),_vm._m(5),_vm._m(6),(_vm.user)?_c('li',{class:{'active': _vm.path === '/printer_events/'}},[_c('a',{attrs:{\"href\":\"/printer_events/\"}},[_c('i',{staticClass:\"fas fa-bell position-relative\"},[(_vm.hasUnseenPrinterEvents)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(_vm.unseenPrinterEventsDisplay))]):_vm._e()]),_c('span',{staticClass:\"trim-text\"},[_vm._v(\"Notifications\")])])]):_vm._e(),(_vm.user)?_c('li',{class:{'active': _vm.path === '/user_preferences/'}},[_vm._m(7)]):_vm._e()])])]),_c('div',{staticClass:\"content-wrapper\",class:{\n      'hide-top-nav': !_vm.$slots.topBarLeft && !_vm.$slots.topBarRight\n    }},[_c('b-navbar',{staticClass:\"top-nav\"},[_c('div',{staticClass:\"d-flex\"},[_c('b-button',{staticClass:\"shadow-none p-0 mr-3 position-relative toggle-sidebar\",attrs:{\"variant\":\"_\"},on:{\"click\":function($event){_vm.collapsed = !_vm.collapsed}}},[_c('i',{staticClass:\"fas fa-bars position-relative\"},[(_vm.hasUnseenPrinterEvents)?_c('div',{staticClass:\"notification-dot\"},[_c('svg',{attrs:{\"width\":\"8px\",\"height\":\"8px\"}},[_c('use',{attrs:{\"href\":\"#svg-circle-icon\"}})])]):_vm._e()])]),_vm._t(\"topBarLeft\")],2),_vm._t(\"topBarRight\")],2),_c('div',{staticClass:\"page-content\"},[(_vm.layoutSections.contentTop)?_c('content-top'):_vm._e(),_vm._t(\"content\")],2)],1),_c('div',{staticClass:\"content-overlay\",on:{\"click\":function($event){_vm.collapsed = true}}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"primary\",attrs:{\"href\":\"/ent_pub/pricing/\"}},[_c('i',{staticClass:\"fas fa-star\"}),_vm._v(\" Upgrade to Pro \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"/prints/\"}},[_c('i',{staticClass:\"fas fa-video\"}),_vm._v(\" Time-Lapses \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"/g_code_files/\"}},[_c('i',{staticClass:\"fas fa-file-code\"}),_vm._v(\" G-Codes \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"/ent_pub/pricing/\"}},[_c('i',{staticClass:\"fas fa-dollar-sign\"}),_vm._v(\" Pricing \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('a',{attrs:{\"href\":\"https://www.obico.io/help/\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-question\"}),_vm._v(\" Help \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('a',{attrs:{\"href\":\"https://obico.io/discord\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-comments\"}),_vm._v(\" Community \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('hr',{staticClass:\"my-0 mx-2\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"/user_preferences/\"}},[_c('i',{staticClass:\"fas fa-cog\"}),_c('span',{staticClass:\"trim-text\"},[_vm._v(\"Preferences\")])])}]\n\nexport { render, staticRenderFns }","export default {\n}","<template>\n  <div class=\"page-wrapper\" :class=\"{'collapsed': collapsed, 'is-in-mobile': inMobileWebView}\">\n    <!-- Sidebar -->\n    <nav class=\"side-nav\">\n      <a href=\"/\" class=\"sidebar-header\">\n        <svg class=\"logo-small\">\n          <use href=\"#svg-logo-compact\" />\n        </svg>\n      </a>\n      <ul class=\"list-unstyled m-0\">\n        <li v-if=\"isEnt && !user.is_pro\" :class=\"{'active': path === '/ent_pub/pricing/'}\">\n          <a href=\"/ent_pub/pricing/\" class=\"primary\">\n            <i class=\"fas fa-star\"></i>\n            Upgrade to Pro\n          </a>\n        </li>\n        <li v-if=\"user\" :class=\"{'active': path === '/printers/'}\">\n          <a href=\"/printers/\">\n            <svg width=\"1.4em\" height=\"1.4em\" style=\"margin-bottom: 5px\">\n              <use href=\"#svg-3d-printer\" />\n            </svg>\n            <br>\n            Printers\n          </a>\n        </li>\n        <li v-if=\"user\" :class=\"{'active': path === '/prints/'}\">\n          <a href=\"/prints/\">\n            <i class=\"fas fa-video\"></i>\n            Time-Lapses\n          </a>\n        </li>\n        <li v-if=\"user\" :class=\"{'active': path === '/g_code_files/'}\">\n          <a href=\"/g_code_files/\">\n            <i class=\"fas fa-file-code\"></i>\n            G-Codes\n          </a>\n        </li>\n      </ul>\n      <div class=\"side-nav-footer\">\n        <ul class=\"list-unstyled m-0\">\n          <li v-if=\"isEnt\" :class=\"{'active': path === '/ent_pub/pricing/'}\">\n            <a href=\"/ent_pub/pricing/\">\n              <i class=\"fas fa-dollar-sign\"></i>\n              Pricing\n            </a>\n          </li>\n          <li>\n            <a href=\"https://www.obico.io/help/\" target=\"_blank\">\n              <i class=\"fas fa-question\"></i>\n              Help\n            </a>\n          </li>\n          <li>\n            <a href=\"https://obico.io/discord\" target=\"_blank\">\n              <i class=\"fas fa-comments\"></i>\n              Community\n            </a>\n          </li>\n          <li>\n            <hr class=\"my-0 mx-2\">\n          </li>\n          <li v-if=\"user\" :class=\"{'active': path === '/printer_events/'}\">\n            <a href=\"/printer_events/\">\n              <i class=\"fas fa-bell position-relative\">\n                <span v-if=\"hasUnseenPrinterEvents\" class='badge'>{{ unseenPrinterEventsDisplay }}</span>\n              </i>\n              <span class=\"trim-text\">Notifications</span>\n            </a>\n          </li>\n          <li v-if=\"user\" :class=\"{'active': path === '/user_preferences/'}\">\n            <a href=\"/user_preferences/\">\n              <i class=\"fas fa-cog\"></i>\n              <span class=\"trim-text\">Preferences</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n    <!-- Main view (with top-bar) -->\n    <div\n      class=\"content-wrapper\"\n      :class=\"{\n        'hide-top-nav': !$slots.topBarLeft && !$slots.topBarRight\n      }\"\n    >\n      <!-- Top-bar -->\n      <b-navbar class=\"top-nav\">\n        <div class=\"d-flex\">\n          <b-button @click=\"collapsed = !collapsed\" variant=\"_\" class=\"shadow-none p-0 mr-3 position-relative toggle-sidebar\">\n            <i class=\"fas fa-bars position-relative\">\n              <div v-if=\"hasUnseenPrinterEvents\" class=\"notification-dot\">\n                <svg width=\"8px\" height=\"8px\">\n                  <use href=\"#svg-circle-icon\" />\n                </svg>\n              </div>\n            </i>\n          </b-button>\n          <slot name=\"topBarLeft\"></slot>\n        </div>\n        <slot name=\"topBarRight\"></slot>\n      </b-navbar>\n      <!-- Page content -->\n      <div class=\"page-content\">\n        <content-top v-if=\"layoutSections.contentTop\"></content-top>\n        <slot name=\"content\"></slot>\n      </div>\n    </div>\n    <div class=\"content-overlay\" @click=\"collapsed = true\"></div>\n  </div>\n</template>\n\n<script>\nimport get from 'lodash/get'\nimport { inMobileWebView, user, settings } from '@src/lib/page_context'\nimport layoutSections from '@config/layout/sections'\n\nexport default {\n  name: 'Layout',\n\n  components: {\n    ...Object.keys(layoutSections).reduce((obj, name) => {\n      return Object.assign(obj, { [name]: layoutSections[name].importComponent })\n    }, {}),\n  },\n\n  data() {\n    return {\n      layoutSections,\n      collapsed: true,\n      path: window.location.pathname,\n      user: null,\n      allowSignUp: false,\n      isEnt: false,\n    }\n  },\n\n  computed: {\n    inMobileWebView() {\n      return inMobileWebView()\n    },\n    hasUnseenPrinterEvents() {\n      return get(this.user, 'unseen_printer_events', 0) > 0\n    },\n    unseenPrinterEventsDisplay() {\n      const num = get(this.user, 'unseen_printer_events', 0)\n      return num > 99 ? '99+' : num\n    },\n  },\n\n  created() {\n    const {ACCOUNT_ALLOW_SIGN_UP, IS_ENT} = settings()\n    this.allowSignUp = !!ACCOUNT_ALLOW_SIGN_UP\n    this.isEnt = !!IS_ENT\n    this.user = user()\n  },\n\n  mounted() {\n    // Temporary solution to correctly show alerts inserted by `snippets/messages.html` from Django\n    const staticAlert = document.querySelector('.message-snippet')\n    if (staticAlert && this.inMobileWebView) {\n      staticAlert.classList.add('is-in-mobile')\n    }\n    if (this.inMobileWebView) {\n      document.querySelector('body').style.paddingBottom = 0\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\">\n.message-snippet\n  margin-top: 50px\n  margin-left: 100px\n  @media (max-width: 768px)\n    margin-left: 0\n  &.is-in-mobile\n    margin-left: 0\n</style>\n\n<style lang=\"sass\" scoped>\n.page-wrapper\n  display: flex\n  padding-left: 100px\n  &.is-in-mobile\n    padding-left: 0\n    .side-nav\n      display: none\n    .toggle-sidebar\n      display: none\n\n    .content-wrapper.hide-top-nav\n      .top-nav\n        display: none\n      .page-content\n        padding: 15px 0\n\n.side-nav\n  min-width: 100px\n  max-width: 100px\n  text-align: center\n  background: var(--color-surface-primary)\n  position: fixed\n  left: 0\n  top: 0\n  height: 100%\n  display: flex\n  flex-direction: column\n  z-index: 1000\n  overflow-y: auto\n  transition: all .2s ease-out\n  border-right: 1px solid var(--color-divider)\n  .sidebar-header\n    flex: 0 0 50px\n    display: flex\n    align-items: center\n    justify-content: center\n    border-bottom: 1px solid var(--color-divider)\n  ul\n    li\n      a\n        display: block\n        color: var(--color-text-primary)\n        padding: 10px 5px\n        margin: 4px\n        border-radius: var(--border-radius-sm)\n        text-align: center\n        font-size: 0.85em\n        &:hover, &[aria-expanded=\"true\"]\n          color: var(--color-text-primary)\n        &:hover\n          background: var(--color-hover)\n        &.primary\n          color: var(--color-primary)\n        &.dropdown-toggle\n          cursor: pointer\n          padding-bottom: 20px\n        i\n          margin-right: 0\n          display: block\n          font-size: 1.4em\n          margin-bottom: 5px\n        .badge\n          border-radius: 2em\n          position: absolute\n          top: -0.35em\n          right: 2em\n          padding: 0.25em 0.3em\n          font-family: var(--default-font-family)\n          font-size: 60%\n          font-weight: bold\n          color: var(--color-on-danger)\n          background-color: var(--color-danger)\n          min-width: 1.6em\n      &.active > a\n        background: var(--color-hover)\n      &.glowing\n        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px var(--color-primary), 0 0 70px var(--color-primary), 0 0 80px var(--color-primary), 0 0 100px var(--color-primary), 0 0 150px var(--color-primary)\n    ul a\n      font-size: 0.9em !important\n      padding: 10px !important\n    .dropdown-toggle::after\n      top: auto\n      bottom: 10px\n      right: 50%\n      -webkit-transform: translateX(50%)\n      -ms-transform: translateX(50%)\n      transform: translateX(50%)\n  ul.components\n    padding: 20px 0\n  ::v-deep .logo-small\n    width: 30px\n    height: 30px\n    color: var(--color-text-primary)\n  .dropdown-toggle\n    position: relative\n    &::after\n      display: block\n      position: absolute\n      top: 50%\n      right: 20px\n      transform: translateY(-50%)\n  .side-nav-footer\n    margin-top: auto\n  .trim-text\n    white-space: nowrap\n    text-overflow: ellipsis\n    display: inline-block\n    overflow: hidden\n    width: 100%\n\n.content-wrapper\n  width: 100%\n\n.top-nav\n  height: 50px\n  background: var(--color-surface-primary) !important\n  position: fixed\n  top: 0\n  left: 0\n  width: 100%\n  padding-left: calc(100px + 15px)\n  padding-right: 32px\n  z-index: 100\n  box-shadow: var(--shadow-top-nav)\n  justify-content: space-between\n\n.is-in-mobile .top-nav\n  padding-left: 15px\n  padding-right: 15px\n  background: var(--color-surface-primary) !important\n\n.toggle-sidebar\n  color: var(--color-text-primary)\n  display: none\n\n.page-content\n  padding: calc(50px + var(--gap-between-blocks)) calc(var(--gap-between-blocks) - 15px) var(--gap-between-blocks)\n  display: flex\n  flex-direction: column\n  min-height: calc(100vh - 68px)\n\n.content-overlay\n  position: fixed\n  top: 0\n  left: 0\n  width: 100%\n  height: 100%\n  z-index: 100\n  background: rgb(0,0,0,.5)\n  display: none\n\n::v-deep .search-input input\n  background-color: var(--color-surface-secondary)\n  border-color: var(--color-surface-secondary)\n\n.notification-dot\n  height: 50%\n  top: -9px\n  right: -3px\n  position: absolute\n  width: 50%\n  color: var(--color-danger)\n\n@media (min-width: 769px)\n  .content-wrapper\n    &.hide-top-nav\n      .top-nav\n        display: none\n      .page-content\n        padding-top: 30px\n        min-height: calc(100vh - 68px)\n\n@media (max-width: 768px)\n  .page-wrapper\n    padding-left: 0\n    &:not(.collapsed) .content-overlay\n      display: block\n    &.collapsed\n      .side-nav\n        transform: translateX(-100px)\n\n  .top-nav\n    padding-left: 15px\n    padding-right: 15px\n    background: var(--color-surface-primary) !important\n\n  .toggle-sidebar\n    display: block\n\n  .page-content\n    padding: 15px 0\n    padding-top: calc(50px + 15px)\n    justify-content: start\n\n::v-deep .dropdown-menu\n  .dropdown-item\n    padding: 0.25rem 0.75rem\n    .clickable-area\n      margin: -0.25rem -0.75rem\n      padding: 0.25rem 0.75rem\n    i\n      width: 20px\n      margin-right: .5rem\n\n::v-deep .active-filter-notice\n  display: flex\n  align-items: center\n  justify-content: space-between\n  padding: 0.5rem 1rem\n  background-color: var(--color-surface-secondary)\n  margin: calc(-1 * var(--gap-between-blocks)) -15px var(--gap-between-blocks)\n\n  .filter\n    color: var(--color-primary)\n\n  @media (max-width: 768px)\n    font-size: .875rem\n    margin-left: 0\n    margin-right: 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=7be2dcb6&scoped=true&\"\nimport script from \"./Layout.vue?vue&type=script&lang=js&\"\nexport * from \"./Layout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layout.vue?vue&type=style&index=0&lang=sass&\"\nimport style1 from \"./Layout.vue?vue&type=style&index=1&id=7be2dcb6&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7be2dcb6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout>\n    <template v-slot:content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\">\n            <div class=\"card\">\n              <h5 class=\"card-header text-center\">\n                F\n                <i class=\"fas fa-search focused-feedback-icon\"></i>CUSED FEEDBACK\n              </h5>\n              <loading :active=\"print === null\" :is-full-page=\"true\"></loading>\n              <div v-if=\"print !== null\">\n                <consent\n                  v-if=\"!print.access_consented_at\"\n                  :print=\"print\"\n                  @continue-btn-pressed=\"consentBtnPressed\"\n                />\n                <div v-else>\n                  <div>\n                    <vue-slick-carousel\n                      :arrows=\"true\"\n                      :dots=\"true\"\n                      @afterChange=\"onNextShot\"\n                      ref=\"carousel\"\n                    >\n                      <print-shot-card\n                        v-for=\"(shot, i) in shots\"\n                        :key=\"i\"\n                        :shot=\"shot\"\n                        @shotChanged=\"onShotChanged\"\n                      ></print-shot-card>\n                      <template #customPaging=\"page\">\n                        <div :class=\"pageClass(page)\">&bull;</div>\n                      </template>\n                    </vue-slick-carousel>\n                  </div>\n                  <br />\n                  <div class=\"card-body p-3\">\n                    <a href=\"/prints/\">\n                      <i class=\"fas fa-chevron-left\"></i> Time-lapse\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport sortBy from 'lodash/sortBy'\nimport findIndex from 'lodash/findIndex'\nimport VueSlickCarousel from 'vue-slick-carousel'\nimport 'vue-slick-carousel/dist/vue-slick-carousel.css'\n// optional style for arrows & dots\nimport 'vue-slick-carousel/dist/vue-slick-carousel-theme.css'\n// TODO: this should be configured as global. But for some reason it doesn't work.\nimport Loading from 'vue-loading-overlay'\nimport 'vue-loading-overlay/dist/vue-loading.css'\n\nimport Consent from '@src/components/print-shot-feedback/Consent'\nimport PrintShotCard from '@src/components/print-shot-feedback/PrintShotCard'\nimport urls from '@config/server-urls'\nimport { normalizedPrint } from '@src/lib/normalizers'\nimport Layout from '@src/components/Layout.vue'\n\nexport default {\n  name: 'PrintShotFeedbackApp',\n  components: {\n    Consent,\n    Loading,\n    PrintShotCard,\n    VueSlickCarousel,\n    Layout,\n  },\n  props: {\n    config: {\n      default: () => {},\n      type: Object\n    }\n  },\n  data: function() {\n    return {\n      shots: [],\n      currentShot: 0,\n      print: null\n    }\n  },\n  computed: {},\n\n  mounted() {\n    this.fetchData()\n  },\n\n  methods: {\n    fetchData() {\n      axios.get(urls.print(this.config.printId)).then(response => {\n        this.print = normalizedPrint(response.data)\n        this.shots = sortBy(this.print.printshotfeedback_set, 'id')\n      })\n    },\n\n    updatePrint(data) {\n      axios\n        .patch(urls.print(this.print.id), data)\n\n        .then(response => (this.print = response.data))\n    },\n\n    consentBtnPressed() {\n      this.updatePrint({ access_consented_at: moment() })\n    },\n\n    onShotChanged(data) {\n      const i = findIndex(this.shots, shot => shot.id == data.id)\n      this.$set(this.shots, i, data)\n      this.$refs.carousel.next()\n    },\n\n    onNextShot(shotIndex) {\n      this.currentShot = shotIndex\n    },\n\n    pageClass(page) {\n      if (page === this.currentShot) {\n        return 'page-visiting'\n      }\n      return this.shots[page].answered_at ? 'text-success' : 'page-unvisited'\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.prev-btn\n  display: inline\n  position: absolute\n  left: 2%\n  top: 40%\n  opacity: 0.5\n\n.next-btn\n  display: inline\n  position: absolute\n  right: 2%\n  top: 40%\n  opacity: 0.5\n\n.page-visiting\n  color: var(--color-primary)\n\n.page-unvisited\n  color: var(--color-divider)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintShotFeedbackApp.vue?vue&type=template&id=26c8d4dc&scoped=true&\"\nimport script from \"./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintShotFeedbackApp.vue?vue&type=style&index=0&id=26c8d4dc&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26c8d4dc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"topBarLeft\",fn:function(){return [_c('div',{staticClass:\"actions-with-selected-desktop\"},[_c('b-form-group',{staticClass:\"m-0\"},[_c('b-form-checkbox',{attrs:{\"size\":\"lg\"},model:{value:(_vm.allPrintsSelected),callback:function ($$v) {_vm.allPrintsSelected=$$v},expression:\"allPrintsSelected\"}})],1),_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.selectedPrintIds.size),expression:\"!selectedPrintIds.size\"}],staticClass:\"label\",on:{\"click\":function($event){_vm.allPrintsSelected = !_vm.allPrintsSelected}}},[_vm._v(\"Select all\")]),_c('b-dropdown',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPrintIds.size),expression:\"selectedPrintIds.size\"}],attrs:{\"toggle-class\":\"btn btn-sm actions-with-selected-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.selectedPrintIds.size)+\" item\"+_vm._s(_vm.selectedPrintIds.size === 1 ? '' : 's')+\" selected... \")]},proxy:true}])},[_c('b-dropdown-item',[_c('div',{staticClass:\"text-danger\",on:{\"click\":_vm.onDeleteBtnClick}},[_c('i',{staticClass:\"far fa-trash-alt\"}),_vm._v(\"Delete \")])])],1)],1)],1)]},proxy:true},{key:\"topBarRight\",fn:function(){return [_c('div',[_c('a',{staticClass:\"btn shadow-none icon-btn d-none d-md-inline\",attrs:{\"href\":\"/prints/upload/\",\"title\":\"Upload Time-Lapse\"}},[_c('i',{staticClass:\"fas fa-upload\"})]),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[_c('b-dropdown-item',{staticClass:\"d-md-none\",attrs:{\"href\":\"/prints/upload/\"}},[_c('i',{staticClass:\"fas fa-upload\"}),_vm._v(\"Upload Time-Lapse \")]),_c('b-dropdown-divider',{staticClass:\"d-md-none\"}),_c('cascaded-dropdown',{attrs:{\"menuOptions\":_vm.menuOptions,\"menuSelections\":_vm.menuSelections},on:{\"menuSelectionChanged\":_vm.menuSelectionChanged}})],1)],1)]},proxy:true},{key:\"content\",fn:function(){return [(_vm.shouldShowFilterWarning)?_c('a',{staticClass:\"active-filter-notice\",on:{\"click\":_vm.onShowAllClicked}},[_c('div',{staticClass:\"filter\"},[_c('i',{staticClass:\"fas fa-filter mr-2\"}),_vm._v(\" \"+_vm._s(_vm.activeFiltering)+\" \")]),_c('div',[_vm._v(\"SHOW ALL\")])]):_vm._e(),_c('b-container',[_c('b-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prints.length),expression:\"prints.length\"}],staticClass:\"print-cards\"},_vm._l((_vm.prints),function(print){return _c('print-card',{key:print.id,attrs:{\"print\":print,\"selected\":_vm.selectedPrintIds.has(print.id)},on:{\"selectedChanged\":_vm.onSelectedChanged,\"printDeleted\":_vm.onPrintDeleted,\"printDataChanged\":_vm.printDataChanged,\"fullscreen\":_vm.openFullScreen}})}),1),_c('mugen-scroll',{staticClass:\"text-center p-4\",attrs:{\"handler\":_vm.fetchMoreData,\"should-handle\":!_vm.loading}},[(_vm.noMoreData)?_c('div',{staticClass:\"text-center p-2\"},[_vm._v(\"No more time-lapses.\")]):_vm._e(),(!_vm.noMoreData)?_c('b-spinner',{attrs:{\"label\":\"Loading...\"}}):_vm._e()],1),_c('b-modal',{attrs:{\"id\":\"tl-fullscreen-modal\",\"size\":\"full\",\"hideHeader\":true,\"hideFooter\":true},on:{\"hidden\":_vm.fullScreenClosed}},[_c('FullScreenPrintCard',{attrs:{\"print\":_vm.fullScreenPrint,\"videoUrl\":_vm.fullScreenPrintVideoUrl,\"autoplay\":true}})],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-12 col-md-6 col-lg-4 print-card\"},[_c('div',{staticClass:\"card vld-parent\"},[(_vm.isPublic)?_c('div',{staticClass:\"card-header\"},[_vm._v(\" - By \"+_vm._s(_vm.print.creator_name)+\" \")]):_c('div',{staticClass:\"card-header\"},[_c('div',{style:({visibility: _vm.hasSelectedChangedListener ? 'visible' : 'hidden'})},[_c('b-form-checkbox',{staticClass:\"text-decoration-none\",attrs:{\"size\":\"lg\"},on:{\"change\":_vm.onSelectedChange},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1),_c('b-form-radio-group',{attrs:{\"buttons\":\"\",\"button-variant\":\"outline-primary\",\"name\":\"radio-btn-outline\"},model:{value:(_vm.selectedCardView),callback:function ($$v) {_vm.selectedCardView=$$v},expression:\"selectedCardView\"}},[_c('b-form-radio',{staticClass:\"no-corner no-shadow\",attrs:{\"value\":\"detective\",\"disabled\":!_vm.canShowDetectiveView}},[_c('i',{staticClass:\"fas fa-balance-scale\"})]),_c('b-form-radio',{staticClass:\"no-corner no-shadow\",attrs:{\"value\":\"info\"}},[_c('i',{staticClass:\"fas fa-info\"})])],1),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[(this.print.video_url && !_vm.print.video_archived_at)?_c('b-dropdown-item',{attrs:{\"href\":this.print.video_url,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-download\"}),_vm._v(\"Download Original Time-lapse \")]):_vm._e(),(this.print.tagged_video_url && !_vm.print.video_archived_at)?_c('b-dropdown-item',{attrs:{\"href\":this.print.tagged_video_url,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-download\"}),_vm._v(\"Download Detective Time-lapse \")]):_vm._e(),_c('b-dropdown-divider'),_c('b-dropdown-item',{on:{\"click\":_vm.deleteVideo}},[_c('span',{staticClass:\"text-danger\"},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\"Delete \")])])],1)],1),_c('div',[(_vm.print.video_archived_at)?_c('div',{staticClass:\"position-relative\"},[_c('div',{staticClass:\"poster-placeholder-wrapper\"},[_c('svg',{staticClass:\"poster-placeholder\"},[_c('use',{attrs:{\"href\":_vm.posterSrc}})])]),_c('div',{staticClass:\"archived-info\"},[_c('div',{staticClass:\"text\"},[_vm._v(\"Video file is deleted. \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.showVideoArchivedDescription($event)}}},[_vm._v(\"Why?\")])])])]):_c('div',[(_vm.videoUrl)?_c('video-box',{attrs:{\"videoUrl\":_vm.videoUrl,\"posterUrl\":_vm.print.poster_url,\"fluid\":true,\"fullscreenBtn\":_vm.hasFullscreenListener},on:{\"timeupdate\":_vm.onTimeUpdate,\"fullscreen\":function($event){return _vm.$emit('fullscreen', _vm.print.id, _vm.videoUrl)}}}):_c('div',[_c('detective-working')],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardView == 'info' && !_vm.isPublic),expression:\"cardView == 'info' && !isPublic\"}]},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(_vm.print.filename))])]),_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"row\",attrs:{\"title\":this.humanizedPrintedOrUploadedTime(_vm.longFormat=true)}},[_c('div',{staticClass:\"text-muted col-4\"},[_vm._v(\" \"+_vm._s(_vm.wasTimelapseUploaded ? \"Uploaded\" : \"Printed\")+\" \"),_c('span',{staticClass:\"float-right\"},[_vm._v(\":\")])]),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(this.humanizedPrintedOrUploadedTime())+\" \"+_vm._s(_vm.endStatus))])]),(!_vm.wasTimelapseUploaded && _vm.duration)?_c('div',{staticClass:\"row\",attrs:{\"id\":'dur-'+_vm.print.id}},[_c('b-tooltip',{attrs:{\"target\":'dur-'+_vm.print.id,\"triggers\":\"hover\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"floor\")(_vm._f(\"duration\")(_vm.duration,\"asHours\")))+\":\"+_vm._s(_vm._f(\"duration\")(_vm.duration,\"minutes\"))+\":\"+_vm._s(_vm._f(\"duration\")(_vm.duration,\"seconds\"))+\" \")]),_vm._m(1),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(_vm.duration.humanize()))])],1):_vm._e()])])]),(_vm.isPublic)?_c('div',{staticClass:\"bg-warning alert-banner text-center\",style:({opacity: _vm.normalizedP > 0.4 ? 1 : 0})},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Possible failure detected! \")]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardView == 'detective' || _vm.isPublic),expression:\"cardView == 'detective' || isPublic\"}]},[(_vm.print.prediction_json_url)?_c('gauge',{attrs:{\"normalizedP\":_vm.normalizedP}}):_vm._e(),(!_vm.isPublic)?_c('div',{staticClass:\"feedback-section\"},[_c('div',{staticClass:\"text-center py-2 px-3\"},[_c('div',{staticClass:\"lead\",class:[_vm.print.alerted_at ? 'text-danger' : 'text-success' ]},[_vm._v(_vm._s(_vm.print.alerted_at ? 'Failure detected' : 'No failure detected'))]),_c('div',{staticClass:\"py-2\"},[_vm._v(\" Did we get it right? \"),_c('b-button',{staticClass:\"mx-2 btn-sm\",attrs:{\"variant\":_vm.thumbedUp ? 'primary' : 'outline'},on:{\"click\":_vm.onThumbUpClick}},[(_vm.inflightAlertOverwrite)?_c('b-spinner',{attrs:{\"type\":\"grow\",\"small\":\"\"}}):_c('i',{staticClass:\"fas fa-thumbs-up\"})],1),_c('b-button',{staticClass:\"mx-2 btn-sm\",attrs:{\"variant\":_vm.thumbedDown ? 'primary' : 'outline'},on:{\"click\":_vm.onThumbDownClick}},[(_vm.inflightAlertOverwrite)?_c('b-spinner',{attrs:{\"type\":\"grow\",\"small\":\"\"}}):_c('i',{staticClass:\"fas fa-thumbs-down\"})],1)],1),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.focusedFeedbackEligible)?_c('div',{staticClass:\"pt-2\"},[_c('a',{staticClass:\"btn btn-sm btn-outline-primary px-4\",attrs:{\"role\":\"button\",\"href\":_vm.focusedFeedbackLink}},[_vm._v(\" F \"),_c('i',{staticClass:\"fas fa-search focused-feedback-icon\"}),_vm._v(\"CUSED FEEDBACK \"),(!_vm.focusedFeedbackCompleted)?_c('svg',{staticClass:\"seg-control-icon ml-1 double-hours-icon\"},[_c('use',{attrs:{\"href\":\"#svg-hour-double\"}})]):_vm._e()])]):_vm._e()])],1),_c('div',{staticClass:\"text-muted py-2 px-3 help-text\"},[(_vm.focusedFeedbackEligible)?_c('small',[(_vm.focusedFeedbackCompleted)?_c('span',[_vm._v(\"Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback.\")]):_c('span',[_vm._v(\" With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve. \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback\"}},[_vm._v(\"You will earn 2 AI Detection Hours once you finish the Focused Feedback\")]),_vm._v(\". \")])]):_c('small',[_vm._v(\" Every time you give us feedback, \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"}},[_vm._v(\"you help us get better at detecting failures\")]),_vm._v(\". \")])])]):_vm._e()],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-muted col-4\"},[_vm._v(\" File \"),_c('span',{staticClass:\"float-right\"},[_vm._v(\":\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-muted col-4\"},[_vm._v(\" Duration \"),_c('span',{staticClass:\"float-right\"},[_vm._v(\":\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"obico-gauge-container\"},[_c('span',{style:({color: _vm.titleColor}),attrs:{\"id\":\"title\"}},[_vm._v(_vm._s(_vm.titleText))]),_c('div',{staticClass:\"obico-gauge\"},[_c('radial-gauge',{attrs:{\"value\":_vm.value,\"options\":_vm.computedOptions}})],1),_c('hr')])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"obico-gauge-container\">\n    <span id=\"title\" :style=\"{color: titleColor}\">{{ titleText }}</span>\n    <div class=\"obico-gauge\">\n      <radial-gauge :value=\"value\" :options=\"computedOptions\"></radial-gauge>\n    </div>\n    <hr />\n  </div>\n</template>\n\n<script>\nimport RadialGauge from 'vue2-canvas-gauges/src/RadialGauge'\nimport { Themes } from '@static/js/color-scheme'\nimport { currentThemeValue } from '@src/lib/color-scheme-controller'\n\nexport default {\n  name: 'Gauge',\n  components: {\n    RadialGauge\n  },\n  data: () => {\n    return {\n    }\n  },\n  props: {\n    normalizedP: {\n      type: Number,\n    },\n\n    isWatching: {\n      type: Boolean,\n      default: true\n    },\n\n    options: {\n      // https://canvas-gauges.com/documentation/user-guide/configuration\n      type: Object,\n      default: null\n    }\n  },\n\n  computed: {\n    computedOptions() {\n      if (this.options !== null) {\n        return this.options\n      }\n\n      const inactiveColor = {\n        highlight1: currentThemeValue() === Themes.Light ? '#929292' : '#8395a7',\n        highlight2: currentThemeValue() === Themes.Light ? '#b7b7b7' : '#a8bacc',\n        highlight3: currentThemeValue() === Themes.Light ? '#7b7b7b' : '#6c7e90',\n        needle: currentThemeValue() === Themes.Light ? '#2d3e4f' : '#ffffff',\n      }\n\n      return {\n        valueDec: 0,\n        valueInt: 0,\n        width: 240,\n        height: 240,\n        units: false,\n        box: false,\n        minValue: 0,\n        maxValue: 100,\n        majorTicks: ['', '', '', ''],\n        minorTicks: 4,\n        highlights: [\n          { from: 0, to: 33, color: this.isWatching ? '#5cb85c' : inactiveColor.highlight1 },\n          { from: 33, to: 67, color: this.isWatching ? '#f0ad4e' : inactiveColor.highlight2 },\n          { from: 67, to: 100, color: this.isWatching ? '#d9534f' : inactiveColor.highlight3 }\n        ],\n        colorPlate: 'rgba(255,255,255,.0)',\n        colorTitle: '#5cb85c',\n        colorStrokeTicks: '#EBEBEB',\n        colorNeedleEnd: this.isWatching ? 'rgba(255, 160, 122, .9)' : inactiveColor.needle,\n        colorNeedle: this.isWatching ? 'rgba(240, 128, 128, 1)' : inactiveColor.needle,\n        colorNeedleShadowUp: this.isWatching ? 'rgba(2,255,255,0.2)' : inactiveColor.needle,\n        valueBox: false,\n        animationRule: 'bounce',\n        animationDuration: 500,\n        animatedValue: true,\n        startAngle: 90,\n        ticksAngle: 180,\n        borders: false\n      }\n    },\n    value() {\n      return this.normalizedP*100\n    },\n    titleText() {\n      switch (this.level()) {\n      case 0:\n        return 'Looking Good'\n      case 1:\n        return 'Fishy...'\n      case 2:\n        return 'Failing!'\n      default:\n        return 'Looking Good'\n      }\n    },\n    titleColor() {\n      switch (this.level()) {\n      case 0:\n        return '#5cb85c'\n      case 1:\n        return '#f0ad4e'\n      case 2:\n        return '#d9534f'\n      default:\n        return '#5cb85c'\n      }\n    }\n  },\n\n  methods: {\n    level() {\n      if (this.value > 66) {\n        return 2\n      } else if (this.value > 33) {\n        return 1\n      } else {\n        return 0\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n#title\n  position: absolute\n  left: 0px\n  text-align: center\n  width: 100%\n  top: 50%\n\n.obico-gauge-container\n  position: relative\n  padding: 0 16px\n  .obico-gauge\n    text-align: center\n    padding: 8px\n    margin-bottom: -150px\n    pointer-events: none\n  hr\n    background-color: #EBEBEB\n    height: 1px\n    margin-top: 15px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gauge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Gauge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Gauge.vue?vue&type=template&id=6763f78b&scoped=true&\"\nimport script from \"./Gauge.vue?vue&type=script&lang=js&\"\nexport * from \"./Gauge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Gauge.vue?vue&type=style&index=0&id=6763f78b&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6763f78b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"col-sm-12 col-md-6 col-lg-4 print-card\">\n    <div class=\"card vld-parent\">\n      <div v-if=\"isPublic\" class=\"card-header\">\n        - By {{ print.creator_name }}\n      </div>\n      <div v-else class=\"card-header\">\n        <div :style=\"{visibility: hasSelectedChangedListener ? 'visible' : 'hidden'}\">\n          <b-form-checkbox\n            v-model=\"selected\"\n            @change=\"onSelectedChange\"\n            size=\"lg\"\n            class=\"text-decoration-none\"\n          ></b-form-checkbox>\n        </div>\n        <b-form-radio-group\n          v-model=\"selectedCardView\"\n          buttons\n          button-variant=\"outline-primary\"\n          name=\"radio-btn-outline\"\n        >\n          <b-form-radio\n            value=\"detective\"\n            class=\"no-corner no-shadow\"\n            :disabled=\"!canShowDetectiveView\"\n          >\n            <i class=\"fas fa-balance-scale\"></i>\n          </b-form-radio>\n          <b-form-radio value=\"info\" class=\"no-corner no-shadow\">\n            <i class=\"fas fa-info\"></i>\n          </b-form-radio>\n        </b-form-radio-group>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item v-if=\"this.print.video_url && !print.video_archived_at\" :href=\"this.print.video_url\" target=\"_blank\">\n            <i class=\"fas fa-download\"></i>Download Original Time-lapse\n          </b-dropdown-item>\n          <b-dropdown-item\n            v-if=\"this.print.tagged_video_url && !print.video_archived_at\"\n            :href=\"this.print.tagged_video_url\" target=\"_blank\"\n          >\n            <i class=\"fas fa-download\"></i>Download Detective Time-lapse\n          </b-dropdown-item>\n          <b-dropdown-divider></b-dropdown-divider>\n          <b-dropdown-item @click=\"deleteVideo\">\n            <span class=\"text-danger\">\n              <i class=\"fas fa-trash-alt\"></i>Delete\n            </span>\n          </b-dropdown-item>\n        </b-dropdown>\n      </div>\n      <div>\n        <div class=\"position-relative\" v-if=\"print.video_archived_at\">\n          <div class=\"poster-placeholder-wrapper\">\n            <svg class=\"poster-placeholder\">\n              <use :href=\"posterSrc\" />\n            </svg>\n          </div>\n          <div class=\"archived-info\">\n            <div class=\"text\">Video file is deleted. <a href=\"#\" @click=\"showVideoArchivedDescription($event)\">Why?</a></div>\n          </div>\n        </div>\n        <div v-else>\n          <video-box\n            v-if=\"videoUrl\"\n            :videoUrl=\"videoUrl\"\n            :posterUrl=\"print.poster_url\"\n            :fluid=\"true\"\n            :fullscreenBtn=\"hasFullscreenListener\"\n            @timeupdate=\"onTimeUpdate\"\n            @fullscreen=\"$emit('fullscreen', print.id, videoUrl)\"\n          />\n          <div v-else>\n            <detective-working />\n          </div>\n        </div>\n        <div v-show=\"cardView == 'info' && !isPublic\">\n          <div class=\"card-body\">\n            <div class=\"container\">\n              <div class=\"row\">\n                <div class=\"text-muted col-4\">\n                  File\n                  <span class=\"float-right\">:</span>\n                </div>\n                <div class=\"col-8\">{{ print.filename }}</div>\n              </div>\n              <div class=\"row\" v-b-tooltip.hover :title=\"this.humanizedPrintedOrUploadedTime(longFormat=true)\">\n                <div class=\"text-muted col-4\">\n                  {{ wasTimelapseUploaded ? \"Uploaded\" : \"Printed\" }}\n                  <span class=\"float-right\">:</span>\n                </div>\n                <div\n                  class=\"col-8\"\n                >{{ this.humanizedPrintedOrUploadedTime() }} {{ endStatus }}</div>\n              </div>\n              <div class=\"row\" v-if=\"!wasTimelapseUploaded && duration\" :id=\"'dur-'+print.id\">\n                <b-tooltip :target=\"'dur-'+print.id\" triggers=\"hover\">\n                  {{ duration | duration(\"asHours\") | floor }}:{{ duration | duration(\"minutes\") }}:{{ duration | duration(\"seconds\") }}\n                </b-tooltip>\n                <div class=\"text-muted col-4\">\n                  Duration\n                  <span class=\"float-right\">:</span>\n                </div>\n                <div class=\"col-8\">{{ duration.humanize() }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"isPublic\" class=\"bg-warning alert-banner text-center\" :style=\"{opacity: normalizedP > 0.4 ? 1 : 0}\">\n          <!-- v-show=\"normalizedP > 0.4\" -->\n          <i class=\"fas fa-exclamation-triangle\"></i> Possible failure detected!\n        </div>\n\n        <div v-show=\"cardView == 'detective' || isPublic\">\n          <gauge\n            v-if=\"print.prediction_json_url\"\n            :normalizedP=\"normalizedP\"\n          />\n          <div v-if=\"!isPublic\" class=\"feedback-section\">\n            <div class=\"text-center py-2 px-3\">\n              <div\n                class=\"lead\"\n                :class=\"[print.alerted_at ? 'text-danger' : 'text-success', ]\"\n              >{{ print.alerted_at ? 'Failure detected' : 'No failure detected' }}</div>\n              <div class=\"py-2\">\n                Did we get it right?\n                <b-button\n                  :variant=\"thumbedUp ? 'primary' : 'outline'\"\n                  @click=\"onThumbUpClick\"\n                  class=\"mx-2 btn-sm\"\n                >\n                  <b-spinner v-if=\"inflightAlertOverwrite\" type=\"grow\" small></b-spinner>\n                  <i v-else class=\"fas fa-thumbs-up\"></i>\n                </b-button>\n                <b-button\n                  :variant=\"thumbedDown ? 'primary' : 'outline'\"\n                  @click=\"onThumbDownClick\"\n                  class=\"mx-2 btn-sm\"\n                >\n                  <b-spinner v-if=\"inflightAlertOverwrite\" type=\"grow\" small></b-spinner>\n                  <i v-else class=\"fas fa-thumbs-down\"></i>\n                </b-button>\n              </div>\n              <transition name=\"bounce\">\n                <div v-if=\"focusedFeedbackEligible\" class=\"pt-2\">\n                  <a\n                    role=\"button\"\n                    class=\"btn btn-sm btn-outline-primary px-4\"\n                    :href=\"focusedFeedbackLink\"\n                  >\n                    F\n                    <i class=\"fas fa-search focused-feedback-icon\"></i>CUSED FEEDBACK\n                    <svg v-if=\"!focusedFeedbackCompleted\" class=\"seg-control-icon ml-1 double-hours-icon\">\n                      <use href=\"#svg-hour-double\" />\n                    </svg>\n                  </a>\n                </div>\n              </transition>\n            </div>\n            <div class=\"text-muted py-2 px-3 help-text\">\n              <small v-if=\"focusedFeedbackEligible\">\n                <span\n                  v-if=\"focusedFeedbackCompleted\"\n                >Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback.</span>\n                <span v-else>\n                  With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve.\n                  <a\n                    href=\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback\"\n                  >You will earn 2 AI Detection Hours once you finish the Focused Feedback</a>.\n                </span>\n              </small>\n\n              <small v-else>\n                Every time you give us feedback,\n                <a\n                  href=\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"\n                >you help us get better at detecting failures</a>.\n              </small>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport filter from 'lodash/filter'\n// import get from 'lodash/get'\n\nimport {getNormalizedP} from '@src/lib/utils'\nimport urls from '@config/server-urls'\nimport VideoBox from '@src/components/VideoBox'\nimport Gauge from '@src/components/Gauge'\nimport DetectiveWorking from '@src/components/DetectiveWorking'\n\nexport default {\n  name: 'PrintCard',\n\n  components: {\n    VideoBox,\n    Gauge,\n    DetectiveWorking,\n  },\n\n  data: () => {\n    return {\n      ALERT_THRESHOLD: 0.4,\n      currentPosition: 0,\n      predictions: [],\n      selectedCardView: 'detective',\n      inflightAlertOverwrite: null,\n    }\n  },\n\n  props: {\n    print: Object,\n    isPublic: {\n      type: Boolean,\n      default: false\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    },\n  },\n\n  computed: {\n    wasTimelapseUploaded() {\n      return this.print.uploaded_at !== null\n    },\n\n    endStatus() {\n      return this.print.cancelled_at ? '(Cancelled)' : ''\n    },\n\n    duration() {\n      return this.print.ended_at && this.print.started_at\n        ? moment.duration(this.print.ended_at.diff(this.print.started_at))\n        : null\n    },\n\n    canShowDetectiveView() {\n      if (\n        this.print.prediction_json_url !== null &&\n        this.print.tagged_video_url !== null\n      ) {\n        return true\n      }\n      // Time-lapses that was uploaded within the past 24 hours are presumably still be processed\n      if (\n        (this.print.uploaded_at &&\n          moment().diff(this.print.uploaded_at, 'hours') < 24)\n      ) {\n        return true\n      }\n      return false\n    },\n\n    cardView() {\n      return this.canShowDetectiveView ? this.selectedCardView : 'info'\n    },\n\n    videoUrl() {\n      return this.cardView == 'info'\n        ? this.print.video_url\n        : this.print.tagged_video_url\n    },\n\n    thumbedUp() {\n      if (!this.print.alert_overwrite) {\n        return false\n      }\n      return (\n        this.print.has_alerts ^ (this.print.alert_overwrite === 'NOT_FAILED')\n      )\n    },\n\n    thumbedDown() {\n      if (!this.print.alert_overwrite) {\n        return false\n      }\n      return this.print.has_alerts ^ (this.print.alert_overwrite === 'FAILED')\n    },\n\n    focusedFeedbackEligible() {\n      return (\n        this.print.printshotfeedback_set.length > 0 &&\n        this.print.alert_overwrite\n      )\n    },\n\n    focusedFeedbackCompleted() {\n      return (\n        this.print.printshotfeedback_set.length > 0 &&\n        filter(this.print.printshotfeedback_set, f => !f.answered_at).length ==\n          0\n      )\n    },\n\n    focusedFeedbackLink() {\n      return `/prints/shot-feedback/${this.print.id}/`\n    },\n\n    hasSelectedChangedListener() {\n      return Boolean(this.$listeners && this.$listeners.selectedChanged)\n    },\n\n    hasFullscreenListener() {\n      return Boolean(this.$listeners && this.$listeners.fullscreen)\n    },\n\n    normalizedP() {\n      return getNormalizedP(this.predictions, this.currentPosition, this.isPublic)\n    },\n\n    posterSrc() {\n      return this.print.poster_url || '#svg-3d-printer'\n    },\n  },\n\n  methods: {\n    onTimeUpdate(currentPosition) {\n      this.currentPosition = currentPosition\n    },\n\n    onSelectedChange() {\n      this.$emit('selectedChanged', this.print.id, !this.selected) // this method is called before this.selected is flipped. So need to inverse it before passing it event listener\n    },\n\n    deleteVideo() {\n      axios.delete(urls.print(this.print.id)).then(() => {\n        this.$emit('printDeleted', this.print.id)\n      })\n    },\n\n    onThumbUpClick() {\n      this.inflightAlertOverwrite = this.print.has_alerts\n        ? 'FAILED'\n        : 'NOT_FAILED'\n      this.alertOverwrite(this.inflightAlertOverwrite)\n    },\n\n    onThumbDownClick() {\n      this.inflightAlertOverwrite = this.print.has_alerts\n        ? 'NOT_FAILED'\n        : 'FAILED'\n      this.alertOverwrite(this.inflightAlertOverwrite)\n    },\n\n    alertOverwrite(value) {\n      axios.patch(\n        urls.print(this.print.id),\n        {\n          alert_overwrite: value,\n        })\n        .then(response => {\n          this.$emit('printDataChanged', response.data)\n          this.inflightAlertOverwrite = null\n        })\n    },\n\n    fetchPredictions() {\n      axios.get(this.print.prediction_json_url).then(response => {\n        this.predictions = response.data\n      })\n    },\n\n    humanizedPrintedOrUploadedTime(longFormat=false) {\n      if (!this.print.uploaded_at && !this.print.ended_at) {\n        return '-'\n      }\n      const ts = this.wasTimelapseUploaded ? this.print.uploaded_at : this.print.ended_at\n      if (longFormat) {\n        return ts.format('LLLL')\n      } else {\n        return ts.fromNow()\n      }\n    },\n    showVideoArchivedDescription(event) {\n      event.preventDefault()\n      this.$swal.Prompt.fire({\n        title: 'Time-lapse video deleted',\n        html: `\n          <p>Time-lapse videos older than 6-months are deleted from the Obico app server as they are rarely needed and cost significant amount to store in the cloud.</p>\n          <p>If you are a Pro subscriber and you don't want your time-lapse videos to be deleted, please <a href=\"mailto:support@obico.io?subject=Please%20keep%20my%20timelapse%20videos\">contact us</a>.</p>\n          `,\n        showCloseButton: true,\n      })\n    },\n  },\n  mounted() {\n    if (this.print.prediction_json_url) {\n      this.fetchPredictions()\n    }\n\n    if (!this.print.tagged_video_url) {\n      this.selectedCardView = 'info'\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.print-card\n  margin-top: var(--gap-between-blocks)\n\n  .card\n    border-radius: var(--border-radius-lg)\n    overflow: hidden\n\n.card-header\n  display: flex\n  flex-flow: row nowrap\n  justify-content: space-between\n  align-items: center\n\n.seg-control-icon\n  height: 1.2rem\n  width: 1.2rem\n  &.double-hours-icon\n    width: 1.5rem\n\n.feedback-section\n  background-color: var(--color-surface-secondary)\n\n.bounce-enter-active\n  animation: bounce-in .5s\n\n.bounce-leave-active\n  animation: bounce-in .5s reverse\n\n@keyframes bounce-in\n  0%\n    transform: scale(0)\n  50%\n    transform: scale(1.5)\n  100%\n    transform: scale(1)\n\n.help-text\n  line-height: 1.2\n\n.bg-warning.alert-banner\n  position: static\n  display: block\n\n.archived-info\n  position: absolute\n  width: 100%\n  z-index: 10\n  bottom: 0\n  left: 0\n  background-color: rgba(0,0,0,.6)\n  text-align: center\n  padding: 10px 0\n\n::v-deep .vjs-poster, ::v-deep .video-js\n  background-color: #000\n\n.poster-placeholder-wrapper\n  height: 250px\n  background-color: #000\n\n  .poster-placeholder\n    $size: 100px\n    color: rgb(255 255 255 / .2)\n    width: $size\n    height: $size\n    position: absolute\n    left: calc(50% - #{$size / 2})\n    top: calc(50% - #{$size / 2} - 20px)\n\ni.fas\n  width: 1em\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintCard.vue?vue&type=template&id=41b4b42a&scoped=true&\"\nimport script from \"./PrintCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintCard.vue?vue&type=style&index=0&id=41b4b42a&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41b4b42a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('video-box',{attrs:{\"videoUrl\":_vm.videoUrl,\"posterUrl\":_vm.print.poster_url,\"fluid\":false,\"autoplay\":_vm.autoplay,\"fullscreenBtn\":false},on:{\"timeupdate\":_vm.onTimeUpdate}}),(_vm.isPublic)?_c('div',{staticClass:\"bg-warning alert-banner text-center\",style:({opacity: _vm.normalizedP > 0.4 ? 1 : 0})},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Possible failure detected! \")]):_vm._e(),_c('gauge',{attrs:{\"normalizedP\":_vm.normalizedP}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <video-box\n      :videoUrl=\"videoUrl\"\n      :posterUrl=\"print.poster_url\"\n      @timeupdate=\"onTimeUpdate\"\n      :fluid=\"false\"\n      :autoplay=\"autoplay\"\n      :fullscreenBtn=\"false\"\n    />\n\n    <div v-if=\"isPublic\" :style=\"{opacity: normalizedP > 0.4 ? 1 : 0}\" class=\"bg-warning alert-banner text-center\">\n      <i class=\"fas fa-exclamation-triangle\"></i> Possible failure detected!\n    </div>\n\n    <gauge\n      :normalizedP=\"normalizedP\"\n    />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport {getNormalizedP} from '@src/lib/utils'\nimport VideoBox from '@src/components/VideoBox'\nimport Gauge from '@src/components/Gauge'\n\nexport default {\n  name: 'FullScreenPrintCard',\n  components: {\n    VideoBox,\n    Gauge\n  },\n  props: {\n    print: {\n      type: Object,\n      required: true\n    },\n    videoUrl: {\n      type: String,\n      required: true\n    },\n    initialPosition: {\n      type: Number,\n      default: () => 0\n    },\n    autoplay: {\n      type: Boolean,\n      default: () => false\n    },\n    isPublic: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      currentPosition: 0,\n      predictions: [],\n    }\n  },\n  computed: {\n    normalizedP() {\n      return getNormalizedP(this.predictions, this.currentPosition, this.isPublic)\n    }\n  },\n  methods: {\n    onTimeUpdate(currentPosition) {\n      this.currentPosition = currentPosition\n    },\n\n    fetchPredictions() {\n      axios.get(this.print.prediction_json_url).then(response => {\n        this.predictions = response.data\n      })\n    }\n  },\n  mounted() {\n    if (this.print.prediction_json_url) {\n      this.fetchPredictions()\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.bg-warning.alert-banner\n  position: static\n  display: block\n  padding: 0.3rem\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullScreenPrintCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullScreenPrintCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullScreenPrintCard.vue?vue&type=template&id=6c992524&scoped=true&\"\nimport script from \"./FullScreenPrintCard.vue?vue&type=script&lang=js&\"\nexport * from \"./FullScreenPrintCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FullScreenPrintCard.vue?vue&type=style&index=0&id=6c992524&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c992524\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.menuExpanded === null)?_vm._l((_vm.menuOptions),function(menu,name){return _c('b-dropdown-item',{key:name},[_c('div',{staticClass:\"d-flex justify-content-between clickable-area\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.menuExpanded = name}}},[_c('div',[_c('i',{class:menu.iconClass}),(_vm.activeItems[name])?_c('span',[_vm._v(\" \"+_vm._s(_vm.activeItems[name].title)+\" \"),(_vm.activeItems[name].iconClass)?_c('i',{class:_vm.activeItems[name].iconClass}):_vm._e()]):_c('span',[_vm._v(\" \"+_vm._s(name)+\" \")])]),_c('div',[_c('i',{staticClass:\"fas fa-chevron-right m-0\"})])])])}):_vm._e(),(_vm.menuExpanded !== null)?[_c('b-dropdown-item',[_c('div',{staticClass:\"clickable-area\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.menuExpanded = null}}},[_c('i',{staticClass:\"fas fa-chevron-left\"}),_vm._v(\"Back \")])]),_vm._l((_vm.menuOptions[_vm.menuExpanded].options),function(option){return _c('b-dropdown-item',{key:option.value},[_c('div',{staticClass:\"clickable-area\",on:{\"click\":function($event){return _vm.onSelected(option)}}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({visibility: _vm.menuSelections[_vm.menuExpanded] === option.value ? 'visible' : 'hidden'})}),_vm._v(\" \"+_vm._s(option.title)+\" \"),(option.iconClass)?_c('i',{class:option.iconClass}):_vm._e()])])})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <template v-if=\"menuExpanded === null\">\n      <b-dropdown-item v-for=\"(menu, name) in menuOptions\" :key=\"name\">\n        <div class=\"d-flex justify-content-between clickable-area\" @click.stop.prevent=\"menuExpanded = name\">\n          <div>\n            <i :class=\"menu.iconClass\"></i>\n            <span v-if=\"activeItems[name]\">\n              {{ activeItems[name].title }}\n              <i v-if=\"activeItems[name].iconClass\" :class=\"activeItems[name].iconClass\"></i>\n            </span>\n            <span v-else>\n              {{name}}\n            </span>\n          </div>\n          <div><i class=\"fas fa-chevron-right m-0\"></i></div>\n        </div>\n      </b-dropdown-item>\n    </template>\n    <template v-if=\"menuExpanded !== null\">\n      <b-dropdown-item>\n        <div @click.stop.prevent=\"menuExpanded = null\" class=\"clickable-area\">\n          <i class=\"fas fa-chevron-left\"></i>Back\n        </div>\n      </b-dropdown-item>\n      <b-dropdown-item v-for=\"option in menuOptions[menuExpanded].options\" :key=\"option.value\">\n        <div @click=\"onSelected(option)\" class=\"clickable-area\">\n          <i class=\"fas fa-check text-primary\" :style=\"{visibility: menuSelections[menuExpanded] === option.value ? 'visible' : 'hidden'}\"></i>\n          {{ option.title }} <i v-if=\"option.iconClass\" :class=\"option.iconClass\"></i>\n        </div>\n      </b-dropdown-item>\n    </template>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'CascadedDropdown',\n  data: function() {\n    return {\n      menuExpanded: null,\n    }\n  },\n  props: {\n    menuOptions: Object,\n    menuSelections: Object,\n  },\n\n  methods: {\n    onSelected(option) {\n      this.$emit('menuSelectionChanged', this.menuExpanded, option)\n      this.menuExpanded = null\n    },\n  },\n\n  computed: {\n    activeItems() {\n      let items = {}\n      for (const key of Object.keys(this.menuSelections)) {\n        items[key] = this.menuOptions[key].options.filter(option => option.value === this.menuSelections[key])[0]\n      }\n      return items\n    }\n  },\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CascadedDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CascadedDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CascadedDropdown.vue?vue&type=template&id=686b73f4&\"\nimport script from \"./CascadedDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./CascadedDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout>\n    <template v-slot:topBarLeft>\n      <div class=\"actions-with-selected-desktop\">\n        <b-form-group class=\"m-0\">\n          <b-form-checkbox\n            v-model=\"allPrintsSelected\"\n            size=\"lg\"\n          ></b-form-checkbox>\n        </b-form-group>\n        <div>\n          <span class=\"label\" @click=\"allPrintsSelected = !allPrintsSelected\" v-show=\"!selectedPrintIds.size\">Select all</span>\n          <b-dropdown v-show=\"selectedPrintIds.size\" class=\"\" toggle-class=\"btn btn-sm actions-with-selected-btn\">\n            <template #button-content>\n              {{ selectedPrintIds.size }} item{{ selectedPrintIds.size === 1 ? '' : 's' }} selected...\n            </template>\n            <b-dropdown-item>\n              <div class=\"text-danger\" @click=\"onDeleteBtnClick\">\n                <i class=\"far fa-trash-alt\"></i>Delete\n              </div>\n            </b-dropdown-item>\n          </b-dropdown>\n        </div>\n      </div>\n    </template>\n    <template v-slot:topBarRight>\n      <div>\n        <a href=\"/prints/upload/\" class=\"btn shadow-none icon-btn d-none d-md-inline\" title=\"Upload Time-Lapse\">\n          <i class=\"fas fa-upload\"></i>\n        </a>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item href=\"/prints/upload/\" class=\"d-md-none\">\n            <i class=\"fas fa-upload\"></i>Upload Time-Lapse\n          </b-dropdown-item>\n          <b-dropdown-divider class=\"d-md-none\"></b-dropdown-divider>\n\n          <cascaded-dropdown\n            :menuOptions=\"menuOptions\"\n            :menuSelections=\"menuSelections\"\n            @menuSelectionChanged=\"menuSelectionChanged\"\n          >\n          </cascaded-dropdown>\n        </b-dropdown>\n      </div>\n    </template>\n    <template v-slot:content>\n      <a v-if=\"shouldShowFilterWarning\"  @click=\"onShowAllClicked\" class=\"active-filter-notice\">\n        <div class=\"filter\">\n          <i class=\"fas fa-filter mr-2\"></i>\n          {{ activeFiltering }}\n        </div>\n        <div>SHOW ALL</div>\n      </a>\n      <b-container>\n        <b-row class=\"print-cards\" v-show=\"prints.length\">\n          <print-card\n            v-for=\"print of prints\"\n            :key=\"print.id\"\n            :print=\"print\"\n            :selected=\"selectedPrintIds.has(print.id)\"\n            @selectedChanged=\"onSelectedChanged\"\n            @printDeleted=\"onPrintDeleted\"\n            @printDataChanged=\"printDataChanged\"\n            @fullscreen=\"openFullScreen\"\n          ></print-card>\n        </b-row>\n\n        <mugen-scroll :handler=\"fetchMoreData\" :should-handle=\"!loading\" class=\"text-center p-4\">\n          <div v-if=\"noMoreData\" class=\"text-center p-2\">No more time-lapses.</div>\n          <b-spinner v-if=\"!noMoreData\" label=\"Loading...\"></b-spinner>\n        </mugen-scroll>\n\n        <b-modal\n          id=\"tl-fullscreen-modal\"\n          size=\"full\"\n          @hidden=\"fullScreenClosed\"\n          :hideHeader=\"true\"\n          :hideFooter=\"true\"\n        >\n          <FullScreenPrintCard\n            :print=\"fullScreenPrint\"\n            :videoUrl=\"fullScreenPrintVideoUrl\"\n            :autoplay=\"true\"\n          />\n        </b-modal>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport findIndex from 'lodash/findIndex'\nimport MugenScroll from 'vue-mugen-scroll'\nimport map from 'lodash/map'\n\nimport urls from '@config/server-urls'\nimport { normalizedPrint } from '@src/lib/normalizers'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport PrintCard from '@src/components/prints/PrintCard.vue'\nimport FullScreenPrintCard from '@src/components/prints/FullScreenPrintCard.vue'\nimport Layout from '@src/components/Layout.vue'\nimport CascadedDropdown from '@src/components/CascadedDropdown'\n\nconst LOCAL_PREF_NAMES = {\n  filtering: 'prints-filtering',\n  sorting: 'prints-sorting',\n}\nconst PAGE_SIZE = 6\n\nexport default {\n  name: 'PrintsPage',\n  components: {\n    MugenScroll,\n    PrintCard,\n    FullScreenPrintCard,\n    Layout,\n    CascadedDropdown,\n  },\n  data: function() {\n    return {\n      prints: [],\n      selectedPrintIds: new Set(),\n      loading: false,\n      noMoreData: false,\n      fullScreenPrint: null,\n      fullScreenPrintVideoUrl: null,\n      menuSelections: {\n        'Sort By': getLocalPref(\n          LOCAL_PREF_NAMES.sorting,\n          'date_desc'),\n        'Filter By': getLocalPref(\n          LOCAL_PREF_NAMES.filtering,\n          'none'),\n      },\n      menuOptions: {\n        'Sort By': {\n          iconClass: 'fas fa-sort-amount-up',\n          options: [\n            {value: 'date_asc', title: 'Sort By Date', iconClass: 'fas fa-long-arrow-alt-up'},\n            {value: 'date_desc', title: 'Sort By Date', iconClass: 'fas fa-long-arrow-alt-down'},\n          ]\n        },\n        'Filter By': {\n          iconClass: 'fas fa-filter',\n          options: [\n            {value: 'none', title: 'All'},\n            {value: 'finished', title: 'Succeeded'},\n            {value: 'cancelled', title: 'Cancelled'},\n            {value: 'need_alert_overwrite', title: 'Review Needed'},\n            {value: 'need_print_shot_feedback', title: 'Focused-Review Needed'},\n          ],\n        }\n      },\n    }\n  },\n  computed: {\n    allPrintsSelected: {\n      get: function () {\n        return (this.selectedPrintIds.size >= this.prints.length) && (this.prints.length !== 0)\n      },\n      set: function (selected) {\n        if (selected) {\n          this.selectedPrintIds = new Set(map(this.prints, 'id'))\n        } else {\n          this.selectedPrintIds = new Set()\n        }\n      }\n    },\n    shouldShowFilterWarning() {\n      return this.menuSelections['Filter By'] !== 'none'\n    },\n    activeFiltering() {\n      const found = this.menuOptions['Filter By'].options.filter(option => option.value === this.menuSelections['Filter By'])\n      return found.length ? found[0].title : null\n    }\n  },\n\n  created() {\n    this.refetchData()\n  },\n\n  methods: {\n    fetchMoreData() {\n      if (this.noMoreData) {\n        return\n      }\n\n      this.loading = true\n      axios\n        .get(urls.prints(), {\n          params: {\n            start: this.prints.length,\n            limit: PAGE_SIZE,\n            filter: this.menuSelections['Filter By'],\n            sorting: this.menuSelections['Sort By'],\n          }\n        })\n        .then(response => {\n          this.loading = false\n          this.noMoreData = response.data.length < PAGE_SIZE\n          this.prints.push(...response.data.map(data => normalizedPrint(data)))\n        })\n    },\n\n    refetchData() {\n      this.prints = []\n      this.selectedPrintIds = new Set()\n      this.noMoreData = false\n      this.fetchMoreData()\n    },\n\n    onSelectedChanged(printId, selected) {\n      const selectedPrintIdsClone = new Set(this.selectedPrintIds)\n      if (selected) {\n        selectedPrintIdsClone.add(printId)\n      } else {\n        selectedPrintIdsClone.delete(printId)\n      }\n      this.selectedPrintIds = selectedPrintIdsClone\n    },\n\n    menuSelectionChanged(menu, selectedOption) {\n      this.$set(this.menuSelections, menu, selectedOption.value)\n      const prefName = menu === 'Sort By' ? LOCAL_PREF_NAMES.sorting : LOCAL_PREF_NAMES.filtering\n      setLocalPref(prefName, selectedOption.value)\n      this.refetchData()\n    },\n\n    onDeleteBtnClick() {\n      const selectedPrintIds = Array.from(this.selectedPrintIds)\n      this.$swal.Prompt.fire({\n        title: 'Are you sure?',\n        text: `Delete ${this.selectedPrintIds.size} print(s)? This action can not be undone.`,\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No'\n      }).then(userAction => {\n        if (userAction.isConfirmed) {\n          axios\n            .post(urls.printsBulkDelete(), { print_ids: selectedPrintIds })\n            .then(() => {\n              selectedPrintIds.forEach(printId => this.onPrintDeleted(printId, false))\n              this.$swal.Toast.fire({\n                title: `${selectedPrintIds.length} time-lapse(s) deleted!`,\n              })\n              this.selectedPrintIds = new Set()\n            })\n        }\n      })\n    },\n    onPrintDeleted(printId, toast=true) {\n      const i = findIndex(this.prints, p => p.id == printId)\n      const print = this.prints[i]\n      this.$delete(this.prints, i)\n      if (toast) {\n        this.$swal.Toast.fire({\n          title: `Time-lapse ${print.filename} deleted!`,\n        })\n      }\n    },\n    printDataChanged(data) {\n      const i = findIndex(this.prints, p => p.id == data.id)\n      this.$set(this.prints, i, normalizedPrint(data))\n    },\n    openFullScreen(printId, videoUrl) {\n      const i = findIndex(this.prints, p => p.id == printId)\n      if (i != -1) {\n        this.fullScreenPrint = this.prints[i]\n        this.fullScreenPrintVideoUrl = videoUrl\n        this.$bvModal.show('tl-fullscreen-modal')\n      }\n    },\n    fullScreenClosed() {\n      this.fullScreenPrint = null\n      this.fullScreenPrintVideoUrl = null\n    },\n    onShowAllClicked(){\n      this.$set(this.menuSelections, 'Filter By', 'none')\n      setLocalPref(\n        LOCAL_PREF_NAMES.filtering,\n        'none'\n      )\n      this.refetchData()\n    },\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.print-cards\n  margin-top: calc(var(--gap-between-blocks) * -1)\n\n.menu-bar\n  background-color: var(--color-surface-secondary)\n  padding: 0.75rem 1.25rem\n\n#tl-fullscreen-modal\n  .modal-full\n    max-width: 100%\n\n  .modal-body\n    padding: 0\n\n  .video-js\n    height: calc(100vh - 200px)\n\n::v-deep .btn-outline-secondary\n  color: var(--color-text-primary)\n  border-color: var(--color-text-primary)\n\n  &:hover\n    background: none\n    opacity: .8\n\n.actions-with-selected-desktop\n  display: flex\n  align-items: center\n  .label\n    cursor: pointer\n  ::v-deep .actions-with-selected-btn\n    border-radius: 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintsPage.vue?vue&type=template&id=59d5e13b&scoped=true&\"\nimport script from \"./PrintsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintsPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintsPage.vue?vue&type=style&index=0&id=59d5e13b&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59d5e13b\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[(_vm.print)?_c('print-card',{staticClass:\"m-0\",attrs:{\"print\":_vm.print},on:{\"printDeleted\":_vm.onPrintDeleted,\"printDataChanged\":_vm.printDataChanged}}):_vm._e()],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <layout>\n    <template v-slot:content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <print-card\n            v-if=\"print\"\n            :print=\"print\"\n            @printDeleted=\"onPrintDeleted\"\n            @printDataChanged=\"printDataChanged\"\n            class=\"m-0\"\n          ></print-card>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport urls from '@config/server-urls'\nimport { normalizedPrint } from '@src/lib/normalizers'\nimport PrintCard from '@src/components/prints/PrintCard.vue'\nimport Layout from '@src/components/Layout.vue'\n\nexport default {\n  name: 'PrintPage',\n\n  components: {\n    PrintCard,\n    Layout,\n  },\n\n  props: {\n    config: Object\n  },\n\n  data: function() {\n    return {\n      print: null\n    }\n  },\n\n  created() {\n    this.fetchData()\n  },\n\n  methods: {\n    fetchData() {\n      axios.get(urls.print(this.config.printId)).then(response => {\n        this.print = normalizedPrint(response.data)\n      })\n    },\n\n    onPrintDeleted() {\n      window.location.href = '/prints/'\n    },\n\n    printDataChanged() {\n      this.fetchData()\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintPage.vue?vue&type=template&id=6bb89ef6&scoped=true&\"\nimport script from \"./PrintPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6bb89ef6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{staticClass:\"text-center\",attrs:{\"lg\":\"8\"}},[_c('h1',{staticClass:\"pb-2\"},[_vm._v(\"Upload Time-lapse\")]),_c('p',{staticClass:\"pb-2\"},[_vm._v(\"Upload time-lapse videos to test Obico's AI failure detection.\")]),_c('vue-dropzone',{staticClass:\"upload-box\",attrs:{\"id\":\"dropzone\",\"options\":_vm.dropzoneOptions,\"useCustomSlot\":true},on:{\"vdropzone-success\":_vm.printUploadSuccess}},[_c('div',{staticClass:\"dz-message needsclick\"},[_c('i',{staticClass:\"fas fa-upload fa-2x\"}),_vm._v(\" \"),_c('br'),_vm._v(\" Drop files here or click to upload.\"),_c('br'),_vm._v(\" *.mp4 or *.mpg files only. Up to 100MB each. \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uploaded),expression:\"uploaded\"}],staticClass:\"pt-5\"},[_c('div',{attrs:{\"id\":\"tl-uploaded\"}},[_c('img',{staticClass:\"detective-working\",attrs:{\"src\":require('@static/img/detective-working.gif')}}),_c('div',{staticClass:\"py-2 text-center\"},[_c('div',{staticClass:\"py-2\"},[_vm._v(\"The Obico Server is running failure detection on the time-lapse video(s) you uploaded.\")]),_c('div',[_vm._v(\"We will send you email when it is done.\")]),_c('a',{attrs:{\"href\":\"/prints/\"}},[_vm._v(\"Check status now >>>\")])])])])],1)],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <layout>\n    <template v-slot:content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\" class=\"text-center\">\n            <h1 class=\"pb-2\">Upload Time-lapse</h1>\n            <p class=\"pb-2\">Upload time-lapse videos to test Obico's AI failure detection.</p>\n            <vue-dropzone\n              class=\"upload-box\"\n              id=\"dropzone\"\n              :options=\"dropzoneOptions\"\n              :useCustomSlot=\"true\"\n              @vdropzone-success=\"printUploadSuccess\"\n            >\n              <div class=\"dz-message needsclick\">\n                <i class=\"fas fa-upload fa-2x\"></i> <br>\n                Drop files here or click to upload.<br>\n                *.mp4 or *.mpg files only. Up to 100MB each.\n              </div>\n            </vue-dropzone>\n            <div v-show=\"uploaded\" class=\"pt-5\">\n              <div id=\"tl-uploaded\">\n                <img class=\"detective-working\" :src=\"require('@static/img/detective-working.gif')\" />\n                <div class=\"py-2 text-center\">\n                  <div class=\"py-2\">The Obico Server is running failure detection on the time-lapse video(s) you\n                    uploaded.</div>\n                  <div>We will send you email when it is done.</div><a href=\"/prints/\">Check status now >>></a>\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport vue2Dropzone from 'vue2-dropzone'\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport Layout from '@src/components/Layout.vue'\n\nexport default {\n  name: 'UploadPrintPage',\n\n  components: {\n    vueDropzone: vue2Dropzone,\n    Layout,\n  },\n\n  props: {\n    csrf: {\n      type: String,\n      requeired: true,\n    },\n  },\n\n  data() {\n    return {\n      dropzoneOptions: {\n        withCredentials: true,\n        maxFilesize: 100, // MB\n        timeout: 60 * 60 * 1000, // For large files\n        acceptedFiles: 'video/mp4, video/mpeg',\n        url: '?',\n        headers: {'X-CSRFToken': this.csrf},\n      },\n      uploaded: false,\n    }\n  },\n\n  methods: {\n    printUploadSuccess(file) {\n      console.log(file)\n      this.uploaded = true\n    },\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\nimg.detective-working\n  height: auto\n  width: 12rem\n  border-radius: var(--border-radius-sm)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPrintPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPrintPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadPrintPage.vue?vue&type=template&id=74b3f054&scoped=true&\"\nimport script from \"./UploadPrintPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadPrintPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadPrintPage.vue?vue&type=style&index=0&id=74b3f054&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74b3f054\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"topBarRight\",fn:function(){return [_c('div',[(_vm.isEnt)?_c('a',{staticClass:\"btn shadow-none hours-btn d-none d-md-inline\",attrs:{\"href\":\"/user_preferences/dh/\",\"title\":_vm.dhBadgeNum + ' AI Detection Hours'}},[_c('svg',[_c('use',{attrs:{\"href\":\"#svg-detective-hours\"}})]),_c('span',{staticClass:\"badge badge-light\",attrs:{\"id\":\"user-credits\"}},[_vm._v(_vm._s(_vm.dhBadgeNum))]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"AI Detection Hours\")])]):_vm._e(),_c('a',{staticClass:\"btn shadow-none icon-btn d-none d-md-inline\",attrs:{\"href\":\"/printers/wizard/\",\"title\":\"Link New Printer\"}},[_c('i',{staticClass:\"fas fa-plus\"})]),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[(_vm.isEnt)?_c('b-dropdown-item',{staticClass:\"d-md-none\",attrs:{\"href\":\"/user_preferences/dh/\"}},[_c('i',{staticClass:\"fas fa-hourglass-half\"}),_vm._v(_vm._s(_vm.dhBadgeNum)+\" AI Detection Hours \")]):_vm._e(),_c('b-dropdown-item',{staticClass:\"d-md-none\",attrs:{\"href\":\"/printers/wizard/\"}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\"Link New Printer \")]),_c('b-dropdown-divider',{staticClass:\"d-md-none\"}),_c('cascaded-dropdown',{attrs:{\"menuOptions\":_vm.menuOptions,\"menuSelections\":_vm.menuSelections},on:{\"menuSelectionChanged\":_vm.menuSelectionChanged}})],1)],1)]},proxy:true},{key:\"content\",fn:function(){return [(_vm.shouldShowFilterWarning)?_c('div',{staticClass:\"active-filter-notice\",on:{\"click\":_vm.onShowAllClicked}},[_c('div',{staticClass:\"filter\"},[_c('i',{staticClass:\"fas fa-filter mr-2\"}),_vm._v(\" \"+_vm._s(_vm.activeFiltering)+\" \")]),_c('a',[_vm._v(\"SHOW ALL\")])]):_vm._e(),_c('b-container',{staticClass:\"printer-list-page\"},[(_vm.loading)?_c('b-row',[_c('b-col',{staticClass:\"text-center\"},[_c('b-spinner',{staticClass:\"my-5\",attrs:{\"label\":\"Loading...\"}})],1)],1):_vm._e(),(_vm.visiblePrinters.length)?_c('b-row',{staticClass:\"printer-cards justify-content-center\"},_vm._l((_vm.visiblePrinters),function(printer){return _c('printer-card',{key:printer.id,staticClass:\"printer-card-wrapper\",attrs:{\"printer\":printer,\"is-pro-account\":_vm.user.is_pro},on:{\"PrinterUpdated\":_vm.onPrinterUpdated}})}),1):_vm._e(),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-6\",attrs:{\"id\":\"new-printer\"}},[_c('div',{staticClass:\"new-printer-container\"},[_c('a',{attrs:{\"href\":\"/printers/wizard/\"}},[_c('i',{staticClass:\"fa fa-plus fa-2x\"}),_c('div',[_vm._v(\"Link New Printer\")])])])])]),_c('b-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowArchiveWarning),expression:\"shouldShowArchiveWarning\"}],staticClass:\"bottom-messages\"},[_c('b-col',[_c('div',{staticClass:\"alert alert-warning alert-dismissible fade show mb-3\",attrs:{\"role\":\"alert\"}},[_c('div',{staticClass:\"warning\"},[_c('div',[_vm._v(_vm._s(_vm.archivedPrinterNum)+\" \"+_vm._s(_vm._f(\"pluralize\")('printer',_vm.archivedPrinterNum))+\" have been archived.\")]),_c('a',{staticClass:\"warning-action\",attrs:{\"href\":\"/ent/printers/archived/\"}},[_vm._v(\"Show Archived Printers\")])]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])])])],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-12 col-lg-6 printer-card\",attrs:{\"id\":_vm.printer.id}},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"title-box\"},[(_vm.hasCurrentPrintFilename)?_c('div',{staticClass:\"primary-title print-filename\"},[_vm._v(_vm._s(_vm.printer.current_print.filename))]):_vm._e(),_c('div',{staticClass:\"printer-name\",class:{'secondary-title': _vm.hasCurrentPrintFilename}},[_vm._v(_vm._s(_vm.printer.name)+\" (\"),_c('a',{class:_vm.statusClass,attrs:{\"href\":'#printer-actions-' + _vm.printer.id}},[_vm._v(_vm._s(_vm.statusText))]),_vm._v(\") \")])]),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSharePrinter()}}},[_c('i',{staticClass:\"fas fa-share-alt fa-lg\"}),_vm._v(\"Share \")]),(!_vm.printer.isAgentMoonraker())?_c('b-dropdown-item',{attrs:{\"href\":_vm.octoPrintTunnelUrl()}},[_c('svg',{staticClass:\"menu-icon\"},[_c('use',{attrs:{\"href\":\"#svg-octoprint-tunneling\"}})]),_vm._v(\" Tunneling \")]):_vm._e(),_c('div',{staticClass:\"dropdown-divider\"}),_c('b-dropdown-item',{attrs:{\"href\":_vm.settingsUrl()}},[_c('i',{staticClass:\"fas fa-wrench fa-lg\"}),_vm._v(\"Configure \")])],1)],1),_c('streaming-box',{attrs:{\"printer\":_vm.printer,\"webrtc\":_vm.webrtc,\"autoplay\":_vm.isProAccount}}),(_vm.printer.alertUnacknowledged())?_c('div',{staticClass:\"failure-alert card-body bg-warning px-2 py-1\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle align-middle\"}),_c('span',{staticClass:\"align-middle\"},[_vm._v(\"Failure Detected!\")]),_c('button',{staticClass:\"btn btn-outline-primary btn-sm float-right\",attrs:{\"type\":\"button\",\"id\":\"not-a-failure\"},on:{\"click\":function($event){return _vm.onNotAFailureClicked($event, false)}}},[_vm._v(\"Not a failure?\")])]):_vm._e(),_c('div',{staticClass:\"card-body gauge-container\",class:{overlay: !_vm.isWatching}},[(!_vm.isWatching)?_c('div',{staticClass:\"overlay-top text-center\",staticStyle:{\"left\":\"0\",\"width\":\"100%\",\"top\":\"50%\",\"margin-top\":\"-55px\"}},[_c('H1',[_c('i',{staticClass:\"far fa-eye-slash\"})]),_c('h5',{staticClass:\"text-warning\"},[_vm._v(\"Failure Detection is Off\")]),(_vm.printer.not_watching_reason)?_c('small',[_vm._v(_vm._s(_vm.printer.not_watching_reason)+\". \"),_vm._m(0)]):_vm._e(),_c('div')],1):_vm._e(),_c('Gauge',{attrs:{\"normalizedP\":_vm.printer.normalized_p,\"isWatching\":_vm.isWatching}}),_c('hr')],1),_c('PrinterActions',_vm._b({staticClass:\"container\",attrs:{\"id\":'printer-actions-' + _vm.printer.id},on:{\"PrinterActionPauseClicked\":_vm.onPrinterActionPauseClicked,\"PrinterActionResumeClicked\":function($event){return _vm.onPrinterActionResumeClicked($event)},\"PrinterActionCancelClicked\":_vm.onPrinterActionCancelClicked,\"PrinterActionConnectClicked\":_vm.onPrinterActionConnectClicked,\"PrinterActionStartClicked\":_vm.onPrinterActionStartClicked,\"PrinterActionControlClicked\":_vm.onPrinterActionControlClicked}},'PrinterActions',_vm.actionsProps,false)),_c('div',{staticClass:\"info-section settings\"},[_c('button',{staticClass:\"info-section-toggle btn btn-sm no-corner mx-2\",class:{pressed: _vm.section_toggles.settings},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onSettingsToggleClicked()}}},[_c('i',{staticClass:\"fas fa-cog fa-lg\"})]),_c('button',{staticClass:\"info-section-toggle btn btn-sm no-corner mx-2\",class:{pressed: _vm.section_toggles.time},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onTimeToggleClicked()}}},[_c('i',{staticClass:\"fas fa-clock fa-lg\"})]),_c('button',{staticClass:\"info-section-toggle btn btn-sm no-corner mx-2\",class:{pressed: _vm.section_toggles.statusTemp},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onStatusTempToggleClicked()}}},[_c('i',{staticClass:\"fas fa-thermometer-half fa-lg\"})])]),_c('div',{staticClass:\"info-section\",staticStyle:{\"height\":\"0.3rem\"}}),_c('div',[_c('div',{staticClass:\"info-section container\"},[(_vm.section_toggles.settings)?_c('div',{attrs:{\"id\":\"panel-settings\"}},[_c('div',{staticClass:\"pt-2 pb-3\"},[_c('div',{staticClass:\"row justify-content-center px-3\"},[_c('div',{staticClass:\"col-12 setting-item\"},[_c('label',{staticClass:\"toggle-label\",attrs:{\"for\":'watching_enabled-toggle-' + _vm.printer.id}},[_vm._v(\"Enable AI failure detection \"),(!_vm.watchForFailures)?_c('div',{staticClass:\"text-muted font-weight-light font-size-sm\"},[_vm._v(\"AI failure detection is disabled. You are on your own. \")]):_vm._e()]),_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{staticClass:\"custom-control-input update-printer\",attrs:{\"type\":\"checkbox\",\"name\":\"watching_enabled\",\"id\":'watching_enabled-toggle-' + _vm.printer.id},domProps:{\"checked\":_vm.watchForFailures},on:{\"click\":_vm.onWatchForFailuresToggled}}),_c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"1rem\"},attrs:{\"for\":'watching_enabled-toggle-' + _vm.printer.id}})])])]),_c('div',{staticClass:\"row justify-content-center px-3\"},[_c('div',{staticClass:\"col-12 setting-item\"},[_c('label',{staticClass:\"toggle-label\",attrs:{\"for\":'pause-toggle-' + _vm.printer.id}},[_vm._v(\"Pause on detected failures \"),(!_vm.pauseOnFailure)?_c('div',{staticClass:\"text-muted font-weight-light font-size-sm\"},[_vm._v(\"You will still be alerted via notifications \")]):_vm._e()]),_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{staticClass:\"custom-control-input update-printer\",attrs:{\"type\":\"checkbox\",\"name\":\"pause_on_failure\",\"id\":'pause-toggle-' + _vm.printer.id},domProps:{\"checked\":_vm.pauseOnFailure},on:{\"click\":_vm.onPauseOnFailureToggled}}),_c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"1rem\"},attrs:{\"for\":'pause-toggle-'+_vm.printer.id}})])])])])]):_vm._e(),(_vm.section_toggles.time)?_c('div',{attrs:{\"id\":\"print-time\"}},[_c('div',{staticClass:\"py-2\"},[_vm._m(1),_c('div',{staticClass:\"row\"},[_vm._m(2),_c('duration-block',_vm._b({staticClass:\"col-5 numbers\",attrs:{\"id\":\"print-time-remaining\"}},'duration-block',_vm.timeRemaining,false)),_c('duration-block',_vm._b({staticClass:\"col-5 numbers\",attrs:{\"id\":\"print-time-total\"}},'duration-block',_vm.timeTotal,false)),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"progress\",staticStyle:{\"height\":\"2px\"}},[_c('div',{staticClass:\"progress-bar\",class:{'progress-bar-striped': _vm.progressPct < 100, 'progress-bar-animated': _vm.progressPct < 100},style:((\"width: \" + _vm.progressPct + \"%;\")),attrs:{\"id\":\"print-progress\",\"role\":\"progressbar\",\"aria-valuenow\":\"0\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}})])])],1)])]):_vm._e(),(_vm.section_toggles.statusTemp && _vm.tempProps.show)?_c('StatusTemp',_vm._b({attrs:{\"id\":\"status_temp_block\"},on:{\"TempEditClicked\":_vm.onTempEditClicked}},'StatusTemp',_vm.tempProps,false)):_vm._e()],1)])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/detective-not-watching/\",\"target\":\"_blank\"}},[_vm._v(\"Learn more. \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row text-muted\"},[_c('small',{staticClass:\"col-5 offset-2\"},[_vm._v(\" Remaining \")]),_c('small',{staticClass:\"col-5\"},[_vm._v(\" Total \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-2 text-muted\"},[_c('i',{staticClass:\"fas fa-clock\"})])}]\n\nexport { render, staticRenderFns }","'use strict'\nimport assign from 'lodash/assign'\nimport Vue from 'vue'\nimport ifvisible from 'ifvisible'\nimport pako from 'pako'\nimport {toArrayBuffer} from '@src/lib/utils'\n\nexport default function PrinterComm(printerId, wsUri, onPrinterUpdateReceived, onStatusReceived=null) {\n  var self = {}\n\n  self.printerId = printerId\n  self.wsUri = wsUri\n  self.onPrinterUpdateReceived = onPrinterUpdateReceived\n  self.onStatusReceived = onStatusReceived\n\n  self.ws = null\n  self.webrtc = null\n  self.passthruQueue = new Map()\n\n  ifvisible.on('blur', function(){\n    self.closeWebSocket()\n  })\n\n  ifvisible.on('focus', function(){\n    self.connect()\n  })\n\n  self.onPassThruReceived = function(msg) {\n    const refId = msg.ref\n    if (refId && self.passthruQueue.get(refId)) {\n      const callback = self.passthruQueue.get(refId)\n      self.passthruQueue.delete(refId)\n      callback(null, msg.ret)\n    } else if ('printer_event' in msg) {\n      const printerEvent = msg.printer_event\n      Vue.swal.Toast.fire({\n        icon: printerEvent.event_class.toLowerCase(),\n        title: printerEvent.event_title,\n        html: printerEvent.event_text,\n      }).then(result => {\n        if (result.isDismissed && result.dismiss === 'close') { // SWAL returns 'close' as the reason when user clicks on the toast\n          window.location.href = '/printer_events/'\n        }\n      })\n    }\n  }\n\n  self.connect = function() {\n    self.ws = new WebSocket( window.location.protocol.replace('http', 'ws') + '//' + window.location.host + self.wsUri)\n    self.ws.onmessage = function (e) {\n      let msg = {}\n      try {\n        msg = JSON.parse(e.data)\n      } catch (error) {\n        console.log(e.data)\n        throw(error)\n      }\n      if ('passthru' in msg) {\n        self.onPassThruReceived(msg.passthru)\n      } else {\n        onPrinterUpdateReceived(msg)\n      }\n    }\n\n    self.ensureWebsocketClosed()\n    setTimeout( function () { self.heartbeat() }, 30*1000)\n  }\n\n  self.setWebRTC = function(webrtc) {\n    self.webrtc = webrtc\n\n    function parseJsonData(jsonData) {\n      let msg = {}\n      try {\n        msg = JSON.parse(jsonData)\n      } catch (error) {\n        // Any garbage sent to the Janus UDP port will be forwarded here.\n        return\n      }\n\n      if (msg && 'ref' in msg && 'ret' in msg) {\n        self.onPassThruReceived(msg)\n        return\n      }\n\n      if (self.onStatusReceived) {\n        self.onStatusReceived(msg)\n      }\n    }\n\n    self.webrtc.setCallbacks({\n      onData: (maybeBin) => {\n        if (typeof maybeBin === 'string' || maybeBin instanceof String) {\n          parseJsonData(maybeBin)\n        } else {\n          toArrayBuffer(maybeBin, (arrayBuffer) => {\n            parseJsonData(pako.ungzip(new Uint8Array(arrayBuffer), {'to': 'string'}))\n          })\n        }\n      },\n    })\n  }\n\n  self.passThruToPrinter = function(msg, callback) {\n    if (self.canSend()) {\n      var refId = Math.random().toString()\n      assign(msg, {ref: refId})\n      if (callback) {\n        self.passthruQueue.set(refId, callback)\n        setTimeout(function() {\n          if (self.passthruQueue.has(refId)) {\n            Vue.swal.Toast.fire({\n              icon: 'error',\n              title: 'Failed to contact OctoPrint, or the Obico plugin version is older than 1.2.0.',\n            })\n          }\n        }, 10*1000)\n      }\n      if (self.webrtc) {\n        self.webrtc.sendData(JSON.stringify(msg))\n      }\n      self.ws.send(JSON.stringify({passthru: msg}))\n    } else {\n      if (callback){\n        callback('Message not passed through. No suitable WebSocket.')\n      }\n    }\n  }\n\n  // Helper methods\n\n  self.ensureWebsocketClosed = function() {\n    self.ws.onclose = function (ev) {\n      if (self.ws === ev.target) {\n        self.ws = null\n      }\n    }\n    self.ws.onerror = function () {\n      if (self.ws) {\n        self.ws.close()\n      }\n    }\n  }\n\n  self.closeWebSocket = function() {\n    if (self.ws) {\n      self.ws.close()\n    }\n  }\n\n  // Heartbeat to maintain the presence of connection\n  // Adapted from https://stackoverflow.com/questions/50876766/how-to-implement-ping-pong-request-for-websocket-connection-alive-in-javascript\n\n  self.heartbeat = function() {\n    if (!self.canSend()) {\n      return\n    }\n    self.ws.send(JSON.stringify({}))\n    setTimeout( function () { self.heartbeat() }, 30*1000)\n  }\n\n  self.canSend = function() {\n    return self.ws && self.ws.readyState === 1\n  }\n\n  return self\n}\n","/*\n  The MIT License (MIT)\n\n  Copyright (c) 2016 Meetecho\n\n  Permission is hereby granted, free of charge, to any person obtaining\n  a copy of this software and associated documentation files (the \"Software\"),\n  to deal in the Software without restriction, including without limitation\n  the rights to use, copy, modify, merge, publish, distribute, sublicense,\n  and/or sell copies of the Software, and to permit persons to whom the\n  Software is furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included\n  in all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n  OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n  ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n  OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable no-global-assign, no-redeclare, no-unused-vars, no-empty, no-inner-declarations */\n\nimport adapter from 'webrtc-adapter'\n\n// List of sessions\nJanus.sessions = {}\n\nJanus.isExtensionEnabled = function() {\n  if(navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {\n    // No need for the extension, getDisplayMedia is supported\n    return true\n  }\n  if(window.navigator.userAgent.match('Chrome')) {\n    var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10)\n    var maxver = 33\n    if(window.navigator.userAgent.match('Linux'))\n      maxver = 35 // \"known\" crash in chrome 34 and 35 on linux\n    if(chromever >= 26 && chromever <= maxver) {\n      // Older versions of Chrome don't support this extension-based approach, so lie\n      return true\n    }\n    return Janus.extension.isInstalled()\n  } else {\n    // Firefox and others, no need for the extension (but this doesn't mean it will work)\n    return true\n  }\n}\n\nvar defaultExtension = {\n  // Screensharing Chrome Extension ID\n  extensionId: 'hapfgfdkleiggjjpfpenajgdnfckjpaj',\n  isInstalled: function() { return document.querySelector('#janus-extension-installed') !== null },\n  getScreen: function (callback) {\n    var pending = window.setTimeout(function () {\n      var error = new Error('NavigatorUserMediaError')\n      error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)'\n      return callback(error)\n    }, 1000)\n    this.cache[pending] = callback\n    window.postMessage({ type: 'janusGetScreen', id: pending }, '*')\n  },\n  init: function () {\n    var cache = {}\n    this.cache = cache\n    // Wait for events from the Chrome Extension\n    window.addEventListener('message', function (event) {\n      if(event.origin != window.location.origin)\n        return\n      if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n        var callback = cache[event.data.id]\n        delete cache[event.data.id]\n\n        if (event.data.sourceId === '') {\n          // user canceled\n          var error = new Error('NavigatorUserMediaError')\n          error.name = 'You cancelled the request for permission, giving up...'\n          callback(error)\n        } else {\n          callback(null, event.data.sourceId)\n        }\n      } else if (event.data.type == 'janusGetScreenPending') {\n        console.log('clearing ', event.data.id)\n        window.clearTimeout(event.data.id)\n      }\n    })\n  }\n}\n\nJanus.useDefaultDependencies = function (deps) {\n  var f = (deps && deps.fetch) || fetch\n  var p = (deps && deps.Promise) || Promise\n  var socketCls = (deps && deps.WebSocket) || WebSocket\n\n  return {\n    newWebSocket: function(server, proto) { return new socketCls(server, proto) },\n    extension: (deps && deps.extension) || defaultExtension,\n    isArray: function(arr) { return Array.isArray(arr) },\n    webRTCAdapter: (deps && deps.adapter) || adapter,\n    httpAPICall: function(url, options) {\n      var fetchOptions = {\n        method: options.verb,\n        headers: {\n          'Accept': 'application/json, text/plain, */*'\n        },\n        cache: 'no-cache'\n      }\n      if(options.verb === 'POST') {\n        fetchOptions.headers['Content-Type'] = 'application/json'\n      }\n      if(options.withCredentials !== undefined) {\n        fetchOptions.credentials = options.withCredentials === true ? 'include' : (options.withCredentials ? options.withCredentials : 'omit')\n      }\n      if(options.body) {\n        fetchOptions.body = JSON.stringify(options.body)\n      }\n\n      var fetching = f(url, fetchOptions).catch(function(error) {\n        return p.reject({message: 'Probably a network error, is the server down?', error: error})\n      })\n\n      /*\n       * fetch() does not natively support timeouts.\n       * Work around this by starting a timeout manually, and racing it agains the fetch() to see which thing resolves first.\n       */\n\n      if(options.timeout) {\n        var timeout = new p(function(resolve, reject) {\n          var timerId = setTimeout(function() {\n            clearTimeout(timerId)\n            return reject({message: 'Request timed out', timeout: options.timeout})\n          }, options.timeout)\n        })\n        fetching = p.race([fetching, timeout])\n      }\n\n      fetching.then(function(response) {\n        if(response.ok) {\n          if(typeof(options.success) === typeof(Janus.noop)) {\n            return response.json().then(function(parsed) {\n              try {\n                options.success(parsed)\n              } catch(error) {\n                Janus.error('Unhandled httpAPICall success callback error', error)\n              }\n            }, function(error) {\n              return p.reject({message: 'Failed to parse response body', error: error, response: response})\n            })\n          }\n        }\n        else {\n          return p.reject({message: 'API call failed', response: response})\n        }\n      }).catch(function(error) {\n        if(typeof(options.error) === typeof(Janus.noop)) {\n          options.error(error.message || '<< internal error >>', error)\n        }\n      })\n\n      return fetching\n    }\n  }\n}\n\nJanus.useOldDependencies = function (deps) {\n  var jq = (deps && deps.jQuery) || jQuery // eslint-disable-line no-undef\n  var socketCls = (deps && deps.WebSocket) || WebSocket\n  return {\n    newWebSocket: function(server, proto) { return new socketCls(server, proto) },\n    isArray: function(arr) { return jq.isArray(arr) },\n    extension: (deps && deps.extension) || defaultExtension,\n    webRTCAdapter: (deps && deps.adapter) || adapter,\n    httpAPICall: function(url, options) {\n      var payload = options.body !== undefined ? {\n        contentType: 'application/json',\n        data: JSON.stringify(options.body)\n      } : {}\n      var credentials = options.withCredentials !== undefined ? {xhrFields: {withCredentials: options.withCredentials}} : {}\n\n      return jq.ajax(jq.extend(payload, credentials, {\n        url: url,\n        type: options.verb,\n        cache: false,\n        dataType: 'json',\n        async: options.async,\n        timeout: options.timeout,\n        success: function(result) {\n          if(typeof(options.success) === typeof(Janus.noop)) {\n            options.success(result)\n          }\n        },\n        error: function(xhr, status, err) {\n          if(typeof(options.error) === typeof(Janus.noop)) {\n            options.error(status, err)\n          }\n        }\n      }))\n    }\n  }\n}\n\nJanus.noop = function() {}\n\nJanus.dataChanDefaultLabel = 'JanusDataChannel'\n\n// Note: in the future we may want to change this, e.g., as was\n// attempted in https://github.com/meetecho/janus-gateway/issues/1670\nJanus.endOfCandidates = null\n\n// Stop all tracks from a given stream\nJanus.stopAllTracks = function(stream) {\n  try {\n    // Try a MediaStreamTrack.stop() for each track\n    var tracks = stream.getTracks()\n    for(var mst of tracks) {\n      Janus.log(mst)\n      if(mst) {\n        mst.stop()\n      }\n    }\n  } catch(e) {\n    // Do nothing if this fails\n  }\n}\n\n// Initialization\nJanus.init = function(options) {\n  options = options || {}\n  options.callback = (typeof options.callback == 'function') ? options.callback : Janus.noop\n  if(Janus.initDone) {\n    // Already initialized\n    options.callback()\n  } else {\n    if(typeof console == 'undefined' || typeof console.log == 'undefined') {\n      console = { log: function() {} }\n    }\n    // Console logging (all debugging disabled by default)\n    Janus.trace = Janus.noop\n    Janus.debug = Janus.noop\n    Janus.vdebug = Janus.noop\n    Janus.log = Janus.noop\n    Janus.warn = Janus.noop\n    Janus.error = Janus.noop\n    if(options.debug === true || options.debug === 'all') {\n      // Enable all debugging levels\n      Janus.trace = console.trace.bind(console)\n      Janus.debug = console.debug.bind(console)\n      Janus.vdebug = console.debug.bind(console)\n      Janus.log = console.log.bind(console)\n      Janus.warn = console.warn.bind(console)\n      Janus.error = console.error.bind(console)\n    } else if(Array.isArray(options.debug)) {\n      for(var d of options.debug) {\n        switch(d) {\n        case 'trace':\n          Janus.trace = console.trace.bind(console)\n          break\n        case 'debug':\n          Janus.debug = console.debug.bind(console)\n          break\n        case 'vdebug':\n          Janus.vdebug = console.debug.bind(console)\n          break\n        case 'log':\n          Janus.log = console.log.bind(console)\n          break\n        case 'warn':\n          Janus.warn = console.warn.bind(console)\n          break\n        case 'error':\n          Janus.error = console.error.bind(console)\n          break\n        default:\n          console.error('Unknown debugging option \\'' + d + '\\' (supported: \\'trace\\', \\'debug\\', \\'vdebug\\', \\'log\\', warn\\', \\'error\\')')\n          break\n        }\n      }\n    }\n    Janus.log('Initializing library')\n\n    var usedDependencies = options.dependencies || Janus.useDefaultDependencies()\n    Janus.isArray = usedDependencies.isArray\n    Janus.webRTCAdapter = usedDependencies.webRTCAdapter\n    Janus.httpAPICall = usedDependencies.httpAPICall\n    Janus.newWebSocket = usedDependencies.newWebSocket\n    Janus.extension = usedDependencies.extension\n    Janus.extension.init()\n\n    // Helper method to enumerate devices\n    Janus.listDevices = function(callback, config) {\n      callback = (typeof callback == 'function') ? callback : Janus.noop\n      if (config == null) config = { audio: true, video: true }\n      if(Janus.isGetUserMediaAvailable()) {\n        navigator.mediaDevices.getUserMedia(config)\n          .then(function(stream) {\n            navigator.mediaDevices.enumerateDevices().then(function(devices) {\n              Janus.debug(devices)\n              callback(devices)\n              // Get rid of the now useless stream\n              Janus.stopAllTracks(stream)\n            })\n          })\n          .catch(function(err) {\n            Janus.error(err)\n            callback([])\n          })\n      } else {\n        Janus.warn('navigator.mediaDevices unavailable')\n        callback([])\n      }\n    }\n    // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n    Janus.attachMediaStream = function(element, stream) {\n      try {\n        element.srcObject = stream\n      } catch (e) {\n        try {\n          element.src = URL.createObjectURL(stream)\n        } catch (e) {\n          Janus.error('Error attaching stream to element')\n        }\n      }\n    }\n    Janus.reattachMediaStream = function(to, from) {\n      try {\n        to.srcObject = from.srcObject\n      } catch (e) {\n        try {\n          to.src = from.src\n        } catch (e) {\n          Janus.error('Error reattaching stream to element')\n        }\n      }\n    }\n    // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n    // (note: for iOS we need to subscribe to a different event, 'pagehide', see\n    // https://gist.github.com/thehunmonkgroup/6bee8941a49b86be31a787fe8f4b8cfe)\n    var iOS = ['iPad', 'iPhone', 'iPod'].indexOf(navigator.platform) >= 0\n    var eventName = iOS ? 'pagehide' : 'beforeunload'\n    var oldOBF = window['on' + eventName]\n    window.addEventListener(eventName, function(event) {\n      Janus.log('Closing window')\n      for(var s in Janus.sessions) {\n        if(Janus.sessions[s] && Janus.sessions[s].destroyOnUnload) {\n          Janus.log('Destroying session ' + s)\n          Janus.sessions[s].destroy({unload: true, notifyDestroyed: false})\n        }\n      }\n      if(oldOBF && typeof oldOBF == 'function') {\n        oldOBF()\n      }\n    })\n    // If this is a Safari Technology Preview, check if VP8 is supported\n    Janus.safariVp8 = false\n    if(Janus.webRTCAdapter.browserDetails.browser === 'safari' &&\n        Janus.webRTCAdapter.browserDetails.version >= 605) {\n      // Let's see if RTCRtpSender.getCapabilities() is there\n      if(RTCRtpSender && RTCRtpSender.getCapabilities && RTCRtpSender.getCapabilities('video') &&\n          RTCRtpSender.getCapabilities('video').codecs && RTCRtpSender.getCapabilities('video').codecs.length) {\n        for(var codec of RTCRtpSender.getCapabilities('video').codecs) {\n          if(codec && codec.mimeType && codec.mimeType.toLowerCase() === 'video/vp8') {\n            Janus.safariVp8 = true\n            break\n          }\n        }\n        if(Janus.safariVp8) {\n          Janus.log('This version of Safari supports VP8')\n        } else {\n          Janus.warn('This version of Safari does NOT support VP8: if you\\'re using a Technology Preview, ' +\n            'try enabling the \\'WebRTC VP8 codec\\' setting in the \\'Experimental Features\\' Develop menu')\n        }\n      } else {\n        // We do it in a very ugly way, as there's no alternative...\n        // We create a PeerConnection to see if VP8 is in an offer\n        var testpc = new RTCPeerConnection({})\n        testpc.createOffer({offerToReceiveVideo: true}).then(function(offer) {\n          Janus.safariVp8 = offer.sdp.indexOf('VP8') !== -1\n          if(Janus.safariVp8) {\n            Janus.log('This version of Safari supports VP8')\n          } else {\n            Janus.warn('This version of Safari does NOT support VP8: if you\\'re using a Technology Preview, ' +\n              'try enabling the \\'WebRTC VP8 codec\\' setting in the \\'Experimental Features\\' Develop menu')\n          }\n          testpc.close()\n          testpc = null\n        })\n      }\n    }\n    // Check if this browser supports Unified Plan and transceivers\n    // Based on https://codepen.io/anon/pen/ZqLwWV?editors=0010\n    Janus.unifiedPlan = false\n    if(Janus.webRTCAdapter.browserDetails.browser === 'firefox' &&\n        Janus.webRTCAdapter.browserDetails.version >= 59) {\n      // Firefox definitely does, starting from version 59\n      Janus.unifiedPlan = true\n    } else if(Janus.webRTCAdapter.browserDetails.browser === 'chrome' &&\n        Janus.webRTCAdapter.browserDetails.version >= 72) {\n      // Chrome does, but it's only usable from version 72 on\n      Janus.unifiedPlan = true\n    } else if(!window.RTCRtpTransceiver || !('currentDirection' in RTCRtpTransceiver.prototype)) { // eslint-disable-line no-undef\n      // Safari supports addTransceiver() but not Unified Plan when\n      // currentDirection is not defined (see codepen above).\n      Janus.unifiedPlan = false\n    } else {\n      // Check if addTransceiver() throws an exception\n      var tempPc = new RTCPeerConnection()\n      try {\n        tempPc.addTransceiver('audio')\n        Janus.unifiedPlan = true\n      } catch (e) {}\n      tempPc.close()\n    }\n    Janus.initDone = true\n    options.callback()\n  }\n}\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n  return !!window.RTCPeerConnection\n}\n// Helper method to check whether devices can be accessed by this browser (e.g., not possible via plain HTTP)\nJanus.isGetUserMediaAvailable = function() {\n  return navigator.mediaDevices && navigator.mediaDevices.getUserMedia\n}\n\n// Helper method to create random identifiers (e.g., transaction)\nJanus.randomString = function(len) {\n  var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  var randomString = ''\n  for (var i = 0; i < len; i++) {\n    var randomPoz = Math.floor(Math.random() * charSet.length)\n    randomString += charSet.substring(randomPoz,randomPoz+1)\n  }\n  return randomString\n}\n\nfunction Janus(gatewayCallbacks) {\n  gatewayCallbacks = gatewayCallbacks || {}\n  gatewayCallbacks.success = (typeof gatewayCallbacks.success == 'function') ? gatewayCallbacks.success : Janus.noop\n  gatewayCallbacks.error = (typeof gatewayCallbacks.error == 'function') ? gatewayCallbacks.error : Janus.noop\n  gatewayCallbacks.wsopened = (typeof gatewayCallbacks.wsopened == 'function') ? gatewayCallbacks.wsopened : Janus.noop\n  gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == 'function') ? gatewayCallbacks.destroyed : Janus.noop\n  if(!Janus.initDone) {\n    gatewayCallbacks.error('Library not initialized')\n    return {}\n  }\n  if(!Janus.isWebrtcSupported()) {\n    gatewayCallbacks.error('WebRTC not supported by this browser')\n    return {}\n  }\n  Janus.log('Library initialized: ' + Janus.initDone)\n  if(!gatewayCallbacks.server) {\n    gatewayCallbacks.error('Invalid server url')\n    return {}\n  }\n  var websockets = false\n  var ws = null\n  var wsHandlers = {}\n  var wsKeepaliveTimeoutId = null\n  var servers = null\n  var serversIndex = 0\n  var server = gatewayCallbacks.server\n  if(Janus.isArray(server)) {\n    Janus.log('Multiple servers provided (' + server.length + '), will use the first that works')\n    server = null\n    servers = gatewayCallbacks.server\n    Janus.debug(servers)\n  } else {\n    if(server.indexOf('ws') === 0) {\n      websockets = true\n      Janus.log('Using WebSockets to contact Janus: ' + server)\n    } else {\n      websockets = false\n      Janus.log('Using REST API to contact Janus: ' + server)\n    }\n  }\n  var iceServers = gatewayCallbacks.iceServers || [{urls: 'stun:stun.l.google.com:19302'}]\n  var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy\n  var bundlePolicy = gatewayCallbacks.bundlePolicy\n  // Whether IPv6 candidates should be gathered\n  var ipv6Support = (gatewayCallbacks.ipv6 === true)\n  // Whether we should enable the withCredentials flag for XHR requests\n  var withCredentials = false\n  if(gatewayCallbacks.withCredentials !== undefined && gatewayCallbacks.withCredentials !== null)\n    withCredentials = gatewayCallbacks.withCredentials === true\n  // Optional max events\n  var maxev = 10\n  if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n    maxev = gatewayCallbacks.max_poll_events\n  if(maxev < 1)\n    maxev = 1\n  // Token to use (only if the token based authentication mechanism is enabled)\n  var token = null\n  if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n    token = gatewayCallbacks.token\n  // API secret to use (only if the shared API secret is enabled)\n  var apisecret = null\n  if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n    apisecret = gatewayCallbacks.apisecret\n  // Whether we should destroy this session when onbeforeunload is called\n  this.destroyOnUnload = true\n  if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n    this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true)\n  // Some timeout-related values\n  var keepAlivePeriod = 25000\n  if(gatewayCallbacks.keepAlivePeriod !== undefined && gatewayCallbacks.keepAlivePeriod !== null)\n    keepAlivePeriod = gatewayCallbacks.keepAlivePeriod\n  if(isNaN(keepAlivePeriod))\n    keepAlivePeriod = 25000\n  var longPollTimeout = 60000\n  if(gatewayCallbacks.longPollTimeout !== undefined && gatewayCallbacks.longPollTimeout !== null)\n    longPollTimeout = gatewayCallbacks.longPollTimeout\n  if(isNaN(longPollTimeout))\n    longPollTimeout = 60000\n\n  // overrides for default maxBitrate values for simulcasting\n  function getMaxBitrates(simulcastMaxBitrates) {\n    var maxBitrates = {\n      high: 900000,\n      medium: 300000,\n      low: 100000,\n    }\n\n    if (simulcastMaxBitrates !== undefined && simulcastMaxBitrates !== null) {\n      if (simulcastMaxBitrates.high)\n        maxBitrates.high = simulcastMaxBitrates.high\n      if (simulcastMaxBitrates.medium)\n        maxBitrates.medium = simulcastMaxBitrates.medium\n      if (simulcastMaxBitrates.low)\n        maxBitrates.low = simulcastMaxBitrates.low\n    }\n\n    return maxBitrates\n  }\n\n  var connected = false\n  var sessionId = null\n  var pluginHandles = {}\n  var that = this\n  var retries = 0\n  var transactions = {}\n  createSession(gatewayCallbacks)\n\n  // Public methods\n  this.getServer = function() { return server }\n  this.isConnected = function() { return connected }\n  this.reconnect = function(callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks['reconnect'] = true\n    createSession(callbacks)\n  }\n  this.getSessionId = function() { return sessionId }\n  this.getInfo = function(callbacks) { getInfo(callbacks) }\n  this.destroy = function(callbacks) { destroySession(callbacks) }\n  this.attach = function(callbacks) { createHandle(callbacks) }\n\n  function eventHandler() {\n    if(sessionId == null)\n      return\n    Janus.debug('Long poll...')\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      return\n    }\n    var longpoll = server + '/' + sessionId + '?rid=' + new Date().getTime()\n    if(maxev)\n      longpoll = longpoll + '&maxev=' + maxev\n    if(token)\n      longpoll = longpoll + '&token=' + encodeURIComponent(token)\n    if(apisecret)\n      longpoll = longpoll + '&apisecret=' + encodeURIComponent(apisecret)\n    Janus.httpAPICall(longpoll, {\n      verb: 'GET',\n      withCredentials: withCredentials,\n      success: handleEvent,\n      timeout: longPollTimeout,\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown)\n        retries++\n        if(retries > 3) {\n          // Did we just lose the server? :-(\n          connected = false\n          gatewayCallbacks.error('Lost connection to the server (is it down?)')\n          return\n        }\n        eventHandler()\n      }\n    })\n  }\n\n  // Private event handler: this will trigger plugin callbacks, if set\n  function handleEvent(json, skipTimeout) {\n    retries = 0\n    if(!websockets && sessionId !== undefined && sessionId !== null && skipTimeout !== true)\n      eventHandler()\n    if(!websockets && Janus.isArray(json)) {\n      // We got an array: it means we passed a maxev > 1, iterate on all objects\n      for(var i=0; i<json.length; i++) {\n        handleEvent(json[i], true)\n      }\n      return\n    }\n\n    if (json.session_id && json.session_id !== sessionId) {\n      return\n    }\n\n    if(json['janus'] === 'keepalive') {\n      // Nothing happened\n      Janus.vdebug('Got a keepalive on session ' + sessionId)\n      return\n    } else if(json['janus'] === 'server_info') {\n      // Just info on the Janus instance\n      Janus.debug('Got info on the Janus instance')\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess)\n          reportSuccess(json)\n        delete transactions[transaction]\n      }\n      return\n    } else if(json['janus'] === 'ack') {\n      // Just an ack, we can probably ignore\n      Janus.debug('Got an ack on session ' + sessionId)\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess)\n          reportSuccess(json)\n        delete transactions[transaction]\n      }\n      return\n    } else if(json['janus'] === 'success') {\n      // Success!\n      Janus.debug('Got a success on session ' + sessionId)\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess)\n          reportSuccess(json)\n        delete transactions[transaction]\n      }\n      return\n    } else if(json['janus'] === 'trickle') {\n      // We got a trickle candidate from Janus\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      var candidate = json['candidate']\n      Janus.debug('Got a trickled candidate on session ' + sessionId)\n      Janus.debug(candidate)\n      var config = pluginHandle.webrtcStuff\n      if(config.pc && config.remoteSdp) {\n        // Add candidate right now\n        Janus.debug('Adding remote candidate:', candidate)\n        if(!candidate || candidate.completed === true) {\n          // end-of-candidates\n          config.pc.addIceCandidate(Janus.endOfCandidates)\n        } else {\n          // New candidate\n          config.pc.addIceCandidate(candidate)\n        }\n      } else {\n        // We didn't do setRemoteDescription (trickle got here before the offer?)\n        Janus.debug('We didn\\'t do setRemoteDescription (trickle got here before the offer?), caching candidate')\n        if(!config.candidates)\n          config.candidates = []\n        config.candidates.push(candidate)\n        Janus.debug(config.candidates)\n      }\n    } else if(json['janus'] === 'webrtcup') {\n      // The PeerConnection with the server is up! Notify this\n      Janus.debug('Got a webrtcup event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.webrtcState(true)\n      return\n    } else if(json['janus'] === 'hangup') {\n      // A plugin asked the core to hangup a PeerConnection on one of our handles\n      Janus.debug('Got a hangup event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.webrtcState(false, json['reason'])\n      pluginHandle.hangup()\n    } else if(json['janus'] === 'detached') {\n      // A plugin asked the core to detach one of our handles\n      Janus.debug('Got a detached event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        // Don't warn here because destroyHandle causes this situation.\n        return\n      }\n\n      // copied from our prev custom release, possibly a bug fix, maybe no longer necessary.\n      pluginHandle.detached = true\n\n      pluginHandle.ondetached()\n      pluginHandle.detach()\n    } else if(json['janus'] === 'media') {\n      // Media started/stopped flowing\n      Janus.debug('Got a media event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.mediaState(json['type'], json['receiving'])\n    } else if(json['janus'] === 'slowlink') {\n      Janus.debug('Got a slowlink event on session ' + sessionId)\n      Janus.debug(json)\n      // Trouble uplink or downlink\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.slowLink(json['uplink'], json['lost'])\n    } else if(json['janus'] === 'error') {\n      // Oops, something wrong happened\n      Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess) {\n          reportSuccess(json)\n        }\n        delete transactions[transaction]\n      }\n\n      if (json.error.code === 458) {\n        if (websockets) {\n          ws.close(3505, 'No such session')\n        }\n      }\n\n      return\n    } else if(json['janus'] === 'event') {\n      Janus.debug('Got a plugin event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var plugindata = json['plugindata']\n      if(!plugindata) {\n        Janus.warn('Missing plugindata...')\n        return\n      }\n      Janus.debug('  -- Event is coming from ' + sender + ' (' + plugindata['plugin'] + ')')\n      var data = plugindata['data']\n      Janus.debug(data)\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.warn('This handle is not attached to this session')\n        return\n      }\n      var jsep = json['jsep']\n      if(jsep) {\n        Janus.debug('Handling SDP as well...')\n        Janus.debug(jsep)\n      }\n      var callback = pluginHandle.onmessage\n      if(callback) {\n        Janus.debug('Notifying application...')\n        // Send to callback specified when attaching plugin handle\n        callback(data, jsep)\n      } else {\n        // Send to generic callback (?)\n        Janus.debug('No provided notification callback')\n      }\n    } else if(json['janus'] === 'timeout') {\n      Janus.error('Timeout on session ' + sessionId)\n      Janus.debug(json)\n      if (websockets) {\n        ws.close(3504, 'Gateway timeout')\n      }\n      return\n    } else {\n      Janus.warn('Unknown message/event  \\'' + json['janus'] + '\\' on session ' + sessionId)\n      Janus.debug(json)\n    }\n  }\n\n  // Private helper to send keep-alive messages on WebSockets\n  function keepAlive() {\n    if(!server || !websockets || !connected)\n      return\n    wsKeepaliveTimeoutId = setTimeout(keepAlive, keepAlivePeriod)\n    var request = { 'janus': 'keepalive', 'session_id': sessionId, 'transaction': Janus.randomString(12) }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    ws.send(JSON.stringify(request))\n  }\n\n  // Private method to create a session\n  function createSession(callbacks) {\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'create', 'transaction': transaction }\n    if(callbacks['reconnect']) {\n      // We're reconnecting, claim the session\n      connected = false\n      request['janus'] = 'claim'\n      request['session_id'] = sessionId\n      // If we were using websockets, ignore the old connection\n      if(ws) {\n        ws.onopen = null\n        ws.onerror = null\n        ws.onclose = null\n        if(wsKeepaliveTimeoutId) {\n          clearTimeout(wsKeepaliveTimeoutId)\n          wsKeepaliveTimeoutId = null\n        }\n      }\n    }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(!server && Janus.isArray(servers)) {\n      // We still need to find a working server from the list we were given\n      server = servers[serversIndex]\n      if(server.indexOf('ws') === 0) {\n        websockets = true\n        Janus.log('Server #' + (serversIndex+1) + ': trying WebSockets to contact Janus (' + server + ')')\n      } else {\n        websockets = false\n        Janus.log('Server #' + (serversIndex+1) + ': trying REST API to contact Janus (' + server + ')')\n      }\n    }\n    if(websockets) {\n      ws = Janus.newWebSocket(server, 'janus-protocol')\n      wsHandlers = {\n        'error': function() {\n          Janus.error('Error connecting to the Janus WebSockets server... ' + server)\n          if (Janus.isArray(servers) && !callbacks['reconnect']) {\n            serversIndex++\n            if (serversIndex === servers.length) {\n              // We tried all the servers the user gave us and they all failed\n              callbacks.error('Error connecting to any of the provided Janus servers: Is the server down?')\n              return\n            }\n            // Let's try the next server\n            server = null\n            setTimeout(function() {\n              createSession(callbacks)\n            }, 200)\n            return\n          }\n          callbacks.error('Error connecting to the Janus WebSockets server: Is the server down?')\n        },\n\n        'open': function() {\n          callbacks.wsopened()\n\n          // We need to be notified about the success\n          transactions[transaction] = function(json) {\n            Janus.debug(json)\n            if (json['janus'] !== 'success') {\n              Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n              callbacks.error(json['error'].reason)\n              return\n            }\n            wsKeepaliveTimeoutId = setTimeout(keepAlive, keepAlivePeriod)\n            connected = true\n            sessionId = json['session_id'] ? json['session_id'] : json.data['id']\n            if(callbacks['reconnect']) {\n              Janus.log('Claimed session: ' + sessionId)\n            } else {\n              Janus.log('Created session: ' + sessionId)\n            }\n            Janus.sessions[sessionId] = that\n            callbacks.success()\n          }\n          ws.send(JSON.stringify(request))\n        },\n\n        'message': function(event) {\n          handleEvent(JSON.parse(event.data))\n        },\n\n        'close': function() {\n          if (!server || !connected) {\n            return\n          }\n          connected = false\n          // FIXME What if this is called when the page is closed?\n          gatewayCallbacks.error('Lost connection to the server (is it down?)')\n        }\n      }\n\n      for(var eventName in wsHandlers) {\n        ws.addEventListener(eventName, wsHandlers[eventName])\n      }\n\n      return\n    }\n    Janus.httpAPICall(server, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          callbacks.error(json['error'].reason)\n          return\n        }\n        connected = true\n        sessionId = json['session_id'] ? json['session_id'] : json.data['id']\n        if(callbacks['reconnect']) {\n          Janus.log('Claimed session: ' + sessionId)\n        } else {\n          Janus.log('Created session: ' + sessionId)\n        }\n        Janus.sessions[sessionId] = that\n        eventHandler()\n        callbacks.success()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        if(Janus.isArray(servers) && !callbacks['reconnect']) {\n          serversIndex++\n          if(serversIndex === servers.length) {\n            // We tried all the servers the user gave us and they all failed\n            callbacks.error('Error connecting to any of the provided Janus servers: Is the server down?')\n            return\n          }\n          // Let's try the next server\n          server = null\n          setTimeout(function() { createSession(callbacks) }, 200)\n          return\n        }\n        if(errorThrown === '')\n          callbacks.error(textStatus + ': Is the server down?')\n        else\n          callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to get info on the server\n  function getInfo(callbacks) {\n    callbacks = callbacks || {}\n    // FIXME This method triggers a success even when we fail\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    Janus.log('Getting info on Janus instance')\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    // We just need to send an \"info\" request\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'info', 'transaction': transaction }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(websockets) {\n      transactions[transaction] = function(json) {\n        Janus.log('Server info:')\n        Janus.debug(json)\n        if(json['janus'] !== 'server_info') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        callbacks.success(json)\n      }\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.log('Server info:')\n        Janus.debug(json)\n        if(json['janus'] !== 'server_info') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        callbacks.success(json)\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        if(errorThrown === '')\n          callbacks.error(textStatus + ': Is the server down?')\n        else\n          callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to destroy a session\n  function destroySession(callbacks) {\n    callbacks = callbacks || {}\n    // FIXME This method triggers a success even when we fail\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var unload = (callbacks.unload === true)\n    var notifyDestroyed = true\n    if(callbacks.notifyDestroyed !== undefined && callbacks.notifyDestroyed !== null)\n      notifyDestroyed = (callbacks.notifyDestroyed === true)\n    var cleanupHandles = (callbacks.cleanupHandles === true)\n    Janus.log('Destroying session ' + sessionId + ' (unload=' + unload + ')')\n    if(!sessionId) {\n      Janus.warn('No session to destroy')\n      callbacks.success()\n      if(notifyDestroyed)\n        gatewayCallbacks.destroyed()\n      return\n    }\n    if(cleanupHandles) {\n      for(var handleId in pluginHandles)\n        destroyHandle(handleId, { noRequest: true })\n    }\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      sessionId = null\n      callbacks.success()\n      return\n    }\n    // No need to destroy all handles first, Janus will do that itself\n    var request = { 'janus': 'destroy', 'transaction': Janus.randomString(12) }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(unload) {\n      // We're unloading the page: use sendBeacon for HTTP instead,\n      // or just close the WebSocket connection if we're using that\n      if(websockets) {\n        ws.onclose = null\n        ws.close()\n        ws = null\n      } else {\n        navigator.sendBeacon(server + '/' + sessionId, JSON.stringify(request))\n      }\n      Janus.log('Destroyed session:')\n      sessionId = null\n      connected = false\n      callbacks.success()\n      if(notifyDestroyed)\n        gatewayCallbacks.destroyed()\n      return\n    }\n    if(websockets) {\n      request['session_id'] = sessionId\n\n      var unbindWebSocket = function() {\n        for(var eventName in wsHandlers) {\n          ws.removeEventListener(eventName, wsHandlers[eventName])\n        }\n        ws.removeEventListener('message', onUnbindMessage)\n        ws.removeEventListener('error', onUnbindError)\n        if(wsKeepaliveTimeoutId) {\n          clearTimeout(wsKeepaliveTimeoutId)\n        }\n        ws.close()\n      }\n\n      var onUnbindMessage = function(event){\n        var data = JSON.parse(event.data)\n        if(data.session_id == request.session_id && data.transaction == request.transaction) {\n          unbindWebSocket()\n          callbacks.success()\n          if(notifyDestroyed)\n            gatewayCallbacks.destroyed()\n        }\n      }\n      var onUnbindError = function(event) {\n        unbindWebSocket()\n        callbacks.error('Failed to destroy the server: Is the server down?')\n        if(notifyDestroyed)\n          gatewayCallbacks.destroyed()\n      }\n\n      ws.addEventListener('message', onUnbindMessage)\n      ws.addEventListener('error', onUnbindError)\n\n      if (ws.readyState === 1) {\n        ws.send(JSON.stringify(request))\n      } else {\n        onUnbindError()\n      }\n\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.log('Destroyed session:')\n        Janus.debug(json)\n        sessionId = null\n        connected = false\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        callbacks.success()\n        if(notifyDestroyed)\n          gatewayCallbacks.destroyed()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        // Reset everything anyway\n        sessionId = null\n        connected = false\n        callbacks.success()\n        if(notifyDestroyed)\n          gatewayCallbacks.destroyed()\n      }\n    })\n  }\n\n  // Private method to create a plugin handle\n  function createHandle(callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks.consentDialog = (typeof callbacks.consentDialog == 'function') ? callbacks.consentDialog : Janus.noop\n    callbacks.iceState = (typeof callbacks.iceState == 'function') ? callbacks.iceState : Janus.noop\n    callbacks.mediaState = (typeof callbacks.mediaState == 'function') ? callbacks.mediaState : Janus.noop\n    callbacks.webrtcState = (typeof callbacks.webrtcState == 'function') ? callbacks.webrtcState : Janus.noop\n    callbacks.slowLink = (typeof callbacks.slowLink == 'function') ? callbacks.slowLink : Janus.noop\n    callbacks.onmessage = (typeof callbacks.onmessage == 'function') ? callbacks.onmessage : Janus.noop\n    callbacks.onlocalstream = (typeof callbacks.onlocalstream == 'function') ? callbacks.onlocalstream : Janus.noop\n    callbacks.onremotestream = (typeof callbacks.onremotestream == 'function') ? callbacks.onremotestream : Janus.noop\n    callbacks.ondata = (typeof callbacks.ondata == 'function') ? callbacks.ondata : Janus.noop\n    callbacks.ondataopen = (typeof callbacks.ondataopen == 'function') ? callbacks.ondataopen : Janus.noop\n    callbacks.oncleanup = (typeof callbacks.oncleanup == 'function') ? callbacks.oncleanup : Janus.noop\n    callbacks.ondetached = (typeof callbacks.ondetached == 'function') ? callbacks.ondetached : Janus.noop\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    var plugin = callbacks.plugin\n    if(!plugin) {\n      Janus.error('Invalid plugin')\n      callbacks.error('Invalid plugin')\n      return\n    }\n    var opaqueId = callbacks.opaqueId\n    var handleToken = callbacks.token ? callbacks.token : token\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'attach', 'plugin': plugin, 'opaque_id': opaqueId, 'transaction': transaction }\n    if(handleToken)\n      request['token'] = handleToken\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(websockets) {\n      transactions[transaction] = function(json) {\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          callbacks.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason)\n          return\n        }\n        var handleId = json.data['id']\n        Janus.log('Created handle: ' + handleId)\n        var pluginHandle =\n          {\n            session : that,\n            plugin : plugin,\n            id : handleId,\n            token : handleToken,\n            detached : false,\n            webrtcStuff : {\n              started : false,\n              myStream : null,\n              streamExternal : false,\n              remoteStream : null,\n              mySdp : null,\n              mediaConstraints : null,\n              pc : null,\n              dataChannel : {},\n              dtmfSender : null,\n              trickle : true,\n              iceDone : false,\n              volume : {\n                value : null,\n                timer : null\n              },\n              bitrate : {\n                value : null,\n                bsnow : null,\n                bsbefore : null,\n                tsnow : null,\n                tsbefore : null,\n                timer : null\n              }\n            },\n            getId : function() { return handleId },\n            getPlugin : function() { return plugin },\n            getVolume : function() { return getVolume(handleId, true) },\n            getRemoteVolume : function() { return getVolume(handleId, true) },\n            getLocalVolume : function() { return getVolume(handleId, false) },\n            isAudioMuted : function() { return isMuted(handleId, false) },\n            muteAudio : function() { return mute(handleId, false, true) },\n            unmuteAudio : function() { return mute(handleId, false, false) },\n            isVideoMuted : function() { return isMuted(handleId, true) },\n            muteVideo : function() { return mute(handleId, true, true) },\n            unmuteVideo : function() { return mute(handleId, true, false) },\n            getBitrate : function() { return getBitrate(handleId) },\n            send : function(callbacks) { sendMessage(handleId, callbacks) },\n            data : function(callbacks) { sendData(handleId, callbacks) },\n            dtmf : function(callbacks) { sendDtmf(handleId, callbacks) },\n            consentDialog : callbacks.consentDialog,\n            iceState : callbacks.iceState,\n            mediaState : callbacks.mediaState,\n            webrtcState : callbacks.webrtcState,\n            slowLink : callbacks.slowLink,\n            onmessage : callbacks.onmessage,\n            createOffer : function(callbacks) { prepareWebrtc(handleId, true, callbacks) },\n            createAnswer : function(callbacks) { prepareWebrtc(handleId, false, callbacks) },\n            handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks) },\n            onlocalstream : callbacks.onlocalstream,\n            onremotestream : callbacks.onremotestream,\n            ontrackmuted : callbacks.ontrackmuted,\n            ontrackunmuted : callbacks.ontrackunmuted,\n            ondata : callbacks.ondata,\n            ondataopen : callbacks.ondataopen,\n            oncleanup : callbacks.oncleanup,\n            ondetached : callbacks.ondetached,\n            hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true) },\n            detach : function(callbacks) { destroyHandle(handleId, callbacks) }\n          }\n        pluginHandles[handleId] = pluginHandle\n        callbacks.success(pluginHandle)\n      }\n      request['session_id'] = sessionId\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          callbacks.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason)\n          return\n        }\n        var handleId = json.data['id']\n        Janus.log('Created handle: ' + handleId)\n        var pluginHandle =\n          {\n            session : that,\n            plugin : plugin,\n            id : handleId,\n            token : handleToken,\n            detached : false,\n            webrtcStuff : {\n              started : false,\n              myStream : null,\n              streamExternal : false,\n              remoteStream : null,\n              mySdp : null,\n              mediaConstraints : null,\n              pc : null,\n              dataChannel : {},\n              dtmfSender : null,\n              trickle : true,\n              iceDone : false,\n              volume : {\n                value : null,\n                timer : null\n              },\n              bitrate : {\n                value : null,\n                bsnow : null,\n                bsbefore : null,\n                tsnow : null,\n                tsbefore : null,\n                timer : null\n              }\n            },\n            getId : function() { return handleId },\n            getPlugin : function() { return plugin },\n            getVolume : function() { return getVolume(handleId, true) },\n            getRemoteVolume : function() { return getVolume(handleId, true) },\n            getLocalVolume : function() { return getVolume(handleId, false) },\n            isAudioMuted : function() { return isMuted(handleId, false) },\n            muteAudio : function() { return mute(handleId, false, true) },\n            unmuteAudio : function() { return mute(handleId, false, false) },\n            isVideoMuted : function() { return isMuted(handleId, true) },\n            muteVideo : function() { return mute(handleId, true, true) },\n            unmuteVideo : function() { return mute(handleId, true, false) },\n            getBitrate : function() { return getBitrate(handleId) },\n            send : function(callbacks) { sendMessage(handleId, callbacks) },\n            data : function(callbacks) { sendData(handleId, callbacks) },\n            dtmf : function(callbacks) { sendDtmf(handleId, callbacks) },\n            consentDialog : callbacks.consentDialog,\n            iceState : callbacks.iceState,\n            mediaState : callbacks.mediaState,\n            webrtcState : callbacks.webrtcState,\n            slowLink : callbacks.slowLink,\n            onmessage : callbacks.onmessage,\n            createOffer : function(callbacks) { prepareWebrtc(handleId, true, callbacks) },\n            createAnswer : function(callbacks) { prepareWebrtc(handleId, false, callbacks) },\n            handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks) },\n            onlocalstream : callbacks.onlocalstream,\n            onremotestream : callbacks.onremotestream,\n            ontrackmuted : callbacks.ontrackmuted,\n            ontrackunmuted : callbacks.ontrackunmuted,\n            ondata : callbacks.ondata,\n            ondataopen : callbacks.ondataopen,\n            oncleanup : callbacks.oncleanup,\n            ondetached : callbacks.ondetached,\n            hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true) },\n            detach : function(callbacks) { destroyHandle(handleId, callbacks) }\n          }\n        pluginHandles[handleId] = pluginHandle\n        callbacks.success(pluginHandle)\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        if(errorThrown === '')\n          callbacks.error(textStatus + ': Is the server down?')\n        else\n          callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to send a message\n  function sendMessage(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var message = callbacks.message\n    var jsep = callbacks.jsep\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'message', 'body': message, 'transaction': transaction }\n    if(pluginHandle.token)\n      request['token'] = pluginHandle.token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(jsep) {\n      request.jsep = {\n        type: jsep.type,\n        sdp: jsep.sdp\n      }\n      if(jsep.e2ee)\n        request.jsep.e2ee = true\n      if(jsep.rid_order === 'hml' || jsep.rid_order === 'lmh')\n        request.jsep.rid_order = jsep.rid_order\n    }\n    Janus.debug('Sending message to plugin (handle=' + handleId + '):')\n    Janus.debug(request)\n    if(websockets) {\n      request['session_id'] = sessionId\n      request['handle_id'] = handleId\n      transactions[transaction] = function(json) {\n        Janus.debug('Message sent!')\n        Janus.debug(json)\n        if(json['janus'] === 'success') {\n          // We got a success, must have been a synchronous transaction\n          var plugindata = json['plugindata']\n          if(!plugindata) {\n            Janus.warn('Request succeeded, but missing plugindata...')\n            callbacks.success()\n            return\n          }\n          Janus.log('Synchronous transaction successful (' + plugindata['plugin'] + ')')\n          var data = plugindata['data']\n          Janus.debug(data)\n          callbacks.success(data)\n          return\n        } else if(json['janus'] !== 'ack') {\n          // Not a success and not an ack, must be an error\n          if(json['error']) {\n            Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n            callbacks.error(json['error'].code + ' ' + json['error'].reason)\n          } else {\n            Janus.error('Unknown error') // FIXME\n            callbacks.error('Unknown error')\n          }\n          return\n        }\n        // If we got here, the plugin decided to handle the request asynchronously\n        callbacks.success()\n      }\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.debug('Message sent!')\n        Janus.debug(json)\n        if(json['janus'] === 'success') {\n          // We got a success, must have been a synchronous transaction\n          var plugindata = json['plugindata']\n          if(!plugindata) {\n            Janus.warn('Request succeeded, but missing plugindata...')\n            callbacks.success()\n            return\n          }\n          Janus.log('Synchronous transaction successful (' + plugindata['plugin'] + ')')\n          var data = plugindata['data']\n          Janus.debug(data)\n          callbacks.success(data)\n          return\n        } else if(json['janus'] !== 'ack') {\n          // Not a success and not an ack, must be an error\n          if(json['error']) {\n            Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n            callbacks.error(json['error'].code + ' ' + json['error'].reason)\n          } else {\n            Janus.error('Unknown error') // FIXME\n            callbacks.error('Unknown error')\n          }\n          return\n        }\n        // If we got here, the plugin decided to handle the request asynchronously\n        callbacks.success()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to send a trickle candidate\n  function sendTrickleCandidate(handleId, candidate) {\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      return\n    }\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return\n    }\n    var request = { 'janus': 'trickle', 'candidate': candidate, 'transaction': Janus.randomString(12) }\n    if(pluginHandle.token)\n      request['token'] = pluginHandle.token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    Janus.vdebug('Sending trickle candidate (handle=' + handleId + '):')\n    Janus.vdebug(request)\n    if(websockets) {\n      request['session_id'] = sessionId\n      request['handle_id'] = handleId\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.vdebug('Candidate sent!')\n        Janus.vdebug(json)\n        if(json['janus'] !== 'ack') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          return\n        }\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n      }\n    })\n  }\n\n  // Private method to create a data channel\n  function createDataChannel(handleId, dclabel, dcprotocol, incoming, pendingData) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc) {\n      Janus.warn('Invalid PeerConnection')\n      return\n    }\n    var onDataChannelMessage = function(event) {\n      var label = event.target.label\n      pluginHandle.ondata(event.data, label)\n    }\n    var onDataChannelStateChange = function(event) {\n      Janus.log('Received state change on data channel:', event)\n      var label = event.target.label\n      var protocol = event.target.protocol\n      var dcState = config.dataChannel[label] ? config.dataChannel[label].readyState : 'null'\n      Janus.log('State change on <' + label + '> data channel: ' + dcState)\n      if(dcState === 'open') {\n        // Any pending messages to send?\n        if(config.dataChannel[label].pending && config.dataChannel[label].pending.length > 0) {\n          Janus.log('Sending pending messages on <' + label + '>:', config.dataChannel[label].pending.length)\n          for(var data of config.dataChannel[label].pending) {\n            Janus.log('Sending data on data channel <' + label + '>')\n            Janus.debug(data)\n            config.dataChannel[label].send(data)\n          }\n          config.dataChannel[label].pending = []\n        }\n        // Notify the open data channel\n        pluginHandle.ondataopen(label, protocol)\n      }\n    }\n    var onDataChannelError = function(error) {\n      Janus.error('Got error on data channel:', error)\n      // TODO\n    }\n    if(!incoming) {\n      // FIXME Add options (ordered, maxRetransmits, etc.)\n      var dcoptions = { ordered: true }\n      if(dcprotocol)\n        dcoptions.protocol = dcprotocol\n      config.dataChannel[dclabel] = config.pc.createDataChannel(dclabel, dcoptions)\n    } else {\n      // The channel was created by Janus\n      config.dataChannel[dclabel] = incoming\n    }\n    config.dataChannel[dclabel].onmessage = onDataChannelMessage\n    config.dataChannel[dclabel].onopen = onDataChannelStateChange\n    config.dataChannel[dclabel].onclose = onDataChannelStateChange\n    config.dataChannel[dclabel].onerror = onDataChannelError\n    config.dataChannel[dclabel].pending = []\n    if(pendingData)\n      config.dataChannel[dclabel].pending.push(pendingData)\n  }\n\n  // Private method to send a data channel message\n  function sendData(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    var data = callbacks.text || callbacks.data\n    if(!data) {\n      Janus.warn('Invalid data')\n      callbacks.error('Invalid data')\n      return\n    }\n    var label = callbacks.label ? callbacks.label : Janus.dataChanDefaultLabel\n    if(!config.dataChannel[label]) {\n      // Create new data channel and wait for it to open\n      createDataChannel(handleId, label, callbacks.protocol, false, data, callbacks.protocol)\n      callbacks.success()\n      return\n    }\n    if(config.dataChannel[label].readyState !== 'open') {\n      config.dataChannel[label].pending.push(data)\n      callbacks.success()\n      return\n    }\n    Janus.log('Sending data on data channel <' + label + '>')\n    Janus.debug(data)\n    config.dataChannel[label].send(data)\n    callbacks.success()\n  }\n\n  // Private method to send a DTMF tone\n  function sendDtmf(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.dtmfSender) {\n      // Create the DTMF sender the proper way, if possible\n      if(config.pc) {\n        var senders = config.pc.getSenders()\n        var audioSender = senders.find(function(sender) {\n          return sender.track && sender.track.kind === 'audio'\n        })\n        if(!audioSender) {\n          Janus.warn('Invalid DTMF configuration (no audio track)')\n          callbacks.error('Invalid DTMF configuration (no audio track)')\n          return\n        }\n        config.dtmfSender = audioSender.dtmf\n        if(config.dtmfSender) {\n          Janus.log('Created DTMF Sender')\n          config.dtmfSender.ontonechange = function(tone) { Janus.debug('Sent DTMF tone: ' + tone.tone) }\n        }\n      }\n      if(!config.dtmfSender) {\n        Janus.warn('Invalid DTMF configuration')\n        callbacks.error('Invalid DTMF configuration')\n        return\n      }\n    }\n    var dtmf = callbacks.dtmf\n    if(!dtmf) {\n      Janus.warn('Invalid DTMF parameters')\n      callbacks.error('Invalid DTMF parameters')\n      return\n    }\n    var tones = dtmf.tones\n    if(!tones) {\n      Janus.warn('Invalid DTMF string')\n      callbacks.error('Invalid DTMF string')\n      return\n    }\n    var duration = (typeof dtmf.duration === 'number') ? dtmf.duration : 500 // We choose 500ms as the default duration for a tone\n    var gap = (typeof dtmf.gap === 'number') ? dtmf.gap : 50 // We choose 50ms as the default gap between tones\n    Janus.debug('Sending DTMF string ' + tones + ' (duration ' + duration + 'ms, gap ' + gap + 'ms)')\n    config.dtmfSender.insertDTMF(tones, duration, gap)\n    callbacks.success()\n  }\n\n  // Private method to destroy a plugin handle\n  function destroyHandle(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var noRequest = (callbacks.noRequest === true)\n    Janus.log('Destroying handle ' + handleId + ' (only-locally=' + noRequest + ')')\n    cleanupWebrtc(handleId)\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || pluginHandle.detached) {\n      // Plugin was already detached by Janus, calling detach again will return a handle not found error, so just exit here\n      delete pluginHandles[handleId]\n      callbacks.success()\n      return\n    }\n    pluginHandle.detached = true\n    if(noRequest) {\n      // We're only removing the handle locally\n      delete pluginHandles[handleId]\n      callbacks.success()\n      return\n    }\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    var request = { 'janus': 'detach', 'transaction': Janus.randomString(12) }\n    if(pluginHandle.token)\n      request['token'] = pluginHandle.token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(websockets) {\n      request['session_id'] = sessionId\n      request['handle_id'] = handleId\n      ws.send(JSON.stringify(request))\n      delete pluginHandles[handleId]\n      callbacks.success()\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.log('Destroyed handle:')\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        delete pluginHandles[handleId]\n        callbacks.success()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        // We cleanup anyway\n        delete pluginHandles[handleId]\n        callbacks.success()\n      }\n    })\n  }\n\n  // WebRTC stuff\n  function streamsDone(handleId, jsep, media, callbacks, stream) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      // Close all tracks if the given stream has been created internally\n      if(!callbacks.stream) {\n        Janus.stopAllTracks(stream)\n      }\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    Janus.debug('streamsDone:', stream)\n    if(stream) {\n      Janus.debug('  -- Audio tracks:', stream.getAudioTracks())\n      Janus.debug('  -- Video tracks:', stream.getVideoTracks())\n    }\n    // We're now capturing the new stream: check if we're updating or if it's a new thing\n    var addTracks = false\n    if(!config.myStream || !media.update || (config.streamExternal && !media.replaceAudio && !media.replaceVideo)) {\n      config.myStream = stream\n      addTracks = true\n    } else {\n      // We only need to update the existing stream\n      if(((!media.update && isAudioSendEnabled(media)) || (media.update && (media.addAudio || media.replaceAudio))) &&\n          stream.getAudioTracks() && stream.getAudioTracks().length) {\n        config.myStream.addTrack(stream.getAudioTracks()[0])\n        if(Janus.unifiedPlan) {\n          // Use Transceivers\n          Janus.log((media.replaceAudio ? 'Replacing' : 'Adding') + ' audio track:', stream.getAudioTracks()[0])\n          var audioTransceiver = null\n          var transceivers = config.pc.getTransceivers()\n          if(transceivers && transceivers.length > 0) {\n            for(var t of transceivers) {\n              if((t.sender && t.sender.track && t.sender.track.kind === 'audio') ||\n                  (t.receiver && t.receiver.track && t.receiver.track.kind === 'audio')) {\n                audioTransceiver = t\n                break\n              }\n            }\n          }\n          if(audioTransceiver && audioTransceiver.sender) {\n            audioTransceiver.sender.replaceTrack(stream.getAudioTracks()[0])\n          } else {\n            config.pc.addTrack(stream.getAudioTracks()[0], stream)\n          }\n        } else {\n          Janus.log((media.replaceAudio ? 'Replacing' : 'Adding') + ' audio track:', stream.getAudioTracks()[0])\n          config.pc.addTrack(stream.getAudioTracks()[0], stream)\n        }\n      }\n      if(((!media.update && isVideoSendEnabled(media)) || (media.update && (media.addVideo || media.replaceVideo))) &&\n          stream.getVideoTracks() && stream.getVideoTracks().length) {\n        config.myStream.addTrack(stream.getVideoTracks()[0])\n        if(Janus.unifiedPlan) {\n          // Use Transceivers\n          Janus.log((media.replaceVideo ? 'Replacing' : 'Adding') + ' video track:', stream.getVideoTracks()[0])\n          var videoTransceiver = null\n          var transceivers = config.pc.getTransceivers()\n          if(transceivers && transceivers.length > 0) {\n            for(var t of transceivers) {\n              if((t.sender && t.sender.track && t.sender.track.kind === 'video') ||\n                  (t.receiver && t.receiver.track && t.receiver.track.kind === 'video')) {\n                videoTransceiver = t\n                break\n              }\n            }\n          }\n          if(videoTransceiver && videoTransceiver.sender) {\n            videoTransceiver.sender.replaceTrack(stream.getVideoTracks()[0])\n          } else {\n            config.pc.addTrack(stream.getVideoTracks()[0], stream)\n          }\n        } else {\n          Janus.log((media.replaceVideo ? 'Replacing' : 'Adding') + ' video track:', stream.getVideoTracks()[0])\n          config.pc.addTrack(stream.getVideoTracks()[0], stream)\n        }\n      }\n    }\n    // If we still need to create a PeerConnection, let's do that\n    if(!config.pc) {\n      var pc_config = {'iceServers': iceServers, 'iceTransportPolicy': iceTransportPolicy, 'bundlePolicy': bundlePolicy}\n      if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n        // For Chrome versions before 72, we force a plan-b semantic, and unified-plan otherwise\n        pc_config['sdpSemantics'] = (Janus.webRTCAdapter.browserDetails.version < 72) ? 'plan-b' : 'unified-plan'\n      }\n      var pc_constraints = {\n        'optional': [{'DtlsSrtpKeyAgreement': true}]\n      }\n      if(ipv6Support) {\n        pc_constraints.optional.push({'googIPv6':true})\n      }\n      // Any custom constraint to add?\n      if(callbacks.rtcConstraints && typeof callbacks.rtcConstraints === 'object') {\n        Janus.debug('Adding custom PeerConnection constraints:', callbacks.rtcConstraints)\n        for(var i in callbacks.rtcConstraints) {\n          pc_constraints.optional.push(callbacks.rtcConstraints[i])\n        }\n      }\n      if(Janus.webRTCAdapter.browserDetails.browser === 'edge') {\n        // This is Edge, enable BUNDLE explicitly\n        pc_config.bundlePolicy = 'max-bundle'\n      }\n      // Check if a sender or receiver transform has been provided\n      if(RTCRtpSender && (RTCRtpSender.prototype.createEncodedStreams ||\n          (RTCRtpSender.prototype.createEncodedAudioStreams &&\n          RTCRtpSender.prototype.createEncodedVideoStreams)) &&\n          (callbacks.senderTransforms || callbacks.receiverTransforms)) {\n        config.senderTransforms = callbacks.senderTransforms\n        config.receiverTransforms = callbacks.receiverTransforms\n        pc_config['forceEncodedAudioInsertableStreams'] = true\n        pc_config['forceEncodedVideoInsertableStreams'] = true\n        pc_config['encodedInsertableStreams'] = true\n      }\n      Janus.log('Creating PeerConnection')\n      Janus.debug(pc_constraints)\n      config.pc = new RTCPeerConnection(pc_config, pc_constraints)\n      Janus.debug(config.pc)\n      if(config.pc.getStats) { // FIXME\n        config.volume = {}\n      }\n      Janus.log('Preparing local SDP and gathering candidates (trickle=' + config.trickle + ')')\n      config.pc.oniceconnectionstatechange = function(e) {\n        if(config.pc)\n          pluginHandle.iceState(config.pc.iceConnectionState)\n      }\n      config.pc.onicecandidate = function(event) {\n        if (!event.candidate ||\n            (Janus.webRTCAdapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n          Janus.log('End of candidates.')\n          config.iceDone = true\n          if(config.trickle === true) {\n            // Notify end of candidates\n            sendTrickleCandidate(handleId, {'completed': true})\n          } else {\n            // No trickle, time to send the complete SDP (including all candidates)\n            sendSDP(handleId, callbacks)\n          }\n        } else {\n          // JSON.stringify doesn't work on some WebRTC objects anymore\n          // See https://code.google.com/p/chromium/issues/detail?id=467366\n          var candidate = {\n            'candidate': event.candidate.candidate,\n            'sdpMid': event.candidate.sdpMid,\n            'sdpMLineIndex': event.candidate.sdpMLineIndex\n          }\n          if(config.trickle === true) {\n            // Send candidate\n            sendTrickleCandidate(handleId, candidate)\n          }\n        }\n      }\n      config.pc.ontrack = function(event) {\n        Janus.log('Handling Remote Track')\n        Janus.debug(event)\n        if(!event.streams)\n          return\n        config.remoteStream = event.streams[0]\n        pluginHandle.onremotestream(config.remoteStream)\n        if(event.track.onended)\n          return\n        if(config.receiverTransforms) {\n          var receiverStreams = null\n          if(RTCRtpSender.prototype.createEncodedStreams) {\n            receiverStreams = event.receiver.createEncodedStreams()\n          } else if(RTCRtpSender.prototype.createAudioEncodedStreams || RTCRtpSender.prototype.createEncodedVideoStreams) {\n            if(event.track.kind === 'audio' && config.receiverTransforms['audio']) {\n              receiverStreams = event.receiver.createEncodedAudioStreams()\n            } else if(event.track.kind === 'video' && config.receiverTransforms['video']) {\n              receiverStreams = event.receiver.createEncodedVideoStreams()\n            }\n          }\n          if(receiverStreams) {\n            console.log(receiverStreams)\n            if(receiverStreams.readableStream && receiverStreams.writableStream) {\n              receiverStreams.readableStream\n                .pipeThrough(config.receiverTransforms[event.track.kind])\n                .pipeTo(receiverStreams.writableStream)\n            } else if(receiverStreams.readable && receiverStreams.writable) {\n              receiverStreams.readable\n                .pipeThrough(config.receiverTransforms[event.track.kind])\n                .pipeTo(receiverStreams.writable)\n            }\n          }\n        }\n        var trackMutedTimeoutId = null\n        Janus.log('Adding onended callback to track:', event.track)\n        event.track.onended = function(ev) {\n          Janus.log('Remote track removed:', ev)\n          if(config.remoteStream) {\n            clearTimeout(trackMutedTimeoutId)\n            config.remoteStream.removeTrack(ev.target)\n            pluginHandle.onremotestream(config.remoteStream)\n          }\n        }\n        event.track.onmute = function(ev) {\n          Janus.log('Remote track muted:', ev)\n          if(config.remoteStream && trackMutedTimeoutId == null) {\n            trackMutedTimeoutId = setTimeout(function() {\n              Janus.log('Removing remote track')\n              if (config.remoteStream) {\n                config.remoteStream.removeTrack(ev.target)\n                pluginHandle.onremotestream(config.remoteStream)\n                pluginHandle.ontrackmuted()\n              }\n              trackMutedTimeoutId = null\n            // Chrome seems to raise mute events only at multiples of 834ms;\n            // we set the timeout to three times this value (rounded to 840ms)\n            }, 3 * 840)\n          }\n        }\n        event.track.onunmute = function(ev) {\n          Janus.log('Remote track flowing again:', ev)\n          if(trackMutedTimeoutId != null) {\n            clearTimeout(trackMutedTimeoutId)\n            trackMutedTimeoutId = null\n          } else {\n            try {\n              config.remoteStream.addTrack(ev.target)\n              pluginHandle.onremotestream(config.remoteStream)\n              pluginHandle.ontrackunmuted()\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        }\n      }\n    }\n    if(addTracks && stream) {\n      Janus.log('Adding local stream')\n      var simulcast2 = (callbacks.simulcast2 === true)\n      stream.getTracks().forEach(function(track) {\n        Janus.log('Adding local track:', track)\n        var sender = null\n        if(!simulcast2 || track.kind === 'audio') {\n          sender = config.pc.addTrack(track, stream)\n        } else {\n          Janus.log('Enabling rid-based simulcasting:', track)\n          var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates)\n          var tr = config.pc.addTransceiver(track, {\n            direction: 'sendrecv',\n            streams: [stream],\n            sendEncodings: callbacks.sendEncodings || [\n              { rid: 'h', active: true, maxBitrate: maxBitrates.high },\n              { rid: 'm', active: true, maxBitrate: maxBitrates.medium, scaleResolutionDownBy: 2 },\n              { rid: 'l', active: true, maxBitrate: maxBitrates.low, scaleResolutionDownBy: 4 }\n            ]\n          })\n          if(tr)\n            sender = tr.sender\n        }\n        // Check if insertable streams are involved\n        if(sender && config.senderTransforms) {\n          var senderStreams = null\n          if(RTCRtpSender.prototype.createEncodedStreams) {\n            senderStreams = sender.createEncodedStreams()\n          } else if(RTCRtpSender.prototype.createAudioEncodedStreams || RTCRtpSender.prototype.createEncodedVideoStreams) {\n            if(sender.track.kind === 'audio' && config.senderTransforms['audio']) {\n              senderStreams = sender.createEncodedAudioStreams()\n            } else if(sender.track.kind === 'video' && config.senderTransforms['video']) {\n              senderStreams = sender.createEncodedVideoStreams()\n            }\n          }\n          if(senderStreams) {\n            console.log(senderStreams)\n            if(senderStreams.readableStream && senderStreams.writableStream) {\n              senderStreams.readableStream\n                .pipeThrough(config.senderTransforms[sender.track.kind])\n                .pipeTo(senderStreams.writableStream)\n            } else if(senderStreams.readable && senderStreams.writable) {\n              senderStreams.readable\n                .pipeThrough(config.senderTransforms[sender.track.kind])\n                .pipeTo(senderStreams.writable)\n            }\n          }\n        }\n      })\n    }\n    // Any data channel to create?\n    if(isDataEnabled(media) && !config.dataChannel[Janus.dataChanDefaultLabel]) {\n      Janus.log('Creating default data channel')\n      createDataChannel(handleId, Janus.dataChanDefaultLabel, null, false)\n      config.pc.ondatachannel = function(event) {\n        Janus.log('Data channel created by Janus:', event)\n        createDataChannel(handleId, event.channel.label, event.channel.protocol, event.channel)\n      }\n    }\n    // If there's a new local stream, let's notify the application\n    if(config.myStream) {\n      pluginHandle.onlocalstream(config.myStream)\n    }\n    // Create offer/answer now\n    if(!jsep) {\n      createOffer(handleId, media, callbacks)\n    } else {\n      // some firefox vs 420029 fix here, copied from our prev custom release\n      var oldsdp = jsep['sdp']\n      var pattern = /420029/gi\n      var newsdp = oldsdp.replace(pattern,'42e01f')\n      Janus.log(newsdp)\n      jsep['sdp'] = newsdp\n      config.pc.setRemoteDescription(jsep)\n        .then(function() {\n          Janus.log('Remote description accepted!')\n          config.remoteSdp = jsep.sdp\n          // Any trickle candidate we cached?\n          if(config.candidates && config.candidates.length > 0) {\n            for(var i = 0; i< config.candidates.length; i++) {\n              var candidate = config.candidates[i]\n              Janus.debug('Adding remote candidate:', candidate)\n              if(!candidate || candidate.completed === true) {\n                // end-of-candidates\n                config.pc.addIceCandidate(Janus.endOfCandidates)\n              } else {\n                // New candidate\n                config.pc.addIceCandidate(candidate)\n              }\n            }\n            config.candidates = []\n          }\n          // Create the answer now\n          createAnswer(handleId, media, callbacks)\n        }, callbacks.error)\n    }\n  }\n\n  function prepareWebrtc(handleId, offer, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : webrtcError\n    var jsep = callbacks.jsep\n    if(offer && jsep) {\n      Janus.error('Provided a JSEP to a createOffer')\n      callbacks.error('Provided a JSEP to a createOffer')\n      return\n    } else if(!offer && (!jsep || !jsep.type || !jsep.sdp)) {\n      Janus.error('A valid JSEP is required for createAnswer')\n      callbacks.error('A valid JSEP is required for createAnswer')\n      return\n    }\n    /* Check that callbacks.media is a (not null) Object */\n    callbacks.media = (typeof callbacks.media === 'object' && callbacks.media) ? callbacks.media : { audio: true, video: true }\n    var media = callbacks.media\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    config.trickle = isTrickleEnabled(callbacks.trickle)\n    // Are we updating a session?\n    if(!config.pc) {\n      // Nope, new PeerConnection\n      media.update = false\n      media.keepAudio = false\n      media.keepVideo = false\n    } else {\n      Janus.log('Updating existing media session')\n      media.update = true\n      // Check if there's anything to add/remove/replace, or if we\n      // can go directly to preparing the new SDP offer or answer\n      if(callbacks.stream) {\n        // External stream: is this the same as the one we were using before?\n        if(callbacks.stream !== config.myStream) {\n          Janus.log('Renegotiation involves a new external stream')\n        }\n      } else {\n        // Check if there are changes on audio\n        if(media.addAudio) {\n          media.keepAudio = false\n          media.replaceAudio = false\n          media.removeAudio = false\n          media.audioSend = true\n          if(config.myStream && config.myStream.getAudioTracks() && config.myStream.getAudioTracks().length) {\n            Janus.error('Can\\'t add audio stream, there already is one')\n            callbacks.error('Can\\'t add audio stream, there already is one')\n            return\n          }\n        } else if(media.removeAudio) {\n          media.keepAudio = false\n          media.replaceAudio = false\n          media.addAudio = false\n          media.audioSend = false\n        } else if(media.replaceAudio) {\n          media.keepAudio = false\n          media.addAudio = false\n          media.removeAudio = false\n          media.audioSend = true\n        }\n        if(!config.myStream) {\n          // No media stream: if we were asked to replace, it's actually an \"add\"\n          if(media.replaceAudio) {\n            media.keepAudio = false\n            media.replaceAudio = false\n            media.addAudio = true\n            media.audioSend = true\n          }\n          if(isAudioSendEnabled(media)) {\n            media.keepAudio = false\n            media.addAudio = true\n          }\n        } else {\n          if(!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n            // No audio track: if we were asked to replace, it's actually an \"add\"\n            if(media.replaceAudio) {\n              media.keepAudio = false\n              media.replaceAudio = false\n              media.addAudio = true\n              media.audioSend = true\n            }\n            if(isAudioSendEnabled(media)) {\n              media.keepAudio = false\n              media.addAudio = true\n            }\n          } else {\n            // We have an audio track: should we keep it as it is?\n            if(isAudioSendEnabled(media) &&\n                !media.removeAudio && !media.replaceAudio) {\n              media.keepAudio = true\n            }\n          }\n        }\n        // Check if there are changes on video\n        if(media.addVideo) {\n          media.keepVideo = false\n          media.replaceVideo = false\n          media.removeVideo = false\n          media.videoSend = true\n          if(config.myStream && config.myStream.getVideoTracks() && config.myStream.getVideoTracks().length) {\n            Janus.error('Can\\'t add video stream, there already is one')\n            callbacks.error('Can\\'t add video stream, there already is one')\n            return\n          }\n        } else if(media.removeVideo) {\n          media.keepVideo = false\n          media.replaceVideo = false\n          media.addVideo = false\n          media.videoSend = false\n        } else if(media.replaceVideo) {\n          media.keepVideo = false\n          media.addVideo = false\n          media.removeVideo = false\n          media.videoSend = true\n        }\n        if(!config.myStream) {\n          // No media stream: if we were asked to replace, it's actually an \"add\"\n          if(media.replaceVideo) {\n            media.keepVideo = false\n            media.replaceVideo = false\n            media.addVideo = true\n            media.videoSend = true\n          }\n          if(isVideoSendEnabled(media)) {\n            media.keepVideo = false\n            media.addVideo = true\n          }\n        } else {\n          if(!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n            // No video track: if we were asked to replace, it's actually an \"add\"\n            if(media.replaceVideo) {\n              media.keepVideo = false\n              media.replaceVideo = false\n              media.addVideo = true\n              media.videoSend = true\n            }\n            if(isVideoSendEnabled(media)) {\n              media.keepVideo = false\n              media.addVideo = true\n            }\n          } else {\n            // We have a video track: should we keep it as it is?\n            if(isVideoSendEnabled(media) && !media.removeVideo && !media.replaceVideo) {\n              media.keepVideo = true\n            }\n          }\n        }\n        // Data channels can only be added\n        if(media.addData) {\n          media.data = true\n        }\n      }\n      // If we're updating and keeping all tracks, let's skip the getUserMedia part\n      if((isAudioSendEnabled(media) && media.keepAudio) &&\n          (isVideoSendEnabled(media) && media.keepVideo)) {\n        pluginHandle.consentDialog(false)\n        streamsDone(handleId, jsep, media, callbacks, config.myStream)\n        return\n      }\n    }\n    // If we're updating, check if we need to remove/replace one of the tracks\n    if(media.update && (!config.streamExternal || (config.streamExternal && (media.replaceAudio || media.replaceVideo)))) {\n      if(media.removeAudio || media.replaceAudio) {\n        if(config.myStream && config.myStream.getAudioTracks() && config.myStream.getAudioTracks().length) {\n          var at = config.myStream.getAudioTracks()[0]\n          Janus.log('Removing audio track:', at)\n          config.myStream.removeTrack(at)\n          try {\n            at.stop()\n          } catch(e) {}\n        }\n        if(config.pc.getSenders() && config.pc.getSenders().length) {\n          var ra = true\n          if(media.replaceAudio && Janus.unifiedPlan) {\n            // We can use replaceTrack\n            ra = false\n          }\n          if(ra) {\n            for(var asnd of config.pc.getSenders()) {\n              if(asnd && asnd.track && asnd.track.kind === 'audio') {\n                Janus.log('Removing audio sender:', asnd)\n                config.pc.removeTrack(asnd)\n              }\n            }\n          }\n        }\n      }\n      if(media.removeVideo || media.replaceVideo) {\n        if(config.myStream && config.myStream.getVideoTracks() && config.myStream.getVideoTracks().length) {\n          var vt = config.myStream.getVideoTracks()[0]\n          Janus.log('Removing video track:', vt)\n          config.myStream.removeTrack(vt)\n          try {\n            vt.stop()\n          } catch(e) {}\n        }\n        if(config.pc.getSenders() && config.pc.getSenders().length) {\n          var rv = true\n          if(media.replaceVideo && Janus.unifiedPlan) {\n            // We can use replaceTrack\n            rv = false\n          }\n          if(rv) {\n            for(var vsnd of config.pc.getSenders()) {\n              if(vsnd && vsnd.track && vsnd.track.kind === 'video') {\n                Janus.log('Removing video sender:', vsnd)\n                config.pc.removeTrack(vsnd)\n              }\n            }\n          }\n        }\n      }\n    }\n    // Was a MediaStream object passed, or do we need to take care of that?\n    if(callbacks.stream) {\n      var stream = callbacks.stream\n      Janus.log('MediaStream provided by the application')\n      Janus.debug(stream)\n      // If this is an update, let's check if we need to release the previous stream\n      if(media.update && config.myStream && config.myStream !== callbacks.stream && !config.streamExternal && !media.replaceAudio && !media.replaceVideo) {\n        // We're replacing a stream we captured ourselves with an external one\n        Janus.stopAllTracks(config.myStream)\n        config.myStream = null\n      }\n      // Skip the getUserMedia part\n      config.streamExternal = true\n      pluginHandle.consentDialog(false)\n      streamsDone(handleId, jsep, media, callbacks, stream)\n      return\n    }\n    if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n      if(!Janus.isGetUserMediaAvailable()) {\n        callbacks.error('getUserMedia not available')\n        return\n      }\n      var constraints = { mandatory: {}, optional: []}\n      pluginHandle.consentDialog(true)\n      var audioSupport = isAudioSendEnabled(media)\n      if(audioSupport && media && typeof media.audio === 'object')\n        audioSupport = media.audio\n      var videoSupport = isVideoSendEnabled(media)\n      if(videoSupport && media) {\n        var simulcast = (callbacks.simulcast === true)\n        var simulcast2 = (callbacks.simulcast2 === true)\n        if((simulcast || simulcast2) && !jsep && !media.video)\n          media.video = 'hires'\n        if(media.video && media.video != 'screen' && media.video != 'window') {\n          if(typeof media.video === 'object') {\n            videoSupport = media.video\n          } else {\n            var width = 0\n            var height = 0, maxHeight = 0\n            if(media.video === 'lowres') {\n              // Small resolution, 4:3\n              height = 240\n              maxHeight = 240\n              width = 320\n            } else if(media.video === 'lowres-16:9') {\n              // Small resolution, 16:9\n              height = 180\n              maxHeight = 180\n              width = 320\n            } else if(media.video === 'hires' || media.video === 'hires-16:9' || media.video === 'hdres') {\n              // High(HD) resolution is only 16:9\n              height = 720\n              maxHeight = 720\n              width = 1280\n            } else if(media.video === 'fhdres') {\n              // Full HD resolution is only 16:9\n              height = 1080\n              maxHeight = 1080\n              width = 1920\n            } else if(media.video === '4kres') {\n              // 4K resolution is only 16:9\n              height = 2160\n              maxHeight = 2160\n              width = 3840\n            } else if(media.video === 'stdres') {\n              // Normal resolution, 4:3\n              height = 480\n              maxHeight = 480\n              width = 640\n            } else if(media.video === 'stdres-16:9') {\n              // Normal resolution, 16:9\n              height = 360\n              maxHeight = 360\n              width = 640\n            } else {\n              Janus.log('Default video setting is stdres 4:3')\n              height = 480\n              maxHeight = 480\n              width = 640\n            }\n            Janus.log('Adding media constraint:', media.video)\n            videoSupport = {\n              'height': {'ideal': height},\n              'width': {'ideal': width}\n            }\n            Janus.log('Adding video constraint:', videoSupport)\n          }\n        } else if(media.video === 'screen' || media.video === 'window') {\n          if(navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {\n            // The new experimental getDisplayMedia API is available, let's use that\n            // https://groups.google.com/forum/#!topic/discuss-webrtc/Uf0SrR4uxzk\n            // https://webrtchacks.com/chrome-screensharing-getdisplaymedia/\n            constraints.video = {}\n            if(media.screenshareFrameRate) {\n              constraints.video.frameRate = media.screenshareFrameRate\n            }\n            if(media.screenshareHeight) {\n              constraints.video.height = media.screenshareHeight\n            }\n            if(media.screenshareWidth) {\n              constraints.video.width = media.screenshareWidth\n            }\n            constraints.audio = media.captureDesktopAudio\n            navigator.mediaDevices.getDisplayMedia(constraints)\n              .then(function(stream) {\n                pluginHandle.consentDialog(false)\n                if(isAudioSendEnabled(media) && !media.keepAudio) {\n                  navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n                    .then(function (audioStream) {\n                      stream.addTrack(audioStream.getAudioTracks()[0])\n                      streamsDone(handleId, jsep, media, callbacks, stream)\n                    })\n                } else {\n                  streamsDone(handleId, jsep, media, callbacks, stream)\n                }\n              }, function (error) {\n                pluginHandle.consentDialog(false)\n                callbacks.error(error)\n              })\n            return\n          }\n          // We're going to try and use the extension for Chrome 34+, the old approach\n          // for older versions of Chrome, or the experimental support in Firefox 33+\n          function callbackUserMedia (error, stream) {\n            pluginHandle.consentDialog(false)\n            if(error) {\n              callbacks.error(error)\n            } else {\n              streamsDone(handleId, jsep, media, callbacks, stream)\n            }\n          }\n          function getScreenMedia(constraints, gsmCallback, useAudio) {\n            Janus.log('Adding media constraint (screen capture)')\n            Janus.debug(constraints)\n            navigator.mediaDevices.getUserMedia(constraints)\n              .then(function(stream) {\n                if(useAudio) {\n                  navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n                    .then(function (audioStream) {\n                      stream.addTrack(audioStream.getAudioTracks()[0])\n                      gsmCallback(null, stream)\n                    })\n                } else {\n                  gsmCallback(null, stream)\n                }\n              })\n              .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error) })\n          }\n          if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n            var chromever = Janus.webRTCAdapter.browserDetails.version\n            var maxver = 33\n            if(window.navigator.userAgent.match('Linux'))\n              maxver = 35 // \"known\" crash in chrome 34 and 35 on linux\n            if(chromever >= 26 && chromever <= maxver) {\n              // Chrome 26->33 requires some awkward chrome://flags manipulation\n              constraints = {\n                video: {\n                  mandatory: {\n                    googLeakyBucket: true,\n                    maxWidth: window.screen.width,\n                    maxHeight: window.screen.height,\n                    minFrameRate: media.screenshareFrameRate,\n                    maxFrameRate: media.screenshareFrameRate,\n                    chromeMediaSource: 'screen'\n                  }\n                },\n                audio: isAudioSendEnabled(media) && !media.keepAudio\n              }\n              getScreenMedia(constraints, callbackUserMedia)\n            } else {\n              // Chrome 34+ requires an extension\n              Janus.extension.getScreen(function (error, sourceId) {\n                if (error) {\n                  pluginHandle.consentDialog(false)\n                  return callbacks.error(error)\n                }\n                constraints = {\n                  audio: false,\n                  video: {\n                    mandatory: {\n                      chromeMediaSource: 'desktop',\n                      maxWidth: window.screen.width,\n                      maxHeight: window.screen.height,\n                      minFrameRate: media.screenshareFrameRate,\n                      maxFrameRate: media.screenshareFrameRate,\n                    },\n                    optional: [\n                      {googLeakyBucket: true},\n                      {googTemporalLayeredScreencast: true}\n                    ]\n                  }\n                }\n                constraints.video.mandatory.chromeMediaSourceId = sourceId\n                getScreenMedia(constraints, callbackUserMedia,\n                  isAudioSendEnabled(media) && !media.keepAudio)\n              })\n            }\n          } else if(Janus.webRTCAdapter.browserDetails.browser === 'firefox') {\n            if(Janus.webRTCAdapter.browserDetails.version >= 33) {\n              // Firefox 33+ has experimental support for screen sharing\n              constraints = {\n                video: {\n                  mozMediaSource: media.video,\n                  mediaSource: media.video\n                },\n                audio: isAudioSendEnabled(media) && !media.keepAudio\n              }\n              getScreenMedia(constraints, function (err, stream) {\n                callbackUserMedia(err, stream)\n                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                if (!err) {\n                  var lastTime = stream.currentTime\n                  var polly = window.setInterval(function () {\n                    if(!stream)\n                      window.clearInterval(polly)\n                    if(stream.currentTime == lastTime) {\n                      window.clearInterval(polly)\n                      if(stream.onended) {\n                        stream.onended()\n                      }\n                    }\n                    lastTime = stream.currentTime\n                  }, 500)\n                }\n              })\n            } else {\n              var error = new Error('NavigatorUserMediaError')\n              error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)'\n              pluginHandle.consentDialog(false)\n              callbacks.error(error)\n              return\n            }\n          }\n          return\n        }\n      }\n      // If we got here, we're not screensharing\n      if(!media || media.video !== 'screen') {\n        // Check whether all media sources are actually available or not\n        navigator.mediaDevices.enumerateDevices().then(function(devices) {\n          var audioExist = devices.some(function(device) {\n              return device.kind === 'audioinput'\n            }),\n            videoExist = isScreenSendEnabled(media) || devices.some(function(device) {\n              return device.kind === 'videoinput'\n            })\n\n          // Check whether a missing device is really a problem\n          var audioSend = isAudioSendEnabled(media)\n          var videoSend = isVideoSendEnabled(media)\n          var needAudioDevice = isAudioSendRequired(media)\n          var needVideoDevice = isVideoSendRequired(media)\n          if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n            // We need to send either audio or video\n            var haveAudioDevice = audioSend ? audioExist : false\n            var haveVideoDevice = videoSend ? videoExist : false\n            if(!haveAudioDevice && !haveVideoDevice) {\n              // FIXME Should we really give up, or just assume recvonly for both?\n              pluginHandle.consentDialog(false)\n              callbacks.error('No capture device found')\n              return false\n            } else if(!haveAudioDevice && needAudioDevice) {\n              pluginHandle.consentDialog(false)\n              callbacks.error('Audio capture is required, but no capture device found')\n              return false\n            } else if(!haveVideoDevice && needVideoDevice) {\n              pluginHandle.consentDialog(false)\n              callbacks.error('Video capture is required, but no capture device found')\n              return false\n            }\n          }\n\n          var gumConstraints = {\n            audio: (audioExist && !media.keepAudio) ? audioSupport : false,\n            video: (videoExist && !media.keepVideo) ? videoSupport : false\n          }\n          Janus.debug('getUserMedia constraints', gumConstraints)\n          if (!gumConstraints.audio && !gumConstraints.video) {\n            pluginHandle.consentDialog(false)\n            streamsDone(handleId, jsep, media, callbacks, stream)\n          } else {\n            navigator.mediaDevices.getUserMedia(gumConstraints)\n              .then(function(stream) {\n                pluginHandle.consentDialog(false)\n                streamsDone(handleId, jsep, media, callbacks, stream)\n              }).catch(function(error) {\n                pluginHandle.consentDialog(false)\n                callbacks.error({code: error.code, name: error.name, message: error.message})\n              })\n          }\n        })\n          .catch(function(error) {\n            pluginHandle.consentDialog(false)\n            callbacks.error(error)\n          })\n      }\n    } else {\n      // No need to do a getUserMedia, create offer/answer right away\n      streamsDone(handleId, jsep, media, callbacks)\n    }\n  }\n\n  function prepareWebrtcPeer(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : webrtcError\n    callbacks.customizeSdp = (typeof callbacks.customizeSdp == 'function') ? callbacks.customizeSdp : Janus.noop\n    var jsep = callbacks.jsep\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(jsep) {\n      if(!config.pc) {\n        Janus.warn('Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep')\n        callbacks.error('No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep')\n        return\n      }\n      callbacks.customizeSdp(jsep)\n      config.pc.setRemoteDescription(jsep)\n        .then(function() {\n          Janus.log('Remote description accepted!')\n          config.remoteSdp = jsep.sdp\n          // Any trickle candidate we cached?\n          if(config.candidates && config.candidates.length > 0) {\n            for(var i = 0; i< config.candidates.length; i++) {\n              var candidate = config.candidates[i]\n              Janus.debug('Adding remote candidate:', candidate)\n              if(!candidate || candidate.completed === true) {\n                // end-of-candidates\n                config.pc.addIceCandidate(Janus.endOfCandidates)\n              } else {\n                // New candidate\n                config.pc.addIceCandidate(candidate)\n              }\n            }\n            config.candidates = []\n          }\n          // Done\n          callbacks.success()\n        }, callbacks.error)\n    } else {\n      callbacks.error('Invalid JSEP')\n    }\n  }\n\n  function createOffer(handleId, media, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks.customizeSdp = (typeof callbacks.customizeSdp == 'function') ? callbacks.customizeSdp : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    var simulcast = (callbacks.simulcast === true)\n    if(!simulcast) {\n      Janus.log('Creating offer (iceDone=' + config.iceDone + ')')\n    } else {\n      Janus.log('Creating offer (iceDone=' + config.iceDone + ', simulcast=' + simulcast + ')')\n    }\n    // https://code.google.com/p/webrtc/issues/detail?id=3508\n    var mediaConstraints = {}\n    if(Janus.unifiedPlan) {\n      // We can use Transceivers\n      var audioTransceiver = null, videoTransceiver = null\n      var transceivers = config.pc.getTransceivers()\n      if(transceivers && transceivers.length > 0) {\n        for(var t of transceivers) {\n          if((t.sender && t.sender.track && t.sender.track.kind === 'audio') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'audio')) {\n            if(!audioTransceiver) {\n              audioTransceiver = t\n            }\n            continue\n          }\n          if((t.sender && t.sender.track && t.sender.track.kind === 'video') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'video')) {\n            if(!videoTransceiver) {\n              videoTransceiver = t\n            }\n            continue\n          }\n        }\n      }\n      // Handle audio (and related changes, if any)\n      var audioSend = isAudioSendEnabled(media)\n      var audioRecv = isAudioRecvEnabled(media)\n      if(!audioSend && !audioRecv) {\n        // Audio disabled: have we removed it?\n        if(media.removeAudio && audioTransceiver) {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('inactive')\n          } else {\n            audioTransceiver.direction = 'inactive'\n          }\n          Janus.log('Setting audio transceiver to inactive:', audioTransceiver)\n        }\n      } else {\n        // Take care of audio m-line\n        if(audioSend && audioRecv) {\n          if(audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendrecv')\n            } else {\n              audioTransceiver.direction = 'sendrecv'\n            }\n            Janus.log('Setting audio transceiver to sendrecv:', audioTransceiver)\n          }\n        } else if(audioSend && !audioRecv) {\n          if(audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly')\n            } else {\n              audioTransceiver.direction = 'sendonly'\n            }\n            Janus.log('Setting audio transceiver to sendonly:', audioTransceiver)\n          }\n        } else if(!audioSend && audioRecv) {\n          if(audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('recvonly')\n            } else {\n              audioTransceiver.direction = 'recvonly'\n            }\n            Janus.log('Setting audio transceiver to recvonly:', audioTransceiver)\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            audioTransceiver = config.pc.addTransceiver('audio', { direction: 'recvonly' })\n            Janus.log('Adding recvonly audio transceiver:', audioTransceiver)\n          }\n        }\n      }\n      // Handle video (and related changes, if any)\n      var videoSend = isVideoSendEnabled(media)\n      var videoRecv = isVideoRecvEnabled(media)\n      if(!videoSend && !videoRecv) {\n        // Video disabled: have we removed it?\n        if(media.removeVideo && videoTransceiver) {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('inactive')\n          } else {\n            videoTransceiver.direction = 'inactive'\n          }\n          Janus.log('Setting video transceiver to inactive:', videoTransceiver)\n        }\n      } else {\n        // Take care of video m-line\n        if(videoSend && videoRecv) {\n          if(videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendrecv')\n            } else {\n              videoTransceiver.direction = 'sendrecv'\n            }\n            Janus.log('Setting video transceiver to sendrecv:', videoTransceiver)\n          }\n        } else if(videoSend && !videoRecv) {\n          if(videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly')\n            } else {\n              videoTransceiver.direction = 'sendonly'\n            }\n            Janus.log('Setting video transceiver to sendonly:', videoTransceiver)\n          }\n        } else if(!videoSend && videoRecv) {\n          if(videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('recvonly')\n            } else {\n              videoTransceiver.direction = 'recvonly'\n            }\n            Janus.log('Setting video transceiver to recvonly:', videoTransceiver)\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            videoTransceiver = config.pc.addTransceiver('video', { direction: 'recvonly' })\n            Janus.log('Adding recvonly video transceiver:', videoTransceiver)\n          }\n        }\n      }\n    } else {\n      mediaConstraints['offerToReceiveAudio'] = isAudioRecvEnabled(media)\n      mediaConstraints['offerToReceiveVideo'] = isVideoRecvEnabled(media)\n    }\n    var iceRestart = (callbacks.iceRestart === true)\n    if(iceRestart) {\n      mediaConstraints['iceRestart'] = true\n    }\n    Janus.debug(mediaConstraints)\n    // Check if this is Firefox and we've been asked to do simulcasting\n    var sendVideo = isVideoSendEnabled(media)\n    if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === 'firefox') {\n      // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n      Janus.log('Enabling Simulcasting for Firefox (RID)')\n      var sender = config.pc.getSenders().find(function(s) {return s.track && s.track.kind === 'video'})\n      if(sender) {\n        var parameters = sender.getParameters()\n        if(!parameters) {\n          parameters = {}\n        }\n        var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates)\n        parameters.encodings = callbacks.sendEncodings || [\n          { rid: 'h', active: true, maxBitrate: maxBitrates.high },\n          { rid: 'm', active: true, maxBitrate: maxBitrates.medium, scaleResolutionDownBy: 2 },\n          { rid: 'l', active: true, maxBitrate: maxBitrates.low, scaleResolutionDownBy: 4 }\n        ]\n        sender.setParameters(parameters)\n      }\n    }\n    config.pc.createOffer(mediaConstraints)\n      .then(function(offer) {\n        Janus.debug(offer)\n        // JSON.stringify doesn't work on some WebRTC objects anymore\n        // See https://code.google.com/p/chromium/issues/detail?id=467366\n        var jsep = {\n          'type': offer.type,\n          'sdp': offer.sdp\n        }\n        callbacks.customizeSdp(jsep)\n        offer.sdp = jsep.sdp\n        Janus.log('Setting local description')\n        if(sendVideo && simulcast) {\n          // This SDP munging only works with Chrome (Safari STP may support it too)\n          if(Janus.webRTCAdapter.browserDetails.browser === 'chrome' ||\n              Janus.webRTCAdapter.browserDetails.browser === 'safari') {\n            Janus.log('Enabling Simulcasting for Chrome (SDP munging)')\n            offer.sdp = mungeSdpForSimulcasting(offer.sdp)\n          } else if(Janus.webRTCAdapter.browserDetails.browser !== 'firefox') {\n            Janus.warn('simulcast=true, but this is not Chrome nor Firefox, ignoring')\n          }\n        }\n        config.mySdp = {\n          type: 'offer',\n          sdp: offer.sdp\n        }\n        config.pc.setLocalDescription(offer)\n          .catch(callbacks.error)\n        config.mediaConstraints = mediaConstraints\n        if(!config.iceDone && !config.trickle) {\n          // Don't do anything until we have all candidates\n          Janus.log('Waiting for all candidates...')\n          return\n        }\n        // If transforms are present, notify Janus that the media is end-to-end encrypted\n        if(config.senderTransforms || config.receiverTransforms) {\n          offer['e2ee'] = true\n        }\n        callbacks.success(offer)\n      }, callbacks.error)\n  }\n\n  function createAnswer(handleId, media, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks.customizeSdp = (typeof callbacks.customizeSdp == 'function') ? callbacks.customizeSdp : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    var simulcast = (callbacks.simulcast === true)\n    if(!simulcast) {\n      Janus.log('Creating answer (iceDone=' + config.iceDone + ')')\n    } else {\n      Janus.log('Creating answer (iceDone=' + config.iceDone + ', simulcast=' + simulcast + ')')\n    }\n    var mediaConstraints = null\n    if(Janus.unifiedPlan) {\n      // We can use Transceivers\n      mediaConstraints = {}\n      var audioTransceiver = null, videoTransceiver = null\n      var transceivers = config.pc.getTransceivers()\n      if(transceivers && transceivers.length > 0) {\n        for(var t of transceivers) {\n          if((t.sender && t.sender.track && t.sender.track.kind === 'audio') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'audio')) {\n            if(!audioTransceiver)\n              audioTransceiver = t\n            continue\n          }\n          if((t.sender && t.sender.track && t.sender.track.kind === 'video') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'video')) {\n            if(!videoTransceiver)\n              videoTransceiver = t\n            continue\n          }\n        }\n      }\n      // Handle audio (and related changes, if any)\n      var audioSend = isAudioSendEnabled(media)\n      var audioRecv = isAudioRecvEnabled(media)\n      if(!audioSend && !audioRecv) {\n        // Audio disabled: have we removed it?\n        if(media.removeAudio && audioTransceiver) {\n          try {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive')\n            } else {\n              audioTransceiver.direction = 'inactive'\n            }\n            Janus.log('Setting audio transceiver to inactive:', audioTransceiver)\n          } catch(e) {\n            Janus.error(e)\n          }\n        }\n      } else {\n        // Take care of audio m-line\n        if(audioSend && audioRecv) {\n          if(audioTransceiver) {\n            try {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('sendrecv')\n              } else {\n                audioTransceiver.direction = 'sendrecv'\n              }\n              Janus.log('Setting audio transceiver to sendrecv:', audioTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        } else if(audioSend && !audioRecv) {\n          try {\n            if(audioTransceiver) {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('sendonly')\n              } else {\n                audioTransceiver.direction = 'sendonly'\n              }\n              Janus.log('Setting audio transceiver to sendonly:', audioTransceiver)\n            }\n          } catch(e) {\n            Janus.error(e)\n          }\n        } else if(!audioSend && audioRecv) {\n          if(audioTransceiver) {\n            try {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('recvonly')\n              } else {\n                audioTransceiver.direction = 'recvonly'\n              }\n              Janus.log('Setting audio transceiver to recvonly:', audioTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            audioTransceiver = config.pc.addTransceiver('audio', { direction: 'recvonly' })\n            Janus.log('Adding recvonly audio transceiver:', audioTransceiver)\n          }\n        }\n      }\n      // Handle video (and related changes, if any)\n      var videoSend = isVideoSendEnabled(media)\n      var videoRecv = isVideoRecvEnabled(media)\n      if(!videoSend && !videoRecv) {\n        // Video disabled: have we removed it?\n        if(media.removeVideo && videoTransceiver) {\n          try {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive')\n            } else {\n              videoTransceiver.direction = 'inactive'\n            }\n            Janus.log('Setting video transceiver to inactive:', videoTransceiver)\n          } catch(e) {\n            Janus.error(e)\n          }\n        }\n      } else {\n        // Take care of video m-line\n        if(videoSend && videoRecv) {\n          if(videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('sendrecv')\n              } else {\n                videoTransceiver.direction = 'sendrecv'\n              }\n              Janus.log('Setting video transceiver to sendrecv:', videoTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        } else if(videoSend && !videoRecv) {\n          if(videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('sendonly')\n              } else {\n                videoTransceiver.direction = 'sendonly'\n              }\n              Janus.log('Setting video transceiver to sendonly:', videoTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        } else if(!videoSend && videoRecv) {\n          if(videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('recvonly')\n              } else {\n                videoTransceiver.direction = 'recvonly'\n              }\n              Janus.log('Setting video transceiver to recvonly:', videoTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            videoTransceiver = config.pc.addTransceiver('video', { direction: 'recvonly' })\n            Janus.log('Adding recvonly video transceiver:', videoTransceiver)\n          }\n        }\n      }\n    } else {\n      if(Janus.webRTCAdapter.browserDetails.browser === 'firefox' || Janus.webRTCAdapter.browserDetails.browser === 'edge') {\n        mediaConstraints = {\n          offerToReceiveAudio: isAudioRecvEnabled(media),\n          offerToReceiveVideo: isVideoRecvEnabled(media)\n        }\n      } else {\n        mediaConstraints = {\n          mandatory: {\n            OfferToReceiveAudio: isAudioRecvEnabled(media),\n            OfferToReceiveVideo: isVideoRecvEnabled(media)\n          }\n        }\n      }\n    }\n    Janus.debug(mediaConstraints)\n    // Check if this is Firefox and we've been asked to do simulcasting\n    var sendVideo = isVideoSendEnabled(media)\n    if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === 'firefox') {\n      // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n      Janus.log('Enabling Simulcasting for Firefox (RID)')\n      var sender = config.pc.getSenders()[1]\n      Janus.log(sender)\n      var parameters = sender.getParameters()\n      Janus.log(parameters)\n\n      var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates)\n      sender.setParameters({encodings: callbacks.sendEncodings || [\n        { rid: 'h', active: true, maxBitrate: maxBitrates.high },\n        { rid: 'm', active: true, maxBitrate: maxBitrates.medium, scaleResolutionDownBy: 2},\n        { rid: 'l', active: true, maxBitrate: maxBitrates.low, scaleResolutionDownBy: 4}\n      ]})\n    }\n    config.pc.createAnswer(mediaConstraints)\n      .then(function(answer) {\n        Janus.debug(answer)\n        // JSON.stringify doesn't work on some WebRTC objects anymore\n        // See https://code.google.com/p/chromium/issues/detail?id=467366\n        var jsep = {\n          'type': answer.type,\n          'sdp': answer.sdp\n        }\n        callbacks.customizeSdp(jsep)\n        answer.sdp = jsep.sdp\n        Janus.log('Setting local description')\n        if(sendVideo && simulcast) {\n          // This SDP munging only works with Chrome\n          if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n            // FIXME Apparently trying to simulcast when answering breaks video in Chrome...\n            //~ Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n            //~ answer.sdp = mungeSdpForSimulcasting(answer.sdp);\n            Janus.warn('simulcast=true, but this is an answer, and video breaks in Chrome if we enable it')\n          } else if(Janus.webRTCAdapter.browserDetails.browser !== 'firefox') {\n            Janus.warn('simulcast=true, but this is not Chrome nor Firefox, ignoring')\n          }\n        }\n        config.mySdp = {\n          type: 'answer',\n          sdp: answer.sdp\n        }\n        config.pc.setLocalDescription(answer)\n          .catch(callbacks.error)\n        config.mediaConstraints = mediaConstraints\n        if(!config.iceDone && !config.trickle) {\n          // Don't do anything until we have all candidates\n          Janus.log('Waiting for all candidates...')\n          return\n        }\n        // If transforms are present, notify Janus that the media is end-to-end encrypted\n        if(config.senderTransforms || config.receiverTransforms) {\n          answer['e2ee'] = true\n        }\n        callbacks.success(answer)\n      }, callbacks.error)\n  }\n\n  function sendSDP(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle, not sending anything')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    Janus.log('Sending offer/answer SDP...')\n    if(!config.mySdp) {\n      Janus.warn('Local SDP instance is invalid, not sending anything...')\n      return\n    }\n    config.mySdp = {\n      'type': config.pc.localDescription.type,\n      'sdp': config.pc.localDescription.sdp\n    }\n    if(config.trickle === false)\n      config.mySdp['trickle'] = false\n    Janus.debug(callbacks)\n    config.sdpSent = true\n    callbacks.success(config.mySdp)\n  }\n\n  function getVolume(handleId, remote) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return 0\n    }\n    var stream = remote ? 'remote' : 'local'\n    var config = pluginHandle.webrtcStuff\n    if(!config.volume[stream])\n      config.volume[stream] = { value: 0 }\n    // Start getting the volume, if audioLevel in getStats is supported (apparently\n    // they're only available in Chrome/Safari right now: https://webrtc-stats.callstats.io/)\n    if(config.pc.getStats && (Janus.webRTCAdapter.browserDetails.browser === 'chrome' ||\n        Janus.webRTCAdapter.browserDetails.browser === 'safari')) {\n      if(remote && !config.remoteStream) {\n        Janus.warn('Remote stream unavailable')\n        return 0\n      } else if(!remote && !config.myStream) {\n        Janus.warn('Local stream unavailable')\n        return 0\n      }\n      if(!config.volume[stream].timer) {\n        Janus.log('Starting ' + stream + ' volume monitor')\n        config.volume[stream].timer = setInterval(function() {\n          config.pc.getStats()\n            .then(function(stats) {\n              stats.forEach(function (res) {\n                if(!res || res.kind !== 'audio')\n                  return\n                if((remote && !res.remoteSource) || (!remote && res.type !== 'media-source'))\n                  return\n                config.volume[stream].value = (res.audioLevel ? res.audioLevel : 0)\n              })\n            })\n        }, 200)\n        return 0 // We don't have a volume to return yet\n      }\n      return config.volume[stream].value\n    } else {\n      // audioInputLevel and audioOutputLevel seem only available in Chrome? audioLevel\n      // seems to be available on Chrome and Firefox, but they don't seem to work\n      Janus.warn('Getting the ' + stream + ' volume unsupported by browser')\n      return 0\n    }\n  }\n\n  function isMuted(handleId, video) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return true\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc) {\n      Janus.warn('Invalid PeerConnection')\n      return true\n    }\n    if(!config.myStream) {\n      Janus.warn('Invalid local MediaStream')\n      return true\n    }\n    if(video) {\n      // Check video track\n      if(!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n        Janus.warn('No video track')\n        return true\n      }\n      return !config.myStream.getVideoTracks()[0].enabled\n    } else {\n      // Check audio track\n      if(!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n        Janus.warn('No audio track')\n        return true\n      }\n      return !config.myStream.getAudioTracks()[0].enabled\n    }\n  }\n\n  function mute(handleId, video, mute) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return false\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc) {\n      Janus.warn('Invalid PeerConnection')\n      return false\n    }\n    if(!config.myStream) {\n      Janus.warn('Invalid local MediaStream')\n      return false\n    }\n    if(video) {\n      // Mute/unmute video track\n      if(!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n        Janus.warn('No video track')\n        return false\n      }\n      config.myStream.getVideoTracks()[0].enabled = !mute\n      return true\n    } else {\n      // Mute/unmute audio track\n      if(!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n        Janus.warn('No audio track')\n        return false\n      }\n      config.myStream.getAudioTracks()[0].enabled = !mute\n      return true\n    }\n  }\n\n  function getBitrate(handleId) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return 'Invalid handle'\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc)\n      return 'Invalid PeerConnection'\n    // Start getting the bitrate, if getStats is supported\n    if(config.pc.getStats) {\n      if(!config.bitrate.timer) {\n        Janus.log('Starting bitrate timer (via getStats)')\n        config.bitrate.timer = setInterval(function() {\n          config.pc.getStats()\n            .then(function(stats) {\n              stats.forEach(function (res) {\n                if(!res)\n                  return\n                var inStats = false\n                // Check if these are statistics on incoming media\n                if((res.mediaType === 'video' || res.id.toLowerCase().indexOf('video') > -1) &&\n                    res.type === 'inbound-rtp' && res.id.indexOf('rtcp') < 0) {\n                  // New stats\n                  inStats = true\n                } else if(res.type == 'ssrc' && res.bytesReceived &&\n                    (res.googCodecName === 'VP8' || res.googCodecName === '')) {\n                  // Older Chromer versions\n                  inStats = true\n                }\n                // Parse stats now\n                if(inStats) {\n                  config.bitrate.fps = res.framesPerSecond\n                  config.bitrate.bsnow = res.bytesReceived\n                  config.bitrate.tsnow = res.timestamp\n                  if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                    // Skip this round\n                    config.bitrate.bsbefore = config.bitrate.bsnow\n                    config.bitrate.tsbefore = config.bitrate.tsnow\n                  } else {\n                    // Calculate bitrate\n                    var timePassed = config.bitrate.tsnow - config.bitrate.tsbefore\n                    if(Janus.webRTCAdapter.browserDetails.browser === 'safari')\n                      timePassed = timePassed/1000 // Apparently the timestamp is in microseconds, in Safari\n                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / timePassed)\n                    if(Janus.webRTCAdapter.browserDetails.browser === 'safari')\n                      bitRate = parseInt(bitRate/1000)\n                    config.bitrate.value = bitRate + ' kbps'\n                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                    config.bitrate.bsbefore = config.bitrate.bsnow\n                    config.bitrate.tsbefore = config.bitrate.tsnow\n                  }\n                }\n              })\n            })\n        }, 1000)\n      }\n      return config.bitrate\n    } else {\n      Janus.warn('Getting the video bitrate unsupported by browser')\n      return 'Feature unsupported by browser'\n    }\n  }\n\n  function webrtcError(error) {\n    Janus.error('WebRTC error:', error)\n  }\n\n  function cleanupWebrtc(handleId, hangupRequest) {\n    Janus.log('Cleaning WebRTC stuff')\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle) {\n      // Nothing to clean\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(config) {\n      if(hangupRequest === true) {\n        // Send a hangup request (we don't really care about the response)\n        var request = { 'janus': 'hangup', 'transaction': Janus.randomString(12) }\n        if(pluginHandle.token)\n          request['token'] = pluginHandle.token\n        if(apisecret)\n          request['apisecret'] = apisecret\n        Janus.debug('Sending hangup request (handle=' + handleId + '):')\n        Janus.debug(request)\n        if(websockets) {\n          request['session_id'] = sessionId\n          request['handle_id'] = handleId\n          ws.send(JSON.stringify(request))\n        } else {\n          Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request\n          })\n        }\n      }\n      // Cleanup stack\n      config.remoteStream = null\n      if(config.volume) {\n        if(config.volume['local'] && config.volume['local'].timer)\n          clearInterval(config.volume['local'].timer)\n        if(config.volume['remote'] && config.volume['remote'].timer)\n          clearInterval(config.volume['remote'].timer)\n      }\n      config.volume = {}\n      if(config.bitrate.timer)\n        clearInterval(config.bitrate.timer)\n      config.bitrate.timer = null\n      config.bitrate.bsnow = null\n      config.bitrate.bsbefore = null\n      config.bitrate.tsnow = null\n      config.bitrate.tsbefore = null\n      config.bitrate.value = null\n      if(!config.streamExternal && config.myStream) {\n        Janus.log('Stopping local stream tracks')\n        Janus.stopAllTracks(config.myStream)\n      }\n      config.streamExternal = false\n      config.myStream = null\n      // Close PeerConnection\n      try {\n        config.pc.close()\n      } catch(e) {\n        // Do nothing\n      }\n      config.pc = null\n      config.candidates = null\n      config.mySdp = null\n      config.remoteSdp = null\n      config.iceDone = false\n      config.dataChannel = {}\n      config.dtmfSender = null\n      config.senderTransforms = null\n      config.receiverTransforms = null\n    }\n    pluginHandle.oncleanup()\n  }\n\n  // Helper method to munge an SDP to enable simulcasting (Chrome only)\n  function mungeSdpForSimulcasting(sdp) {\n    // Let's munge the SDP to add the attributes for enabling simulcasting\n    // (based on https://gist.github.com/ggarber/a19b4c33510028b9c657)\n    var lines = sdp.split('\\r\\n')\n    var video = false\n    var ssrc = [ -1 ], ssrc_fid = [ -1 ]\n    var cname = null, msid = null, mslabel = null, label = null\n    var insertAt = -1\n    for(var i=0; i<lines.length; i++) {\n      var mline = lines[i].match(/m=(\\w+) */)\n      if(mline) {\n        var medium = mline[1]\n        if(medium === 'video') {\n          // New video m-line: make sure it's the first one\n          if(ssrc[0] < 0) {\n            video = true\n          } else {\n            // We're done, let's add the new attributes here\n            insertAt = i\n            break\n          }\n        } else {\n          // New non-video m-line: do we have what we were looking for?\n          if(ssrc[0] > -1) {\n            // We're done, let's add the new attributes here\n            insertAt = i\n            break\n          }\n        }\n        continue\n      }\n      if(!video)\n        continue\n      var sim = lines[i].match(/a=ssrc-group:SIM (\\d+) (\\d+) (\\d+)/)\n      if(sim) {\n        Janus.warn('The SDP already contains a SIM attribute, munging will be skipped')\n        return sdp\n      }\n      var fid = lines[i].match(/a=ssrc-group:FID (\\d+) (\\d+)/)\n      if(fid) {\n        ssrc[0] = fid[1]\n        ssrc_fid[0] = fid[2]\n        lines.splice(i, 1); i--\n        continue\n      }\n      if(ssrc[0]) {\n        var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n        if(match) {\n          cname = match[1]\n        }\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n        if(match) {\n          msid = match[1]\n        }\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n        if(match) {\n          mslabel = match[1]\n        }\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' label:(.+)')\n        if(match) {\n          label = match[1]\n        }\n        if(lines[i].indexOf('a=ssrc:' + ssrc_fid[0]) === 0) {\n          lines.splice(i, 1); i--\n          continue\n        }\n        if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n          lines.splice(i, 1); i--\n          continue\n        }\n      }\n      if(lines[i].length == 0) {\n        lines.splice(i, 1); i--\n        continue\n      }\n    }\n    if(ssrc[0] < 0) {\n      // Couldn't find a FID attribute, let's just take the first video SSRC we find\n      insertAt = -1\n      video = false\n      for(var i=0; i<lines.length; i++) {\n        var mline = lines[i].match(/m=(\\w+) */)\n        if(mline) {\n          var medium = mline[1]\n          if(medium === 'video') {\n            // New video m-line: make sure it's the first one\n            if(ssrc[0] < 0) {\n              video = true\n            } else {\n              // We're done, let's add the new attributes here\n              insertAt = i\n              break\n            }\n          } else {\n            // New non-video m-line: do we have what we were looking for?\n            if(ssrc[0] > -1) {\n              // We're done, let's add the new attributes here\n              insertAt = i\n              break\n            }\n          }\n          continue\n        }\n        if(!video)\n          continue\n        if(ssrc[0] < 0) {\n          var value = lines[i].match(/a=ssrc:(\\d+)/)\n          if(value) {\n            ssrc[0] = value[1]\n            lines.splice(i, 1); i--\n            continue\n          }\n        } else {\n          var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n          if(match) {\n            cname = match[1]\n          }\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n          if(match) {\n            msid = match[1]\n          }\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n          if(match) {\n            mslabel = match[1]\n          }\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' label:(.+)')\n          if(match) {\n            label = match[1]\n          }\n          if(lines[i].indexOf('a=ssrc:' + ssrc_fid[0]) === 0) {\n            lines.splice(i, 1); i--\n            continue\n          }\n          if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n            lines.splice(i, 1); i--\n            continue\n          }\n        }\n        if(lines[i].length === 0) {\n          lines.splice(i, 1); i--\n          continue\n        }\n      }\n    }\n    if(ssrc[0] < 0) {\n      // Still nothing, let's just return the SDP we were asked to munge\n      Janus.warn('Couldn\\'t find the video SSRC, simulcasting NOT enabled')\n      return sdp\n    }\n    if(insertAt < 0) {\n      // Append at the end\n      insertAt = lines.length\n    }\n    // Generate a couple of SSRCs (for retransmissions too)\n    // Note: should we check if there are conflicts, here?\n    ssrc[1] = Math.floor(Math.random()*0xFFFFFFFF)\n    ssrc[2] = Math.floor(Math.random()*0xFFFFFFFF)\n    ssrc_fid[1] = Math.floor(Math.random()*0xFFFFFFFF)\n    ssrc_fid[2] = Math.floor(Math.random()*0xFFFFFFFF)\n    // Add attributes to the SDP\n    for(var i=0; i<ssrc.length; i++) {\n      if(cname) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' cname:' + cname)\n        insertAt++\n      }\n      if(msid) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' msid:' + msid)\n        insertAt++\n      }\n      if(mslabel) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' mslabel:' + mslabel)\n        insertAt++\n      }\n      if(label) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' label:' + label)\n        insertAt++\n      }\n      // Add the same info for the retransmission SSRC\n      if(cname) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' cname:' + cname)\n        insertAt++\n      }\n      if(msid) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' msid:' + msid)\n        insertAt++\n      }\n      if(mslabel) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' mslabel:' + mslabel)\n        insertAt++\n      }\n      if(label) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' label:' + label)\n        insertAt++\n      }\n    }\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[2] + ' ' + ssrc_fid[2])\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[1] + ' ' + ssrc_fid[1])\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[0] + ' ' + ssrc_fid[0])\n    lines.splice(insertAt, 0, 'a=ssrc-group:SIM ' + ssrc[0] + ' ' + ssrc[1] + ' ' + ssrc[2])\n    sdp = lines.join('\\r\\n')\n    if(!sdp.endsWith('\\r\\n'))\n      sdp += '\\r\\n'\n    return sdp\n  }\n\n  // Helper methods to parse a media object\n  function isAudioSendEnabled(media) {\n    Janus.debug('isAudioSendEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.audio === false)\n      return false // Generic audio has precedence\n    if(media.audioSend === undefined || media.audioSend === null)\n      return true // Default\n    return (media.audioSend === true)\n  }\n\n  function isAudioSendRequired(media) {\n    Janus.debug('isAudioSendRequired:', media)\n    if(!media)\n      return false // Default\n    if(media.audio === false || media.audioSend === false)\n      return false // If we're not asking to capture audio, it's not required\n    if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n      return false // Default\n    return (media.failIfNoAudio === true)\n  }\n\n  function isAudioRecvEnabled(media) {\n    Janus.debug('isAudioRecvEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.audio === false)\n      return false // Generic audio has precedence\n    if(media.audioRecv === undefined || media.audioRecv === null)\n      return true // Default\n    return (media.audioRecv === true)\n  }\n\n  function isVideoSendEnabled(media) {\n    Janus.debug('isVideoSendEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.video === false)\n      return false // Generic video has precedence\n    if(media.videoSend === undefined || media.videoSend === null)\n      return true // Default\n    return (media.videoSend === true)\n  }\n\n  function isVideoSendRequired(media) {\n    Janus.debug('isVideoSendRequired:', media)\n    if(!media)\n      return false // Default\n    if(media.video === false || media.videoSend === false)\n      return false // If we're not asking to capture video, it's not required\n    if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n      return false // Default\n    return (media.failIfNoVideo === true)\n  }\n\n  function isVideoRecvEnabled(media) {\n    Janus.debug('isVideoRecvEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.video === false)\n      return false // Generic video has precedence\n    if(media.videoRecv === undefined || media.videoRecv === null)\n      return true // Default\n    return (media.videoRecv === true)\n  }\n\n  function isScreenSendEnabled(media) {\n    Janus.debug('isScreenSendEnabled:', media)\n    if (!media)\n      return false\n    if (typeof media.video !== 'object' || typeof media.video.mandatory !== 'object')\n      return false\n    var constraints = media.video.mandatory\n    if (constraints.chromeMediaSource)\n      return constraints.chromeMediaSource === 'desktop' || constraints.chromeMediaSource === 'screen'\n    else if (constraints.mozMediaSource)\n      return constraints.mozMediaSource === 'window' || constraints.mozMediaSource === 'screen'\n    else if (constraints.mediaSource)\n      return constraints.mediaSource === 'window' || constraints.mediaSource === 'screen'\n    return false\n  }\n\n  function isDataEnabled(media) {\n    Janus.debug('isDataEnabled:', media)\n    if(Janus.webRTCAdapter.browserDetails.browser === 'edge') {\n      Janus.warn('Edge doesn\\'t support data channels yet')\n      return false\n    }\n    if(media === undefined || media === null)\n      return false // Default\n    return (media.data === true)\n  }\n\n  function isTrickleEnabled(trickle) {\n    Janus.debug('isTrickleEnabled:', trickle)\n    return (trickle === false) ? false : true\n  }\n}\n\nexport default Janus\n","import get from 'lodash/get'\nimport find from 'lodash/find'\n\nimport Janus from '@src/lib/janus'\n\nlet printerWebRTCUrl = printerId => `/ws/janus/${printerId}/`\nlet printerSharedWebRTCUrl = token => `/ws/share_token/janus/${token}/`\n\nexport default function WebRTCConnection() {\n  let self = {\n    callbacks: {},\n    initialized: false,\n    mainWebRTCConn: MainWebRTCConnection(),\n    mjpegWebRTCConn: MJpegtWebRTCConnection(),\n\n    openForShareToken(shareToken) {\n      self.connect(\n        printerSharedWebRTCUrl(shareToken),\n        shareToken\n      )\n    },\n\n    openForPrinter(printerId, authToken) {\n      self.connect(\n        printerWebRTCUrl(printerId),\n        authToken\n      )\n    },\n    connect(wsUri, token) {\n      self.initialized = true\n      self.mainWebRTCConn.connect(wsUri, token)\n      self.mjpegWebRTCConn.connect(wsUri, token)\n    },\n    stopStream() {\n      self.mainWebRTCConn.stopStream()\n      self.mjpegWebRTCConn.stopStream()\n    },\n    sendData(data) {\n      self.mainWebRTCConn.sendData(data) // Data channel in the default stream is used to pass data from client to agent\n    },\n    startStream() {\n      self.mainWebRTCConn.startStream()\n      self.mjpegWebRTCConn.startStream()\n    },\n    setCallbacks(callbacks) {\n      self.callbacks = {...self.callbacks, ...callbacks}\n      self.mainWebRTCConn.callbacks = self.callbacks\n      self.mjpegWebRTCConn.callbacks = self.callbacks\n    }\n  }\n  return self\n}\n\n\nfunction MJpegtWebRTCConnection() {\n  let self = {\n    callbacks: {},\n    streamId: undefined,\n    streaming: undefined,\n    bitrateInterval: null,\n\n    connect(wsUri, token) {\n      Janus.init({\n        debug: 'all',\n        callback: () => {\n          if (!Janus.isWebrtcSupported()) {\n            return\n          }\n          self.connectJanusWebSocket(wsUri, token)\n        }\n      })\n    },\n\n    connectJanusWebSocket(wsUri, token) {\n      const opaqueId = 'streamingtest-' + Janus.randomString(12)\n\n      var iceServers = [{urls:['stun:stun.l.google.com:19302']}]\n      if (token) {\n        var turnServer = window.location.hostname.replace('app', 'turn')\n        iceServers.push(\n          {\n            urls:'turn:' + turnServer + ':80?transport=udp',\n            credential: token,\n            username: token\n          })\n        iceServers.push(\n          {\n            urls:'turn:' + turnServer + ':80?transport=tcp',\n            credential: token,\n            username: token\n          })\n      }\n\n      var janus = new Janus({\n        server: window.location.protocol.replace('http', 'ws') + '//' + window.location.host + wsUri,\n        iceServers: iceServers,\n        ipv6: true,\n        success: () => {\n          janus.attach(\n            {\n              plugin: 'janus.plugin.streaming',\n              opaqueId: opaqueId,\n              success: function (pluginHandle) {\n                Janus.log('Plugin attached! (' + pluginHandle.getPlugin() + ', id=' + pluginHandle.getId() + ')')\n                const body = { 'request': 'info', id: 2 } // id=2 is for mjpeg stream. This stream may not exist in the agent.\n                Janus.debug('Sending message (' + JSON.stringify(body) + ')')\n                pluginHandle.send({\n                  'message': body, success: function (result) {\n                    let stream = get(result, 'info')\n                    if (stream) {\n                      self.streamId = stream.id\n                      self.streaming = pluginHandle\n                      if (get(stream, 'media[0].type') === 'data') {\n                        self.callbacks.onStreamAvailable()\n                      }\n                    } else {\n                      janus.destroy()\n                    }\n                  }\n                })\n              },\n              error: function (error) {\n                Janus.error('  -- Error attaching plugin... ', error)\n                janus.destroy()\n              },\n              onmessage: function(msg, jsep) {\n                self.onMessage(msg, jsep)\n              },\n              onremotestream: function(stream) {\n              },\n              ondataopen: function() {\n              },\n              ondata: function(rawData) {\n                if ('onMJpegData' in self.callbacks) {\n                  self.callbacks.onMJpegData(rawData)\n                }\n              },\n              oncleanup: function() {\n              }\n            })\n        },\n        error(e) {\n          Janus.error('  -- Error -- ', e)\n          janus.destroy()\n        },\n        destroyed() {\n          self.streaming = undefined\n          self.streamId = undefined\n        }\n      })\n    },\n    onMessage(msg, jsep) {\n      let self = this\n      Janus.debug(' ::: Got a message :::')\n      Janus.debug(msg)\n      let result = msg['result']\n      if (result !== null && result !== undefined) {\n        if (result['status'] !== undefined && result['status'] !== null) {\n          var status = result['status']\n          if (status === 'starting')\n            console.log('Starting')\n          else if (status === 'started')\n            console.log('Started')\n          else if (status === 'stopped') {\n            self.stopStream()\n          }\n        }\n      } else if (msg['error'] !== undefined && msg['error'] !== null) {\n        Janus.error(msg)\n        self.stopStream()\n        return\n      }\n      if (jsep !== undefined && jsep !== null) {\n        // Offer from the plugin, let's answer\n        self.streaming?.createAnswer(\n          {\n            jsep: jsep,\n            // We want recvonly audio/video and, if negotiated, datachannels\n            media: { audioSend: false, videoSend: false, data: true },\n            success: function (jsep) {\n              Janus.debug('Got SDP!')\n              Janus.debug(jsep)\n              var body = { 'request': 'start' }\n              self.streaming?.send({ 'message': body, 'jsep': jsep })\n            },\n            error: function (error) {\n              Janus.error('WebRTC error:', error)\n            }\n          })\n      }\n    },\n    channelOpen() {\n      return !(self.streamId === undefined || self.streaming === undefined)\n    },\n    startStream() {\n      if (!self.channelOpen()) {\n        return\n      }\n      const body = { 'request': 'watch', offer_video: false, id: parseInt(self.streamId) }\n      self.streaming?.send({ 'message': body })\n    },\n    stopStream() {\n      const body = { 'request': 'stop' }\n      self.streaming?.send({ 'message': body })\n      self.streaming?.hangup()\n    },\n  }\n\n  return self\n}\n\n\nfunction MainWebRTCConnection() {\n  let self = {\n    callbacks: {},\n    streamId: undefined,\n    streaming: undefined,\n    bitrateInterval: null,\n\n    connect(wsUri, token) {\n      Janus.init({\n        debug: 'all',\n        callback: () => {\n          if (!Janus.isWebrtcSupported()) {\n            return\n          }\n          self.connectJanusWebSocket(wsUri, token)\n        }\n      })\n    },\n\n    connectJanusWebSocket(wsUri, token) {\n      const opaqueId = 'streamingtest-' + Janus.randomString(12)\n\n      var iceServers = [{urls:['stun:stun.l.google.com:19302']}]\n      if (token) {\n        var turnServer = window.location.hostname.replace('app', 'turn')\n        iceServers.push(\n          {\n            urls:'turn:' + turnServer + ':80?transport=udp',\n            credential: token,\n            username: token\n          })\n        iceServers.push(\n          {\n            urls:'turn:' + turnServer + ':80?transport=tcp',\n            credential: token,\n            username: token\n          })\n      }\n\n      var janus = new Janus({\n        server: window.location.protocol.replace('http', 'ws') + '//' + window.location.host + wsUri,\n        iceServers: iceServers,\n        ipv6: true,\n        success: () => {\n          janus.attach(\n            {\n              plugin: 'janus.plugin.streaming',\n              opaqueId: opaqueId,\n              success: function (pluginHandle) {\n                // Janus.log('Plugin attached! (' + pluginHandle.getPlugin() + ', id=' + pluginHandle.getId() + ')')\n\n                // Old plugin versions use stream_id=0, which is no longer valid in Janus 1.x so plugin 2.2.x switched to stream_id=1\n                // Both ides are tried. The invalid one will return a failure and ignored.\n                [0, 1].forEach( streamIdToTest => {\n                  const body = { 'request': 'info', id: streamIdToTest }\n                  Janus.debug('Sending message (' + JSON.stringify(body) + ')')\n                  pluginHandle.send({\n                    'message': body, success: function (result) {\n                      let stream = get(result, 'info')\n                      if (stream) {\n                        self.streamId = stream.id\n                        self.streaming = pluginHandle\n\n                        const videoStreamExisting = get(stream, 'video') // Janus 0.x format\n                            || find(get(stream, 'media', []), {type: 'video'})  // Janus 1.x format\n\n                        if (videoStreamExisting) {\n                          self.callbacks.onStreamAvailable()\n                        }\n                      }\n                    }\n                  })\n                })\n              },\n              error: function (error) {\n                Janus.error('  -- Error attaching plugin... ', error)\n                janus.destroy()\n              },\n              onmessage: function(msg, jsep) {\n                self.onMessage(msg, jsep)\n              },\n              onremotestream: function(stream) {\n                Janus.debug(' ::: Got a remote stream :::')\n                Janus.debug(stream)\n                if ('onRemoteStream' in self.callbacks) {\n                  self.callbacks.onRemoteStream(stream)\n                }\n              },\n              ontrackmuted: function() {\n                if ('onTrackMuted' in self.callbacks) {\n                  self.callbacks.onTrackMuted()\n                }\n              },\n              ontrackunmuted: function() {\n                if ('onTrackUnmuted' in self.callbacks) {\n                  self.callbacks.onTrackUnmuted()\n                }\n              },\n              slowLink: function(uplink, lost) {\n                if ('onSlowLink' in self.callbacks) {\n                  self.callbacks.onSlowLink(lost)\n                }\n              },\n              ondataopen: function() {\n              },\n              ondata: function(rawData) {\n                if ('onData' in self.callbacks) {\n                  self.callbacks.onData(rawData)\n                }\n              },\n              oncleanup: function() {\n                if ('onDefaultStreamCleanup' in self.callbacks) {\n                  self.callbacks.onDefaultStreamCleanup()\n                }\n              }\n            })\n        },\n        error(e) {\n          Janus.error('  -- Error -- ', e)\n          janus.destroy()\n        },\n        destroyed() {\n          self.streaming = undefined\n          self.streamId = undefined\n          self.clearBitrateInterval()\n        }\n      })\n    },\n    onMessage(msg, jsep) {\n      let self = this\n      Janus.debug(' ::: Got a message :::')\n      Janus.debug(msg)\n      let result = msg['result']\n      if (result !== null && result !== undefined) {\n        if (result['status'] !== undefined && result['status'] !== null) {\n          var status = result['status']\n          if (status === 'starting')\n            console.log('Starting')\n          else if (status === 'started')\n            console.log('Started')\n          else if (status === 'stopped') {\n            self.stopStream()\n          }\n        }\n      } else if (msg['error'] !== undefined && msg['error'] !== null) {\n        Janus.error(msg)\n        self.stopStream()\n        return\n      }\n      if (jsep !== undefined && jsep !== null) {\n        // Offer from the plugin, let's answer\n        self.streaming?.createAnswer(\n          {\n            jsep: jsep,\n            // We want recvonly audio/video and, if negotiated, datachannels\n            media: { audioSend: false, videoSend: false, data: true },\n            success: function (jsep) {\n              Janus.debug('Got SDP!')\n              Janus.debug(jsep)\n              var body = { 'request': 'start' }\n              self.streaming?.send({ 'message': body, 'jsep': jsep })\n            },\n            error: function (error) {\n              Janus.error('WebRTC error:', error)\n            }\n          })\n      }\n    },\n    channelOpen() {\n      return !(self.streamId === undefined || self.streaming === undefined)\n    },\n    startStream() {\n      if (!self.channelOpen()) {\n        return\n      }\n      const body = { 'request': 'watch', offer_video: true, id: parseInt(self.streamId) }\n      self.streaming?.send({ 'message': body })\n\n      self.clearBitrateInterval()\n      self.bitrateInterval = setInterval(function() {\n        if (self.streaming) {\n          const bitrate = self.streaming.getBitrate()\n          if (bitrate && bitrate.value) {\n            self.callbacks.onBitrateUpdated(self.streaming.getBitrate())\n          } else {\n            self.callbacks.onBitrateUpdated({value: null})\n          }\n        } else {\n          self.callbacks.onBitrateUpdated({value: null})\n        }\n      }, 5000)\n    },\n    stopStream() {\n      self.clearBitrateInterval()\n      if (!self.channelOpen()) {\n        return\n      }\n      const body = { 'request': 'stop' }\n      self.streaming?.send({ 'message': body })\n      self.streaming?.hangup()\n    },\n\n    sendData(data) {\n      if (self.channelOpen()) {\n        self.streaming?.data({text: data, success: () => {}})\n      }\n    },\n\n    clearBitrateInterval() {\n      if (self.bitrateInterval) {\n        clearInterval(self.bitrateInterval)\n        self.bitrateInterval = null\n        self.callbacks.onBitrateUpdated({value: null})\n      }\n    }\n  }\n\n  return self\n}\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-img-top webcam_container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.slowLinkLoss > 50),expression:\"slowLinkLoss > 50\"}],ref:\"slowLinkWrapper\",staticClass:\"slow-link-wrapper\",on:{\"click\":_vm.slowLinkClicked,\"mouseenter\":function($event){_vm.fixSlowLinkTextWidth(); _vm.slowLinkShowing = true; _vm.slowLinkHiding = false;},\"mouseleave\":function($event){_vm.fixSlowLinkTextWidth(); _vm.slowLinkShowing = false; _vm.slowLinkHiding = true;}}},[_vm._m(0),_c('div',{ref:\"slowLinkText\",staticClass:\"text\",class:{\n        'show-and-hide': !_vm.slowLinkShowing && !_vm.slowLinkHiding,\n        'showing': _vm.slowLinkShowing && !_vm.slowLinkHiding,\n        'hiding': !_vm.slowLinkShowing && _vm.slowLinkHiding}},[_vm._v(\"Video frames dropped\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.trackMuted),expression:\"trackMuted\"}],staticClass:\"muted-status-wrapper\"},[_c('div',{staticClass:\"text\"},[_vm._v(\"Buffering...\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.showMutedStatusDescription($event)}}},[_vm._v(\"Why is it stuck?\")])]),(_vm.isVideoAvailable && !_vm.autoplay && (_vm.isBasicStreamingReadyToPlay || _vm.isBasicStreamingFrozen))?_c('b-button',{staticClass:\"centered-element p-0\",attrs:{\"disabled\":_vm.isBasicStreamingFrozen},on:{\"click\":_vm.onPlayBtnClicked}},[(_vm.isBasicStreamingReadyToPlay)?_c('i',{staticClass:\"fas fa-play ml-1\"}):_vm._e(),(_vm.isBasicStreamingFrozen)?_c('span',{staticClass:\"medium\"},[_vm._v(_vm._s(_vm.remainingSecondsUntilNextCycle)+\"s\")]):_vm._e()]):_vm._e(),(_vm.trackMuted || _vm.videoLoading)?_c('b-spinner',{staticClass:\"centered-element\",attrs:{\"label\":\"Buffering...\"}}):_vm._e(),(_vm.isVideoAvailable)?_c('div',[((!_vm.autoplay && _vm.isBasicStreamingInProgress) || _vm.currentBitrate)?_c('div',{staticClass:\"streaming-info overlay-info small\",class:{'clickable': _vm.isBasicStreamingInProgress},on:{\"click\":_vm.onInfoClicked}},[(_vm.isBasicStreamingInProgress)?_c('div',{staticClass:\"text-success\"},[_vm._v(_vm._s(_vm.remainingSecondsCurrentVideoCycle))]):_vm._e(),(_vm.currentBitrate)?_c('div',[_vm._v(_vm._s(_vm.currentBitrate))]):_vm._e()]):_vm._e(),(!_vm.autoplay && (_vm.isBasicStreamingReadyToPlay || _vm.isBasicStreamingFrozen))?_c('div',{staticClass:\"streaming-guide overlay-info\",on:{\"click\":_vm.onInfoClicked}},[(_vm.isBasicStreamingReadyToPlay)?_c('div',{staticClass:\"message\"},[_vm._v(\"Webcam streams up to 5 FPS for Free\")]):_vm._e(),(_vm.isBasicStreamingFrozen)?_c('div',{staticClass:\"message text-warning\"},[_vm._v(_vm._s(_vm.remainingSecondsUntilNextCycle)+\"s left in the cooldown period\")]):_vm._e(),_c('a',{staticClass:\"learn-more\",attrs:{\"href\":\"#\"}},[_vm._v(\"Learn more...\")])]):_vm._e()]):_vm._e(),_c('div',{class:_vm.webcamRotateClass},[_c('div',{staticClass:\"webcam_fixed_ratio\",class:_vm.webcamRatioClass},[_c('div',{staticClass:\"webcam_fixed_ratio_inner full\"},[(_vm.taggedSrc !== _vm.printerStockImgSrc)?_c('img',{staticClass:\"tagged-jpg\",class:{flipH: _vm.printer.settings.webcam_flipH, flipV: _vm.printer.settings.webcam_flipV},attrs:{\"src\":_vm.taggedSrc,\"alt\":_vm.printer.name + ' current image'}}):_c('svg',{staticClass:\"poster-placeholder\"},[_c('use',{attrs:{\"href\":_vm.printerStockImgSrc}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMJpeg),expression:\"showMJpeg\"}],staticClass:\"webcam_fixed_ratio_inner full\"},[_c('img',{staticClass:\"tagged-jpg\",attrs:{\"src\":_vm.mjpgSrc}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showVideo),expression:\"showVideo\"}],staticClass:\"webcam_fixed_ratio_inner ontop full\"},[_c('video',{ref:\"video\",staticClass:\"remote-video\",class:{flipH: _vm.printer.settings.webcam_flipH, flipV: _vm.printer.settings.webcam_flipV},attrs:{\"width\":\"960\",\"height\":_vm.webcamVideoHeight,\"poster\":_vm.taggedSrc !== _vm.printerStockImgSrc ? _vm.taggedSrc : '',\"autoplay\":\"\",\"muted\":\"\",\"playsinline\":\"\"},domProps:{\"muted\":true},on:{\"loadstart\":function($event){return _vm.onLoadStart()},\"canplay\":function($event){return _vm.onCanPlay()}}})])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon bg-warning\"},[_c('i',{staticClass:\"fas fa-exclamation\"})])}]\n\nexport { render, staticRenderFns }","import { isLocalStorageSupported } from '@static/js/utils'\n\nexport default function ViewingThrottle(printerId, countDownCallback) {\n  const localStorageItemId = `tsNextVideoCycle-${printerId}`\n  let self = {\n    countDownTimer: null\n  }\n\n  self.startOrResumeVideoCycle = function () {\n    if (!self.countDownTimer) {\n      self.countDownTimer = setInterval( () => self.countDown(), 1000)\n    }\n  }\n\n  self.resumeVideoCycle = function () {\n    if (remainingSeconds < 60 && !self.countDownTimer) {\n      self.countDownTimer = setInterval( () => self.countDown(), 1000)\n    }\n  }\n\n  self.countDown = function () {\n    self.updateRemainingSeconds(remainingSeconds - 1)\n\n    if (isLocalStorageSupported()) {\n      localStorage.setItem(localStorageItemId, (new Date().getTime())/1000 + remainingSeconds)\n    }\n\n    if (remainingSeconds < 0) {\n      self.updateRemainingSeconds(60)\n      clearInterval(this.countDownTimer)\n      this.countDownTimer = null\n    }\n  }\n\n  self.updateRemainingSeconds = function (newValue) {\n    remainingSeconds = newValue\n    const remainingViewableSeconds = remainingSeconds - 30\n    const remainingSecondsUntilNextCycle = remainingSeconds > 30 ? -1 : remainingSeconds\n    countDownCallback(remainingViewableSeconds, remainingSecondsUntilNextCycle)\n  }\n\n  let remainingSeconds\n  if (isLocalStorageSupported()) {\n    const tsNextVideoCycle = parseFloat(localStorage.getItem(localStorageItemId))\n    const now = (new Date().getTime())/1000\n    if (!tsNextVideoCycle || now > tsNextVideoCycle) {\n      self.updateRemainingSeconds(60)\n    } else {\n      self.updateRemainingSeconds(Math.round((tsNextVideoCycle - now)))\n    }\n  } else {\n    self.updateRemainingSeconds(60)\n  }\n\n  return self\n}","<template>\n  <div class=\"card-img-top webcam_container\">\n    <div\n      v-show=\"slowLinkLoss > 50\"\n      class=\"slow-link-wrapper\"\n      ref=\"slowLinkWrapper\"\n      @click=\"slowLinkClicked\"\n      @mouseenter=\"fixSlowLinkTextWidth(); slowLinkShowing = true; slowLinkHiding = false;\"\n      @mouseleave=\"fixSlowLinkTextWidth(); slowLinkShowing = false; slowLinkHiding = true;\"\n    >\n      <div class=\"icon bg-warning\">\n        <i class=\"fas fa-exclamation\"></i>\n      </div>\n      <div\n        ref=\"slowLinkText\"\n        class=\"text\"\n        :class=\"{\n          'show-and-hide': !slowLinkShowing && !slowLinkHiding,\n          'showing': slowLinkShowing && !slowLinkHiding,\n          'hiding': !slowLinkShowing && slowLinkHiding}\"\n      >Video frames dropped</div>\n    </div>\n    <div v-show=\"trackMuted\" class=\"muted-status-wrapper\">\n      <div class=\"text\">Buffering...</div>\n      <a href=\"#\" @click=\"showMutedStatusDescription($event)\">Why is it stuck?</a>\n    </div>\n    <b-button\n      v-if=\"isVideoAvailable && !autoplay && (isBasicStreamingReadyToPlay || isBasicStreamingFrozen)\" @click=\"onPlayBtnClicked\"\n      class=\"centered-element p-0\"\n      :disabled=\"isBasicStreamingFrozen\"\n    >\n      <i class=\"fas fa-play ml-1\" v-if=\"isBasicStreamingReadyToPlay\"></i>\n      <span class=\"medium\" v-if=\"isBasicStreamingFrozen\">{{remainingSecondsUntilNextCycle}}s</span>\n    </b-button>\n    <b-spinner v-if=\"trackMuted || videoLoading\" class=\"centered-element\" label=\"Buffering...\"></b-spinner>\n\n    <div v-if=\"isVideoAvailable\">\n      <!-- show countdown and bitrate while streaming -->\n      <div\n        v-if=\"(!autoplay && isBasicStreamingInProgress) || currentBitrate\"\n        class=\"streaming-info overlay-info small\"\n        :class=\"{'clickable': isBasicStreamingInProgress}\"\n        @click=\"onInfoClicked\"\n      >\n        <div v-if=\"isBasicStreamingInProgress\" class=\"text-success\">{{remainingSecondsCurrentVideoCycle}}</div>\n        <div v-if=\"currentBitrate\">{{currentBitrate}}</div>\n      </div>\n      <!-- show full-width info message -->\n      <div\n        v-if=\"!autoplay && (isBasicStreamingReadyToPlay || isBasicStreamingFrozen)\"\n        class=\"streaming-guide overlay-info\"\n        @click=\"onInfoClicked\"\n      >\n        <div class=\"message\" v-if=\"isBasicStreamingReadyToPlay\">Webcam streams up to 5 FPS for Free</div>\n        <div class=\"message text-warning\" v-if=\"isBasicStreamingFrozen\">{{remainingSecondsUntilNextCycle}}s left in the cooldown period</div>\n        <a href=\"#\" class=\"learn-more\">Learn more...</a>\n      </div>\n    </div>\n\n    <div :class=\"webcamRotateClass\">\n      <div class=\"webcam_fixed_ratio\" :class=\"webcamRatioClass\">\n        <div class=\"webcam_fixed_ratio_inner full\" >\n          <img\n            v-if=\"taggedSrc !== printerStockImgSrc\"\n            class=\"tagged-jpg\"\n            :class=\"{flipH: printer.settings.webcam_flipH, flipV: printer.settings.webcam_flipV}\"\n            :src=\"taggedSrc\"\n            :alt=\"printer.name + ' current image'\"\n          />\n          <svg v-else class=\"poster-placeholder\">\n            <use :href=\"printerStockImgSrc\" />\n          </svg>\n        </div>\n        <div v-show=\"showMJpeg\" class=\"webcam_fixed_ratio_inner full\" >\n          <img class=\"tagged-jpg\" :src=\"mjpgSrc\" />\n        </div>\n        <div v-show=\"showVideo\" class=\"webcam_fixed_ratio_inner ontop full\">\n          <video\n            ref=\"video\"\n            class=\"remote-video\"\n            :class=\"{flipH: printer.settings.webcam_flipH, flipV: printer.settings.webcam_flipV}\"\n            width=960\n            :height=\"webcamVideoHeight\"\n            :poster=\"taggedSrc !== printerStockImgSrc ? taggedSrc : ''\"\n            autoplay muted playsinline\n            @loadstart=\"onLoadStart()\"\n            @canplay=\"onCanPlay()\"\n          ></video>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport get from 'lodash/get'\nimport ifvisible from 'ifvisible'\n\nimport Janus from '@src/lib/janus'\nimport {toArrayBuffer} from '@src/lib/utils'\nimport ViewingThrottle from '@src/lib/viewing_throttle'\n\nfunction MJpegStreamDecoder(onFrame) {\n\n  const self = {\n    onFrame,\n    contentLength: NaN,\n    imageBuffer: '',\n    bytesRead: 0,\n    originalJpgLength: 0,\n  }\n\n  self.onMJpegChunk = function (maybeBin) {\n    toArrayBuffer(maybeBin, (arrayBuffer) => {\n      const value = (new TextDecoder(\"utf-8\")).decode(new Uint8Array(arrayBuffer))\n      if (self.contentLength) {\n          self.imageBuffer += value;\n          self.bytesRead += value.length;\n\n          if (self.bytesRead >= self.contentLength) {\n              const jpg = self.imageBuffer;\n              const jpgLength = self.originalJpgLength;\n              self.contentLength = NaN;\n              self.imageBuffer = '';\n              self.bytesRead = 0;\n              self.originalJpgLength = 0;\n              self.onFrame(jpg, jpgLength);\n          }\n      } else {\n        if ( value.slice(0, 2) == '\\r\\n' && value.slice(value.length-2) == '\\r\\n' ) {\n        // if (isEqual(value.slice(0, 2), crlf) && isEqual(value.slice(value.byteLength-2), crlf) ) {\n        // const lengthHeaders = (new TextDecoder(\"utf-8\")).decode( value.slice(2, value.byteLength - 2) ).split(':');\n          const lengthHeaders = value.slice(2, value.length - 2).split(':');\n          self.contentLength = parseInt(lengthHeaders[0]);\n          self.originalJpgLength = parseInt(lengthHeaders[1]);\n        }\n      }\n    })\n  }\n\n  return self\n}\n\nexport default {\n  name: 'StreamingBox',\n  created() {\n\n    this.mjpegStreamDecoder = new MJpegStreamDecoder((jpg, l) => {\n      this.mjpgSrc = 'data:image/jpg;base64, ' + jpg\n      this.onCanPlay()\n      })\n\n    if (this.webrtc) {\n      this.webrtc.setCallbacks({\n        onStreamAvailable: this.onStreamAvailable,\n        onRemoteStream: this.onWebRTCRemoteStream,\n        onDefaultStreamCleanup: () => this.isVideoVisible = false,\n        onSlowLink: this.onSlowLink,\n        onTrackMuted: () => this.trackMuted = true,\n        onTrackUnmuted: () => this.trackMuted = false,\n        onBitrateUpdated: (bitrate) => this.currentBitrate = bitrate.value,\n        onMJpegData: this.mjpegStreamDecoder.onMJpegChunk,\n      })\n\n      if (!this.autoplay) {\n        this.videoLimit = ViewingThrottle(this.printer.id, this.countDownCallback)\n      }\n\n      ifvisible.on('blur', () => {\n        if (this.webrtc) {\n          this.webrtc.stopStream()\n        }\n      })\n\n      ifvisible.on('focus', () => {\n        if (this.webrtc && this.autoplay) {\n          this.webrtc.startStream()\n        }\n      })\n    }\n  },\n\n  props: {\n    printer: {\n      type: Object,\n      required: true\n    },\n    webrtc: {\n      type: Object,\n      required: false,\n    },\n    autoplay: {\n      type: Boolean,\n      required: true,\n    }\n  },\n\n  data() {\n    return {\n      stickyStreamingSrc: null,\n      isVideoAvailable: false,\n      isVideoVisible: false,\n      remainingSecondsCurrentVideoCycle: 30,\n      remainingSecondsUntilNextCycle: -1,\n      currentBitrate: null,\n      slowLinkLoss: 0,\n      slowLinkShowing: false, // show on mousenter\n      slowLinkHiding: false, // hide on moseleave\n      trackMuted: false,\n      videoLoading: false,\n      printerStockImgSrc: '#svg-3d-printer',\n      mjpgSrc: null,\n    }\n  },\n\n  computed: {\n    taggedImgAvailable() {\n      return this.taggedSrc !== this.printerStockImgSrc\n    },\n    showVideo() {\n      return this.isVideoVisible && this.stickyStreamingSrc !== 'IMAGE'\n    },\n    showMJpeg() {\n      return this.mjpgSrc && this.stickyStreamingSrc !== 'IMAGE'\n    },\n    webcamRotateClass() {\n      switch (this.printer.settings.webcam_rotate90) {\n      case true:\n        return 'webcam_rotated'\n      case false:\n        return 'webcam_unrotated'\n      default:\n        return 'webcam_unrotated'\n      }\n    },\n    webcamRatioClass() {\n      switch (this.printer.settings.ratio169) {\n      case true:\n        return 'ratio169'\n      case false:\n        return 'ratio43'\n      default:\n        return 'ratio43'\n      }\n    },\n    webcamVideoHeight() {\n      switch (this.printer.settings.ratio169) {\n      case true:\n        return 540\n      case false:\n        return 720\n      default:\n        return 720\n      }\n    },\n    taggedSrc() {\n      return get(this.printer, 'pic.img_url', this.printerStockImgSrc)\n    },\n\n    // streaming timeline\n    isBasicStreamingInProgress() {\n      return this.remainingSecondsCurrentVideoCycle > 0 && this.remainingSecondsCurrentVideoCycle < 30\n    },\n    isBasicStreamingReadyToPlay() {\n      return !this.isVideoVisible && !this.trackMuted && !this.videoLoading && (this.remainingSecondsCurrentVideoCycle == 30 || this.remainingSecondsUntilNextCycle == 0)\n    },\n    isBasicStreamingFrozen() {\n      return this.remainingSecondsUntilNextCycle > 0 && !this.isVideoVisible\n    },\n  },\n\n  methods: {\n    onCanPlay() {\n      this.videoLoading = false\n      if (!this.autoplay) {\n        this.videoLimit.startOrResumeVideoCycle()\n      }\n\n    },\n    onLoadStart() {\n      this.videoLoading = true\n    },\n    onStreamAvailable() {\n      if (this.autoplay) {\n        this.webrtc.startStream()\n      } else {\n        if (!this.printer.basicStreamingInWebrtc()) {\n          return\n        }\n        if ((!this.autoplay && this.isBasicStreamingInProgress)) {\n          this.webrtc.startStream()\n        }\n        this.videoLimit.resumeVideoCycle()\n      }\n      this.isVideoAvailable = true\n    },\n    onWebRTCRemoteStream(stream) {\n      Janus.attachMediaStream(this.$refs.video, stream)\n\n      const videoTracks = stream.getVideoTracks()\n      if (videoTracks === null || videoTracks === undefined || videoTracks.length === 0) {\n        // No remote video\n        this.isVideoVisible = false\n      } else {\n        this.isVideoVisible = true\n      }\n    },\n\n    /** Free user streaming **/\n\n    countDownCallback(remainingSecondsCurrentVideoCycle, remainingSecondsUntilNextCycle) {\n      if (this.remainingSecondsCurrentVideoCycle > 0 && remainingSecondsCurrentVideoCycle <= 0) {\n        this.webrtc.stopStream()\n      }\n      this.remainingSecondsCurrentVideoCycle = remainingSecondsCurrentVideoCycle\n      this.remainingSecondsUntilNextCycle = remainingSecondsUntilNextCycle\n    },\n\n    onInfoClicked() {\n      if (this.autoplay) {\n        return\n      }\n\n      this.$swal.Prompt.fire({\n        title: 'Upgrade for Better Streaming',\n        html: `\n          <p>Because you are now on the <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro/?source=basic_streaming\">Obico Cloud Free plan</a>:</p>\n          <ul>\n            <li>Streaming is limited to 5 FPS (frames per second).</li>\n            <li>After 30 seconds of streaming there is a 30-second cooldown before you can resume streaming.</li>\n          </ul>\n          <p>Support the Obico project by <a href=\"https://app.obico.io/ent_pub/pricing/?source=basic_streaming\">upgrading to the Pro plan for little more than 1 Starbucks a month.</a></p> The Pro plan offers many perks, including the <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/webcam-streaming-for-human-eyes/?source=basic_streaming\">Premium Streaming</a>:</p>\n          <ul>\n            <li>Smooth 25 FPS.</li>\n            <li>Unlimited streaming with no cooldowns.</li>\n          </ul>\n\n        `,\n        showCloseButton: true,\n      })\n    },\n\n    /** End of free user streaming **/\n\n    /** Video warning handling */\n\n    onPlayBtnClicked() {\n      this.webrtc.startStream()\n    },\n\n    fixSlowLinkTextWidth() {\n      const width = window.getComputedStyle(this.$refs.slowLinkText).width\n      this.$refs.slowLinkText.style.width = width\n    },\n\n    onSlowLink(loss) {\n      this.slowLinkLoss += loss\n    },\n\n    slowLinkClicked() {\n      this.slowLinkShowing = false\n      this.slowLinkHiding = false\n      this.slowLinkLoss = 0\n\n      this.$swal.Prompt.fire({\n        title: 'Video frames dropped',\n        html: `\n          <p>The video frames are getting dropped because there is a bandwidth bottleneck along the route it they take to travel from your Raspberry Pi to your computer. The bottleneck can be anywhere but in most cases <Text bold>it's either your computer's internet connection, or your Raspberry Pi's</Text>.</p>\n          <p>Make sure your computer is connected to the same network as your Pi. If you still see this warning, you need to trouble-shoot your computer's Wi-Fi connection, probably by moving closer to the Wi-Fi router.</p>\n          <p>If the webcam stream is smooth when your computer is on the same Wi-Fi network as your Pi, the bottleneck is likely with the upload speed of your internet connection. You need to run a speed test to make sure you have high-enough upload speed, as well as <b>low latency (ping)</b>.</p>\n          <p>Check out <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/webcam-feed-is-laggy/\">the step-by-step trouble-shooting guide.</a></p>\n        `,\n        showCloseButton: true,\n      })\n    },\n\n    showMutedStatusDescription(event) {\n      event.preventDefault()\n\n      this.$swal.Prompt.fire({\n        title: 'Webcam stream buffering',\n        html: `\n          <p>When you see the messaging about webcam stream is \"buffering\" occasionally, you can just reload the page. If this message repeatedly appears, it may indicate one of the problems:</p>\n          <p class=\"lead\">1. A constricted video stream on <strong>your Raspberry Pi. The most common reasons are:</p>\n          <ul>\n            <li>Camera resolution is set too high.</li>\n            <li>Camera framerate is set too high.</li>\n            <li>The upload speed of your Raspberry Pi is too low.</li>\n          </ul>\n          <p class=\"lead\">2. The internet connection of your computer or phone is not fast enough.</p>\n          <p class=\"lead\">3. Your webcam is not properly connected to your Raspberry Pi.</p>\n          <br>\n          <p>Check <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/webcam-feed-is-laggy\">this step-by-step troubleshooting guide</a>.</p>\n        `,\n        showCloseButton: true,\n      })\n    }\n    /** End of video warning handling */\n\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.centered-element\n  position: absolute\n  width: 3rem\n  height: 3rem\n  top: calc(50% - 1.5rem)\n  left: calc(50% - 1.5rem)\n  z-index: 99\n\n.overlay-info\n  position: absolute\n  right: 0\n  top: 0\n  z-index: 99\n  background-color: rgb(0 0 0 / .5)\n  padding: 4px 8px\n\n.streaming-info\n  text-align: right\n  &.clickable\n    cursor: pointer\n\n.streaming-guide\n  left: 0\n  display: flex\n  justify-content: space-between\n  cursor: pointer\n\n  @media (max-width: 576px)\n    font-size: .8rem\n\n  &:hover .learn-more\n    color: var(--color-primary-hover)\n\n.slow-link-wrapper\n  $height: 24px\n  position: absolute\n  height: $height\n  z-index: 10\n  background-color: rgb(0 0 0 / .2)\n  border-radius: $height\n  top: 10px\n  left: 10px\n  padding-left: $height\n  line-height: $height\n  font-size: 14px\n  width: auto\n\n  &:hover\n    cursor: pointer\n\n  .text\n    width: 0\n    height: $height\n    overflow: hidden\n    text-align: center\n    opacity: 0\n\n    &.show-and-hide\n      animation-name: showAndHideText\n      animation-duration: 3s\n\n    &.showing\n      animation-name: showText\n      animation-duration: .4s\n      animation-fill-mode: forwards\n\n    &.hiding\n      animation-name: hideText\n      animation-duration: .4s\n      animation-fill-mode: forwards\n\n    $widthFull: 160px\n    $paddingRightFull: 10px\n\n    @keyframes showText\n      from\n        opacity: 0\n      99%\n        width: $widthFull\n        padding-right: $paddingRightFull\n        opacity: 0\n      to\n        width: $widthFull\n        padding-right: $paddingRightFull\n        opacity: 1\n\n    @keyframes hideText\n      from\n        opacity: 1\n      1%\n        opacity: 0\n      to\n        width: 0\n        padding-right: 0\n        opacity: 0\n\n    @keyframes showAndHideText\n      0%\n        width: 0\n        opacity: 0\n      19%\n        width: $widthFull\n        padding-right: $paddingRightFull\n        opacity: 0\n      20%\n        opacity: 1\n      80%\n        opacity: 1\n        width: $widthFull\n        padding-right: $paddingRightFull\n      81%\n        opacity: 0\n      100%\n        width: 0\n        padding-right: 0\n        opacity: 0\n\n  .icon\n    width: 20px\n    height: 20px\n    border-radius: 10px\n    position: absolute\n    top: 2px\n    left: 2px\n    font-size: 12px\n    line-height: 20px\n    text-align: center\n    color: var(--color-on-warning)\n\n.muted-status-wrapper\n  position: absolute\n  width: 100%\n  z-index: 10\n  bottom: 0\n  left: 0\n  background-color: var(--color-overlay)\n  text-align: center\n  padding: 10px 0\n\n.poster-placeholder\n  $size: 150px\n  color: rgb(255 255 255 / .2)\n  width: $size\n  height: $size\n  position: absolute\n  left: calc(50% - #{$size / 2})\n  top: calc(50% - #{$size / 2})\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamingBox.vue?vue&type=template&id=52691049&scoped=true&\"\nimport script from \"./StreamingBox.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamingBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamingBox.vue?vue&type=style&index=0&id=52691049&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52691049\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.valid && !_vm.printing)?_c('span',[_vm._v(\"-\")]):_vm._e(),(!_vm.valid && _vm.printing)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\",\"label\":\"Calculating...\"}}):_vm._e(),(_vm.valid && _vm.showHours)?_c('span',[_vm._v(\" \"+_vm._s(_vm.hours)),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"h\")])]):_vm._e(),(_vm.valid && _vm.showMinutes)?_c('span',[_vm._v(\" \"+_vm._s(_vm.minutes)),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"m\")])]):_vm._e(),(_vm.valid && _vm.showSeconds)?_c('span',[_vm._v(\" \"+_vm._s(_vm.seconds)),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"s\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <span\n      v-if=\"!valid && !printing\"\n      >-</span>\n    <b-spinner v-if=\"!valid && printing\" small type=\"grow\" label=\"Calculating...\"></b-spinner>\n    <span\n      v-if=\"valid && showHours\"\n    >&nbsp;{{ hours }}<span class=\"text-subscript text-muted\">h</span></span>\n    <span\n      v-if=\"valid && showMinutes\"\n    >&nbsp;{{ minutes }}<span class=\"text-subscript text-muted\">m</span></span>\n    <span\n      v-if=\"valid && showSeconds\"\n    >&nbsp;{{ seconds }}<span class=\"text-subscript text-muted\">s</span></span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DurationBlock',\n  props: {\n    valid: {\n      type: Boolean,\n      required: true\n    },\n    printing: {\n      type: Boolean,\n      required: true\n    },\n    hours: {\n      type: Number,\n      default() {return 0}\n    },\n    showHours: {\n      type: Boolean,\n      default() {return false}\n    },\n    minutes: {\n      type: Number,\n      default() {return 0}\n    },\n    showMinutes: {\n      type: Boolean,\n      default() {return false}\n    },\n    seconds: {\n      type: Number,\n      default() {return 0}\n    },\n    showSeconds: {\n      type: Boolean,\n      default() {return false}\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DurationBlock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DurationBlock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DurationBlock.vue?vue&type=template&id=651fa81d&\"\nimport script from \"./DurationBlock.vue?vue&type=script&lang=js&\"\nexport * from \"./DurationBlock.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.printer.isOffline() && _vm.printer.hasError())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 bg-danger text-center\"},[_c('div',{staticClass:\"lead\"},[_vm._v(_vm._s(_vm.printer.agentDisplayName())+\" Error\")]),_c('div',[_vm._v(_vm._s(_vm.printer.status.state.error))])])]):_vm._e(),(_vm.printer.inUserInteractionRequired())?_c('div',{staticClass:\"row my-2\"},[_vm._m(0)]):_vm._e(),(_vm.printer.inTransientState())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 text-center my-3\"},[_c('b-spinner',{attrs:{\"label\":\"Processing...\"}}),_c('div',[_vm._v(_vm._s(_vm.printer.status.state.text)+\" ...\")])],1)]):_c('div',{staticClass:\"row my-2\"},[(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && _vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[(!_vm.printer.isPaused())?_c('button',{staticClass:\"btn btn-block mt-2 btn-outline-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onPauseToggled($event)}}},[_c('i',{staticClass:\"fas fa-pause\"}),_vm._v(\" Pause \")]):_c('button',{staticClass:\"btn btn-block mt-2 btn-outline-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onPauseToggled($event)}}},[_c('i',{staticClass:\"fas fa-play\"}),_vm._v(\" Resume \")])]):_vm._e(),(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && _vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-block mt-2 mb-2\",attrs:{\"id\":\"print-cancel\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('PrinterActionCancelClicked', $event)}}},[_c('i',{staticClass:\"fas fa-stop\"}),_vm._v(\" Cancel \")])]):_vm._e(),(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && !_vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-outline-primary btn-block mt-2\",attrs:{\"id\":\"start-print\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('PrinterActionStartClicked', $event)}}},[_c('i',{staticClass:\"fas fa-star\"}),_vm._v(\" Start Printing \")])]):_vm._e(),(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && !_vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-outline-secondary btn-block mt-2 mb-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('PrinterActionControlClicked', $event)}}},[_c('i',{staticClass:\"fas fa-arrows-alt\"}),_vm._v(\" Control \")])]):_vm._e()]),(!_vm.printer.isOffline() && _vm.printer.isDisconnected())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 text-center py-2 text-warning\"},[_c('div',[_vm._v(\"Printer not connected at the serial port.\")]),(!_vm.printer.isAgentMoonraker())?_c('button',{staticClass:\"btn btn-outline-primary btn-block mt-2\",attrs:{\"id\":\"connect-printer\",\"type\":\"button\",\"disabled\":_vm.connecting},on:{\"click\":this.onConnectClicked}},[(_vm.connecting)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_c('i',{staticClass:\"fab fa-usb\"}),_vm._v(\" \"+_vm._s(_vm.connecting ? 'Contacting OctoPrint' : 'Connect')+\" \")],1):_vm._e()])]):_vm._e(),(_vm.printer.isOffline())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 text-center py-3 text-warning\"},[_c('div',[_vm._v(\" Obico for \"+_vm._s(_vm.printer.isAgentMoonraker() ? 'Klipper' : 'OctoPrint')+\" is Offline. \"),_vm._m(1)])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 bg-warning text-center\"},[_c('div',[_vm._v(\"Filament change or user interaction required\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\"}},[_vm._v(\"Why? \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <div class=\"row my-2\" v-if=\"!printer.isOffline() && printer.hasError()\">\n    <div class=\"col-12 bg-danger text-center\">\n      <div class=\"lead\">{{ printer.agentDisplayName() }} Error</div><div>{{ printer.status.state.error }}</div>\n    </div>\n  </div>\n  <div class=\"row my-2\" v-if=\"printer.inUserInteractionRequired()\">\n    <div class=\"col-12 bg-warning text-center\">\n      <div>Filament change or user interaction required</div>\n    </div>\n  </div>\n  <div class=\"row my-2\" v-if=\"printer.inTransientState()\">\n    <div class=\"col-12 text-center my-3\">\n      <b-spinner label=\"Processing...\"></b-spinner>\n      <div>{{ printer.status.state.text }} ...</div>\n    </div>\n  </div>\n  <div class=\"row my-2\" v-else>\n    <div\n      v-if=\"!printer.isOffline() && !printer.isDisconnected() && printer.isActive()\"\n      class=\"col-sm-6\"\n    >\n      <button\n        v-if=\"!printer.isPaused()\"\n        type=\"button\"\n        class=\"btn btn-block mt-2 btn-outline-warning\"\n        @click=\"onPauseToggled($event)\"\n      >\n        <i class=\"fas fa-pause\"></i>&nbsp;Pause\n      </button>\n      <button\n        v-else\n        type=\"button\"\n        class=\"btn btn-block mt-2 btn-outline-success\"\n        @click=\"onPauseToggled($event)\"\n      >\n        <i class=\"fas fa-play\"></i>&nbsp;Resume\n      </button>\n    </div>\n\n    <div\n      v-if=\"!printer.isOffline() && !printer.isDisconnected() && printer.isActive()\"\n      class=\"col-sm-6\"\n    >\n      <button\n        id=\"print-cancel\"\n        type=\"button\"\n        class=\"btn btn-outline-danger btn-block mt-2 mb-2\"\n        @click=\"$emit('PrinterActionCancelClicked', $event)\"\n      >\n        <i class=\"fas fa-stop\"></i>&nbsp;Cancel\n      </button>\n    </div>\n\n\n    <div\n      v-if=\"!printer.isOffline() && !printer.isDisconnected() && !printer.isActive()\"\n      class=\"col-sm-6\"\n    >\n      <button\n        id=\"start-print\"\n        type=\"button\"\n        class=\"btn btn-outline-primary btn-block mt-2\"\n        @click=\"$emit('PrinterActionStartClicked', $event)\"\n      >\n        <i class=\"fas fa-star\"></i>&nbsp;&nbsp;Start Printing\n      </button>\n    </div>\n\n    <div\n      v-if=\"!printer.isOffline() && !printer.isDisconnected() && !printer.isActive()\"\n      class=\"col-sm-6\"\n    >\n      <button\n        type=\"button\"\n        class=\"btn btn-outline-secondary btn-block mt-2 mb-2\"\n        @click=\"$emit('PrinterActionControlClicked', $event)\"\n      >\n        <i class=\"fas fa-arrows-alt\"></i>&nbsp;&nbsp;Control\n      </button>\n    </div>\n  </div>\n  <div class=\"row my-2\" v-if=\"!printer.isOffline() && printer.isDisconnected()\">\n    <div\n      class=\"col-12 text-center py-2 text-warning\"\n    >\n      <div>Printer not connected at the serial port.</div>\n      <button\n        v-if=\"!printer.isAgentMoonraker()\"\n        id=\"connect-printer\"\n        type=\"button\"\n        class=\"btn btn-outline-primary btn-block mt-2\"\n        :disabled=\"connecting\"\n        @click=\"this.onConnectClicked\"\n      >\n        <b-spinner v-if=\"connecting\" small></b-spinner>\n        <i v-else class=\"fab fa-usb\"></i>\n        &nbsp;&nbsp;{{ connecting ? 'Contacting OctoPrint' : 'Connect' }}\n      </button>\n    </div>\n  </div>\n  <div class=\"row my-2\" v-if=\"printer.isOffline()\">\n    <div\n      class=\"col-12 text-center py-3 text-warning\"\n    >\n      <div>\n        Obico for {{ printer.isAgentMoonraker() ? 'Klipper' : 'OctoPrint' }} is Offline.\n        <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\">Why? <small><i class=\"fas fa-external-link-alt\"></i></small></a>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\n\nexport default {\n  name: 'PrinterActions',\n  props: {\n    printer: {},\n  },\n  data() {\n    return {\n      connectBtnClicked: false,\n    }\n  },\n  computed: {\n    connecting() {\n      return this.connectBtnClicked && this.printer.isDisconnected()\n    },\n  },\n  methods: {\n    onPauseToggled(ev) {\n      if (this.printer.isPaused()) {\n        this.$emit('PrinterActionResumeClicked', ev)\n      } else {\n        this.$emit('PrinterActionPauseClicked', ev)\n      }\n    },\n    onConnectClicked(ev) {\n      this.$emit('PrinterActionConnectClicked', ev)\n      this.connectBtnClicked = true\n      setTimeout( () => {this.connectBtnClicked = false}, 10*1000)\n\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterActions.vue?vue&type=template&id=4d74ab6d&\"\nimport script from \"./PrinterActions.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-2\"},[_vm._m(0),_vm._l((_vm.temperatures),function(item,key){return _c('div',{key:key,staticClass:\"row\"},[_c('div',{staticClass:\"col-2 numbers\"},[_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(_vm._s(_vm.temperatureDisplayName(key)))])]),_c('div',{staticClass:\"col-5 numbers\"},[_vm._v(\" \"+_vm._s(parseFloat(item.actual).toFixed(1))),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"C\")])]),(_vm.isEditable(item))?_c('div',{staticClass:\"col-5 numbers\",on:{\"click\":function($event){return _vm.onEditClicked(key, item)}}},[_vm._v(_vm._s(Math.round(item.target))),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"C\")]),(_vm.editable)?_c('span',[_vm._v(\" \"),_c('i',{staticClass:\"fas fa-pencil-alt\",staticStyle:{\"font-size\":\"0.6em\"}})]):_vm._e()]):_c('div',{staticClass:\"col-5 numbers\"},[_vm._v(\"-\")])])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row text-muted\"},[_c('div',{staticClass:\"col-2\"},[_c('i',{staticClass:\"fas fa-thermometer-half fa-lg\"})]),_c('small',{staticClass:\"col-5\"},[_vm._v(\" Actual \")]),_c('small',{staticClass:\"col-5\"},[_vm._v(\" Target \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"py-2\">\n      <div class=\"row text-muted\">\n        <div class=\"col-2\">\n          <i class=\"fas fa-thermometer-half fa-lg\"></i>\n        </div>\n        <small class=\"col-5\">\n            Actual\n        </small>\n        <small class=\"col-5\">\n            Target\n        </small>\n      </div>\n    <div\n      v-for=\"(item, key) in temperatures\"\n      :key=\"key\"\n      class=\"row\"\n    >\n      <div class=\"col-2 numbers\">\n        <span class=\"text-subscript text-muted\">{{temperatureDisplayName(key)}}</span>\n      </div>\n      <div class=\"col-5 numbers\">\n        {{parseFloat(item.actual).toFixed(1)}}<span class=\"text-subscript text-muted\">C</span>\n      </div>\n      <div\n        v-if=\"isEditable(item)\"\n        class=\"col-5 numbers\"\n        @click=\"onEditClicked(key, item)\"\n      >{{Math.round(item.target)}}<span class=\"text-subscript text-muted\">C</span>\n        <span\n          v-if=\"editable\"\n        >&nbsp;<i class=\"fas fa-pencil-alt\" style=\"font-size: 0.6em;\"></i></span>\n      </div>\n      <div\n        v-else\n        class=\"col-5 numbers\"\n      >-</div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport {temperatureDisplayName} from '@src/lib/utils'\n\nexport default {\n  name: 'StatusTemp',\n  props: {\n    temperatures: {\n      type: Object,\n      required: true\n    },\n    editable: {\n      type: Boolean,\n      required: true\n    }\n  },\n  methods: {\n    onEditClicked(key, item) {\n      if (this.editable) {\n        this.$emit('TempEditClicked', key, item)\n      }\n    },\n    isEditable(temperature) {\n      // \"target === null\" means it's only a sensor, not a heater.\n      return temperature.target !== null\n    },\n    temperatureDisplayName: temperatureDisplayName,\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusTemp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusTemp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatusTemp.vue?vue&type=template&id=7d627309&\"\nimport script from \"./StatusTemp.vue?vue&type=script&lang=js&\"\nexport * from \"./StatusTemp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"control-panel\"},[_c('search-input',{staticClass:\"search-input\",model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_vm._m(0)],1),_c('br'),(_vm.gcodeFiles.length)?_c('div',_vm._l((_vm.visibleGcodeFiles),function(gcf){return _c('div',{key:gcf.id,staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"mb-2\"},[_c('strong',{staticClass:\"gcode-filenam\"},[_vm._v(\" \"+_vm._s(gcf.filename)+\" \")])]),_c('div',{staticClass:\"info-and-actions\"},[_c('small',{staticClass:\"gcode-info\"},[_c('div',{staticClass:\"pr-3\"},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Size: \")]),_vm._v(\" \"+_vm._s(gcf.filesize))]),_c('div',[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Uploaded: \")]),_vm._v(\" \"+_vm._s(gcf.created_at.fromNow()))])]),_c('button',{staticClass:\"send-print btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.isSending},on:{\"click\":function($event){return _vm.onSendPrintClicked(gcf.id)}}},[(_vm.isSending)?_c('b-spinner',{attrs:{\"small\":\"\",\"label\":\"Loading...\"}}):_vm._e(),_vm._v(\"Print \")],1)])])])}),0):_c('div',[_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"btn btn-outline-primary\",attrs:{\"role\":\"button\",\"href\":\"/g_code_files/\",\"title\":\"Upload more G-Code\"}},[_c('i',{staticClass:\"fas fa-upload fa-lg mx-2\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"text-center font-weight-bold my-3\"},[_vm._v(\"No G-Codes yet. You can upload them \"),_c('a',{attrs:{\"href\":\"/g_code_files/\"}},[_vm._v(\"here\")]),_vm._v(\".\")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-wrapper\"},[_vm._m(0),_c('input',{staticClass:\"dark\",attrs:{\"type\":\"text\",\"placeholder\":\"Search\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-icon\"},[_c('i',{staticClass:\"fas fa-search\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-wrapper\">\n    <div class=\"search-icon\">\n      <i class=\"fas fa-search\"></i>\n    </div>\n    <input\n      type=\"text\"\n      class=\"dark\"\n      placeholder=\"Search\"\n      :value=\"value\"\n      @input=\"$emit('input', $event.target.value)\"\n    >\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SearchInput',\n\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.search-wrapper\n  position: relative\n\n  .search-icon\n    height: 100%\n    display: flex\n    flex-direction: column\n    justify-content: center\n    position: absolute\n    top: 0\n    left: .5em\n    opacity: .8\n\n  input\n    padding: .2em .5em .2em 2em\n    width: 100%\n    height: 100%\n    font-size: 16px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchInput.vue?vue&type=template&id=755d6efe&scoped=true&\"\nimport script from \"./SearchInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchInput.vue?vue&type=style&index=0&id=755d6efe&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"755d6efe\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"control-panel\">\n      <search-input v-model=\"searchText\" class=\"search-input\"></search-input>\n      <a role=\"button\" class=\"btn btn-outline-primary\" href=\"/g_code_files/\" title=\"Upload more G-Code\">\n        <i class=\"fas fa-upload fa-lg mx-2\"></i>\n      </a>\n    </div>\n    <br>\n    <div v-if=\"gcodeFiles.length\">\n      <div\n        v-for=\"gcf in visibleGcodeFiles\"\n        :key=\"gcf.id\"\n        class=\"card\"\n      >\n        <div class=\"card-body\">\n          <div class=\"mb-2\">\n            <strong class=\"gcode-filenam\">\n            {{ gcf.filename }}\n            </strong>\n          </div>\n          <div class=\"info-and-actions\">\n            <small class=\"gcode-info\">\n              <div class=\"pr-3\"><span class=\"text-muted\">Size: </span> {{ gcf.filesize }}</div>\n              <div><span class=\"text-muted\">Uploaded: </span> {{ gcf.created_at.fromNow() }}</div>\n            </small>\n            <button\n              type=\"button\"\n              class=\"send-print btn btn-primary\"\n              @click=\"onSendPrintClicked(gcf.id)\"\n              :disabled=\"isSending\"\n            ><b-spinner small v-if=\"isSending\" label=\"Loading...\"></b-spinner>Print\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <p class=\"text-center font-weight-bold my-3\">No G-Codes yet. You can upload them <a href=\"/g_code_files/\">here</a>.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SearchInput from '@src/components/SearchInput.vue'\n\nexport default {\n  name: 'StartPrint',\n  components: {\n    SearchInput,\n  },\n  props: {\n    gcodeFiles: {\n      type: Array,\n      required: true\n    },\n    onGcodeFileSelected: {\n      type: Function,\n      required: true\n    },\n  },\n  data() {\n    return {\n      searchText: '',\n      isSending: false,\n    }\n  },\n  computed: {\n    visibleGcodeFiles() {\n      let q = this.searchText.toLowerCase()\n      return this.gcodeFiles.filter(\n        (gcf) => gcf.filename.toLowerCase().indexOf(q) > -1)\n    },\n  },\n  methods: {\n    onSendPrintClicked(gcodeFileId) {\n      this.isSending = true\n      this.onGcodeFileSelected(this.gcodeFiles, gcodeFileId)\n    },\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.control-panel\n  margin-top: 1rem\n  display: flex\n\n  .search-input\n    flex: 1\n\n  .btn\n    margin-left: 10px\n    flex: 0 0 auto\n\n.info-and-actions\n  display: flex\n  justify-content: space-between\n\n  .gcode-info\n    flex: 1\n    display: flex\n    flex-direction: column\n\n  .send-print\n    flex: 0 0 auto\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartPrint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartPrint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StartPrint.vue?vue&type=template&id=165c928e&scoped=true&\"\nimport script from \"./StartPrint.vue?vue&type=script&lang=js&\"\nexport * from \"./StartPrint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StartPrint.vue?vue&type=style&index=0&id=165c928e&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"165c928e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',[_c('b-form-select',{attrs:{\"id\":\"connect-port\"},model:{value:(_vm.selectedPort),callback:function ($$v) {_vm.selectedPort=$$v},expression:\"selectedPort\"}},_vm._l((_vm.connectionOptions.ports),function(port){return _c('b-form-select-option',{key:port,attrs:{\"value\":port}},[_vm._v(\" \"+_vm._s(port)+\" \")])}),1)],1),_c('br'),_vm._m(1),_c('div',[_c('b-form-select',{attrs:{\"id\":\"connect-baudrate\"},model:{value:(_vm.selectedBaudrate),callback:function ($$v) {_vm.selectedBaudrate=$$v},expression:\"selectedBaudrate\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\" Auto \")]),_vm._l((_vm.connectionOptions.baudrates),function(baudrate){return _c('b-form-select-option',{key:baudrate,attrs:{\"value\":baudrate}},[_vm._v(\" \"+_vm._s(baudrate)+\" \")])})],2)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h5',[_vm._v(\"Serial Port:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h5',[_vm._v(\"Baudrate:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div>\n      <h5>Serial Port:</h5>\n    </div>\n    <div>\n      <b-form-select v-model=\"selectedPort\" id=\"connect-port\">\n        <b-form-select-option\n          v-for=\"port in connectionOptions.ports\"\n          :key=\"port\"\n          :value=\"port\">\n          {{ port }}\n        </b-form-select-option>\n      </b-form-select>\n    </div>\n    <br />\n    <div>\n      <h5>Baudrate:</h5>\n    </div>\n    <div>\n      <b-form-select v-model=\"selectedBaudrate\" id=\"connect-baudrate\">\n        <b-form-select-option\n          value=''>\n          Auto\n        </b-form-select-option>\n        <b-form-select-option\n          v-for=\"baudrate in connectionOptions.baudrates\"\n          :key=\"baudrate\"\n          :value=\"baudrate\">\n          {{ baudrate }}\n        </b-form-select-option>\n      </b-form-select>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ConnectPrinter',\n  props: {\n    connectionOptions: {\n      type: Object,\n      required: true\n    },\n  },\n\n  data() {\n    return {\n      selectedPort: this.connectionOptions.ports[0],\n      selectedBaudrate: '',\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectPrinter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectPrinter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectPrinter.vue?vue&type=template&id=362c10dc&\"\nimport script from \"./ConnectPrinter.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectPrinter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"text-center\"},[(_vm.value > 0)?_c('h1',{staticClass:\"target-temp-degree\"},[_vm._v(_vm._s(_vm.value)+\" \"),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"C\")])]):_vm._e(),(_vm.value < 1)?_c('h1',{staticClass:\"target-temp-degree\"},[_vm._v(\"OFF\")]):_vm._e()]),_c('br'),_c('div',{staticClass:\"mb-5\"},[_vm._m(0),_c('div',[_c('b-form-select',{attrs:{\"id\":\"id_preset\"},on:{\"change\":_vm.onPresetChanged},model:{value:(_vm.preset),callback:function ($$v) {_vm.preset=$$v},expression:\"preset\"}},_vm._l((_vm.allPresets),function(pre){return _c('b-form-select-option',{key:pre.value,attrs:{\"value\":parseInt(pre.value)}},[_vm._v(\" \"+_vm._s(pre.title)+\" \")])}),1)],1),_c('br'),_c('h5',[_vm._v(\"Manual:\")]),_c('div',[_c('vue-slider',{attrs:{\"min\":0,\"max\":_vm.maxTemp,\"step\":1,\"tooltip\":'none'},on:{\"change\":_vm.onSliderChanged},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],attrs:{\"id\":\"target-temp\",\"type\":\"hidden\"},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h5',[_vm._v(\"Presets:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"text-center\">\n      <h1\n        v-if=\"value > 0\"\n        class=\"target-temp-degree\"\n      >{{ value }} <span class=\"text-subscript text-muted\">C</span></h1>\n      <h1\n        v-if=\"value < 1\"\n        class=\"target-temp-degree\"\n      >OFF</h1>\n    </div>\n    <br />\n    <div class=\"mb-5\">\n      <div>\n        <h5>Presets:</h5>\n      </div>\n      <div>\n        <b-form-select v-model=\"preset\" id=\"id_preset\" @change=\"onPresetChanged\">\n          <b-form-select-option\n            v-for=\"pre in allPresets\"\n            :key=\"pre.value\"\n            :value=\"parseInt(pre.value)\">\n            {{pre.title}}\n          </b-form-select-option>\n        </b-form-select>\n      </div>\n      <br />\n      <h5>Manual:</h5>\n      <div>\n        <vue-slider\n          :min=\"0\"\n          :max=\"maxTemp\"\n          :step=\"1\"\n          :tooltip=\"'none'\"\n          v-model=\"value\"\n          @change=\"onSliderChanged\"\n        ></vue-slider>\n        <input\n          id=\"target-temp\"\n          v-model=\"value\"\n          type=\"hidden\"\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueSlider from 'vue-slider-component'\n\nexport default {\n  name: 'TempTargetEditor',\n  components: {\n    VueSlider,\n  },\n  props: {\n    presets: {\n      type: Array,\n      required: true\n    },\n    maxTemp: {\n      type: Number,\n      required: true\n    },\n    curTarget: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    let curPreset = this.presets.find((pre) => pre.target == this.curTarget) || {target: this.curTarget != 0 ? -1 : 0}\n    return {value: this.curTarget, preset: curPreset.target}\n  },\n  computed: {\n    allPresets() {\n      let presets = []\n      presets.push({value: -1, title: 'Manual'})\n      presets.push({value: 0, title: 'OFF'})\n      this.presets.forEach((pre) => {\n        if (pre.target) {\n          presets.push({value: pre.target, title: `${pre.name} (${pre.target}C)`})\n        }\n      })\n      return presets\n    }\n  },\n  methods: {\n    onPresetChanged() {\n      if (this.preset > -1) {\n        this.value = this.preset\n      }\n    },\n    onSliderChanged() {\n      if (this.value == 0) {\n        this.preset = 0\n      } else {\n        this.preset = -1\n      }\n\n    }\n  }\n}\n</script>\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TempTargetEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TempTargetEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TempTargetEditor.vue?vue&type=template&id=5c0de818&\"\nimport script from \"./TempTargetEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TempTargetEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"Printer Feed Sharing\")]),_c('hr'),(!_vm.isProAccount)?_c('div',[_vm._m(0),_c('p',[_vm._v(\"Printer feed sharing is a Pro feature.\")]),_vm._m(1),_vm._m(2)]):_c('div',[_c('div',{staticClass:\"py-3\"},[_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{staticClass:\"custom-control-input update-printer\",attrs:{\"type\":\"checkbox\",\"id\":'sharing_enabled-toggle-' + _vm.printer.id},domProps:{\"checked\":_vm.sharedResource},on:{\"click\":_vm.onSharingToggled}}),_c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"1rem\"},attrs:{\"for\":'sharing_enabled-toggle-' + _vm.printer.id}},[_vm._v(\"Share live feed for printer \\\"\"),_c('b',[_vm._v(_vm._s(_vm.printer.name))]),_vm._v(\"\\\"\")])]),_c('div',{staticClass:\"form-group\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sharedLink),expression:\"sharedLink\"}]},[_c('div',{staticClass:\"input-group mt-4 mb-2\"},[_c('input',{ref:\"sharedLink\",staticClass:\"form-control shared-link-text\",attrs:{\"type\":\"text\",\"id\":\"secret-token-input\",\"aria-label\":\"Secret token\",\"readonly\":\"\"},domProps:{\"value\":_vm.sharedLink}}),_c('div',{staticClass:\"input-group-append\"},[_c('div',{staticClass:\"copy-button\",attrs:{\"id\":\"copy-link\",\"data-clipboard-target\":\"#secret-token-input\",\"aria-label\":\"Copy secure link to clipboard\"},on:{\"click\":_vm.copyToClipboard}},[_c('i',{staticClass:\"fas fa-clipboard\"})]),_c('b-tooltip',{attrs:{\"show\":_vm.copyStatus,\"target\":\"copy-link\",\"triggers\":\"click\",\"placement\":\"bottom\"},on:{\"update:show\":function($event){_vm.copyStatus=$event}}},[_vm._v(_vm._s(_vm.copyMessage))])],1)]),_c('div',{staticClass:\"my-1\"},[_vm._v(\"Click the clipboard icon above to copy the secure shareable link to your clipboard.\")]),_c('div',{staticClass:\"my-1\"},[_vm._v(\"You can test the shareable link by right-clicking \"),_c('a',{attrs:{\"href\":_vm.sharedLink}},[_vm._v(\"here\")]),_vm._v(\" and select \\\"Open Link in Incognito Window\\\".\")]),_c('br'),_vm._m(3)])]),_c('br')])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h5',{staticClass:\"mb-5\"},[_vm._v(\"Wait! You need to \"),_c('a',{attrs:{\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"upgrade to the Pro plan\")]),_vm._v(\" to enable Printer feed. \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/upgrade-to-pro#why-cant-the-detective-just-work-for-free-people-love-free-you-know\"}},[_vm._v(\"Running the Obico app incurs non-trivial amount of costs\")]),_vm._v(\". With little more than 1 Starbucks per month, you can upgrade to a Pro account and help us run the Obico app smoothly.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('a',{attrs:{\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"Check out Pro pricing >>>\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('em',{staticClass:\"text-muted\"},[_c('small',[_c('div',[_vm._v(\"Notes:\")]),_c('ul',[_c('li',[_vm._v(\"Send the secure link to anyone you want to share your printer feed with. They do NOT need the Obico account to see your printer feed.\")]),_c('li',[_vm._v(\"Anyone with this shareable link will be able to see your printer feed. \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/printer-feed-sharing/\"}},[_vm._v(\"Learn more about what they can see.\")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h2 class=\"text-center\">Printer Feed Sharing</h2>\n    <hr />\n    <div v-if=\"!isProAccount\">\n      <h5 class=\"mb-5\">Wait! You need to <a href=\"/ent_pub/pricing/\">upgrade to the Pro plan</a> to enable Printer feed. </h5>\n      <p>Printer feed sharing is a Pro feature.</p>\n      <p><a\n          href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro#why-cant-the-detective-just-work-for-free-people-love-free-you-know\">Running\n         the Obico app incurs non-trivial amount of costs</a>. With little more than 1 Starbucks per month, you can upgrade to a\n        Pro account and help us run the Obico app smoothly.</p>\n      <p><a href=\"/ent_pub/pricing/\">Check out Pro pricing >>></a></p>\n    </div>\n    <div v-else>\n      <div class=\"py-3\">\n        <div class=\"custom-control custom-switch\">\n            <input\n              type=\"checkbox\"\n              class=\"custom-control-input update-printer\"\n              :id=\"'sharing_enabled-toggle-' + printer.id\"\n              @click=\"onSharingToggled\"\n              :checked=\"sharedResource\"\n            >\n            <label\n              class=\"custom-control-label\"\n              :for=\"'sharing_enabled-toggle-' + printer.id\"\n              style=\"font-size: 1rem;\"\n            >Share live feed for printer \"<b>{{ printer.name }}</b>\"</label>\n        </div>\n        <div class=\"form-group\">\n          <div v-show=\"sharedLink\">\n            <div class=\"input-group mt-4 mb-2\">\n              <input\n                type=\"text\"\n                id=\"secret-token-input\"\n                class=\"form-control shared-link-text\"\n                aria-label=\"Secret token\"\n                readonly\n                :value=\"sharedLink\"\n                ref=\"sharedLink\"\n              >\n              <div class=\"input-group-append\">\n                <div\n                  id=\"copy-link\"\n                  class=\"copy-button\"\n                  data-clipboard-target=\"#secret-token-input\"\n                  aria-label=\"Copy secure link to clipboard\"\n                  @click=\"copyToClipboard\"\n                >\n                  <i class=\"fas fa-clipboard\"></i>\n                </div>\n                <b-tooltip :show.sync=\"copyStatus\" target=\"copy-link\" triggers=\"click\" placement=\"bottom\">{{ copyMessage }}</b-tooltip>\n              </div>\n            </div>\n            <div class=\"my-1\">Click the clipboard icon above to copy the secure shareable link to your clipboard.</div>\n            <div class=\"my-1\">You can test the shareable link by right-clicking <a :href=\"sharedLink\">here</a>\n              and select \"Open Link in Incognito Window\".</div>\n          <br />\n          <em class=\"text-muted\">\n            <small>\n              <div>Notes:</div>\n              <ul>\n                <li>Send the secure link to anyone you want to share your printer feed with. They do NOT need the Obico account to see your printer feed.</li>\n                <li>Anyone with this shareable link will be able to see your printer feed. <a href=\"https://www.obico.io/docs/user-guides/printer-feed-sharing/\">Learn more about what\n                    they can see.</a></li>\n              </ul>\n            </small>\n          </em>\n          </div>\n        </div>\n        <br />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport urls from '@config/server-urls'\n\nexport default {\n  props: {\n    isProAccount: {\n      type: Boolean,\n      default: false,\n    },\n    printer: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      share: false,\n      sharedResource: null,\n      copyStatus: false,\n      copyMessage: '',\n    }\n  },\n\n  created() {\n    this.fetchSharedResources()\n  },\n\n  computed: {\n    sharedLink() {\n      if (this.sharedResource) {\n        const url = window.location\n        return `${url.protocol}//${url.host}/printers/share_token/${this.sharedResource.share_token}/`\n      }\n\n      return ''\n    }\n  },\n\n  methods: {\n    fetchSharedResources() {\n      return axios\n        .get(urls.sharedResources({'printer_id': this.printer.id}))\n        .then(response => {\n          if (response.data.length > 0) {\n            this.sharedResource = response.data[0]\n          }\n        })\n    },\n    postSharedResources() {\n      return axios\n        .post(urls.sharedResources({'printer_id': this.printer.id}))\n        .then(response => {\n          if (response.data.length > 0) {\n            this.sharedResource = response.data[0]\n          }\n        })\n    },\n    deleteSharedResources() {\n      return axios\n        .delete(urls.sharedResource(this.sharedResource.id))\n        .then(() => {\n          this.sharedResource = null\n        })\n    },\n    onSharingToggled() {\n      if (this.sharedResource) {\n        this.deleteSharedResources()\n      } else {\n        this.postSharedResources()\n      }\n    },\n    // Copy share link to clipboard\n    copyToClipboard() {\n      this.copyStatus = true\n\n      this.$refs.sharedLink.focus()\n      this.$refs.sharedLink.select()\n      try {\n        document.execCommand('copy')\n        this.copyMessage = 'Copied!'\n      } catch (err) {\n        console.error('Fallback: Oops, unable to copy', err)\n        this.copyMessage = 'Failed!'\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\nhr\n  background-color: var(--color-divider)\n\n.shared-link-text\n  color: var(--text-primary) !important\n  height: 40px\n  border-color: var(--color-divider)\n  background-color: var(--color-input-background) !important\n\n.copy-button\n  color: var(--color-primary)\n  border: 2px solid var(--color-primary)\n  border-radius: 0 var(--border-radius-sm) var(--border-radius-sm) 0\n  background-color: transparent\n  display: inline-flex\n  align-items: center\n  justify-content: center\n  padding: 0 .75rem\n  font-size: 1rem\n  line-height: 1.5\n\n  &:hover\n    background-color: var(--color-primary)\n    color: var(--color-on-primary)\n    cursor: pointer\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharePrinter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharePrinter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SharePrinter.vue?vue&type=template&id=584a6b50&scoped=true&\"\nimport script from \"./SharePrinter.vue?vue&type=script&lang=js&\"\nexport * from \"./SharePrinter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharePrinter.vue?vue&type=style&index=0&id=584a6b50&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"584a6b50\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :id=\"printer.id\"\n    class=\"col-sm-12 col-lg-6 printer-card\"\n  >\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <div class=\"title-box\">\n          <div\n            v-if=\"hasCurrentPrintFilename\"\n            class=\"primary-title print-filename\"\n          >{{ printer.current_print.filename }}</div>\n          <div\n            class=\"printer-name\"\n            :class=\"{'secondary-title': hasCurrentPrintFilename}\"\n          >{{ printer.name }} &nbsp;\n          (<a :href=\"'#printer-actions-' + printer.id\" :class=\"statusClass\">{{ statusText }}</a>)\n          </div>\n        </div>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item href=\"#\" @click.prevent=\"onSharePrinter()\">\n            <i class=\"fas fa-share-alt fa-lg\"></i>Share\n          </b-dropdown-item>\n          <b-dropdown-item v-if=\"!printer.isAgentMoonraker()\" :href=\"octoPrintTunnelUrl()\">\n            <svg class=\"menu-icon\">\n              <use href=\"#svg-octoprint-tunneling\" />\n            </svg>\n            Tunneling\n          </b-dropdown-item>\n          <div class=\"dropdown-divider\"></div>\n          <b-dropdown-item :href=\"settingsUrl()\">\n            <i class=\"fas fa-wrench fa-lg\"></i>Configure\n          </b-dropdown-item>\n        </b-dropdown>\n      </div>\n      <streaming-box :printer=\"printer\" :webrtc=\"webrtc\" :autoplay=\"isProAccount\" />\n      <div\n        v-if=\"printer.alertUnacknowledged()\"\n        class=\"failure-alert card-body bg-warning px-2 py-1\"\n      >\n        <i class=\"fas fa-exclamation-triangle align-middle\"></i>\n        <span class=\"align-middle\">Failure Detected!</span>\n        <button\n          type=\"button\"\n          id=\"not-a-failure\"\n          class=\"btn btn-outline-primary btn-sm float-right\"\n          @click=\"onNotAFailureClicked($event, false)\"\n        >Not a failure?</button>\n      </div>\n\n      <div\n        class=\"card-body gauge-container\"\n        :class=\"{overlay: !isWatching}\"\n      >\n        <div\n          v-if=\"!isWatching\"\n          class=\"overlay-top text-center\"\n          style=\"left: 0; width: 100%; top: 50%; margin-top: -55px;\"\n        >\n          <H1><i class=\"far fa-eye-slash\"></i></H1>\n          <h5 class=\"text-warning\">Failure Detection is Off</h5>\n          <small\n            v-if=\"printer.not_watching_reason\"\n          >{{ printer.not_watching_reason }}. <a href=\"https://www.obico.io/docs/user-guides/detective-not-watching/\" target=\"_blank\">Learn more. <small><i class=\"fas fa-external-link-alt\"></i></small></a></small>\n          <div></div>\n        </div>\n        <Gauge\n          :normalizedP=\"printer.normalized_p\"\n          :isWatching=\"isWatching\"\n        />\n        <hr />\n      </div>\n      <PrinterActions\n        :id=\"'printer-actions-' + printer.id\"\n        class=\"container\"\n        v-bind=\"actionsProps\"\n        @PrinterActionPauseClicked=\"onPrinterActionPauseClicked\"\n        @PrinterActionResumeClicked=\"onPrinterActionResumeClicked($event)\"\n        @PrinterActionCancelClicked=\"onPrinterActionCancelClicked\"\n        @PrinterActionConnectClicked=\"onPrinterActionConnectClicked\"\n        @PrinterActionStartClicked=\"onPrinterActionStartClicked\"\n        @PrinterActionControlClicked=\"onPrinterActionControlClicked\"\n      ></PrinterActions>\n      <div class=\"info-section settings\">\n        <button\n          type=\"button\"\n          class=\"info-section-toggle btn btn-sm no-corner mx-2\"\n          :class=\"{pressed: section_toggles.settings}\"\n          @click=\"onSettingsToggleClicked()\"\n        ><i class=\"fas fa-cog fa-lg\"></i></button>\n        <button\n          type=\"button\"\n          class=\"info-section-toggle btn btn-sm no-corner mx-2\"\n          :class=\"{pressed: section_toggles.time}\"\n          @click=\"onTimeToggleClicked()\"\n        ><i class=\"fas fa-clock fa-lg\"></i></button>\n        <button\n          type=\"button\"\n          class=\"info-section-toggle btn btn-sm no-corner mx-2\"\n          :class=\"{pressed: section_toggles.statusTemp}\"\n          @click=\"onStatusTempToggleClicked()\"\n          ><i class=\"fas fa-thermometer-half fa-lg\"></i></button>\n      </div>\n      <div class=\"info-section\" style=\"height: 0.3rem;\"></div>\n      <div>\n        <div class=\"info-section container\">\n          <div\n            id=\"panel-settings\"\n            v-if=\"section_toggles.settings\"\n          >\n            <div class=\"pt-2 pb-3\">\n              <div class=\"row justify-content-center px-3\">\n                <div class=\"col-12 setting-item\">\n                  <label\n                    class=\"toggle-label\"\n                    :for=\"'watching_enabled-toggle-' + printer.id\"\n                  >Enable AI failure detection\n                    <div\n                      v-if=\"!watchForFailures\"\n                      class=\"text-muted font-weight-light font-size-sm\">AI failure detection is disabled. You are on your own.\n                    </div>\n                  </label>\n                  <div class=\"custom-control custom-switch\">\n                    <input\n                      type=\"checkbox\"\n                      name=\"watching_enabled\"\n                      class=\"custom-control-input update-printer\"\n                      :id=\"'watching_enabled-toggle-' + printer.id\"\n                      @click=\"onWatchForFailuresToggled\"\n                      :checked=\"watchForFailures\"\n                    >\n                    <label\n                      class=\"custom-control-label\"\n                      :for=\"'watching_enabled-toggle-' + printer.id\"\n                      style=\"font-size: 1rem;\"\n                    ></label>\n                  </div>\n                </div>\n              </div>\n              <div class=\"row justify-content-center px-3\">\n                <div class=\"col-12 setting-item\">\n                  <label\n                    class=\"toggle-label\"\n                    :for=\"'pause-toggle-' + printer.id\"\n                  >Pause on detected failures\n                    <div\n                      v-if=\"!pauseOnFailure\"\n                      class=\"text-muted font-weight-light font-size-sm\">You will still be alerted via notifications\n                    </div>\n                  </label>\n                  <div class=\"custom-control custom-switch\">\n                    <input\n                      type=\"checkbox\"\n                      name=\"pause_on_failure\"\n                      class=\"custom-control-input update-printer\"\n                      :id=\"'pause-toggle-' + printer.id\"\n                      @click=\"onPauseOnFailureToggled\"\n                      :checked=\"pauseOnFailure\"\n                    >\n                    <label\n                      class=\"custom-control-label\"\n                      :for=\"'pause-toggle-'+printer.id\"\n                      style=\"font-size: 1rem;\">\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div\n            v-if=\"section_toggles.time\"\n            id=\"print-time\">\n            <div class=\"py-2\">\n              <div class=\"row text-muted\">\n                <small class=\"col-5 offset-2\">\n                  Remaining\n                </small>\n                <small class=\"col-5\">\n                  Total\n                </small>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-2 text-muted\">\n                  <i class=\"fas fa-clock\"></i>\n                </div>\n                <duration-block\n                  id=\"print-time-remaining\"\n                  class=\"col-5 numbers\"\n                  v-bind=\"timeRemaining\"\n                ></duration-block>\n                <duration-block\n                  id=\"print-time-total\"\n                  class=\"col-5 numbers\"\n                  v-bind=\"timeTotal\"\n                ></duration-block>\n                <div class=\"col-12\">\n                  <div class=\"progress\" style=\"height: 2px;\">\n                    <div\n                      id=\"print-progress\"\n                      class=\"progress-bar\"\n                      :class=\"{'progress-bar-striped': progressPct < 100, 'progress-bar-animated': progressPct < 100}\"\n                      role=\"progressbar\"\n                      aria-valuenow=\"0\"\n                      aria-valuemin=\"0\"\n                      aria-valuemax=\"100\"\n                      :style=\"`width: ${progressPct}%;`\">\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <StatusTemp\n            v-if=\"section_toggles.statusTemp && tempProps.show\"\n            id=\"status_temp_block\"\n            v-bind=\"tempProps\"\n            @TempEditClicked=\"onTempEditClicked\"\n          ></StatusTemp>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport get from 'lodash/get'\nimport capitalize from 'lodash/capitalize'\nimport moment from 'moment'\nimport filter from 'lodash/filter'\nimport axios from 'axios'\n\nimport urls from '@config/server-urls'\nimport { normalizedPrinter, normalizedGcode } from '@src/lib/normalizers'\nimport PrinterComm from '@src/lib/printer_comm'\nimport {temperatureDisplayName} from '@src/lib/utils'\nimport WebRTCConnection from '@src/lib/webrtc'\nimport Gauge from '@src/components/Gauge'\nimport StreamingBox from '@src/components/StreamingBox'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport DurationBlock from './DurationBlock.vue'\nimport PrinterActions from './PrinterActions.vue'\nimport StatusTemp from './StatusTemp.vue'\nimport StartPrint from './StartPrint.vue'\nimport ConnectPrinter from './ConnectPrinter.vue'\nimport TempTargetEditor from './TempTargetEditor.vue'\nimport SharePrinter from './SharePrinter.vue'\n\nconst PAUSE_PRINT = '/pause_print/'\nconst RESUME_PRINT = '/resume_print/'\nconst CANCEL_PRINT = '/cancel_print/'\nconst MUTE_CURRENT_PRINT = '/mute_current_print/?mute_alert=true'\nconst ACK_ALERT_NOT_FAILED = '/acknowledge_alert/?alert_overwrite=NOT_FAILED'\n\nconst Show = true\nconst Hide = false\n\nconst LocalPrefNames = {\n  Settings: 'panel-settings',\n  Time: 'print-time',\n  StatusTemp: 'status_temp_block',\n}\n\nexport default {\n  name: 'PrinterCard',\n  components: {\n    StreamingBox,\n    Gauge,\n    DurationBlock,\n    PrinterActions,\n    StatusTemp,\n  },\n\n  props: {\n    printer: {\n      type: Object,\n      required: true\n    },\n    isProAccount: {\n      type: Boolean,\n      required: true\n    },\n  },\n  data() {\n    return {\n      section_toggles: {\n        settings: getLocalPref(LocalPrefNames.Settings + String(this.printer.id), Show),\n        time: getLocalPref(LocalPrefNames.Time + String(this.printer.id), Hide),\n        statusTemp: getLocalPref(LocalPrefNames.StatusTemp + String(this.printer.id), Show),\n      },\n      webrtc: WebRTCConnection(),\n    }\n  },\n  created() {\n    this.printerComm = PrinterComm(\n      this.printer.id,\n      urls.printerWebSocket(this.printer.id),\n      (data) => {\n        this.$emit('PrinterUpdated', this.updatedPrinter(data))\n      },\n      (printerStatus) => {\n        // Backward compatibility: octoprint_data is for OctoPrint-Obico 2.1.2 or earlier, or moonraker-obico 0.5.1 or earlier\n        const status = printerStatus.status || printerStatus.octoprint_data\n        this.$emit('PrinterUpdated', this.updatedPrinter( {status,} ))\n      }\n    )\n    this.printerComm.connect()\n\n    this.webrtc.openForPrinter(this.printer.id, this.printer.auth_token)\n    this.printerComm.setWebRTC(this.webrtc)\n  },\n  computed: {\n    isWatching() {\n      return !this.printer.not_watching_reason\n    },\n    timeRemaining() {\n      return this.toDuration(\n        this.secondsLeft, this.printer.isActive())\n    },\n    timeTotal() {\n      let secs = null\n      if (this.secondsPrinted && this.secondsLeft) {\n        secs = this.secondsPrinted + this.secondsLeft\n      }\n      return this.toDuration(\n        secs,\n        this.printer.isActive())\n    },\n    secondsLeft() {\n      return get(this.printer, 'status.progress.printTimeLeft')\n    },\n    secondsPrinted() {\n      return get(this.printer, 'status.progress.printTime')\n    },\n    watchForFailures() {\n      return this.printer.watching_enabled\n    },\n    pauseOnFailure() {\n      return this.printer.action_on_failure == 'PAUSE'\n    },\n    hasCurrentPrintFilename() {\n      if (this.printer.current_print && this.printer.current_print.filename) {\n        return true\n      }\n      return false\n    },\n    actionsProps() {\n      return {\n        printer: this.printer,\n      }\n    },\n    progressPct() {\n      return get(this.printer, 'status.progress.completion') || 0 // get(this.printer, 'status.progress.completion') may return null\n    },\n    tempProps() {\n      // If temp_profiles is missing, it's a plugin version too old to change temps\n      let editable = get(this.printer, 'settings.temp_profiles') != undefined\n      const temperatures = {}\n      for (const [key, value] of Object.entries(get(this.printer, 'status.temperatures', {}))) {\n        if ( Boolean(value.actual) && !isNaN(value.actual) ) {  // Take out NaN, 0, null. Apparently printers like Prusa throws random temperatures here.\n          temperatures[key] = value\n        }\n      }\n      return {\n        temperatures: temperatures,\n        show: Object.keys(temperatures).length > 0,\n        editable: editable,\n      }\n    },\n    statusText() {\n      return get(this.printer, 'status.state.text', 'Offline')\n    },\n    statusClass() {\n      if (this.printer.hasError()) {\n        return 'text-danger'\n      }\n      if (this.printer.isOffline() || this.printer.isDisconnected() || this.printer.inTransientState()) {\n        return 'text-warning'\n      }\n      return 'text-success'\n    }\n  },\n\n  methods: {\n    updatedPrinter(newData) {\n      return normalizedPrinter(newData, this.printer)\n    },\n    settingsUrl() {\n      return `/printers/${this.printer.id}/`\n    },\n    octoPrintTunnelUrl() {\n      return `/tunnels/${this.printer.id}/`\n    },\n    onSettingsToggleClicked() {\n      this.section_toggles.settings = !this.section_toggles.settings\n      setLocalPref(LocalPrefNames.Settings + String(this.printer.id), this.section_toggles.settings)\n    },\n    onTimeToggleClicked() {\n      this.section_toggles.time = !this.section_toggles.time\n      setLocalPref(LocalPrefNames.Time + String(this.printer.id), this.section_toggles.time)\n    },\n    onStatusTempToggleClicked() {\n      this.section_toggles.statusTemp = !this.section_toggles.statusTemp\n      setLocalPref(LocalPrefNames.StatusTemp + String(this.printer.id), this.section_toggles.statusTemp)\n    },\n    onNotAFailureClicked(ev, resumePrint) {\n      this.$swal.Confirm.fire({\n        title: 'Noted!',\n        html: '<p>Do you want to keep failure detection on for this print?</p><small>If you select \"No\", failure detection will be turned off for this print, but will be automatically turned on for your next print.</small>',\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No',\n      }).then((result) => {\n        if (result.dismiss == 'cancel') {\n          // Hack: So that 2 APIs are not called at the same time\n          setTimeout(() => {\n            this.sendPrinterAction(\n              this.printer.id,\n              MUTE_CURRENT_PRINT,\n              false\n            )\n          }, 1000)\n        }\n        if (resumePrint) {\n          this.sendPrinterAction(\n            this.printer.id,\n            RESUME_PRINT,\n            true)\n        } else {\n          this.sendPrinterAction(\n            this.printer.id,\n            ACK_ALERT_NOT_FAILED,\n            false)\n        }\n      })\n\n      ev.preventDefault()\n    },\n    onWatchForFailuresToggled() {\n      this.printer.watching_enabled = !this.printer.watching_enabled\n      this.updatePrinter(this.printer)\n    },\n    onPauseOnFailureToggled() {\n      this.printer.action_on_failure = this.printer.action_on_failure == 'PAUSE' ? 'NONE' : 'PAUSE'\n      this.updatePrinter(this.printer)\n    },\n    onPrinterActionPauseClicked() {\n      this.$swal.Confirm.fire({\n        html: 'If you haven\\'t changed the default configuration, the heaters will be turned off, and the print head will be z-lifted. The reversed will be performed before the print is resumed. <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/detection-print-job-settings#when-print-is-paused\">Learn more. <small><i class=\"fas fa-external-link-alt\"></i></small></a>',\n      }).then((result) => {\n        if (result.value) {\n          this.sendPrinterAction(this.printer.id, PAUSE_PRINT, true)\n        }\n      })\n    },\n    onPrinterActionResumeClicked(ev) {\n      if (this.printer.alertUnacknowledged()) {\n        this.onNotAFailureClicked(ev, true)\n      } else {\n        this.sendPrinterAction(this.printer.id, RESUME_PRINT, true)\n      }\n    },\n    onPrinterActionCancelClicked() {\n      this.$swal.Confirm.fire({\n        text: 'Once cancelled, the print can no longer be resumed.',\n      }).then((result) => {\n        if (result.value) {\n          // When it is confirmed\n          this.sendPrinterAction(this.printer.id, CANCEL_PRINT, true)\n        }\n      })\n    },\n    onPrinterActionConnectClicked() {\n      this.printerComm.passThruToPrinter(\n        { func: 'get_connection_options', target: '_printer' },\n        (err, connectionOptions) => {\n          if (err) {\n            this.$swal.Toast.fire({\n              icon: 'error',\n              title: 'Failed to connect!',\n            })\n          } else {\n            if (connectionOptions.ports.length < 1) {\n              this.$swal.Toast.fire({\n                icon: 'error',\n                title: 'Uh-Oh. No printer is found on the serial port.',\n              })\n            } else {\n              this.$swal.openModalWithComponent(\n                ConnectPrinter,\n                {\n                  connectionOptions: connectionOptions,\n                },\n                {\n                  confirmButtonText: 'Connect',\n                  showCancelButton: true,\n                  preConfirm: () => {\n                    return {\n                      port: document.getElementById('connect-port').value,\n                      baudrate: document.getElementById('connect-baudrate').value\n                    }\n                  }\n                }\n              ).then((result) => {\n                if (result.value) {\n                  let args = [\n                    result.value.port,\n                    result.value.baudrate\n                  ]\n                  this.printerComm.passThruToPrinter(\n                    { func: 'connect', target: '_printer',\n                      args: args }\n                  )\n                }\n              })\n            }\n          }\n        }\n      )\n    },\n    onPrinterActionStartClicked() {\n      axios\n        .get(\n          urls.gcodes(1, 1000),\n        ).then((response) => {\n          let gcodeFiles = [...response.data.results.map(gcode => normalizedGcode(gcode))]\n\n          this.$swal.openModalWithComponent(\n            StartPrint,\n            {\n              gcodeFiles: gcodeFiles,\n              onGcodeFileSelected: this.onGcodeFileSelected,\n            },\n            {\n              title: 'Start print on \"' + this.printer.name + '\"',\n              showConfirmButton: false,\n              showCloseButton: true,\n            }\n          )\n        })\n    },\n    onGcodeFileSelected(gcodeFiles, gcodeFileId) {\n      // actionsDiv.find('button').attr('disabled', true) // TODO\n\n      this.printerComm.passThruToPrinter(\n        { func: 'download',\n          target: 'file_downloader',\n          args: filter(gcodeFiles, { id: gcodeFileId })\n        },\n        (err, ret) => {\n          if (err || ret.error) {\n            this.$swal.Toast.fire({\n              icon: 'error',\n              title: err ? err : ret.error,\n            })\n            return\n          }\n\n          let targetPath = ret.target_path\n\n          let html =`\n          <div class=\"text-center\">\n            <i class=\"fas fa-spinner fa-spin fa-lg py-3\"></i>\n            <h5 class=\"py-3\">\n              Uploading G-Code to ${this.printer.name} ...\n            </h5>\n            <p>\n              ${targetPath}\n            </p>\n          </div>`\n\n          this.$swal.Prompt.fire({\n            html: html,\n            showConfirmButton: false\n          })\n\n          let checkPrinterStatus = () => {\n            if (get(this.printer, 'status.state.text') == 'Operational') {\n              setTimeout(checkPrinterStatus, 1000)\n            } else {\n              this.$swal.close()\n            }\n          }\n          checkPrinterStatus()\n        }\n      )\n    },\n\n    onPrinterActionControlClicked() {\n      window.location = urls.printerControl(this.printer.id)\n    },\n\n    onTempEditClicked(key, item) {\n      let tempProfiles = get(this.printer, 'settings.temp_profiles', [])\n      let presets\n      let maxTemp = 350\n\n      if (key.search(/bed|chamber/) > -1) {\n        maxTemp = 140\n      }\n      if (key.search(/tool/) > -1) {\n        // OctoPrint uses 'extruder' for toolx heaters\n        presets = tempProfiles.map(\n          (v) => {return {name: v.name, target: v['extruder']}}\n        )\n      } else {\n        presets = tempProfiles.map(\n          (v) => {return {name: v.name, target: v[key]}}\n        )\n      }\n\n      this.$swal.openModalWithComponent(\n        TempTargetEditor,\n        {\n          presets: presets,\n          maxTemp: maxTemp,\n          curTarget: item.target,\n        },\n        {\n          title: 'Set ' + temperatureDisplayName(key) + ' Temperature',\n          confirmButtonText: 'Confirm',\n          showCancelButton: true,\n          preConfirm: () => {\n            return {\n              target: parseInt(document.getElementById('target-temp').value)\n            }\n          }\n        }).then((result) => {\n        if (result.value) {\n          let targetTemp = result.value.target\n          this.printerComm.passThruToPrinter(\n            {\n              func: 'set_temperature',\n              target: '_printer',\n              args: [key, targetTemp]\n            })\n        }\n      })\n    },\n\n    updatePrinter(printer) {\n      return axios\n        .patch(\n          urls.printer(printer.id),\n          {\n            watching_enabled: printer.watching_enabled,\n            action_on_failure: printer.action_on_failure,\n          })\n        .then(response => {\n          if (response.data.succeeded) {\n            this.$emit('PrinterUpdated', normalizedPrinter(response.data.printer, this.printer))\n          } else {\n            throw response\n          }\n        })\n        .catch(response => {\n          console.error(response)\n          this.$swal.Toast.fire({\n            icon: 'error',\n            title: 'Failed to update printer!',\n          }) // FIXME this was not handled in original code. sentry?\n        })\n    },\n\n    sendPrinterAction(printerId, path, isOctoPrintCommand) {\n      axios\n        .post(urls.printerAction(printerId, path))\n        .then(() => {\n          let toastHtml = ''\n          if (isOctoPrintCommand) {\n            toastHtml += `<h6>Successfully sent command to ${this.printer.name}!</h6>` +\n                  '<p>It may take a while to be executed.</p>'\n          }\n          if (toastHtml != '') {\n            this.$swal.Toast.fire({\n              icon: 'success',\n              html: toastHtml,\n            })\n          }\n        })\n    },\n\n    shouldVideoBeFull(printer) {\n      let hasImage = get(printer, 'pic.img_url')\n      let shouldBeThumb = printer.alertUnacknowledged() && hasImage\n      return !shouldBeThumb\n    },\n\n    toDuration (seconds, isActive) {\n      if (seconds == null || seconds == 0) {\n        return {\n          valid: false,\n          printing: isActive,\n        }\n      } else {\n        var d = moment.duration(seconds, 'seconds')\n        var h = Math.floor(d.asHours())\n        var m = d.minutes()\n        var s = d.seconds()\n        return {\n          valid: true,\n          printing: isActive,\n          hours: h,\n          showHours: (h>0),\n          minutes: m,\n          showMinutes: (h>0 || m>0),\n          seconds: s,\n          showSeconds: (h==0 && m==0)\n        }\n      }\n    },\n\n    onSharePrinter() {\n      this.$swal.openModalWithComponent(\n        SharePrinter,\n        {\n          isProAccount: this.isProAccount,\n          printer: this.printer\n        },\n        {\n          confirmButtonText: 'Close',\n        }\n      )\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.card\n  border-radius: var(--border-radius-lg)\n  overflow: hidden\n\n.menu-icon\n  width: 20px\n  height: 20px\n  margin-right: 6px\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterCard.vue?vue&type=template&id=01008915&scoped=true&\"\nimport script from \"./PrinterCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterCard.vue?vue&type=style&index=0&id=01008915&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01008915\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout>\n    <template v-slot:topBarRight>\n      <div>\n        <a v-if=\"isEnt\" href=\"/user_preferences/dh/\" class=\"btn shadow-none hours-btn d-none d-md-inline\" :title=\"dhBadgeNum + ' AI Detection Hours'\">\n          <svg>\n            <use href=\"#svg-detective-hours\"></use>\n          </svg>\n          <span id=\"user-credits\" class=\"badge badge-light\">{{dhBadgeNum}}</span>\n          <span class=\"sr-only\">AI Detection Hours</span>\n        </a>\n        <a href=\"/printers/wizard/\" class=\"btn shadow-none icon-btn d-none d-md-inline\" title=\"Link New Printer\">\n          <i class=\"fas fa-plus\"></i>\n        </a>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item v-if=\"isEnt\" href=\"/user_preferences/dh/\" class=\"d-md-none\">\n            <i class=\"fas fa-hourglass-half\"></i>{{dhBadgeNum}} AI Detection Hours\n          </b-dropdown-item>\n          <b-dropdown-item href=\"/printers/wizard/\" class=\"d-md-none\">\n            <i class=\"fas fa-plus\"></i>Link New Printer\n          </b-dropdown-item>\n          <b-dropdown-divider class=\"d-md-none\"></b-dropdown-divider>\n          <cascaded-dropdown\n            :menuOptions=\"menuOptions\"\n            :menuSelections=\"menuSelections\"\n            @menuSelectionChanged=\"menuSelectionChanged\"\n          >\n          </cascaded-dropdown>\n        </b-dropdown>\n      </div>\n    </template>\n\n    <template v-slot:content>\n      <div v-if=\"shouldShowFilterWarning\" @click=\"onShowAllClicked\" class=\"active-filter-notice\">\n        <div class=\"filter\">\n          <i class=\"fas fa-filter mr-2\"></i>\n          {{ activeFiltering }}\n        </div>\n        <a>SHOW ALL</a>\n      </div>\n      <b-container class=\"printer-list-page\">\n        <b-row v-if=\"loading\">\n          <b-col class=\"text-center\">\n            <b-spinner class=\"my-5\" label=\"Loading...\"></b-spinner>\n          </b-col>\n        </b-row>\n        <b-row v-if=\"visiblePrinters.length\" class=\"printer-cards justify-content-center\">\n          <printer-card\n            v-for=\"printer in visiblePrinters\"\n            :key=\"printer.id\"\n            :printer=\"printer\"\n            :is-pro-account=\"user.is_pro\"\n            @PrinterUpdated=\"onPrinterUpdated\"\n            class=\"printer-card-wrapper\"\n          ></printer-card>\n        </b-row>\n        <div class=\"row justify-content-center\">\n          <div id=\"new-printer\" class=\"col-sm-12 col-lg-6\">\n            <div class=\"new-printer-container\">\n              <a href=\"/printers/wizard/\">\n                <i class=\"fa fa-plus fa-2x\"></i>\n                <div>Link New Printer</div>\n              </a>\n            </div>\n          </div>\n        </div>\n        <b-row v-show=\"shouldShowArchiveWarning\" class=\"bottom-messages\">\n          <b-col>\n            <div class=\"alert alert-warning alert-dismissible fade show mb-3\" role=\"alert\">\n              <div class=\"warning\">\n                <div>{{ archivedPrinterNum }} {{ 'printer' | pluralize(archivedPrinterNum) }}\n                  have been archived.</div>\n                  <a\n                    href=\"/ent/printers/archived/\"\n                    class=\"warning-action\"\n                  >Show Archived Printers</a>\n                </div>\n              <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport sortBy from 'lodash/sortBy'\nimport reverse from 'lodash/reverse'\n\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport { normalizedPrinter } from '@src/lib/normalizers'\n\nimport urls from '@config/server-urls'\nimport PrinterCard from '@src/components/printers/PrinterCard.vue'\nimport Layout from '@src/components/Layout.vue'\nimport CascadedDropdown from '@src/components/CascadedDropdown'\nimport { user, settings } from '@src/lib/page_context'\n\nconst SortIconClass = {\n  asc: 'fas fa-long-arrow-alt-up',\n  desc: 'fas fa-long-arrow-alt-down'\n}\n\nconst LocalPrefNames = {\n  StateFilter: 'printer-filtering',\n  SortFilter: 'printer-sorting',\n}\n\nexport default {\n  name: 'PrinterListPage',\n  components: {\n    PrinterCard,\n    Layout,\n    CascadedDropdown,\n  },\n  created() {\n    const {IS_ENT} = settings()\n    this.isEnt = !!IS_ENT\n    this.user = user()\n    this.fetchPrinters()\n  },\n  data: function() {\n    return {\n      user: null,\n      printers: [],\n      loading: true,\n      isEnt: false,\n      menuSelections: {\n        'Sort By': getLocalPref(\n          LocalPrefNames.SortFilter,\n          'by-date-desc'),\n        'Filter By': getLocalPref(\n          LocalPrefNames.StateFilter,\n          'all'),\n      },\n      menuOptions: {\n        'Sort By': {\n          iconClass: 'fas fa-sort-amount-up',\n          options: [\n            {value: 'by-date-asc', title: 'Sort By Date', iconClass: SortIconClass['asc']},\n            {value: 'by-date-desc', title: 'Sort By Date', iconClass: SortIconClass['desc']},\n            {value: 'by-name-asc', title: 'Sort By Name', iconClass: SortIconClass['asc']},\n            {value: 'by-name-desc', title: 'Sort By Name', iconClass: SortIconClass['desc']},\n          ],\n        },\n        'Filter By': {\n          iconClass: 'fas fa-filter',\n          options: [\n            {value: 'all', title: 'All Printers'},\n            {value: 'online', title: 'Online Printers'},\n            {value: 'active', title: 'Active Printers'},\n          ],\n        }\n      },\n      dontShowFilterWarning: false,\n      archivedPrinterNum: 0,\n    }\n  },\n  computed: {\n    dhBadgeNum() {\n      if (this.user && this.user.is_dh_unlimited) {\n        return'\\u221E'\n      } else {\n        return Math.round(this.user.dh_balance)\n      }\n    },\n    visiblePrinters() {\n      let printers = this.printers\n      switch (this.menuSelections['Filter By']) {\n      case 'online':\n        printers = printers.filter((p) => !p.isDisconnected())\n        break\n      case 'active':\n        printers = printers.filter((p) => p.isActive())\n        break\n      case 'all':\n        break\n      }\n\n      switch (this.menuSelections['Sort By']) {\n      case 'by-date-asc':\n        printers = sortBy(printers, (p) => p.createdAt())\n        break\n      case 'by-date-desc':\n        printers = reverse(sortBy(printers, (p) => p.createdAt()))\n        break\n      case 'by-name-asc':\n        printers = sortBy(printers, (p) => p.name)\n        break\n      case 'by-name-desc':\n        printers = reverse(sortBy(printers, (p) => p.name))\n        break\n      }\n\n      return printers\n    },\n    hiddenPrinterCount() {\n      return this.printers.length - this.visiblePrinters.length\n    },\n    shouldShowFilterWarning() {\n      return this.menuSelections['Filter By'] !== 'all'\n    },\n    shouldShowArchiveWarning() {\n      return this.archivedPrinterNum > 0\n    },\n    activeFiltering() {\n      const found = this.menuOptions['Filter By'].options.filter(option => option.value === this.menuSelections['Filter By'])\n      return found.length ? found[0].title : null\n    }\n  },\n  methods: {\n    menuSelectionChanged(menu, selectedOption) {\n      const val = selectedOption.value\n      this.$set(this.menuSelections, menu, val)\n      const prefName = menu === 'Sort By' ? LocalPrefNames.SortFilter : LocalPrefNames.StateFilter\n      setLocalPref(prefName, val)\n    },\n\n    fetchPrinters() {\n      this.loading = true\n      return axios\n        .get(urls.printers(), {\n          params: {\n            with_archived: true,\n          }\n        })\n        .then(response => {\n          this.loading = false\n          response.data.forEach((p) => {\n            if (p.archived_at) {\n              this.archivedPrinterNum += 1\n            } else {\n              this.insertPrinter(normalizedPrinter(p))\n            }\n          })\n        })\n    },\n    onShowAllClicked(){\n      this.$set(this.menuSelections, 'Filter By', 'all')\n      setLocalPref(\n        LocalPrefNames.StateFilter,\n        'all'\n      )\n    },\n    insertPrinter(printer) {\n      this.printers.push(printer)\n    },\n\n    onPrinterUpdated(printer) {\n      let index = this.printers.findIndex(p => p.id == printer.id)\n      if (index < 0) {\n        // FIXME any alert here?\n        return\n      }\n\n      this.$set(this.printers, index, printer)\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.printer-list-page\n  .consider-upgrade\n    margin-bottom: var(--gap-between-blocks)\n\n  .printer-cards\n     margin-top: calc(var(--gap-between-blocks) * -1)\n\n  .printer-card-wrapper\n    margin-top: var(--gap-between-blocks)\n\n  .bottom-messages\n    margin-top: var(--gap-between-blocks)\n\n  .warning\n    display: flex\n    flex-direction: row\n    flex-wrap: wrap\n    justify-content: space-between\n    align-items: center\n\n    .warning-action\n      padding: 0.25em 0\n      font-weight: bolder\n      font-size: 1.1em\n      margin-left: auto\n\n.btn.hours-btn\n  position: relative\n  padding-right: 1.625rem\n  color: var(--color-text-primary)\n\n  svg\n    height: 1.125rem\n    width: 1.125rem\n\n  .badge\n    position: absolute\n    left: 22px\n    top: 8px\n    border-radius: var(--border-radius-sm)\n    background-color: var(--color-primary)\n    height: auto\n    font-size: .625rem\n\n::v-deep .dropdown-item .clickable-area\n  margin: -0.25rem -1.5rem\n  padding: 0.25rem 1.5rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterListPage.vue?vue&type=template&id=bba016c8&scoped=true&\"\nimport script from \"./PrinterListPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterListPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterListPage.vue?vue&type=style&index=0&id=bba016c8&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bba016c8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('navbar',{attrs:{\"view-name\":\"printer_shared\"}}),_c('div',{staticClass:\"row justify-content-center\"},[(_vm.loading)?_c('b-spinner',{staticClass:\"mt-5\",attrs:{\"label\":\"Loading...\"}}):_vm._e(),(_vm.printer)?_c('div',{staticClass:\"col-sm-12 col-lg-6 printer-card\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',[_vm._v(_vm._s(_vm.printer.name))])]),_c('streaming-box',{attrs:{\"printer\":_vm.printer,\"webrtc\":_vm.webrtc,\"autoplay\":true}}),_c('div',{staticClass:\"p-3 p-md-5\"},[_c('p',{staticClass:\"text-center\"},[_vm._v(\"You are viewing an awesome 3D print your friend shared specifically with you on\")]),_c('a',{attrs:{\"href\":\"https://www.obico.io/\"}},[_c('svg',{staticClass:\"logo-img\",attrs:{\"width\":\"100%\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-full\"}})])]),_c('hr'),_c('br'),_c('br'),_c('p',{staticClass:\"text-center\"},[_vm._v(\"Obico let you monitor and control your printer from anywhere, on your phone.\")]),_c('a',{staticClass:\"btn btn-block btn-primary\",attrs:{\"href\":\"/accounts/signup/\"}},[_vm._v(\"Sign up for a free Obico account\")])])],1)]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.inMobileWebView)?_c('b-navbar',{class:{\n      'navbar-dark': _vm.theme === _vm.themes.Dark,\n      'navbar-light': _vm.theme === _vm.themes.Light\n    },attrs:{\"toggleable\":\"xl\"}},[_c('b-container',{staticClass:\"p-0\"},[_c('b-navbar-brand',{attrs:{\"href\":\"/\"}},[_c('svg',{attrs:{\"width\":\"100\",\"height\":\"30\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-full\"}})])]),_c('b-navbar-toggle',{attrs:{\"target\":\"navbar-toggle-collapse\"}},[[_c('span',{staticClass:\"navbar-toggler-icon\"})]],2),_c('b-collapse',{attrs:{\"id\":\"navbar-toggle-collapse\",\"is-nav\":\"\"},model:{value:(_vm.showMainMenu),callback:function ($$v) {_vm.showMainMenu=$$v},expression:\"showMainMenu\"}},[_c('b-navbar-nav',[(_vm.user)?_c('b-nav-item',{class:{'active': _vm.viewName.includes('printers')},attrs:{\"href\":\"/printers/\"}},[_vm._v(\"Printer\")]):_vm._e(),(_vm.user)?_c('b-nav-item',{class:{'active': _vm.viewName.includes('prints')},attrs:{\"href\":\"/prints/\"}},[_vm._v(\"Time-lapse\")]):_vm._e(),(_vm.user)?_c('b-nav-item',{class:{'active': _vm.viewName.includes('gcodes')},attrs:{\"href\":\"/g_code_files/\"}},[_vm._v(\"G-Code\")]):_vm._e(),(_vm.isEnt && !_vm.user)?_c('b-nav-item',{staticClass:\"glowing\",class:{'active': _vm.viewName === 'publictimelapse_list'},attrs:{\"href\":\"/ent_pub/publictimelapses/\"}},[_vm._v(\"Spaghetti Gallery\")]):_vm._e(),(_vm.isEnt)?_c('b-nav-item',{class:{'active': _vm.viewName === 'pricing'},attrs:{\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"Pricing\")]):_vm._e(),_c('b-nav-item',{attrs:{\"href\":\"https://www.obico.io/help/\"}},[_vm._v(\"Help\")]),_c('b-nav-item',{attrs:{\"href\":\"https://obico.io/discord\"}},[_vm._v(\"Community\")])],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[(!_vm.user)?_c('b-nav-item',{attrs:{\"href\":\"/accounts/login/\"}},[_vm._v(\"SIGN IN\")]):_vm._e(),(!_vm.user && _vm.allowSignUp)?_c('b-nav-item',{attrs:{\"href\":\"/accounts/signup/\"}},[_vm._v(\"SIGN UP\")]):_vm._e(),(_vm.user)?_c('b-nav-item-dropdown',{ref:\"accountDropdown\",attrs:{\"right\":\"\",\"toggle-class\":\"user-menu\",\"text\":_vm.user.first_name || _vm.user.email}},[_c('b-dropdown-item',{attrs:{\"href\":\"/user_preferences/\"}},[_c('i',{staticClass:\"fas fa-cog mr-2\"}),_vm._v(\"Preferences \")]),_c('b-dropdown-divider'),_c('b-dropdown-item',{attrs:{\"href\":\"/accounts/logout/\"}},[_c('i',{staticClass:\"fas fa-sign-out-alt mr-2\"}),_vm._v(\"Log out \")])],1):_vm._e()],1)],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-navbar\n      v-if=\"!inMobileWebView\"\n      toggleable=\"xl\"\n      :class=\"{\n        'navbar-dark': theme === themes.Dark,\n        'navbar-light': theme === themes.Light\n      }\">\n      <b-container class=\"p-0\">\n        <b-navbar-brand href=\"/\">\n          <svg width=\"100\" height=\"30\">\n            <use href=\"#svg-logo-full\" />\n          </svg>\n        </b-navbar-brand>\n\n        <b-navbar-toggle target=\"navbar-toggle-collapse\">\n          <template>\n            <span class=\"navbar-toggler-icon\"></span>\n          </template>\n        </b-navbar-toggle>\n\n        <b-collapse id=\"navbar-toggle-collapse\" is-nav v-model=\"showMainMenu\">\n          <b-navbar-nav>\n            <b-nav-item v-if=\"user\" href=\"/printers/\" :class=\"{'active': viewName.includes('printers')}\">Printer</b-nav-item>\n            <b-nav-item v-if=\"user\" href=\"/prints/\" :class=\"{'active': viewName.includes('prints')}\">Time-lapse</b-nav-item>\n            <b-nav-item v-if=\"user\" href=\"/g_code_files/\" :class=\"{'active': viewName.includes('gcodes')}\">G-Code</b-nav-item>\n            <b-nav-item v-if=\"isEnt && !user\" href=\"/ent_pub/publictimelapses/\" :class=\"{'active': viewName === 'publictimelapse_list'}\" class=\"glowing\">Spaghetti Gallery</b-nav-item>\n            <b-nav-item v-if=\"isEnt\" href=\"/ent_pub/pricing/\" :class=\"{'active': viewName === 'pricing'}\">Pricing</b-nav-item>\n            <b-nav-item href=\"https://www.obico.io/help/\">Help</b-nav-item>\n            <b-nav-item href=\"https://obico.io/discord\">Community</b-nav-item>\n          </b-navbar-nav>\n\n          <b-navbar-nav class=\"ml-auto\">\n            <b-nav-item v-if=\"!user\" href=\"/accounts/login/\">SIGN IN</b-nav-item>\n            <b-nav-item v-if=\"!user && allowSignUp\" href=\"/accounts/signup/\">SIGN UP</b-nav-item>\n            <b-nav-item-dropdown v-if=\"user\" ref=\"accountDropdown\" right toggle-class=\"user-menu\" :text=\"user.first_name || user.email\">\n              <b-dropdown-item href=\"/user_preferences/\">\n                <i class=\"fas fa-cog mr-2\"></i>Preferences\n              </b-dropdown-item>\n              <b-dropdown-divider></b-dropdown-divider>\n              <b-dropdown-item href=\"/accounts/logout/\">\n                <i class=\"fas fa-sign-out-alt mr-2\"></i>Log out\n              </b-dropdown-item>\n            </b-nav-item-dropdown>\n          </b-navbar-nav>\n        </b-collapse>\n      </b-container>\n    </b-navbar>\n  </div>\n</template>\n\n<script>\nimport { inMobileWebView, user, settings } from '@src/lib/page_context'\nimport { Themes } from '@static/js/color-scheme'\nimport { currentThemeValue } from '@src/lib/color-scheme-controller'\n\nexport default {\n  name: 'Navbar',\n\n  components: {},\n\n  data() {\n    return {\n      user: null,\n      allowSignUp: false,\n      isEnt: false,\n      themes: Themes,\n      showMainMenu: false,\n    }\n  },\n\n  props: {\n    viewName: {\n      default() {return ''},\n      type: String,\n    },\n  },\n\n  created() {\n    const {ACCOUNT_ALLOW_SIGN_UP, IS_ENT} = settings()\n    this.allowSignUp = !!ACCOUNT_ALLOW_SIGN_UP\n    this.isEnt = !!IS_ENT\n    this.user = user()\n  },\n\n  computed: {\n    inMobileWebView() {\n      return inMobileWebView()\n    },\n\n    theme() {\n      return currentThemeValue()\n    },\n  },\n\n  methods: {\n    hideDropdowns() {\n      this.showMainMenu = false\n\n      // Check account dropdown (preferences and logout)\n      const accountDropdown = this.$refs.accountDropdown\n      if (accountDropdown) {\n        accountDropdown.hide()\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n::v-deep .navbar\n  padding: 0.5rem 1rem\n\n  a.navbar-brand\n    margin-top: -3px\n\n  .navbar-toggler\n    color: var(--color-text-primary)\n\n  .nav-item\n    text-transform: uppercase\n\n  .user-menu\n    text-transform: none\n\n  .badge-btn\n    position: relative\n    height: 1.8rem\n    margin-right: 1.5em\n\n    img\n      height: 1.3rem\n\n    .badge\n      position: absolute\n      left: 22px\n      top: 1px\n      height: 18px\n      border-radius: 4px\n      transition: transform 0.2s\n\n      /* Animation */\n      &:hover\n        transform: scale(1.3)\n\n  @media (min-width: 1200px)\n    padding: 0rem 1rem\n\n    .nav-item\n      padding: 0.5rem 0.24rem\n</style>\n\n\n\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=ff689708&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=ff689708&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff689708\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <navbar view-name=\"printer_shared\"></navbar>\n\n    <div class=\"row justify-content-center\">\n      <b-spinner v-if=\"loading\" class=\"mt-5\" label=\"Loading...\"></b-spinner>\n      <div v-if=\"printer\"\n        class=\"col-sm-12 col-lg-6 printer-card\"\n      >\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <div>{{ printer.name }}</div>\n          </div>\n          <streaming-box :printer=\"printer\" :webrtc=\"webrtc\" :autoplay=\"true\" />\n          <div class=\"p-3 p-md-5\">\n            <p class=\"text-center\">You are viewing an awesome 3D print your friend shared specifically with you on</p>\n            <a href=\"https://www.obico.io/\">\n              <svg width=\"100%\" class=\"logo-img\">\n                <use href=\"#svg-logo-full\" />\n              </svg>\n            </a>\n            <hr />\n            <br /><br />\n            <p class=\"text-center\">Obico let you monitor and control your printer from anywhere, on your phone.</p><a class=\"btn btn-block btn-primary\" href=\"/accounts/signup/\">Sign up for a free Obico account</a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport split from 'lodash/split'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport urls from '@config/server-urls'\nimport PrinterComm from '@src/lib/printer_comm'\nimport WebRTCConnection from '@src/lib/webrtc'\nimport StreamingBox from '@src/components/StreamingBox'\nimport Navbar from '@src/components/Navbar.vue'\nexport default {\n  name: 'SharedPrinterPage',\n  components: {\n    StreamingBox,\n    Navbar,\n  },\n  created(){\n    this.shareToken = split(window.location.pathname, '/').slice(-2, -1).pop()\n    this.printerComm = PrinterComm(\n      this.shareToken,\n      urls.printerSharedWebSocket(this.shareToken),\n      (data) => {\n        this.printer = normalizedPrinter(data, this.printer)\n        this.loading = false\n      }\n    )\n    this.printerComm.connect()\n    this.webrtc.openForShareToken(this.shareToken)\n  },\n  data: function() {\n    return {\n      printer: null,\n      shareToken: null,\n      videoAvailable: {},\n      loading: true,\n      webrtc: WebRTCConnection(),\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n#printer-list-page\n  margin-top: 1.5rem\n.printer-card\n  margin-bottom: 1.5rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedPrinterPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedPrinterPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SharedPrinterPage.vue?vue&type=template&id=0554ad52&scoped=true&\"\nimport script from \"./SharedPrinterPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SharedPrinterPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharedPrinterPage.vue?vue&type=style&index=0&id=0554ad52&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0554ad52\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"lg\":\"8\"}},[(_vm.printer)?_c('div',{staticClass:\"surface with-loading-animation full-on-mobile\"},[_c('section',{staticClass:\"settings\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Settings\")]),_c('div',{staticClass:\"form-group mb-4 mt-4\"},[_c('div',{staticClass:\"form-label text-muted mb-2\"},[_vm._v(\"Give your shiny new printer a name\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.name,\"saving\":_vm.saving.name}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.name),expression:\"printer.name\"}],staticClass:\"form-control field_required\",attrs:{\"id\":\"id_name\",\"type\":\"text\",\"name\":\"name\",\"maxlength\":\"200\",\"placeholder\":\"\",\"required\":\"required\"},domProps:{\"value\":(_vm.printer.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.printer, \"name\", $event.target.value)}}})])],1),_c('div',{staticClass:\"failure-notification\"},[_c('div',{staticClass:\"form-group mt-4 mb-4\"},[_c('div',{staticClass:\"form-label text-muted\"},[_vm._v(\"When a potential failure is detected:\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.action_on_failure_NONE,\"saving\":_vm.saving.action_on_failure_NONE}},[_c('div',{staticClass:\"custom-control custom-radio mt-1 radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.action_on_failure),expression:\"printer.action_on_failure\"}],staticClass:\"custom-control-input field_required\",attrs:{\"type\":\"radio\",\"name\":\"action_on_failure\",\"id\":\"id_action_on_failure_0\",\"value\":\"NONE\"},domProps:{\"checked\":_vm._q(_vm.printer.action_on_failure,\"NONE\")},on:{\"change\":[function($event){return _vm.$set(_vm.printer, \"action_on_failure\", \"NONE\")},function($event){return _vm.updateSetting('action_on_failure')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_action_on_failure_0\"}},[_vm._v(\"Just notify me\")])])]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.action_on_failure_PAUSE,\"saving\":_vm.saving.action_on_failure_PAUSE}},[_c('div',{staticClass:\"custom-control custom-radio mt-1 radio\",attrs:{\"id\":\"action_on_failure_PAUSE\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.action_on_failure),expression:\"printer.action_on_failure\"}],staticClass:\"custom-control-input field_required\",attrs:{\"type\":\"radio\",\"name\":\"action_on_failure\",\"id\":\"id_action_on_failure_1\",\"value\":\"PAUSE\"},domProps:{\"checked\":_vm._q(_vm.printer.action_on_failure,\"PAUSE\")},on:{\"change\":[function($event){return _vm.$set(_vm.printer, \"action_on_failure\", \"PAUSE\")},function($event){return _vm.updateSetting('action_on_failure')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_action_on_failure_1\"}},[_vm._v(\"Pause the printer and notify me\")])])])],1)])]),_c('section',{staticClass:\"mt-5\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Failure Detection\")]),_c('div',{staticClass:\"card-body p-0 pt-3\"},[_c('p',{staticClass:\"text-warning\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" If you are not sure about the settings below, leave the default values to minimize surprises. \")]),_c('div',{staticClass:\"form-group mt-4\"},[_c('div',{staticClass:\"form-label text-muted\"},[_vm._v(\"When print is paused,\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.tools_off_on_pause,\"saving\":_vm.saving.tools_off_on_pause}},[_c('div',{staticClass:\"custom-control custom-checkbox mt-2 checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.tools_off_on_pause),expression:\"printer.tools_off_on_pause\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"name\":\"tools_off_on_pause\",\"id\":\"id_tools_off_on_pause\"},domProps:{\"checked\":Array.isArray(_vm.printer.tools_off_on_pause)?_vm._i(_vm.printer.tools_off_on_pause,null)>-1:(_vm.printer.tools_off_on_pause)},on:{\"change\":[function($event){var $$a=_vm.printer.tools_off_on_pause,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.printer, \"tools_off_on_pause\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.printer, \"tools_off_on_pause\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.printer, \"tools_off_on_pause\", $$c)}},function($event){return _vm.updateSetting('tools_off_on_pause')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_tools_off_on_pause\"}},[_vm._v(\" Turn off hotend heater(s) \")])])]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.bed_off_on_pause,\"saving\":_vm.saving.bed_off_on_pause}},[_c('div',{staticClass:\"custom-control custom-checkbox mt-2 checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.bed_off_on_pause),expression:\"printer.bed_off_on_pause\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"name\":\"bed_off_on_pause\",\"id\":\"id_bed_off_on_pause\"},domProps:{\"checked\":Array.isArray(_vm.printer.bed_off_on_pause)?_vm._i(_vm.printer.bed_off_on_pause,null)>-1:(_vm.printer.bed_off_on_pause)},on:{\"change\":[function($event){var $$a=_vm.printer.bed_off_on_pause,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.printer, \"bed_off_on_pause\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.printer, \"bed_off_on_pause\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.printer, \"bed_off_on_pause\", $$c)}},function($event){return _vm.updateSetting('bed_off_on_pause')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_bed_off_on_pause\"}},[_vm._v(\" Turn off bed heater \")])])]),_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.retract_on_pause,\"saving\":_vm.saving.retract_on_pause}},[_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.retractFilamentByEnabled),expression:\"retractFilamentByEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"retract-checkbox\"},domProps:{\"checked\":Array.isArray(_vm.retractFilamentByEnabled)?_vm._i(_vm.retractFilamentByEnabled,null)>-1:(_vm.retractFilamentByEnabled)},on:{\"change\":function($event){var $$a=_vm.retractFilamentByEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.retractFilamentByEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.retractFilamentByEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.retractFilamentByEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"retract-checkbox\"}},[_vm._v(\"Retract filament by\")])]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":.5,\"disable\":!_vm.retractFilamentByEnabled},model:{value:(_vm.retractOnPause),callback:function ($$v) {_vm.retractOnPause=$$v},expression:\"retractOnPause\"}})],1)]),_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.lift_z_on_pause,\"saving\":_vm.saving.lift_z_on_pause}},[_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.liftExtruderByEnabled),expression:\"liftExtruderByEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"lift-z-checkbox\"},domProps:{\"checked\":Array.isArray(_vm.liftExtruderByEnabled)?_vm._i(_vm.liftExtruderByEnabled,null)>-1:(_vm.liftExtruderByEnabled)},on:{\"change\":function($event){var $$a=_vm.liftExtruderByEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.liftExtruderByEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.liftExtruderByEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.liftExtruderByEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"lift-z-checkbox\"}},[_vm._v(\"Lift extruder along Z axis by\")])]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":.5,\"disable\":!_vm.liftExtruderByEnabled},model:{value:(_vm.liftExtruderBy),callback:function ($$v) {_vm.liftExtruderBy=$$v},expression:\"liftExtruderBy\"}})],1)])],1),_c('div',{staticClass:\"form-group sensitivity my-4\"},[_c('div',{staticClass:\"form-label text-muted\"},[_vm._v(\"AI failure detection sensitivity\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.detective_sensitivity,\"saving\":_vm.saving.detective_sensitivity}},[_c('div',{staticClass:\"my-2 sensitivity-slider\"},[_c('vue-slider',{attrs:{\"lazy\":true,\"min\":0.8,\"max\":1.2,\"interval\":0.05,\"tooltipFormatter\":_vm.sensitivityTooltipFormatter},model:{value:(_vm.detectiveSensitivity),callback:function ($$v) {_vm.detectiveSensitivity=$$v},expression:\"detectiveSensitivity\"}})],1)]),(_vm.sensitivityTooltipFormatter(_vm.printer.detective_sensitivity) === 'Low')?_c('div',[_vm._v(\" Low - I don't want a lot of false alarms. Only alert me when you are absolutely sure. \")]):(_vm.sensitivityTooltipFormatter(_vm.printer.detective_sensitivity) === 'Medium')?_c('div',[_vm._v(\" Medium - A few false alarms won't bother me. But some well-disguised spaghetti will be missed. \")]):_c('div',[_vm._v(\" High - Hit me with all the false alarms. I want to catch as many failures as possible. \")])],1)])]),_c('section',{staticClass:\"mt-5\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Time-lapse\")]),(!(_vm.timelapseOnFinishEnabled && _vm.timelapseOnCancelEnabled))?_c('p',{staticClass:\"text-warning\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Focused Feedback won't be available when time-lapse recording is turned off. You won't be able to \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"}},[_vm._v(\"help us get better while earning AI Detection Hours for yourself\")]),_vm._v(\". \")]):_vm._e(),_c('div',{staticClass:\"form-group mt-4\"},[_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.min_timelapse_secs_on_finish,\"saving\":_vm.saving.min_timelapse_secs_on_finish}},[_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timelapseOnFinishEnabled),expression:\"timelapseOnFinishEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"timelapseOnFinishEnabled\"},domProps:{\"checked\":Array.isArray(_vm.timelapseOnFinishEnabled)?_vm._i(_vm.timelapseOnFinishEnabled,null)>-1:(_vm.timelapseOnFinishEnabled)},on:{\"change\":function($event){var $$a=_vm.timelapseOnFinishEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.timelapseOnFinishEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.timelapseOnFinishEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.timelapseOnFinishEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"timelapseOnFinishEnabled\"}},[_vm._v(\"Record time-lapse when a print finishes successfully.\")])])]),(_vm.timelapseOnFinishEnabled)?_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_vm._v(\" Skip if the print is finished in less than \")]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":5,\"unit\":\"minutes\"},model:{value:(_vm.minTimelapseMinutesOnFinish),callback:function ($$v) {_vm.minTimelapseMinutesOnFinish=$$v},expression:\"minTimelapseMinutesOnFinish\"}})],1):_vm._e()]),_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.min_timelapse_secs_on_cancel,\"saving\":_vm.saving.min_timelapse_secs_on_cancel}},[_c('div',{staticClass:\"form-inline mt-3 mb-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timelapseOnCancelEnabled),expression:\"timelapseOnCancelEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":\"timelapseOnCancelEnabled\"},domProps:{\"checked\":Array.isArray(_vm.timelapseOnCancelEnabled)?_vm._i(_vm.timelapseOnCancelEnabled,null)>-1:(_vm.timelapseOnCancelEnabled)},on:{\"change\":function($event){var $$a=_vm.timelapseOnCancelEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.timelapseOnCancelEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.timelapseOnCancelEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.timelapseOnCancelEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"timelapseOnCancelEnabled\"}},[_vm._v(\"Record time-lapse when a print is cancelled.\")])])]),(_vm.timelapseOnCancelEnabled)?_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_vm._v(\" Skip if the print is cancelled in less than \")]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":5,\"unit\":\"minutes\"},model:{value:(_vm.minTimelapseMinutesOnCancel),callback:function ($$v) {_vm.minTimelapseMinutesOnCancel=$$v},expression:\"minTimelapseMinutesOnCancel\"}})],1):_vm._e()])],1)]),_c('section',{staticClass:\"danger mt-5\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Danger Zone\")]),_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"href\":_vm.printerWizardUrl}},[_vm._v(\" Re-Link Printer \")]),_c('div',{staticClass:\"text-muted mt-1\"},[_c('small',[_vm._v(\"If your printer is always showing as \\\"offline\\\", and you have gone through \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\"}},[_vm._v(\"all the trouble-shooting steps\")]),_vm._v(\", you can try to re-link printer as the last resort.\")])])]),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"btn btn-outline-warning\",on:{\"click\":_vm.archivePrinter}},[_vm._v(\" Archive Printer \")]),_c('div',{staticClass:\"text-muted mt-1\"},[_c('small',[_vm._v(\"Archived printers are not counted toward your subscription plan. You won't see them in the app either. Go to \"),_c('a',{attrs:{\"href\":\"/ent/printers/archived/\"}},[_vm._v(\"this page\")]),_vm._v(\" to find all archived printers and/or un-archive them.\")])])]),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":_vm.deletePrinter}},[_vm._v(\" Delete Printer \")]),_c('div',{staticClass:\"text-muted mt-1\"},[_c('small',[_vm._v(\"Bye-bye printer.\")])])])])]):_c('div',{staticClass:\"text-center\"},[_c('b-spinner',{staticClass:\"mt-5\",attrs:{\"label\":\"Loading...\"}})],1)])],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group input-group-sm input-wrapper\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary control-button\",attrs:{\"type\":\"button\",\"disabled\":_vm.disable},on:{\"click\":function($event){_vm.inputValue = _vm.inputValue > 0 ? Math.round((_vm.inputValue - _vm.step) * 10) / 10 : 0;\n        _vm.$emit('input', _vm.inputValue);}}},[_vm._v(\"\")])]),_c('input',{staticClass:\"form-control text-center field_required\",style:({opacity: _vm.disable ? .3 : 1}),attrs:{\"type\":\"text\",\"disabled\":\"\",\"aria-describedby\":\"basic-addon1\"},domProps:{\"value\":_vm.inputValue + ' ' + _vm.unit}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary control-button\",attrs:{\"type\":\"button\",\"disabled\":_vm.disable},on:{\"click\":function($event){_vm.inputValue = Math.round((_vm.inputValue + _vm.step) * 10) / 10;\n        _vm.$emit('input', _vm.inputValue);}}},[_vm._v(\"\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-group input-group-sm input-wrapper\">\n    <div class=\"input-group-prepend\">\n      <button\n        class=\"btn btn-outline-secondary control-button\"\n        type=\"button\"\n        @click=\"\n          inputValue = inputValue > 0 ? Math.round((inputValue - step) * 10) / 10 : 0;\n          $emit('input', inputValue);\n        \"\n        :disabled=\"disable\"\n      ></button>\n    </div>\n    <input\n      type=\"text\"\n      class=\"form-control text-center field_required\"\n      disabled\n      aria-describedby=\"basic-addon1\"\n      :value=\"inputValue + ' ' + unit\"\n      :style=\"{opacity: disable ? .3 : 1}\"\n    >\n    <div class=\"input-group-append\">\n      <button\n        class=\"btn btn-outline-secondary control-button\"\n        type=\"button\"\n        @click=\"\n          inputValue = Math.round((inputValue + step) * 10) / 10;\n          $emit('input', inputValue);\n        \"\n        :disabled=\"disable\"\n      ></button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NumberInput',\n\n  props: {\n    value: {\n      type: Number,\n      default: 0\n    },\n    step: {\n      type: Number,\n      default: 0.5\n    },\n    disable: {\n      type: Boolean,\n      default: false\n    },\n    unit: {\n      type: String,\n      default: 'mm'\n    }\n  },\n\n  data() {\n    return {\n      inputValue: this.value\n    }\n  },\n\n  watch: {\n    value(newValue) {\n      this.inputValue = newValue\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n  .input-group.input-wrapper\n    border-radius: var(--border-radius-sm)\n    overflow: hidden\n    border: 1px solid var(--color-divider)\n\n    .control-button\n      border: none\n\n    .btn-outline-secondary\n      background-color: var(--color-input-background)\n\n      &:hover, &:focus, &:active\n        color: var(--color-text-primary)\n        background-color: var(--color-input-background)\n        opacity: .8\n        outline: none\n        box-shadow: none !important\n        border: none\n\n\n    input.form-control\n      background-color: var(--color-input-background)\n      color: var(--color-text-primary)\n      width: 6rem\n      border: none\n      border-left: 2px solid var(--color-divider)\n      border-right: 2px solid var(--color-divider)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NumberInput.vue?vue&type=template&id=3cf24ad5&scoped=true&\"\nimport script from \"./NumberInput.vue?vue&type=script&lang=js&\"\nexport * from \"./NumberInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NumberInput.vue?vue&type=style&index=0&id=3cf24ad5&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cf24ad5\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout>\n    <template v-slot:content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\">\n            <div v-if=\"printer\" class=\"surface with-loading-animation full-on-mobile\">\n              <section class=\"settings\">\n                <h2 class=\"section-title\">Settings</h2>\n                <div class=\"form-group mb-4 mt-4\">\n                  <div class=\"form-label text-muted mb-2\">Give your shiny new printer a name</div>\n                  <saving-animation :errors=\"errorMessages.name\" :saving=\"saving.name\">\n                    <input\n                      id=\"id_name\"\n                      type=\"text\"\n                      name=\"name\"\n                      maxlength=\"200\"\n                      placeholder=\"\"\n                      class=\"form-control field_required\"\n                      required=\"required\"\n                      v-model=\"printer.name\"\n                    >\n                  </saving-animation>\n                </div>\n                <!-- Potential failure section -->\n                <div class=\"failure-notification\">\n                  <div class=\"form-group mt-4 mb-4\">\n                    <div class=\"form-label text-muted\">When a potential failure is detected:</div>\n                    <saving-animation :errors=\"errorMessages.action_on_failure_NONE\" :saving=\"saving.action_on_failure_NONE\">\n                      <div class=\"custom-control custom-radio mt-1 radio\">\n                        <input\n                          type=\"radio\"\n                          name=\"action_on_failure\"\n                          class=\"custom-control-input field_required\"\n                          id=\"id_action_on_failure_0\"\n                          value=\"NONE\"\n                          v-model=\"printer.action_on_failure\"\n                          @change=\"updateSetting('action_on_failure')\"\n                        >\n                        <label class=\"custom-control-label\" for=\"id_action_on_failure_0\">Just notify me</label>\n                      </div>\n                    </saving-animation>\n                    <saving-animation :errors=\"errorMessages.action_on_failure_PAUSE\" :saving=\"saving.action_on_failure_PAUSE\">\n                      <div class=\"custom-control custom-radio mt-1 radio\" id=\"action_on_failure_PAUSE\">\n                        <input\n                          type=\"radio\"\n                          name=\"action_on_failure\"\n                          class=\"custom-control-input field_required\"\n                          id=\"id_action_on_failure_1\"\n                          value=\"PAUSE\"\n                          v-model=\"printer.action_on_failure\"\n                          @change=\"updateSetting('action_on_failure')\"\n                        >\n                        <label class=\"custom-control-label\" for=\"id_action_on_failure_1\">Pause the printer and notify me</label>\n                      </div>\n                    </saving-animation>\n                  </div>\n                </div>\n              </section>\n              <section class=\"mt-5\">\n                <h2 class=\"section-title\">Failure Detection</h2>\n                  <div class=\"card-body p-0 pt-3\">\n                    <p class=\"text-warning\">\n                      <i class=\"fas fa-exclamation-triangle\"></i>\n                      If you are not sure about the settings below, leave the default values to minimize surprises.\n                    </p>\n\n                    <!-- Advanced settngs: when printer is paused -->\n                    <div class=\"form-group mt-4\">\n                      <div class=\"form-label text-muted\">When print is paused,</div>\n                      <saving-animation :errors=\"errorMessages.tools_off_on_pause\" :saving=\"saving.tools_off_on_pause\">\n                        <div class=\"custom-control custom-checkbox mt-2 checkbox\">\n                          <input\n                            type=\"checkbox\"\n                            name=\"tools_off_on_pause\"\n                            class=\"custom-control-input\"\n                            id=\"id_tools_off_on_pause\"\n                            v-model=\"printer.tools_off_on_pause\"\n                            @change=\"updateSetting('tools_off_on_pause')\"\n                          >\n                          <label class=\"custom-control-label\" for=\"id_tools_off_on_pause\">\n                            Turn off hotend heater(s)\n                          </label>\n                        </div>\n                      </saving-animation>\n                      <saving-animation :errors=\"errorMessages.bed_off_on_pause\" :saving=\"saving.bed_off_on_pause\">\n                        <div class=\"custom-control custom-checkbox mt-2 checkbox\">\n                          <input\n                            type=\"checkbox\"\n                            name=\"bed_off_on_pause\"\n                            class=\"custom-control-input\"\n                            id=\"id_bed_off_on_pause\"\n                            v-model=\"printer.bed_off_on_pause\"\n                            @change=\"updateSetting('bed_off_on_pause')\"\n                          >\n                          <label class=\"custom-control-label\" for=\"id_bed_off_on_pause\">\n                            Turn off bed heater\n                          </label>\n                        </div>\n                      </saving-animation>\n\n                      <saving-animation :errors=\"errorMessages.retract_on_pause\" :saving=\"saving.retract_on_pause\" class=\"mobile-full-width\">\n                        <div class=\"form-inline my-1 checkbox-with-input\">\n                          <div class=\"custom-control custom-checkbox\">\n                            <input type=\"checkbox\" class=\"custom-control-input\" id=\"retract-checkbox\" v-model=\"retractFilamentByEnabled\">\n                            <label class=\"custom-control-label\" for=\"retract-checkbox\">Retract filament by</label>\n                          </div>\n                          <number-input\n                            v-model=\"retractOnPause\"\n                            :step=\".5\"\n                            :disable=\"!retractFilamentByEnabled\"\n                            class=\"wrappable-field\"\n                          ></number-input>\n                        </div>\n                      </saving-animation>\n\n                      <saving-animation :errors=\"errorMessages.lift_z_on_pause\" :saving=\"saving.lift_z_on_pause\" class=\"mobile-full-width\">\n                        <div class=\"form-inline my-1 checkbox-with-input\">\n                          <div class=\"custom-control custom-checkbox\">\n                            <input type=\"checkbox\" class=\"custom-control-input\" id=\"lift-z-checkbox\" v-model=\"liftExtruderByEnabled\">\n                            <label class=\"custom-control-label\" for=\"lift-z-checkbox\">Lift extruder along Z axis by</label>\n                          </div>\n                          <number-input\n                            v-model=\"liftExtruderBy\"\n                            :step=\".5\"\n                            :disable=\"!liftExtruderByEnabled\"\n                            class=\"wrappable-field\"\n                          ></number-input>\n                        </div>\n                      </saving-animation>\n                    </div>\n\n                    <!-- Advanced settngs: sensitivity slider -->\n                    <div class=\"form-group sensitivity my-4\">\n                      <div class=\"form-label text-muted\">AI failure detection sensitivity</div>\n                      <saving-animation :errors=\"errorMessages.detective_sensitivity\" :saving=\"saving.detective_sensitivity\">\n                        <div class=\"my-2 sensitivity-slider\">\n                          <vue-slider\n                            v-model=\"detectiveSensitivity\"\n                            :lazy=\"true\"\n                            :min=\"0.8\"\n                            :max=\"1.2\"\n                            :interval=\"0.05\"\n                            :tooltipFormatter=\"sensitivityTooltipFormatter\"\n                          />\n                        </div>\n                      </saving-animation>\n                      <div v-if=\"sensitivityTooltipFormatter(printer.detective_sensitivity) === 'Low'\">\n                        Low - I don't want a lot of false alarms. Only alert me when you are absolutely sure.\n                      </div>\n                      <div v-else-if=\"sensitivityTooltipFormatter(printer.detective_sensitivity) === 'Medium'\">\n                        Medium - A few false alarms won't bother me. But some well-disguised spaghetti will be missed.\n                      </div>\n                      <div v-else>\n                        High - Hit me with all the false alarms. I want to catch as many failures as possible.\n                      </div>\n                    </div>\n                  </div>\n              </section>\n              <section class=\"mt-5\">\n                <h2 class=\"section-title\">Time-lapse</h2>\n                <p v-if=\"!(timelapseOnFinishEnabled && timelapseOnCancelEnabled)\" class=\"text-warning\">\n                  <i class=\"fas fa-exclamation-triangle\"></i>\n                  Focused Feedback won't be available when time-lapse recording is turned off. You won't be able to <a href=\"https://www.obico.io/docs/user-guides/how-does-credits-work/\">help us get better while earning AI Detection Hours for yourself</a>.\n                </p>\n                <div class=\"form-group mt-4\">\n                  <saving-animation :errors=\"errorMessages.min_timelapse_secs_on_finish\" :saving=\"saving.min_timelapse_secs_on_finish\" class=\"mobile-full-width\">\n                    <div class=\"form-inline my-1 checkbox-with-input\">\n                      <div class=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"timelapseOnFinishEnabled\" v-model=\"timelapseOnFinishEnabled\">\n                        <label class=\"custom-control-label\" for=\"timelapseOnFinishEnabled\">Record time-lapse when a print finishes successfully.</label>\n                      </div>\n                    </div>\n                    <div\n                      v-if=\"timelapseOnFinishEnabled\"\n                      class=\"form-inline my-1 checkbox-with-input\"\n                      >\n                      <div class=\"custom-control custom-checkbox\">\n                        Skip if the print is finished in less than\n                      </div>\n                      <number-input\n                        v-model=\"minTimelapseMinutesOnFinish\"\n                        :step=\"5\"\n                        unit=\"minutes\"\n                        class=\"wrappable-field\"\n                      ></number-input>\n                    </div>\n                  </saving-animation>\n                  <saving-animation :errors=\"errorMessages.min_timelapse_secs_on_cancel\" :saving=\"saving.min_timelapse_secs_on_cancel\" class=\"mobile-full-width\">\n                    <div class=\"form-inline mt-3 mb-1 checkbox-with-input\">\n                      <div class=\"custom-control custom-checkbox\">\n                        <input type=\"checkbox\" class=\"custom-control-input\" id=\"timelapseOnCancelEnabled\" v-model=\"timelapseOnCancelEnabled\">\n                        <label class=\"custom-control-label\" for=\"timelapseOnCancelEnabled\">Record time-lapse when a print is cancelled.</label>\n                      </div>\n                    </div>\n                    <div\n                      v-if=\"timelapseOnCancelEnabled\"\n                      class=\"form-inline my-1 checkbox-with-input\"\n                      >\n                      <div class=\"custom-control custom-checkbox\">\n                        Skip if the print is cancelled in less than\n                      </div>\n                      <number-input\n                        v-model=\"minTimelapseMinutesOnCancel\"\n                        :step=\"5\"\n                        unit=\"minutes\"\n                        class=\"wrappable-field\"\n                      ></number-input>\n                    </div>\n                  </saving-animation>\n                </div>\n              </section>\n              <section class=\"danger mt-5\">\n                <h2 class=\"section-title\">Danger Zone</h2>\n                <div class=\"mt-4\">\n                  <a\n                    class=\"btn btn-outline-secondary\"\n                    :href=\"printerWizardUrl\">\n                        Re-Link Printer\n                  </a>\n                  <div class=\"text-muted mt-1\">\n                    <small>If your printer is always showing as \"offline\", and you have gone through <a href=\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\">all the trouble-shooting steps</a>, you can try to re-link printer as the last resort.</small>\n                  </div>\n                </div>\n                <div class=\"mt-4\">\n                  <button\n                    class=\"btn btn-outline-warning\"\n                    @click=\"archivePrinter\"\n                  >\n                    Archive Printer\n                  </button>\n                  <div class=\"text-muted mt-1\">\n                    <small>Archived printers are not counted toward your subscription plan. You won't see them in the app either. Go to <a href=\"/ent/printers/archived/\">this page</a> to find all archived printers and/or un-archive them.</small>\n                  </div>\n                </div>\n                <div class=\"mt-4\">\n                  <button\n                    class=\"btn btn-outline-danger\"\n                    @click=\"deletePrinter\"\n                  >\n                    Delete Printer\n                  </button>\n                  <div class=\"text-muted mt-1\">\n                    <small>Bye-bye printer.</small>\n                  </div>\n                </div>\n              </section>\n            </div>\n            <div v-else class=\"text-center\">\n              <b-spinner class=\"mt-5\" label=\"Loading...\"></b-spinner>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n\n\n      <!-- <div class=\"row justify-content-center\">\n        <div class=\"col-sm-11 col-md-10 col-lg-8\">\n\n\n        </div>\n      </div> -->\n    </template>\n  </layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport split from 'lodash/split'\nimport VueSlider from 'vue-slider-component'\n\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport urls from '@config/server-urls'\nimport SavingAnimation from '@src/components/SavingAnimation.vue'\nimport NumberInput from '@src/components/NumberInput.vue'\nimport Layout from '@src/components/Layout.vue'\n\nexport default {\n  components: {\n    SavingAnimation,\n    NumberInput,\n    Layout,\n    VueSlider,\n  },\n\n  data() {\n    return {\n      printer: null,\n      printerId: '',\n      saving: {},\n      errorMessages: {},\n      delayedSubmit: { // Make pause before sending new value to API\n        'name': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n        'retract_on_pause': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n        'lift_z_on_pause': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n        'min_timelapse_secs_on_finish': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n        'min_timelapse_secs_on_cancel': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n      }\n    }\n  },\n\n  computed: {\n    retractFilamentByEnabled: {\n      get(){\n        return this.printer.retract_on_pause > 0\n      },\n      set(newValue){\n        if (newValue) {\n          this.printer.retract_on_pause = 6.5 // Default retraction value\n        } else {\n          this.printer.retract_on_pause = 0\n        }\n      },\n    },\n    retractOnPause: {\n      get() {\n        return this.printer ? this.printer.retract_on_pause : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.retract_on_pause = newValue\n        }\n      }\n    },\n    liftExtruderByEnabled: {\n      get(){\n        return this.printer.lift_z_on_pause > 0\n      },\n      set(newValue){\n        if (newValue) {\n          this.printer.lift_z_on_pause = 2.5 // Default z-lift value\n        } else {\n          this.printer.lift_z_on_pause = 0\n        }\n      },\n    },\n    liftExtruderBy: {\n      get() {\n        return this.printer ? this.printer.lift_z_on_pause : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.lift_z_on_pause = newValue\n        }\n      }\n    },\n    timelapseOnFinishEnabled: {\n      get(){\n        return this.printer.min_timelapse_secs_on_finish >= 0\n      },\n      set(newValue){\n        if (newValue) {\n          this.printer.min_timelapse_secs_on_finish = 600\n        } else {\n          this.printer.min_timelapse_secs_on_finish = -1\n        }\n      },\n    },\n    minTimelapseMinutesOnFinish: {\n      get() {\n        return this.printer ? this.printer.min_timelapse_secs_on_finish / 60 : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.min_timelapse_secs_on_finish = newValue * 60\n        }\n      }\n    },\n    timelapseOnCancelEnabled: {\n      get(){\n        return this.printer.min_timelapse_secs_on_cancel >= 0\n      },\n      set(newValue){\n        if (newValue) {\n          this.printer.min_timelapse_secs_on_cancel = 300\n        } else {\n          this.printer.min_timelapse_secs_on_cancel = -1\n        }\n      },\n    },\n    minTimelapseMinutesOnCancel: {\n      get() {\n        return this.printer ? this.printer.min_timelapse_secs_on_cancel / 60 : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.min_timelapse_secs_on_cancel = newValue * 60\n        }\n      }\n    },\n    printerWizardUrl() {\n      return urls.printerWizard(this.printer.id)\n    },\n    printerName: {\n      get: function() {\n        return this.printer ? this.printer.name : undefined\n      },\n      set: function(newValue) {\n        this.printer.name = newValue\n      }\n    },\n    detectiveSensitivity: {\n      get() {\n        return this.printer.detective_sensitivity\n      },\n      set(newValue) {\n        this.printer.detective_sensitivity = newValue\n        this.updateSetting('detective_sensitivity')\n      },\n    },\n  },\n\n  // Watch these properties so that updates can be triggered at key-press, instead of losing focus\n  // To watch deep properties in an object: https://stackoverflow.com/questions/42133894/vue-js-how-to-properly-watch-for-nested-data\n  watch: {\n    printerName: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('name')\n      }\n    },\n    retractOnPause: function(newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.changeRetractOnPause(newValue)\n      }\n    },\n    liftExtruderBy: function(newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.changeLiftExtruderBy(newValue)\n      }\n    },\n    minTimelapseMinutesOnFinish: function(newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('min_timelapse_secs_on_finish')\n      }\n    },\n    minTimelapseMinutesOnCancel: function(newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('min_timelapse_secs_on_cancel')\n      }\n    },\n  },\n\n  created() {\n    this.printerId = split(window.location.pathname, '/').slice(-2, -1).pop()\n    this.fetchPrinter()\n  },\n\n  methods: {\n    /**\n     * Get actual printer settings\n     */\n    fetchPrinter() {\n      return axios\n        .get(urls.printer(this.printerId))\n        .then(response => {\n          this.printer = normalizedPrinter(response.data, this.printer)\n        })\n    },\n\n    /**\n     * Update printer settings\n     * @param {String} propName\n     * @param {any} propValue\n     * @param {String} settingsItem\n     */\n    patchPrinter(propName, propValue) {\n\n      const inputElem = this.getSettingsItemInput(propName, propValue)\n      this.setSavingStatus(inputElem, true)\n\n      // Make request to API\n      return axios\n        .patch(urls.printer(this.printerId), {\n          [propName]: propValue\n        })\n        .catch(err => {\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            if (err.response.data.non_field_errors) {\n              this.errorAlert(err.response.data.non_field_errors)\n            } else {\n              for (const error in err.response.data) {\n                this.errorMessages[inputElem] = err.response.data[error]\n              }\n            }\n          } else {\n            this.errorAlert()\n          }\n        })\n        .then(() => {\n          this.setSavingStatus(inputElem, false)\n        })\n    },\n\n    /**\n     * Show error alert if can not save settings\n     */\n    errorAlert() {\n      this.$swal.Toast.fire({\n        icon: 'error',\n        html: '<div>Can not update printer settings.</div><div>Get help from <a href=\"https://obico.io/discord\">the Obico app discussion forum</a> if this error persists.</div>',\n      })\n    },\n\n    /**\n     * Update particular settings item\n     * @param {String} settingsItem\n     */\n    updateSetting(settingsItem) {\n      if (settingsItem in this.delayedSubmit) {\n        const delayInfo = this.delayedSubmit[settingsItem]\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n        this.delayedSubmit[settingsItem]['timeoutId'] = setTimeout(() => {\n          this.patchPrinter(settingsItem, this.printer[settingsItem])\n        }, delayInfo['delay'])\n        return\n      }\n\n      this.patchPrinter(settingsItem, this.printer[settingsItem])\n    },\n\n    sensitivityTooltipFormatter: function(value) {\n      if (value < 0.95) {\n        return 'Low'\n      }\n      if (value > 1.05) {\n        return 'High'\n      }\n      return 'Medium'\n    },\n\n    deletePrinter(printer) {\n      this.$swal.Prompt.fire({\n        title: 'Are you sure?',\n        text: `Delete ${this.printer.name} printer? This action can not be undone.`,\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No'\n      }).then(userAction => {\n        if (userAction.isConfirmed) {\n          axios\n            .delete(urls.printer(this.printerId) + '?with_archived=true')\n            .then(() => {\n              window.location.href = `/printers/`\n            })\n        }\n      })\n    },\n\n    archivePrinter() {\n      this.$swal.Confirm.fire().then((userAction) => {\n        if (userAction.isConfirmed) {\n          axios\n            .post(urls.printerAction(this.printerId, '/archive/'))\n            .then(() => {\n              this.$swal.Prompt.fire({\n                  title: 'Printer archived',\n                  html: `<p>${this.printer.name} is archived.</p><p>You can find it on <a href=\"/ent/printers/archived/\">this page</a> and un-archive it.</p>`,\n                  confirmButtonText: 'Go to the printer page',\n                })\n                .then(() => {\n                  window.location.href = '/printers/'\n                })\n            })\n        }\n      })\n    },\n\n    /**\n     * Return input element by given name\n     * @param {String} settingsItem\n     * @returns {Object, null}\n     */\n    getSettingsItemInput: function(settingsItem, value = '') {\n      switch (settingsItem) {\n      case 'action_on_failure':\n        return `${settingsItem}_${value}`\n      default:\n        return `${settingsItem}`\n      }\n    },\n\n    /**\n     * Interlayer for saving status control to be able to set same saving status\n     * for 2 or more different inputs grouped to one block\n     * @param {String} propName\n     * @param {String} status\n     */\n    setSavingStatus(propName, status) {\n      if (status) {\n        delete this.errorMessages[propName]\n      }\n      this.$set(this.saving, propName, status)\n    },\n\n    changeRetractOnPause(value) {\n      this.printer.retract_on_pause = value\n      this.updateSetting('retract_on_pause')\n    },\n\n    changeLiftExtruderBy(value) {\n      this.printer.lift_z_on_pause = value\n      this.updateSetting('lift_z_on_pause')\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@import 'vue-slider-component/lib/theme/default.scss'\n\n.card\n  overflow: visible !important\n\n.custom-control-label\n  font-size: 16px\n\n@media (max-width: 768px)\n  .mobile-full-width\n    width: 100%\n    margin-top: .25em\n    margin-bottom: .4em\n\n.section-title\n  padding-bottom: 10px\n  border-bottom: 1px solid var(--color-text-primary)\n\n.form-label\n  font-size: 18px\n\nsection.danger\n  .section-title\n    color: var(--color-danger)\n    border-color: var(--color-danger)\n\n.form-inline\n  .wrappable-field\n    margin-left: 1.5rem\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterSettingsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterSettingsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterSettingsPage.vue?vue&type=template&id=3b3386e6&scoped=true&\"\nimport script from \"./PrinterSettingsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterSettingsPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterSettingsPage.vue?vue&type=style&index=0&id=3b3386e6&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b3386e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"wizard-container form-container full-on-mobile\"},[(_vm.verifiedPrinter)?_c('div',{staticClass:\"text-center py-5\"},[_c('svg',{staticClass:\"success-checkmark\"},[_c('use',{attrs:{\"href\":\"#svg-success-checkmark\"}})]),_c('h3',{staticClass:\"pb-4\"},[_vm._v(\"Successfully linked to your account!\")]),_c('div',{staticClass:\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\"},[_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.printer_name,\"saving\":_vm.saving.printer_name}},[_c('div',{staticClass:\"printer-name-input\"},[_c('div',{staticClass:\"edit-icon\"},[_c('i',{staticClass:\"fas fa-pen\"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.verifiedPrinter.name),expression:\"verifiedPrinter.name\"}],staticClass:\"dark\",attrs:{\"type\":\"text\",\"placeholder\":\"Printer name\"},domProps:{\"value\":(_vm.verifiedPrinter.name)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.verifiedPrinter, \"name\", $event.target.value)},_vm.updatePrinterName]}})])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\"Give your printer a shiny name.\")])])],1),_c('br'),_c('br'),_c('div',{staticClass:\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\"},[(_vm.redirectToTunnelCreation)?_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-primary btn-block mx-auto btn-lg\",attrs:{\"href\":_vm.redirectToTunnelCreation}},[_vm._v(\"Authorize App Access\")])]):_c('div',[_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-primary btn-block mx-auto btn-lg\",attrs:{\"href\":\"/printers/\"}},[_vm._v(\"Go Check Out Printer Feed!\")])]),_c('div',{staticClass:\"mt-5\"},[_c('a',{staticClass:\"btn btn-outline-secondary btn-block mx-auto\",attrs:{\"href\":\"/user_preferences/notification_twilio/\"}},[_vm._v(\"Add Phone Number\")])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\"Receive text (SMS) in case of print failures.\")])]),_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-outline-secondary btn-block mx-auto\",attrs:{\"href\":_vm.editPrinterUrl}},[_vm._v(\"Change Printer Settings\")])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\"You can always change it later.\")])])])])]):_c('div',[(_vm.$route.path === _vm.routes.printerWizardSetup)?_c('div',[_c('form-wizard',{attrs:{\"color\":\"var(--color-primary)\",\"step-size\":\"sm\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(props){return [_c('div',{staticClass:\"wizard-footer-left\"},[(props.activeTabIndex > 0)?_c('wizard-button',{staticClass:\"btn btn-link btn-back\",nativeOn:{\"click\":function($event){props.prevTab(); _vm.prevTab(props.activeTabIndex);}}},[_vm._v(\"< Back\")]):_vm._e()],1),_c('div',{staticClass:\"wizard-footer-right\"},[(!props.isLastStep)?_c('wizard-button',{staticClass:\"wizard-footer-right wizard-btn\",style:(Object.assign({}, props.fillButtonStyle, {color: 'var(--color-on-primary)'})),nativeOn:{\"click\":function($event){props.nextTab(); _vm.nextTab(props.activeTabIndex);}}},[_vm._v(\"Next >\")]):_vm._e()],1)]}}],null,false,223951993)},[_c('h3',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),(_vm.targetMoonraker)?_c('tab-content',{attrs:{\"title\":\"Install Obico for Klipper\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('ol',[_c('li',[_vm._v(\"SSH to the Raspberry Pi your Klipper runs on.\")]),_c('li',[_c('div',[_vm._v(\"Run:\")]),_c('pre',{staticClass:\"mt-2\"},[_vm._v(\"cd ~\\ngit clone https://github.com/TheSpaghettiDetective/moonraker-obico.git\\ncd moonraker-obico\\n./install.sh\\n                              \")])]),_c('li',[_vm._v(\"Follow the installation steps.\")]),_c('li',[_vm._v(\"At the end, you will be asked to enter a 6-digit verification code.\")])])])])])]):_vm._e(),(_vm.printerIdToLink && _vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Open Plugin Settings\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('div',{staticClass:\"text-warning\"},[_vm._v(\" Warning: Re-Linking OctoPrint should be your last resort to solve issues. Please make sure you have exhausted all options on \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/help/\"}},[_vm._v(\"Obico's help website\")]),_vm._v(\". \")]),_c('ol',[_c('li',[_vm._v(\"Open OctoPrint in another browser tab. \")]),_c('li',[_vm._v(\"Select \"),_c('em',[_vm._v(\"\\\"OctoPrint settings menu  Obico for OctoPrint\\\"\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Select \"),_c('em',[_vm._v(\"\\\"Troubleshooting  Re-run Wizard\\\"\")]),_vm._v(\".\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[_c('img',{staticClass:\"mx-auto\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/plugin_rerun_setup.png')}})])])])]):_vm._e(),(!_vm.printerIdToLink && _vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Install Plugin\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('ol',[_c('li',[_vm._v(\"Open OctoPrint in another browser tab. \")]),_c('li',[_vm._v(\"Select \"),_c('em',[_vm._v(\"\\\"OctoPrint settings menu  Plugin Manager  Get More...\\\"\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Enter \\\"Obico\\\" to locate the plugin. Click \"),_c('em',[_vm._v(\"\\\"Install\\\"\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Restart OctoPrint when prompted.\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[_c('img',{staticClass:\"mx-auto screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/install_plugin.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}})])])])]):_vm._e(),(_vm.discoveryEnabled)?[(_vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Link It!\"}},[_c('loading',{attrs:{\"active\":_vm.chosenDeviceId != null,\"can-cancel\":false}}),_c('div',{staticClass:\"discover\"},[_c('div',{staticClass:\"discover-body\"},[(!_vm.canStartLinking)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('div',{staticClass:\"spinner-border big\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"})]),_c('div',{staticClass:\"lead\"},[_vm._v(\" Scanning... \")])]):_c('div',[_c('div',{staticClass:\"lead my-3\"},[_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"})]),_c('span',{staticClass:\"sr-only\"}),_vm._v(\"Scanning..., \"+_vm._s(_vm.discoveredPrinters.length)+\" OctoPrint(s) found on your local network:\")]),_vm._l((_vm.discoveredPrinters),function(discoveredPrinter){return _c('discovered-printer',{key:discoveredPrinter.device_id,attrs:{\"discoveredPrinter\":discoveredPrinter},on:{\"auto-link-printer\":_vm.autoLinkPrinter}})})],2),_c('div',{staticClass:\"mt-5 mb-3\"},[_vm._v(\" Can't find the OctoPrint you want to link? Switch to \"),_c('a',{staticClass:\"link\",on:{\"click\":function($event){_vm.discoveryEnabled=false}}},[_vm._v(\"Manual Setup\")]),_vm._v(\" instead. \")]),(_vm.discoveryCount>=2)?_c('div',{staticClass:\"text-muted\"},[_c('div',[_vm._v(\"To link your OctoPrint, please make sure:\")]),_c('ul',[_c('li',[_vm._v(\"The Raspberry Pi is powered on.\")]),_c('li',[_vm._v(\"The Raspberry Pi is connected to the same local network as your phone/computer.\")]),_c('li',[_vm._v(\"The Obico plugin version is 1.8.0 or above.\")])])]):_vm._e()])])],1):_vm._e()]:[(_vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Plugin Wizard\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('ol',[_c('li',[_vm._v(\"Wait for \"),_c('em',[_vm._v(\"\\\"Obico for OctoPrint\\\"\")]),_vm._v(\" wizard to popup.\")]),_c('li',[_vm._v(\"Follow the instructions in the wizard.\")]),_c('li',[_vm._v(\"Select \"),_c('em',[_vm._v(\"\\\"Web Setup\\\"\")]),_vm._v(\" when asked.\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[_c('img',{staticClass:\"mx-auto screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/plugin_wizard_websetup.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}})])])])]):_vm._e(),_c('tab-content',{attrs:{\"title\":\"Enter Code\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8  d-flex flex-column align-items-center\"},[_c('input',{ref:\"code\",staticClass:\"code-btn\",attrs:{\"disabled\":\"\"},domProps:{\"value\":(\"\" + (_vm.verificationCode && _vm.verificationCode.code))}}),_c('small',{staticClass:\"mx-auto py-1\",class:{'text-muted': !_vm.copied}},[_vm._v(_vm._s(_vm.copied ? 'Code copied to system clipboard' : 'Ctrl-C/Cmd-C to copy the code'))]),_c('div',{staticClass:\"mx-auto pt-1 pb-4\"},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Code will expire in \")]),_vm._v(_vm._s(_vm.timeToExpire))]),_c('div',{staticClass:\"lead\"},[_vm._v(\"Enter the \"),_c('strong',[_vm._v(\"6-digit verification code\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[(_vm.targetOctoPrint)?_c('img',{staticClass:\"screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/plugin_verification_code.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}}):_vm._e(),(_vm.targetMoonraker)?_c('img',{staticClass:\"screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/moonraker_verification_code.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}}):_vm._e(),_c('div',{staticClass:\"helper mx-auto py-2\"},[_c('a',{staticClass:\"link font-weight-bold\",on:{\"click\":_vm.showVerificationCodeHelpModal}},[_vm._v(\"Can't find the page to enter the 6-digit code?\")])])])])])])]],2),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"helper col-sm-12\"},[_vm._v(\"Need help? Check out the \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.targetMoonraker ? 'https://www.obico.io/docs/user-guides/klipper-setup/' : 'https://www.obico.io/docs/user-guides/octoprint-plugin-setup/'}},[_vm._v(\"step-by-step set up guide.\")])])])],1):_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"col-sm-12 text-center p-3\"},[_vm._v(\"Which platform are you using?\")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 col-lg-6 p-4\"},[_c('div',{staticClass:\"wizard-card\",on:{\"click\":function($event){return _vm.setTargetPlatform('octoprint')}}},[_c('img',{attrs:{\"src\":require('@static/img/octoprint_logo.png')}}),_c('h3',{staticClass:\"mt-4\"},[_vm._v(\"OctoPrint\")]),_c('div',[_vm._v(\"Including OctoPrint for Klipper such as OctoKlipper.\")])])]),_c('div',{staticClass:\"col-sm-12 col-lg-6 p-4\"},[_c('div',{staticClass:\"wizard-card\",on:{\"click\":function($event){return _vm.setTargetPlatform('moonraker')}}},[_c('div',[_c('img',{attrs:{\"src\":require('@static/img/klipper_logo.jpg')}}),_c('img',{attrs:{\"src\":require('@static/img/mainsail_logo.png')}}),_c('img',{attrs:{\"src\":require('@static/img/fluidd_logo.png')}})]),_c('h3',{staticClass:\"mt-4\"},[_vm._v(\"Klipper\")]),_c('h5',[_vm._v(\"with Mainsail/Fluidd/Moonraker\")])])])])])])])])],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"discovered-printers mt-4\"},[_c('div',{staticClass:\"flex-grow-0 pt-1 mr-2\"},[(_vm.discoveredPrinter.rpi_model)?_c('img',{staticClass:\"logo-img\",attrs:{\"src\":require('@static/img/raspberry_pi.png')}}):_c('img',{staticClass:\"logo-img\",attrs:{\"src\":require('@static/img/octoprint_logo.png')}})]),_c('div',{staticClass:\"row flex-grow-1 ml-1 link-action\"},[_c('div',{staticClass:\"col-sm-12 col-md-10 pb-2\"},[(_vm.discoveredPrinter.rpi_model)?_c('div',[_vm._v(\" \"+_vm._s(_vm.discoveredPrinter.rpi_model)+\" \")]):_vm._e(),(_vm.discoveredPrinter.machine_type)?_c('div',[_vm._v(\" \"+_vm._s(_vm.discoveredPrinter.machine_type)+\" \")]):_vm._e(),(_vm.discoveredPrinter.agent)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" Platform: \"+_vm._s(_vm.discoveredPrinter.agent)+\" \")]):_vm._e(),(_vm.discoveredPrinter.host_or_ip)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" IP address: \"+_vm._s(_vm.discoveredPrinter.host_or_ip)+\" \")]):_vm._e(),(_vm.discoveredPrinter.hostname)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" Hostname: \"+_vm._s(_vm.discoveredPrinter.hostname)+\" \")]):_vm._e(),(_vm.discoveredPrinter.octopi_version)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" OctoPi: \"+_vm._s(_vm.discoveredPrinter.octopi_version)+\" \")]):_vm._e(),(!_vm.discoveredPrinter.octopi_version && _vm.discoveredPrinter.os)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" OS: \"+_vm._s(_vm.discoveredPrinter.os)+\" \")]):_vm._e()]),_c('div',{staticClass:\"col-sm-12 col-md-2 center px-3\"},[_c('button',{staticClass:\"btn btn-block btn-primary\",on:{\"click\":function($event){return _vm.$emit('auto-link-printer', Object.assign({}, _vm.discoveredPrinter))}}},[_vm._v(\"Link\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"discovered-printers mt-4\">\n  <div class=\"flex-grow-0 pt-1 mr-2\">\n    <img v-if=\"discoveredPrinter.rpi_model\" class=\"logo-img\"\n      :src=\"require('@static/img/raspberry_pi.png')\" />\n    <img v-else class=\"logo-img\"\n      :src=\"require('@static/img/octoprint_logo.png')\" />\n  </div>\n  <div class=\"row flex-grow-1 ml-1 link-action\">\n    <div class=\"col-sm-12 col-md-10 pb-2\">\n      <div v-if=\"discoveredPrinter.rpi_model\">\n        {{discoveredPrinter.rpi_model}}\n      </div>\n      <div v-if=\"discoveredPrinter.machine_type\">\n        {{discoveredPrinter.machine_type}}\n      </div>\n      <div v-if=\"discoveredPrinter.agent\" class=\"text-muted small\">\n        Platform: {{discoveredPrinter.agent}}\n      </div>\n      <div v-if=\"discoveredPrinter.host_or_ip\" class=\"text-muted small\">\n        IP address: {{discoveredPrinter.host_or_ip}}\n      </div>\n      <div v-if=\"discoveredPrinter.hostname\" class=\"text-muted small\">\n        Hostname: {{discoveredPrinter.hostname}}\n      </div>\n      <div v-if=\"discoveredPrinter.octopi_version\" class=\"text-muted small\">\n        OctoPi: {{discoveredPrinter.octopi_version}}\n      </div>\n      <div v-if=\"!discoveredPrinter.octopi_version && discoveredPrinter.os\" class=\"text-muted small\">\n        OS: {{discoveredPrinter.os}}\n      </div>\n    </div>\n    <div class=\"col-sm-12 col-md-2 center px-3\">\n      <button class=\"btn btn-block btn-primary\" @click=\"$emit('auto-link-printer', {...discoveredPrinter})\">Link</button>\n    </div>\n  </div>\n\n</div>\n</template>\n\n<script>\n\nexport default {\n  name: 'DiscoveredPrinter',\n  props: {\n    discoveredPrinter: {\n      type: Object,\n      required: true\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\">\n.discovered-printers\n  display: flex\n  flex-direction: columns\n\n  .logo-img\n    height: 3.5rem\n\n  .link-action\n    border-left: solid thin\n\n.center\n  display: flex\n  justify-content: center\n  align-items: center\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveredPrinter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveredPrinter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiscoveredPrinter.vue?vue&type=template&id=b43f7cfe&\"\nimport script from \"./DiscoveredPrinter.vue?vue&type=script&lang=js&\"\nexport * from \"./DiscoveredPrinter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DiscoveredPrinter.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"px-2\"},[_c('div',{staticClass:\"title-pic\"},[_c('img',{staticClass:\"pic-item\",attrs:{\"src\":require('@static/img/webpage-multiple.svg')}}),_vm._m(0),_c('img',{staticClass:\"pic-item\",attrs:{\"src\":require('@static/img/octoprint_logo.png')}})]),_vm._m(1),_c('div',[_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-block btn-primary mt-2\",attrs:{\"disabled\":_vm.linking},on:{\"click\":_vm.autoLinkPrinter}},[(_vm.linking)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e(),_vm._v(\"Link Now \"),_c('i',{staticClass:\"fas fa-external-link-alt\"})],1)]),_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-block btn-secondary mt-2\",on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pic-item\"},[_c('i',{staticClass:\"fas fa-ellipsis-h fa-2x\"}),_c('i',{staticClass:\"fas fa-ellipsis-h fa-2x\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-4\"},[_c('p',[_vm._v(\"The Obico app needs to make sure you have access to selected OctoPrint.\")]),_c('p',[_vm._v(\"When you press \\\"Link Now\\\" button below, a new browser window will pop up to finish a handshake with this OctoPrint.\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"px-2\">\n    <div class=\"title-pic\">\n    <img class=\"pic-item\"\n      :src=\"require('@static/img/webpage-multiple.svg')\" />\n    <div class=\"pic-item\">\n      <i class=\"fas fa-ellipsis-h fa-2x\"></i>\n      <i class=\"fas fa-ellipsis-h fa-2x\"></i>\n    </div>\n    <img class=\"pic-item\"\n      :src=\"require('@static/img/octoprint_logo.png')\" />\n    </div>\n    <div class=\"my-4\">\n      <p>The Obico app needs to make sure you have access to selected OctoPrint.</p>\n      <p>When you press \"Link Now\" button below, a new browser window will pop up to finish a handshake with this OctoPrint.</p>\n    </div>\n    <div>\n    <div class=\"row my-2\">\n      <div class=\"col-sm-6\">\n        <button class=\"btn btn-block btn-primary mt-2\" :disabled=\"linking\" @click=\"autoLinkPrinter\"><b-spinner v-if=\"linking\" small></b-spinner>Link Now&nbsp;<i class=\"fas fa-external-link-alt\"></i></button>\n      </div>\n      <div class=\"col-sm-6\">\n        <button class=\"btn btn-block btn-secondary mt-2\" @click=\"cancel\">Cancel</button>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AutoLinkPopup',\n  data() {\n    return {\n      linking: false,\n    }\n  },\n  props: {\n    discoveredPrinter: {\n      type: Object,\n      required: true\n    },\n    switchToManualLinking: {\n      type: Function,\n      required: true\n    },\n    secretObtained: {\n      type: Function,\n      required: true\n    },\n  },\n\n  mounted() {\n    window.addEventListener('message', this.gotWindowMessage)\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('message', this.gotWindowMessage)\n  },\n\n  methods: {\n    autoLinkPrinter() {\n      this.linking = true\n      this.gotSecret = null\n\n      this.obicoDiscoveryPopup = window.open(\n        this.destUrl(),\n        '_blank',\n        'toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,width=500,height=100'\n      )\n\n      if (!this.obicoDiscoveryPopup) {\n        this.cancel()\n        this.$swal.Prompt.fire({\n          icon: 'error',\n          title: 'Oops!',\n          html:\n            '<p>Handshake failed because the pop-up was blcoked.</p><p>Please unblock the pop-up in your browser and try it again.</p>',\n          confirmButtonText: 'Okay!',\n          showCancelButton: true,\n          cancelButtonText: 'Switch to Manual Setup'\n        }).then(result => {\n          if (result.isDismissed && result.dismiss === 'cancel') {\n            this.switchToManualLinking()\n          }\n        })\n        return\n      }\n\n      setTimeout(() => {\n        this.closeDiscoveryPopup()\n\n        if (!this.gotSecret) {\n          this.cancel()\n          this.$swal.Prompt.fire({\n            icon: 'error',\n            title: 'Handshake failed!',\n            html:\n              `<p>Please make sure:</p>\n              <ul>\n                <li>The OctoPrint you want to link is at ${this.discoveredPrinter.host_or_ip}:${this.discoveredPrinter.port}, and it's connected to the same local network as your computer/phone.</li>\n                <li>The version of plugin is 1.8.0 or above.</li>\n              </ul>`,\n            confirmButtonText: 'Okay!',\n            showCancelButton: true,\n            cancelButtonText: 'Switch to Manual Setup'\n          }).then(result => {\n            if (result.isDismissed && result.dismiss === 'cancel') {\n              this.switchToManualLinking()\n            }\n          })\n        }\n      }, 5000)\n    },\n\n    destUrl() {\n      const pluginName = this.discoveredPrinter.agent ? 'obico' : 'thespaghettidetective'\n      return `http://${this.discoveredPrinter.host_or_ip}:${this.discoveredPrinter.port || '80'}/plugin/${pluginName}/grab-discovery-secret?device_id=${this.discoveredPrinter.device_id}`\n    },\n\n    switchToManual() {\n      this.cancel()\n      this.switchToManualLinking()\n    },\n\n    closeDiscoveryPopup() {\n      if (this.obicoDiscoveryPopup) {\n        this.obicoDiscoveryPopup.close()\n        this.obicoDiscoveryPopup = null\n      }\n    },\n\n    gotWindowMessage(ev) {\n      const data = {...(ev?.data || {})}\n      if (this.gotSecret || !this.discoveredPrinter.device_id || !data.device_secret) {\n        console.log('Ignored message', ev)\n        return\n      }\n\n      this.gotSecret = data\n      this.secretObtained(this.discoveredPrinter.device_id, data.device_secret)\n      this.cancel()\n    },\n\n    cancel() {\n      this.closeDiscoveryPopup()\n      this.$swal.close()\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n.title-pic\n  display: flex\n  margin: 1.5rem 0\n  justify-content: center\n\n  .pic-item\n    height: 3rem\n    margin: 0 0.5rem\n\n  img\n    filter: grayscale(100%)\n  i\n    color: #888888\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoLinkPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoLinkPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AutoLinkPopup.vue?vue&type=template&id=d8533ae2&scoped=true&\"\nimport script from \"./AutoLinkPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./AutoLinkPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AutoLinkPopup.vue?vue&type=style&index=0&id=d8533ae2&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8533ae2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout>\n    <template v-slot:content>\n      <b-container>\n        <b-row>\n          <b-col>\n            <div class=\"wizard-container form-container full-on-mobile\">\n              <div v-if=\"verifiedPrinter\" class=\"text-center py-5\">\n                <svg class=\"success-checkmark\">\n                  <use href=\"#svg-success-checkmark\" />\n                </svg>\n                <h3 class=\"pb-4\">Successfully linked to your account!</h3>\n                <div class=\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\">\n                  <saving-animation :errors=\"errorMessages.printer_name\" :saving=\"saving.printer_name\">\n                    <div class=\"printer-name-input\">\n                      <div class=\"edit-icon\">\n                        <i class=\"fas fa-pen\"></i>\n                      </div>\n                      <input\n                        type=\"text\"\n                        class=\"dark\"\n                        placeholder=\"Printer name\"\n                        v-model=\"verifiedPrinter.name\"\n                        @input=\"updatePrinterName\"\n                      >\n                    </div>\n                  </saving-animation>\n                  <div>\n                    <div class=\"text-muted mx-auto text-center font-weight-light\">Give your printer a shiny name.</div>\n                  </div>\n                </div>\n                <br /><br />\n                <div class=\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\">\n                  <div v-if=\"redirectToTunnelCreation\" class=\"mt-4\">\n                    <a :href=\"redirectToTunnelCreation\" class=\"btn btn-primary btn-block mx-auto btn-lg\">Authorize App Access</a>\n                  </div>\n                  <div v-else>\n                    <div class=\"mt-4\">\n                      <a href=\"/printers/\" class=\"btn btn-primary btn-block mx-auto btn-lg\">Go Check Out Printer Feed!</a>\n                    </div>\n                    <div class=\"mt-5\">\n                      <a href=\"/user_preferences/notification_twilio/\" class=\"btn btn-outline-secondary btn-block mx-auto\">Add Phone Number</a>\n                    </div>\n                    <div>\n                      <div class=\"text-muted mx-auto text-center font-weight-light\">Receive text (SMS) in case of print failures.</div>\n                    </div>\n                    <div class=\"mt-4\">\n                      <a :href=\"editPrinterUrl\" class=\"btn btn-outline-secondary btn-block mx-auto\">Change Printer Settings</a>\n                    </div>\n                    <div>\n                      <div class=\"text-muted mx-auto text-center font-weight-light\">You can always change it later.</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else>\n                <div v-if=\"$route.path === routes.printerWizardSetup\">\n                  <form-wizard\n                    color=\"var(--color-primary)\"\n                    step-size=\"sm\"\n                  >\n                    <h3 slot=\"title\">\n                      {{title}}\n                    </h3>\n\n                    <tab-content v-if=\"targetMoonraker\" title=\"Install Obico for Klipper\">\n                      <div class=\"container\">\n                        <div class=\"row justify-content-center pb-3\">\n                          <div class=\"col-sm-12 col-lg-8\">\n                            <ol>\n                              <li>SSH to the Raspberry Pi your Klipper runs on.</li>\n                              <li><div>Run:</div>\n                                <pre class=\"mt-2\">\ncd ~\ngit clone https://github.com/TheSpaghettiDetective/moonraker-obico.git\ncd moonraker-obico\n./install.sh\n                              </pre>\n                              </li>\n                              <li>Follow the installation steps.</li>\n                              <li>At the end, you will be asked to enter a 6-digit verification code.</li>\n                            </ol>\n                          </div>\n                        </div>\n                      </div>\n                    </tab-content>\n                    <tab-content v-if=\"printerIdToLink && targetOctoPrint\" title=\"Open Plugin Settings\">\n                      <div class=\"container\">\n                        <div class=\"row justify-content-center pb-3\">\n                          <div class=\"col-sm-12 col-lg-8\">\n                            <div class=\"text-warning\">\n                              Warning: Re-Linking OctoPrint should be your last resort to solve issues. Please make sure you have exhausted all options on <a href=\"https://www.obico.io/help/\">Obico's help website</a>.\n                            </div>\n                            <ol>\n                              <li>Open OctoPrint in another browser tab. </li>\n                              <li>Select <em>\"OctoPrint settings menu  Obico for OctoPrint\"</em>.</li>\n                              <li>Select <em>\"Troubleshooting  Re-run Wizard\"</em>.</li>\n                            </ol>\n                          </div>\n                        </div>\n                        <div class=\"row justify-content-center\">\n                          <div class=\"col-sm-12 col-lg-8 img-container\">\n                            <img class=\"mx-auto\" :src=\"require('@static/img/octoprint-plugin-guide/plugin_rerun_setup.png')\">\n                          </div>\n                        </div>\n                      </div>\n                    </tab-content>\n                    <tab-content v-if=\"!printerIdToLink && targetOctoPrint\" title=\"Install Plugin\">\n                      <div class=\"container\">\n                        <div class=\"row justify-content-center pb-3\">\n                          <div class=\"col-sm-12 col-lg-8\">\n                            <ol>\n                              <li>Open OctoPrint in another browser tab. </li>\n                              <li>Select <em>\"OctoPrint settings menu  Plugin Manager  Get More...\"</em>.</li>\n                              <li>Enter \"Obico\" to locate the plugin. Click <em>\"Install\"</em>.</li>\n                              <li>Restart OctoPrint when prompted.</li>\n                            </ol>\n                          </div>\n                        </div>\n                        <div class=\"row justify-content-center\">\n                          <div class=\"col-sm-12 col-lg-8 img-container\">\n                            <img\n                              class=\"mx-auto screenshot\"\n                              :src=\"require('@static/img/octoprint-plugin-guide/install_plugin.png')\"\n                              @click=\"zoomIn($event)\">\n                          </div>\n                        </div>\n                      </div>\n                    </tab-content>\n                    <template v-if=\"discoveryEnabled\">\n                      <tab-content v-if=\"targetOctoPrint\" title=\"Link It!\">\n                        <loading :active=\"chosenDeviceId != null\"\n                          :can-cancel=\"false\"\n                        >\n                        </loading>\n                        <div class=\"discover\">\n                          <div class=\"discover-body\">\n                            <div v-if=\"!canStartLinking\" style=\"text-align: center;\">\n                              <div class=\"spinner-border big\" role=\"status\">\n                                <span class=\"sr-only\"></span>\n                              </div>\n                              <div class=\"lead\">\n                              Scanning...\n                              </div>\n                            </div>\n                            <div v-else>\n                              <div class=\"lead my-3\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                <span class=\"sr-only\"></span>\n                              </div><span class=\"sr-only\"></span>Scanning..., {{discoveredPrinters.length}} OctoPrint(s) found on your local network:</div>\n                              <discovered-printer v-for=\"discoveredPrinter in discoveredPrinters\" :key=\"discoveredPrinter.device_id\" :discoveredPrinter=\"discoveredPrinter\" @auto-link-printer=\"autoLinkPrinter\" />\n                            </div>\n                            <div class=\"mt-5 mb-3\">\n                              Can't find the OctoPrint you want to link?\n                              Switch to <a class=\"link\" @click=\"discoveryEnabled=false\">Manual Setup</a> instead.\n                            </div>\n                            <div v-if=\"discoveryCount>=2\" class=\"text-muted\">\n                              <div>To link your OctoPrint, please make sure:</div>\n                              <ul>\n                                <li>The Raspberry Pi is powered on.</li>\n                                <li>The Raspberry Pi is connected to the same local network as your phone/computer.</li>\n                                <li>The Obico plugin version is 1.8.0 or above.</li>\n                              </ul>\n                            </div>\n                          </div>\n                        </div>\n                      </tab-content>\n                    </template>\n                    <template v-else>\n                      <tab-content v-if=\"targetOctoPrint\" title=\"Plugin Wizard\">\n                        <div class=\"container\">\n                          <div class=\"row justify-content-center pb-3\">\n                            <div class=\"col-sm-12 col-lg-8\">\n                              <ol>\n                                <li>Wait for <em>\"Obico for OctoPrint\"</em> wizard to popup.</li>\n                                <li>Follow the instructions in the wizard.</li>\n                                <li>Select <em>\"Web Setup\"</em> when asked.</li>\n                              </ol>\n                            </div>\n                          </div>\n                          <div class=\"row justify-content-center\">\n                            <div class=\"col-sm-12 col-lg-8 img-container\">\n                              <img\n                                class=\"mx-auto screenshot\"\n                                :src=\"require('@static/img/octoprint-plugin-guide/plugin_wizard_websetup.png')\"\n                                @click=\"zoomIn($event)\">\n                            </div>\n                          </div>\n                        </div>\n                      </tab-content>\n                      <tab-content title=\"Enter Code\">\n                        <div class=\"container\">\n                          <div class=\"row justify-content-center pb-3\">\n                            <div class=\"col-sm-12 col-lg-8  d-flex flex-column align-items-center\">\n                                <input disabled ref=\"code\" class=\"code-btn\" :value=\"`${verificationCode && verificationCode.code}`\"/>\n                                <small class=\"mx-auto py-1\" :class=\"{'text-muted': !copied}\">{{ copied ? 'Code copied to system clipboard' : 'Ctrl-C/Cmd-C to copy the code'}}</small>\n                                <div class=\"mx-auto pt-1 pb-4\"><span class=\"text-muted\">Code will expire in </span>{{timeToExpire}}</div>\n                              <div class=\"lead\">Enter the <strong>6-digit verification code</strong></div>\n                            </div>\n                          </div>\n                          <div class=\"row justify-content-center\">\n                            <div class=\"col-sm-12 col-lg-8 img-container\">\n                              <img v-if=\"targetOctoPrint\"\n                                class=\"screenshot\"\n                                :src=\"require('@static/img/octoprint-plugin-guide/plugin_verification_code.png')\"\n                                @click=\"zoomIn($event)\">\n                              <img v-if=\"targetMoonraker\"\n                                class=\"screenshot\"\n                                :src=\"require('@static/img/octoprint-plugin-guide/moonraker_verification_code.png')\"\n                                @click=\"zoomIn($event)\">\n                              <div class=\"helper mx-auto py-2\"><a class=\"link font-weight-bold\" @click=\"showVerificationCodeHelpModal\">Can't find the page to enter the 6-digit code?</a></div>\n                            </div>\n                          </div>\n                        </div>\n                      </tab-content>\n                    </template>\n\n                    <template slot=\"footer\" slot-scope=\"props\">\n                      <div class=\"wizard-footer-left\">\n                        <wizard-button v-if=\"props.activeTabIndex > 0\" @click.native=\"props.prevTab(); prevTab(props.activeTabIndex);\" class=\"btn btn-link btn-back\">&lt; Back</wizard-button>\n                      </div>\n                      <div class=\"wizard-footer-right\">\n                        <wizard-button v-if=\"!props.isLastStep\" @click.native=\"props.nextTab(); nextTab(props.activeTabIndex);\" class=\"wizard-footer-right wizard-btn\" :style=\"{...props.fillButtonStyle, color: 'var(--color-on-primary)'}\">Next &gt;</wizard-button>\n                      </div>\n                    </template>\n                  </form-wizard>\n                  <div class=\"row\">\n                    <div class=\"helper col-sm-12\">Need help? Check out the <a target=\"_blank\" :href=\"targetMoonraker ? 'https://www.obico.io/docs/user-guides/klipper-setup/' : 'https://www.obico.io/docs/user-guides/octoprint-plugin-setup/'\">step-by-step set up guide.</a></div>\n                  </div>\n                </div>\n                <div v-else class=\"container\">\n                  <div class=\"row\">\n                    <h3 class=\"col-sm-12 text-center p-3\">Which platform are you using?</h3>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-sm-12 col-lg-6 p-4\">\n                      <div class=\"wizard-card\" @click=\"setTargetPlatform('octoprint')\">\n                      <img\n                        :src=\"require('@static/img/octoprint_logo.png')\" />\n                        <h3  class=\"mt-4\">OctoPrint</h3>\n                        <div>Including OctoPrint for Klipper such as OctoKlipper.</div>\n                      </div>\n                    </div>\n                    <div class=\"col-sm-12 col-lg-6 p-4\">\n                      <div class=\"wizard-card\" @click=\"setTargetPlatform('moonraker')\">\n                      <div>\n                        <img\n                          :src=\"require('@static/img/klipper_logo.jpg')\" />\n                        <img\n                          :src=\"require('@static/img/mainsail_logo.png')\" />\n                        <img\n                          :src=\"require('@static/img/fluidd_logo.png')\" />\n                        </div>\n                        <h3 class=\"mt-4\">Klipper</h3>\n                        <h5>with Mainsail/Fluidd/Moonraker</h5>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport urls from '@config/server-urls'\nimport {onPrinterLinked} from '@config/event-handler'\nimport routes from '@src/views/printer-wizard/wizard-routes'\nimport {WizardButton, FormWizard, TabContent} from 'vue-form-wizard'\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\n// TODO: this should be configured as global. But for some reason it doesn't work.\nimport Loading from 'vue-loading-overlay'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nimport sortBy from 'lodash/sortBy'\nimport theme from '@src/styles/main.sass'\nimport Layout from '@src/components/Layout.vue'\nimport SavingAnimation from '@src/components/SavingAnimation.vue'\nimport DiscoveredPrinter from '@src/components/printers/DiscoveredPrinter.vue'\nimport AutoLinkPopup from '@src/components/printers/AutoLinkPopup.vue'\nconst MAX_DISCOVERY_CALLS = 60 // Scaning for up to 5 minutes\n\nexport default {\n  components: {\n    FormWizard,\n    TabContent,\n    WizardButton,\n    Loading,\n    Layout,\n    SavingAnimation,\n    DiscoveredPrinter,\n  },\n  data() {\n    return {\n      theme: theme,\n      verificationCode: null,\n      verifiedPrinter: null,\n      onVerificationStep: false,\n      copied: false,\n      saving: {},\n      errorMessages: {},\n      delayedSubmit: { // Make pause before sending new value to API\n        'printer_name': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n      },\n      discoveryEnabled: true, // To simplify the flow, this can only change from true -> false.\n      discoveryCount: 0,\n      discoveredPrinters: [],\n      chosenDeviceId: null,\n      gotSecret: null,\n      obicoDiscoveryPopup: null,\n      apiCallIntervalId: null,\n      targetPlatform: null,\n      routes,\n    }\n  },\n  created() {\n    if (this.printerIdToLink) { // Re-link currently doesn't support auto-discovery on the plugin side\n      this.discoveryEnabled = false\n    }\n    this.getVerificationCode()\n\n    // Start from platform selection after page refresh\n    if (this.$route.path !== routes.printerWizard) {\n      this.$router.push(routes.printerWizard + `?${window.location.search}`)\n    }\n  },\n  computed: {\n    printerIdToLink() {\n      return new URLSearchParams(window.location.search.substring(1)).get('printerId')\n    },\n    title() {\n      return this.printerIdToLink ? 'Re-Link Printer' : 'Link Printer'\n    },\n    editPrinterUrl() {\n      return `/printers/${this.verifiedPrinter.id}/`\n    },\n    expiryMoment() {\n      if (this.verificationCode) {\n        return moment(this.verificationCode.expired_at)\n      } else {\n        return null\n      }\n    },\n    timeToExpire() {\n      if (this.expiryMoment) {\n        return moment.duration(this.expiryMoment.diff(moment())).humanize()\n      } else {\n        return '-'\n      }\n    },\n    canStartLinking() {\n      return this.verificationCode?.code && this.discoveredPrinters?.length > 0\n    },\n    redirectToTunnelCreation() {\n      return new URLSearchParams(window.location.search).get('redirectToTunnelCreation')\n    },\n    targetOctoPrint() {\n      return this.targetPlatform === 'octoprint'\n    },\n    targetMoonraker() {\n      return this.targetPlatform === 'moonraker'\n    },\n  },\n  methods: {\n    setTargetPlatform(platfrom) {\n      this.targetPlatform = platfrom\n      if (platfrom === 'moonraker') {\n        this.discoveryEnabled = false\n      }\n\n      this.$router.push(routes.printerWizardSetup + `?${window.location.search}`)\n    },\n    setSavingStatus(propName, status) {\n      if (status) {\n        delete this.errorMessages[propName]\n      }\n      this.$set(this.saving, propName, status)\n    },\n    updatePrinterName() {\n      if ('name' in this.verifiedPrinter && this.verifiedPrinter.name) {\n        const delayInfo = this.delayedSubmit['printer_name']\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n        this.delayedSubmit['printer_name']['timeoutId'] = setTimeout(() => {\n          this.setSavingStatus('printer_name', true)\n          // Make request to API\n          return axios\n            .patch(urls.printer(this.verifiedPrinter.id), {\n              'name': this.verifiedPrinter.name\n            })\n            .catch(err => {\n              console.log(err)\n            })\n            .then(() => {\n              this.setSavingStatus('printer_name', false)\n            })\n        }, delayInfo['delay'])\n        return\n      } else {\n        const delayInfo = this.delayedSubmit['printer_name']\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n      }\n    },\n    /**\n     * Functions prevTab() and nextTab() are used to remove .checked class from circle steps\n     * following current step (.checked class isn't removed by default after clicking Back\n     * button, which causes showiing logo inside furter steps, not only completed ones).\n     */\n    prevTab() {\n      document.querySelector('.wizard-nav.wizard-nav-pills li.active .wizard-icon-circle').classList.remove('checked')\n      this.onVerificationStep = false\n    },\n    nextTab(activeStep) {\n      document.querySelector('.wizard-nav.wizard-nav-pills li.active .wizard-icon-circle').classList.add('checked')\n      this.onVerificationStep = activeStep == 1 // nextTab is called before activeStep changes\n      if (activeStep == 0 && this.discoveryEnabled && this.discoveryCount == 0) {\n        this.discoverPrinter()\n      }\n      if (this.onVerificationStep) {\n        const copyFunc = this.copyCode\n        let ctrlDown = false, ctrlKey = 17, cmdKey = 91, cKey = 67\n        document.addEventListener('keydown', function(e) {\n          if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = true\n        })\n        document.addEventListener('keyup', function(e) {\n          if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = false\n        })\n        document.addEventListener('keydown', function(e) {\n          if (ctrlDown && (e.keyCode == cKey)) {\n            copyFunc()\n          }\n        })\n      }\n    },\n    verificationCodeUrl() {\n      const baseUrl = urls.verificationCode()\n      if (!this.verificationCode){ // Never retrieved veification code. Get one.\n        if (this.printerIdToLink) {\n          return `${baseUrl}?printer_id=${this.printerIdToLink}`\n        } else {\n          return baseUrl\n        }\n      }\n      if (this.verificationCode.verified_at) { // Code is verified successfully, keep on polling to get update on the printer name if any\n        return `${baseUrl}${this.verificationCode.id}/`\n      }\n      if (moment().isBefore(this.expiryMoment)) { // Not verified, and not expired\n        return `${baseUrl}${this.verificationCode.id}/`\n      }\n      // Not verified, but expired.\n      return baseUrl\n    },\n    /**\n     * Copy verification code to clipboard (on appropriate step)\n     */\n    copyCode() {\n      if (this.onVerificationStep && this.verificationCode) {\n        let textArea = document.createElement('textarea')\n        textArea.value = this.verificationCode.code\n        // Avoid scrolling to bottom\n        textArea.style.top = '0'\n        textArea.style.left = '0'\n        textArea.style.position = 'fixed'\n        document.body.appendChild(textArea)\n        textArea.focus()\n        textArea.select()\n        try {\n          document.execCommand('copy')\n          this.copied = true\n        } catch (err) {\n          console.error('Fallback: Oops, unable to copy', err)\n        }\n        document.body.removeChild(textArea)\n      }\n    },\n    callVerificationCodeApi() {\n      axios\n        .get(this.verificationCodeUrl())\n        .then((resp) => {\n          if (resp.data) {\n            this.verificationCode = resp.data\n            if (this.verificationCode.verified_at) {\n              this.verifiedPrinter = resp.data.printer\n              if (onPrinterLinked) {\n                onPrinterLinked();\n              }\n            }\n          }\n        })\n    },\n    getVerificationCode() {\n      this.callVerificationCodeApi()\n      this.apiCallIntervalId = setInterval(() => {\n        if (this.verifiedPrinter) {\n          clearInterval(this.apiCallIntervalId)\n        } else {\n          this.callVerificationCodeApi()\n        }\n      }, 5000)\n    },\n    showVerificationCodeHelpModal() {\n      let html = `<p>The 6-digit code needs to be entered in the Obico plugin in OctoPrint. There are a few reasons why you can't find this page:</p>\n        <p><ul>\n        <li style=\"margin: 10px 0;\">You don't have the plugin installed or you haven't restarted OctoPrint after installation. Click <a href=\"/printers/wizard/\">here</a> to walk through the process again.</li>\n        <li style=\"margin: 10px 0;\">The installed plugin is on a version earlier than 1.5.0. You need to upgrade the plugin to <b>1.5.0</b> or later.</li>\n        <li style=\"margin: 10px 0;\">Still no dice? Check out the step-by-step <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/octoprint-plugin-setup/\">set up guide</a>.</li>\n        </ul></p>`\n\n      if (!this.targetOctoPrint) {\n        html = `<p>The 6-digit code needs to be entered to the <em>Obico for OctoPrint</em> installation script.</p>\n        <p>Check <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/klipper-setup/\">this set up guide</a> for detailed instructions.</p>`\n      }\n\n      this.$swal.fire({\n        title: 'Can\\'t find the page to enter the 6-digit code?',\n        html,\n        customClass: {\n          container: 'dark-backdrop',\n        },\n      })\n    },\n    zoomIn(event) {\n      event.target.classList.toggle('zoomedIn')\n    },\n    callPrinterDiscoveryApi() {\n      if (!this.discoveryEnabled) {\n        return\n      }\n      if (this.discoveryCount >= MAX_DISCOVERY_CALLS && this.discoveredPrinters.length === 0) {\n        this.discoveryEnabled = false\n        this.$swal.Toast.fire({\n          title: 'No OctoPrint discovered on your local network. Switched to manual linking.',\n        })\n      }\n      this.discoveryCount += 1\n      axios\n        .get(urls.printerDiscovery())\n        .then((resp) => {\n          this.discoveredPrinters = sortBy(resp.data, (p) => p.device_id)\n        })\n    },\n    discoverPrinter() {\n      if (!this.discoveryEnabled || this.verifiedPrinter) {\n        return\n      }\n      this.callPrinterDiscoveryApi()\n      setTimeout(() => {\n        this.discoverPrinter()\n      }, 5000)\n    },\n    autoLinkPrinter(discoveredPrinter) {\n      this.$swal.openModalWithComponent(\n        AutoLinkPopup,\n        {\n          discoveredPrinter,\n          switchToManualLinking: () => this.discoveryEnabled=false,\n          secretObtained: (chosenDeviceId, secret) => this.secretObtained(chosenDeviceId, secret),\n        },\n        {\n          title: 'Browser Pop-up',\n          showConfirmButton: false,\n          allowOutsideClick: false,\n        }\n      )\n    },\n    secretObtained(chosenDeviceId, secret) {\n      this.chosenDeviceId = chosenDeviceId\n      axios.post(urls.printerDiscovery(), {\n        code: this.verificationCode.code,\n        device_id: this.chosenDeviceId,\n        device_secret: secret,\n      })\n      // Declare failure if nothing is linked after 20s\n      setTimeout(() => {\n        if (this.chosenDeviceId && !this.verifiedPrinter) {\n          this.chosenDeviceId = null\n          this.$swal.Toast.fire({\n            icon: 'error',\n            title: 'Something went wrong. Switched to using 6-digit code to link OctoPrint.',\n          })\n          this.discoveryEnabled = false\n        }\n        this.chosenDeviceId = null\n      }, 20000)\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n.wizard-card\n  background-color: var(--color-surface-primary)\n  border-radius: var(--border-radius-lg)\n  padding: 1em\n  display: flex\n  flex-direction: column\n  align-items: center\n  min-height: 24em\n  justify-content: center\n  text-align: center\n  &:hover\n    cursor: pointer\n    color: var(--color-primary)\n    background-color: var(--color-hover)\n.wizard-card img\n  height: 3em\n  margin: 1em\n\n.wizard-btn\n  border-radius: 300px\n.wizard-container\n  padding: 1em\n  background: var(--color-surface-secondary)\n  -webkit-box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.3) !important\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.3) !important\n  border: none !important\n.btn-back\n  color: var(--color-text-primary)\n  min-width: auto\n.header-img\n  width: 1em\n  height: 1em\n  margin-right: 12px\n  margin-bottom: 8px\n.img-container\n  padding: 1rem\n  text-align: center\nimg\n  max-height: 30vh\n.spacer\n width: 200px\n.code-btn\n  border-radius: var(--border-radius-sm)\n  text-align: center\n  width: 21rem\n  height: 60px\n  background-color: var(--color-input-background)\n  color: var(--color-text-primary)\n  font-size: 2rem\n  font-weight: 500\n  letter-spacing: 0.5em\n  border: none\n.helper\n  text-align: center\n  padding: 0 36px\nli\n  margin: 2px -35px\n.screenshot\n  max-width: 100%\n  transition: transform .3s\n  &:hover\n    cursor: pointer\n  &.zoomedIn\n    transform: scale(2)\n    position: relative\n    z-index: 9\n\npre\n  color: var(--color-text-secondary)\n  font-size: 0.9em\n</style>\n\n<style lang=\"sass\">\n// Unscoped styles to style plugin elements\n// TODO merge 2 style blocks\n\n// Step label (not active)\n.wizard-container .vue-form-wizard .wizard-nav-pills > li:not(.active) > a > span\n  color: var(--color-text-primary)\n// Adjust numbers in the circles (form steps)\n.wizard-nav.wizard-nav-pills .wizard-icon-circle i\n  position: relative\n  right: 2px\n// Show logo inside completed sorm step circles\n.wizard-nav.wizard-nav-pills li:not(.active)\n  .wizard-icon-circle.checked i\n    display: none\n  .wizard-icon-circle.checked\n    background-color: var(--color-primary)\n    &:before\n      $size: 20px\n      content: \"\"\n      display: block\n      width: $size\n      height: $size\n      background-image: url('/static/img/tick_dark.svg')\n      background-size: $size $size\n      position: absolute\n      top: calc(50% - #{$size / 2})\n      left: calc(50% - #{$size / 2})\n      bottom: calc(50% - #{$size / 2})\n      right: calc(50% - #{$size / 2})\n.success-checkmark\n  width: 6rem\n  height: 6rem\n  margin-bottom: 1.5rem\n.printer-name-input\n  position: relative\n  .edit-icon\n    height: 100%\n    display: flex\n    flex-direction: column\n    justify-content: center\n    position: absolute\n    top: 0\n    left: 1em\n    opacity: .5\n  input\n    padding: .4em 2.4em\n    width: 100%\n    font-size: 20px\n    text-align: center\n.discover\n  .discover-body\n    min-height: 25rem\n    display: flex\n    flex-direction: column\n    justify-content: center\n    .spinner-border\n      width: 1.2em\n      height: 1.2em\n      margin-right: 0.2em\n      &.big\n        width: 5rem\n        height: 5rem\n        margin-bottom: 0.8rem\n  li\n    margin: initial\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterWizardPage.vue?vue&type=template&id=56aac94c&scoped=true&\"\nimport script from \"./PrinterWizardPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterWizardPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterWizardPage.vue?vue&type=style&index=0&id=56aac94c&lang=sass&scoped=true&\"\nimport style1 from \"./PrinterWizardPage.vue?vue&type=style&index=1&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56aac94c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"lg\":\"8\"}},[(_vm.printer)?_c('div',{staticClass:\"printer-card m-0\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"title-box\"},[_c('div',{staticClass:\"printer-name\"},[_vm._v(_vm._s(_vm.printer.name))])])]),_c('streaming-box',{attrs:{\"printer\":_vm.printer,\"webrtc\":_vm.webrtc,\"autoplay\":_vm.user.is_pro}}),_c('div',{staticClass:\"card-body\",class:{'overlay': _vm.printer.isActive()}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.printer.isActive()),expression:\"printer.isActive()\"}],staticClass:\"overlay-top text-center\",staticStyle:{\"left\":\"0\",\"width\":\"100%\",\"top\":\"50%\",\"margin-top\":\"-85px\"}},[_c('div',[_vm._v(\"Printer controls are disabled\")]),_c('div',[_vm._v(\"because the printer is not idle.\")])]),_c('div',{staticClass:\"printer-controls\"},[_c('div',{staticClass:\"xy-controls\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"y\",\"data-dir\":\"up\"},on:{\"click\":function($event){return _vm.control(_vm.axis.y, _vm.directions.up)}}},[_c('i',{staticClass:\"fas fa-angle-up fa-lg\"})]),_c('div',{staticClass:\"x-controls\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"x\",\"data-dir\":\"down\"},on:{\"click\":function($event){return _vm.control(_vm.axis.x, _vm.directions.down)}}},[_c('i',{staticClass:\"fas fa-angle-left fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"xy\",\"data-dir\":\"home\"},on:{\"click\":function($event){return _vm.control(_vm.axis.xy, _vm.directions.home)}}},[_c('i',{staticClass:\"fas fa-home fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"x\",\"data-dir\":\"up\"},on:{\"click\":function($event){return _vm.control(_vm.axis.x, _vm.directions.up)}}},[_c('i',{staticClass:\"fas fa-angle-right fa-lg\"})])]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"y\",\"data-dir\":\"down\"},on:{\"click\":function($event){return _vm.control(_vm.axis.y, _vm.directions.down)}}},[_c('i',{staticClass:\"fas fa-angle-down fa-lg\"})])]),_c('div',{staticClass:\"z-controls\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"z\",\"data-dir\":\"up\"},on:{\"click\":function($event){return _vm.control(_vm.axis.z, _vm.directions.up)}}},[_c('i',{staticClass:\"fas fa-angle-up fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"z\",\"data-dir\":\"home\"},on:{\"click\":function($event){return _vm.control(_vm.axis.z, _vm.directions.home)}}},[_c('i',{staticClass:\"fas fa-home fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"z\",\"data-dir\":\"down\"},on:{\"click\":function($event){return _vm.control(_vm.axis.z, _vm.directions.down)}}},[_c('i',{staticClass:\"fas fa-angle-down fa-lg\"})])])]),_c('br'),_c('div',{staticClass:\"control-options\"},[_c('b-form-group',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ariaDescribedby = ref.ariaDescribedby;\nreturn [_c('b-form-radio-group',{attrs:{\"options\":_vm.jogDistanceOptions.map(function (val) { return {text: val + 'mm', value: val} }),\"name\":\"jogDistance\",\"button-variant\":\"default\",\"aria-describedby\":ariaDescribedby,\"buttons\":\"\"},model:{value:(_vm.jogDistance),callback:function ($$v) {_vm.jogDistance=$$v},expression:\"jogDistance\"}})]}}],null,false,3731116910)})],1)])],1)]):_vm._e()])],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <layout>\n    <template v-slot:content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\">\n            <div v-if=\"printer\" class=\"printer-card m-0\">\n              <div class=\"card\">\n                <div class=\"card-header\">\n                  <div class=\"title-box\">\n                    <div class=\"printer-name\">{{ printer.name }}</div>\n                  </div>\n                </div>\n                <streaming-box :printer=\"printer\" :webrtc=\"webrtc\" :autoplay=\"user.is_pro\" />\n                <div class=\"card-body\" :class=\"{'overlay': printer.isActive()}\">\n                  <div\n                    class=\"overlay-top text-center\"\n                    style=\"left: 0; width: 100%; top: 50%; margin-top: -85px;\"\n                    v-show=\"printer.isActive()\"\n                  >\n                    <div>Printer controls are disabled</div>\n                    <div>because the printer is not idle.</div>\n                  </div>\n                  <div class=\"printer-controls\">\n                    <div class=\"xy-controls\">\n                      <button class=\"btn\" type=\"button\" data-axis=\"y\" data-dir=\"up\" @click=\"control(axis.y, directions.up)\">\n                        <i class=\"fas fa-angle-up fa-lg\"></i>\n                      </button>\n                      <div class=\"x-controls\">\n                        <button class=\"btn\" type=\"button\" data-axis=\"x\" data-dir=\"down\" @click=\"control(axis.x, directions.down)\">\n                          <i class=\"fas fa-angle-left fa-lg\"></i>\n                        </button>\n                        <button class=\"btn\" type=\"button\" data-axis=\"xy\" data-dir=\"home\" @click=\"control(axis.xy, directions.home)\">\n                          <i class=\"fas fa-home fa-lg\"></i>\n                        </button>\n                        <button class=\"btn\" type=\"button\" data-axis=\"x\" data-dir=\"up\" @click=\"control(axis.x, directions.up)\">\n                          <i class=\"fas fa-angle-right fa-lg\"></i>\n                        </button>\n                      </div>\n                      <button class=\"btn\" type=\"button\" data-axis=\"y\" data-dir=\"down\" @click=\"control(axis.y, directions.down)\">\n                        <i class=\"fas fa-angle-down fa-lg\"></i>\n                      </button>\n                    </div>\n                    <div class=\"z-controls\">\n                      <button class=\"btn\" type=\"button\" data-axis=\"z\" data-dir=\"up\" @click=\"control(axis.z, directions.up)\">\n                        <i class=\"fas fa-angle-up fa-lg\"></i>\n                      </button>\n                      <button class=\"btn\" type=\"button\" data-axis=\"z\" data-dir=\"home\" @click=\"control(axis.z, directions.home)\">\n                        <i class=\"fas fa-home fa-lg\"></i>\n                      </button>\n                      <button class=\"btn\" type=\"button\" data-axis=\"z\" data-dir=\"down\" @click=\"control(axis.z, directions.down)\">\n                        <i class=\"fas fa-angle-down fa-lg\"></i>\n                      </button>\n                    </div>\n                  </div>\n                  <br />\n                  <div class=\"control-options\">\n                    <b-form-group v-slot=\"{ ariaDescribedby }\">\n                      <b-form-radio-group\n                        v-model=\"jogDistance\"\n                        :options=\"jogDistanceOptions.map(val => { return {text: val + 'mm', value: val} })\"\n                        name=\"jogDistance\"\n                        button-variant=\"default\"\n                        :aria-describedby=\"ariaDescribedby\"\n                        buttons\n                      ></b-form-radio-group>\n                    </b-form-group>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport split from 'lodash/split'\nimport urls from '@config/server-urls'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport StreamingBox from '@src/components/StreamingBox'\nimport PrinterComm from '@src/lib/printer_comm'\nimport WebRTCConnection from '@src/lib/webrtc'\nimport Layout from '@src/components/Layout.vue'\nimport { isLocalStorageSupported } from '@static/js/utils'\nimport { user } from '@src/lib/page_context'\n\nconst AXIS = {\n  x: 'x',\n  y: 'y',\n  z: 'z',\n  xy: ['x', 'y']\n}\n\nconst DIRECTIONS = {\n  up: 1,\n  down: -1,\n  home: 0\n}\n\nexport default {\n  name: 'PrinterControlPage',\n\n  components: {\n    StreamingBox,\n    Layout,\n  },\n\n  data() {\n    return {\n      axis: AXIS,\n      directions: DIRECTIONS,\n\n      user: null,\n      printerId: null,\n      printer: null,\n      webrtc: null,\n\n      // Current distance and possible options\n      jogDistance: 10,\n      jogDistanceOptions: [0.1, 1, 10, 100],\n    }\n  },\n\n  created() {\n    this.user = user()\n    this.printerId = split(window.location.pathname, '/').slice(-3, -2).pop()\n\n    // Get jogDistance from localStorage or set default value\n    const storageValue = isLocalStorageSupported() ? localStorage.getItem(`mm-per-step-${this.printerId}`) : null\n    this.jogDistance = storageValue ? storageValue : this.jogDistance\n\n    this.webrtc = WebRTCConnection()\n\n    this.printerComm = PrinterComm(\n      this.printerId,\n      urls.printerWebSocket(this.printerId),\n      (data) => {\n        this.printer = normalizedPrinter(data, this.printer)\n        if (this.webrtc && !this.webrtc.initialized) {\n          this.webrtc.openForPrinter(this.printer.id, this.printer.auth_token)\n          this.printerComm.setWebRTC(this.webrtc)\n        }\n      }\n    )\n    this.printerComm.connect()\n  },\n\n  methods: {\n    // Control request after button click\n    control(axis, direction) {\n      let args = []\n      let func = 'jog'\n\n      if (direction === this.directions.home) {\n        args.push(axis)\n        func = 'home'\n      } else {\n        args.push({[axis]: direction * this.jogDistance})\n      }\n\n      const payload = {func: func, target: '_printer', args: args}\n      this.printerComm.passThruToPrinter(\n        payload,\n        (err, ret) => {\n          if (ret?.error) {\n            this.$swal.Toast.fire({\n              icon: 'error',\n              title: ret.error,\n            })\n          }\n        }\n      )\n    },\n  },\n\n  watch: {\n    jogDistance: function(newValue) {\n      if (isLocalStorageSupported()) {\n        localStorage.setItem(`mm-per-step-${this.printerId}`, newValue)\n      }\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n::v-deep .control-options .btn\n  color: var(--color-primary)\n  &.active span\n    color: var(--color-on-primary)\n\n.card\n  border-radius: var(--border-radius-lg)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterControlPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterControlPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterControlPage.vue?vue&type=template&id=1e285107&scoped=true&\"\nimport script from \"./PrinterControlPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterControlPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterControlPage.vue?vue&type=style&index=0&id=1e285107&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e285107\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"topBarLeft\",fn:function(){return [_c('search-input',{staticClass:\"search-input mr-3\",on:{\"input\":_vm.updateSearch}})]},proxy:true},{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',[_c('b-col',[_c('vue-dropzone',{ref:\"gcodesDropzone\",staticClass:\"upload-box\",attrs:{\"id\":\"dropzone\",\"options\":_vm.dropzoneOptions,\"useCustomSlot\":true},on:{\"vdropzone-queue-complete\":_vm.gcodeUploadSuccess,\"vdropzone-error\":_vm.gcodeUploadError}},[_c('div',{staticClass:\"dz-message needsclick\"},[_c('i',{staticClass:\"fas fa-upload fa-2x\"}),_vm._v(\" \"),_c('br'),_c('div',[_vm._v(\"G-Code file (*.gcode, *.gco, or *.g) only.\")]),_c('div',[_vm._v(\"Up to \"+_vm._s(_vm.maxFilesize)+\" MB each file, \"+_vm._s(_vm.maxTotalFilesize)+\" GB total.\")])])]),_c('div',{staticClass:\"gcodes-wrapper\"},[_c('div',{staticClass:\"control-panel\"}),_c('div',{staticClass:\"sorting-panel\"},[_c('div',{staticClass:\"sorting-option\",class:{'active': _vm.activeSorting === _vm.sorting.NAME},on:{\"click\":function($event){return _vm.updateSorting(_vm.sorting.NAME)}}},[_c('span',{staticClass:\"text\"},[_vm._v(\"File name\")]),_c('div',{staticClass:\"direction\"},[(_vm.activeSorting === _vm.sorting.NAME && _vm.sortDirection === _vm.direction.DESC)?_c('i',{staticClass:\"fas fa-arrow-down\"}):_c('i',{staticClass:\"fas fa-arrow-up\"})])]),_c('div',{staticClass:\"sorting-option\",class:{'active': _vm.activeSorting === _vm.sorting.SIZE},on:{\"click\":function($event){return _vm.updateSorting(_vm.sorting.SIZE)}}},[_c('span',{staticClass:\"text\"},[_vm._v(\"File size\")]),_c('div',{staticClass:\"direction\"},[(_vm.activeSorting === _vm.sorting.SIZE && _vm.sortDirection === _vm.direction.DESC)?_c('i',{staticClass:\"fas fa-arrow-down\"}):_c('i',{staticClass:\"fas fa-arrow-up\"})])]),_c('div',{staticClass:\"sorting-option\",class:{'active': _vm.activeSorting === _vm.sorting.UPLOADED},on:{\"click\":function($event){return _vm.updateSorting(_vm.sorting.UPLOADED)}}},[_c('span',{staticClass:\"text\"},[_vm._v(\"Uploaded\")]),_c('div',{staticClass:\"direction\"},[(_vm.activeSorting === _vm.sorting.UPLOADED && _vm.sortDirection === _vm.direction.DESC)?_c('i',{staticClass:\"fas fa-arrow-down\"}):_c('i',{staticClass:\"fas fa-arrow-up\"})])])]),_c('div',{staticClass:\"gcode-items-wrapper\"},_vm._l((_vm.gcodesToShow),function(item){return _c('div',{key:item.id,staticClass:\"item\"},[_c('div',{staticClass:\"item-info\"},[_c('div',{staticClass:\"filename\"},[_vm._v(_vm._s(item.filename))]),_c('div',{staticClass:\"filesize\"},[_vm._v(_vm._s(item.filesize))]),_c('div',{staticClass:\"uploaded\"},[_vm._v(_vm._s(item.created_at.fromNow()))])]),_c('div',{staticClass:\"remove-button-wrapper\"},[_c('div',{staticClass:\"remove-button\",on:{\"click\":function($event){return _vm.removeItem(item.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),0),_c('mugen-scroll',{staticClass:\"text-center p-4\",attrs:{\"handler\":_vm.fetchGCodes,\"should-handle\":!_vm.loading}},[(_vm.noMoreData)?_c('div',{staticClass:\"text-center p-2\"},[_vm._v(\"End of your G-Codes list.\")]):_vm._e(),(!_vm.noMoreData)?_c('b-spinner',{attrs:{\"label\":\"Loading...\"}}):_vm._e()],1)],1)],1)],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <layout\n  >\n    <template v-slot:topBarLeft>\n      <search-input @input=\"updateSearch\" class=\"search-input mr-3\"></search-input>\n    </template>\n    <template v-slot:content>\n      <b-container>\n        <b-row>\n          <b-col>\n            <vue-dropzone\n              class=\"upload-box\"\n              id=\"dropzone\"\n              :options=\"dropzoneOptions\"\n              :useCustomSlot=\"true\"\n              @vdropzone-queue-complete=\"gcodeUploadSuccess\"\n              @vdropzone-error=\"gcodeUploadError\"\n              ref=\"gcodesDropzone\"\n            >\n              <div class=\"dz-message needsclick\">\n                <i class=\"fas fa-upload fa-2x\"></i> <br>\n                <div>G-Code file (*.gcode, *.gco, or *.g) only.</div>\n                <div>Up to {{maxFilesize}} MB each file, {{maxTotalFilesize}} GB total.</div>\n              </div>\n            </vue-dropzone>\n\n            <!-- GCodes list -->\n            <div class=\"gcodes-wrapper\">\n              <div class=\"control-panel\">\n                <!-- <search-input v-model=\"searchText\" class=\"search-input\"></search-input> -->\n              </div>\n\n              <div class=\"sorting-panel\">\n                <div\n                  class=\"sorting-option\"\n                  :class=\"{'active': activeSorting === sorting.NAME}\"\n                  @click=\"updateSorting(sorting.NAME)\"\n                >\n                  <span class=\"text\">File name</span>\n                  <div class=\"direction\">\n                    <i class=\"fas fa-arrow-down\" v-if=\"activeSorting === sorting.NAME && sortDirection === direction.DESC\"></i>\n                    <i class=\"fas fa-arrow-up\" v-else></i>\n                  </div>\n                </div>\n\n                <div\n                  class=\"sorting-option\"\n                  :class=\"{'active': activeSorting === sorting.SIZE}\"\n                  @click=\"updateSorting(sorting.SIZE)\"\n                >\n                  <span class=\"text\">File size</span>\n                  <div class=\"direction\">\n                    <i class=\"fas fa-arrow-down\" v-if=\"activeSorting === sorting.SIZE && sortDirection === direction.DESC\"></i>\n                    <i class=\"fas fa-arrow-up\" v-else></i>\n                  </div>\n                </div>\n                <div\n                  class=\"sorting-option\"\n                  :class=\"{'active': activeSorting === sorting.UPLOADED}\"\n                  @click=\"updateSorting(sorting.UPLOADED)\"\n                >\n                  <span class=\"text\">Uploaded</span>\n                  <div class=\"direction\">\n                    <i class=\"fas fa-arrow-down\" v-if=\"activeSorting === sorting.UPLOADED && sortDirection === direction.DESC\"></i>\n                    <i class=\"fas fa-arrow-up\" v-else></i>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"gcode-items-wrapper\">\n                <div v-for=\"item in gcodesToShow\" :key=\"item.id\" class=\"item\">\n                  <div class=\"item-info\">\n                    <div class=\"filename\">{{ item.filename }}</div>\n                    <div class=\"filesize\">{{ item.filesize }}</div>\n                    <div class=\"uploaded\">{{ item.created_at.fromNow() }}</div>\n                  </div>\n                  <div class=\"remove-button-wrapper\">\n                    <div class=\"remove-button\" @click=\"removeItem(item.id)\">\n                      <i class=\"far fa-trash-alt\"></i>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <mugen-scroll :handler=\"fetchGCodes\" :should-handle=\"!loading\" class=\"text-center p-4\">\n                <div v-if=\"noMoreData\" class=\"text-center p-2\">End of your G-Codes list.</div>\n                <b-spinner v-if=\"!noMoreData\" label=\"Loading...\"></b-spinner>\n              </mugen-scroll>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport Layout from '@src/components/Layout.vue'\nimport vue2Dropzone from 'vue2-dropzone'\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport urls from '@config/server-urls'\nimport axios from 'axios'\nimport MugenScroll from 'vue-mugen-scroll'\nimport { normalizedGcode } from '@src/lib/normalizers'\nimport { user } from '@src/lib/page_context'\nimport SearchInput from '@src/components/SearchInput.vue'\n\nconst SORTING = {\n  NAME: 1,\n  SIZE: 2,\n  UPLOADED: 3\n}\n\nconst SORT_DIRECTION = {\n  ASC: 1,\n  DESC: -1\n}\n\nexport default {\n  name: 'GCodesPage',\n\n  components: {\n    Layout,\n    SearchInput,\n    vueDropzone: vue2Dropzone,\n    MugenScroll,\n  },\n\n  props: {\n    csrf: {\n      type: String,\n      requeired: true,\n    },\n  },\n\n  data() {\n    return {\n      user: null,\n      searchText: '',\n      activeSorting: SORTING.UPLOADED,\n      sortDirection: SORT_DIRECTION.DESC,\n      sorting: SORTING,\n      direction: SORT_DIRECTION,\n      gcodes: [],\n      currentPage: 1,\n      loading: false,\n      noMoreData: false,\n    }\n  },\n\n  computed: {\n    maxFilesize() {\n      return this.user.is_pro ? 500 : 50 // MB\n    },\n\n    maxTotalFilesize() {\n      return this.user.is_pro ? 50 : 1 // GB\n    },\n\n    dropzoneOptions() {\n      return {\n        withCredentials: true,\n        maxFilesize: this.maxFilesize,\n        timeout: 60 * 60 * 1000, // For large files\n        acceptedFiles: '.g,.gcode,.gco',\n        url: 'upload/',\n        headers: { 'X-CSRFToken': this.csrf },\n      }\n    },\n    gcodesToShow() {\n      let gcodes = this.gcodes\n\n      if (!gcodes) {\n        return []\n      }\n\n      const query = this.searchText.toLowerCase()\n      gcodes = gcodes.filter((gcf) => gcf.filename.toLowerCase().indexOf(query) > -1)\n\n      const sortDirection = this.sortDirection\n\n      switch (this.activeSorting) {\n      case SORTING.NAME:\n        gcodes.sort(function(a, b) {\n          var filenameA = a.filename.toUpperCase() // ignore upper and lowercase\n          var filenameB = b.filename.toUpperCase() // ignore upper and lowercase\n\n          if (filenameA < filenameB) {\n            return sortDirection === SORT_DIRECTION.ASC ? -1 : 1\n          }\n          if (filenameA > filenameB) {\n            return sortDirection === SORT_DIRECTION.ASC ? 1 : -1\n          }\n\n          return 0\n        })\n        break\n\n      case SORTING.SIZE:\n        gcodes.sort(function(a, b) {\n          if (sortDirection === SORT_DIRECTION.ASC) {\n            return a.num_bytes - b.num_bytes\n          } else {\n            return b.num_bytes - a.num_bytes\n          }\n        })\n        break\n\n      case SORTING.UPLOADED:\n        gcodes.sort(function(a, b) {\n          const uploadedA = a.created_at.unix()\n          const uploadedB = b.created_at.unix()\n\n          if (sortDirection === SORT_DIRECTION.ASC) {\n            return uploadedA - uploadedB\n          } else {\n            return uploadedB - uploadedA\n          }\n        })\n        break\n      }\n\n      return gcodes\n    },\n  },\n\n  created() {\n    this.user = user()\n    this.fetchGCodes()\n  },\n\n  methods: {\n    updateSearch(search) {\n      this.searchText = search\n    },\n    gcodeUploadSuccess() {\n      this.$refs.gcodesDropzone.removeAllFiles()\n\n      this.gcodes = []\n      this.currentPage = 1\n      this.noMoreData = false\n      this.fetchGCodes()\n    },\n\n    gcodeUploadError(file, message) {\n      this.$swal.Reject.fire({\n        html: `<p class=\"text-center\">${message}</p>`})\n    },\n\n    fetchGCodes() {\n      if (this.noMoreData) {\n        return\n      }\n\n      this.loading = true\n\n      return axios\n        .get(urls.gcodes(this.currentPage))\n        .then(response => {\n          this.loading = false\n\n          this.noMoreData = response.data.next === null\n          let gcodeFiles = response.data.results\n\n          if (gcodeFiles) {\n            this.gcodes.push(...gcodeFiles.map(data => normalizedGcode(data)))\n            this.currentPage += 1\n          }\n        }).catch(err => {\n          console.log(err)\n          this.noMoreData = true\n        })\n    },\n\n    updateSorting(sortOption) {\n      if (this.activeSorting === sortOption) {\n        this.sortDirection = -this.sortDirection\n      } else {\n        this.activeSorting = sortOption\n        this.sortDirection = SORT_DIRECTION.ASC\n      }\n    },\n\n    removeItem(id) {\n      axios\n        .delete(urls.gcode(id), )\n        .then(() => {\n          for (let i = 0; i < this.gcodes.length; i++) {\n            const deleted = this.gcodes[i]\n\n            if (deleted.id === id) {\n              this.gcodes.splice(i, 1)\n\n              // Toast for user\n              let toastHtml = ''\n              toastHtml += `<h6 class=\"text-danger\">${deleted.filename} successfully deleted!</h6>`\n\n              this.$swal.Toast.fire({\n                // icon: 'success',\n                html: toastHtml,\n              })\n            }\n          }\n        })\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.upload-box\n  margin-bottom: var(--gap-between-blocks)\n\n.search-input\n  height: 30px\n  input\n    background-color: var(--color-surface-secondary)\n    border: var(--color-surface-secondary)\n\n.gcodes-wrapper\n  background-color: var(--color-surface-secondary)\n  padding: 2em\n  border-radius: var(--border-radius-lg)\n\n.control-panel\n  border-bottom: 1px solid var(--color-divider)\n  padding-bottom: 16px\n\n.sorting-panel\n  display: flex\n  padding: 1em calc(1em + 30px) 1em 1em\n  border-bottom: 1px solid var(--color-divider)\n\n  .sorting-option\n    flex: 1\n    display: flex\n    justify-content: space-between\n    margin-left: 30px\n    align-items: center\n    font-size: .9rem\n\n    &:hover\n      cursor: pointer\n\n    &:first-child\n      margin-left: 0\n\n    .direction\n      font-size: .8rem\n      opacity: .3\n\n  .sorting-option.active .direction\n    opacity: 1\n\n  @media (max-width: 768px)\n    &\n      flex-direction: column\n      padding: 1em 0\n\n    .sorting-option\n      margin-left: 0\n      margin-bottom: 4px\n\n    .remove-button-placeholder\n      display: none\n\n.gcode-items-wrapper\n  .item\n    display: flex\n    align-items: center\n    padding: .6em 1em\n\n    &:nth-child(2n)\n      background-color: var(--color-table-accent)\n\n    .item-info\n      display: flex\n      width: 100%\n      overflow: hidden\n      flex: 1\n\n      div\n        flex: 1\n        margin-left: 30px\n\n        &:first-child\n          margin-left: 0\n\n      .filename\n        text-overflow: ellipsis\n        overflow: hidden\n        white-space: nowrap\n        width: 100%\n\n    .remove-button\n      width: 30px\n      height: 30px\n      text-align: center\n      line-height: 30px\n      border-radius: 50%\n      transition: background-color .2s ease-out\n\n      &:hover\n        background-color: var(--color-danger)\n        color: var(--color-on-primary)\n        cursor: pointer\n\n    @media (max-width: 768px)\n      &\n        padding: .6em 0\n\n      &:nth-child(2n)\n        margin: 0 -.6em\n        padding: .6em\n\n      .item-info\n        flex-direction: column\n        align-items: flex-start\n\n        div\n          margin-left: 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodesPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodesPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GCodesPage.vue?vue&type=template&id=0c1dc080&scoped=true&\"\nimport script from \"./GCodesPage.vue?vue&type=script&lang=js&\"\nexport * from \"./GCodesPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GCodesPage.vue?vue&type=style&index=0&id=0c1dc080&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c1dc080\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',{staticClass:\"flex-full-size\",class:{'is-in-mobile': _vm.useMobileLayout},attrs:{\"fluid\":\"xl\"}},[_c('b-row',{staticClass:\"flex-full-size\"},[_c('b-col',{staticClass:\"flex-full-size\"},[(_vm.user)?_c('div',{staticClass:\"flex-full-size\"},[(_vm.useMobileLayout)?_c('div',{staticClass:\"mobile-settings-wrapper full-on-mobile\"},[(_vm.$route.path === '/user_preferences/')?_c('div',{staticClass:\"mobile-settings-categories\"},[_c('h2',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onlyNotifications()),expression:\"!onlyNotifications()\"}],staticClass:\"categories-title section-title\"},[_vm._v(\"Account\")]),_vm._l((_vm.sections),function(value,name){return [(!value.isHidden)?_c('router-link',{key:name,class:value.isSubcategory ? 'subcategory' : '',attrs:{\"to\":value.route}},[_c('span',[(value.faIcon)?_c('i',{class:[value.faIcon, 'mr-2'],staticStyle:{\"font-size\":\"1.125rem\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(value.title))])]),_c('i',{staticClass:\"fas fa-arrow-right\"})]):_vm._e()]}),(!_vm.onlyNotifications())?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout($event)}}},[_c('span',[_c('i',{class:['fas fa-sign-out-alt', 'mr-2'],staticStyle:{\"font-size\":\"1.125rem\"}}),_vm._v(\" Logout \")])]):_vm._e()],2):_c('div',{staticClass:\"mobile-settings-content\",class:{'is-in-mobile': _vm.useMobileLayout}},[(_vm.currentSection && (!_vm.currentSection.isNotificationChannel || _vm.availableNotificationPlugins))?_c(_vm.currentRouteComponent,{tag:\"component\",attrs:{\"user\":_vm.user,\"errorMessages\":_vm.errorMessages,\"saving\":_vm.saving,\"config\":_vm.config,\"notificationChannel\":(_vm.currentSection && _vm.currentSection.isNotificationChannel) ? _vm.currentSection : {}},on:{\"createNotificationChannel\":_vm.createNotificationChannel,\"updateNotificationChannel\":_vm.patchNotificationChannel,\"deleteNotificationChannel\":_vm.deleteNotificationChannel,\"clearErrorMessages\":_vm.clearErrorMessages,\"addErrorMessage\":_vm.addErrorMessage,\"updateSetting\":_vm.updateSetting,\"errorAlert\":_vm.errorAlert}}):_vm._e()],1)]):_c('b-tabs',{staticClass:\"desktop-settings-wrapper\",attrs:{\"vertical\":true,\"nav-wrapper-class\":\"settings-nav\",\"active-nav-item-class\":\"\",\"content-class\":\"desktop-settings-content\"},on:{\"activate-tab\":_vm.updateRoute},scopedSlots:_vm._u([{key:\"tabs-end\",fn:function(){return [_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout($event)}}},[_c('i',{class:['fas fa-sign-out-alt', 'mr-2']}),_vm._v(\" Logout \")])])]},proxy:true}],null,false,425318270)},[_vm._l((_vm.sections),function(value,name){return [(!value.isHidden)?_c('b-tab',{key:name,attrs:{\"title-item-class\":value.isSubcategory ? 'subcategory' : '',\"active\":_vm.$route.path === value.route,\"disabled\":value.isNotificationChannel && !_vm.user.notification_enabled},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [(value.faIcon)?_c('i',{class:[value.faIcon, 'mr-2']}):_vm._e(),_vm._v(\" \"+_vm._s(value.title)+\" \")]},proxy:true}],null,true)},[(!value.isNotificationChannel || _vm.availableNotificationPlugins)?_c(name,{tag:\"component\",attrs:{\"user\":_vm.user,\"errorMessages\":_vm.errorMessages,\"saving\":_vm.saving,\"config\":_vm.config,\"notificationChannel\":value.isNotificationChannel ? value : {}},on:{\"createNotificationChannel\":_vm.createNotificationChannel,\"updateNotificationChannel\":_vm.patchNotificationChannel,\"deleteNotificationChannel\":_vm.deleteNotificationChannel,\"clearErrorMessages\":_vm.clearErrorMessages,\"addErrorMessage\":_vm.addErrorMessage,\"updateSetting\":_vm.updateSetting,\"errorAlert\":_vm.errorAlert}}):_vm._e()],1):_vm._e()]})],2)],1):_c('div',{staticClass:\"text-center\"},[_c('b-spinner',{staticClass:\"mt-5\",attrs:{\"label\":\"Loading...\"}})],1)])],1)],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import routes from '@config/user-preferences/routes'\nimport notificationPlugins from '@src/notifications/plugins'\nimport { inMobileWebView, onlyNotifications } from '@src/lib/page_context'\n\nconst defaultSections = {\n  ThemePreferences: {\n    title: 'Appearance',\n    faIcon: 'fas fa-magic',\n    importComponent: () => import('@src/components/user-preferences/ThemePreferences'),\n    route: routes.ThemePreferences,\n    isHidden: (inMobileWebView() && !(new URLSearchParams(window.location.search).get('themeable') === 'true')) || onlyNotifications(),\n  },\n  ProfilePreferences: {\n    title: 'Profile',\n    faIcon: 'fas fa-user-edit',\n    importComponent: () => import('@src/components/user-preferences/ProfilePreferences'),\n    route: routes.ProfilePreferences,\n    isHidden: onlyNotifications(),\n  },\n  AuthorizedApps: {\n    title: 'Authorized Apps',\n    faIcon: 'fas fa-check-circle',\n    importComponent: () => import('@src/components/user-preferences/AuthorizedApps'),\n    route: routes.AuthorizedApps,\n    isHidden: onlyNotifications(),\n  },\n\n  // Notifications\n  GeneralNotifications: {\n    title: 'Notifications',\n    faIcon: 'fas fa-bell',\n    importComponent: () => import('@src/components/user-preferences/notifications/GeneralNotifications'),\n    route: routes.GeneralNotifications,\n  },\n  PushNotifications: {\n    title: 'Push Notification',\n    isSubcategory: true,\n    isNotificationChannel: true,\n    importComponent: () => ({}),\n    route: routes.PushNotifications,\n    isHidden: !inMobileWebView(),\n  },\n}\n\nconst notificationSections = Object.keys(notificationPlugins).reduce((obj, name) => {\n  return Object.assign(obj, { [name]: {\n    title: notificationPlugins[name].displayName,\n    channelName: name,\n    isSubcategory: true,\n    isNotificationChannel: true,\n    route: routes[name],\n    importComponent: () => import('@src/notifications/plugins/'+name),\n  }})\n}, {})\n\nexport default {\n  ...defaultSections,\n  ...notificationSections,\n}\n","<template>\n  <layout>\n    <template v-slot:content>\n      <b-container fluid=\"xl\" :class=\"{'is-in-mobile': useMobileLayout}\" class=\"flex-full-size\">\n        <b-row class=\"flex-full-size\">\n          <b-col class=\"flex-full-size\">\n            <div v-if=\"user\" class=\"flex-full-size\">\n              <!-- Mobile (web / app) -->\n              <div v-if=\"useMobileLayout\" class=\"mobile-settings-wrapper full-on-mobile\">\n                <div v-if=\"$route.path === '/user_preferences/'\" class=\"mobile-settings-categories\">\n                  <h2 v-show=\"!onlyNotifications()\" class=\"categories-title section-title\">Account</h2>\n                  <template v-for=\"(value, name) in sections\">\n                    <router-link v-if=\"!value.isHidden\" :key=\"name\" :to=\"value.route\" :class=\"value.isSubcategory ? 'subcategory' : ''\">\n                      <span>\n                        <i v-if=\"value.faIcon\" :class=\"[value.faIcon, 'mr-2']\" style=\"font-size: 1.125rem\"></i>\n                        <span>{{ value.title }}</span>\n                      </span>\n                      <i class=\"fas fa-arrow-right\"></i>\n                    </router-link>\n                  </template>\n\n                  <a v-if=\"!onlyNotifications()\" href=\"#\" @click.prevent=\"logout\">\n                    <span>\n                      <i :class=\"['fas fa-sign-out-alt', 'mr-2']\" style=\"font-size: 1.125rem\"></i>\n                      Logout\n                    </span>\n                  </a>\n                </div>\n                <div v-else class=\"mobile-settings-content\" :class=\"{'is-in-mobile': useMobileLayout}\">\n                  <component\n                    v-if=\"currentSection && (!currentSection.isNotificationChannel || availableNotificationPlugins)\"\n                    :is=\"currentRouteComponent\"\n                    :user=\"user\"\n                    :errorMessages=\"errorMessages\"\n                    :saving=\"saving\"\n                    :config=\"config\"\n                    :notificationChannel=\"(currentSection && currentSection.isNotificationChannel) ? currentSection : {}\"\n                    @createNotificationChannel=\"createNotificationChannel\"\n                    @updateNotificationChannel=\"patchNotificationChannel\"\n                    @deleteNotificationChannel=\"deleteNotificationChannel\"\n                    @clearErrorMessages=\"clearErrorMessages\"\n                    @addErrorMessage=\"addErrorMessage\"\n                    @updateSetting=\"updateSetting\"\n                    @errorAlert=\"errorAlert\"\n                  ></component>\n                </div>\n              </div>\n              <!-- Desktop -->\n              <b-tabs\n                v-else\n                :vertical=\"true\"\n                class=\"desktop-settings-wrapper\"\n                nav-wrapper-class=\"settings-nav\"\n                active-nav-item-class=\"\"\n                content-class=\"desktop-settings-content\"\n                @activate-tab=\"updateRoute\"\n              >\n                <template v-for=\"(value, name) in sections\">\n                  <b-tab\n                    v-if=\"!value.isHidden\"\n                    :key=\"name\"\n                    :title-item-class=\"value.isSubcategory ? 'subcategory' : ''\"\n                    :active=\"$route.path === value.route\"\n                    :disabled=\"value.isNotificationChannel && !user.notification_enabled\"\n                  >\n                    <template #title>\n                      <i v-if=\"value.faIcon\" :class=\"[value.faIcon, 'mr-2']\"></i>\n                      {{ value.title }}\n                    </template>\n                    <component\n                      v-if=\"!value.isNotificationChannel || availableNotificationPlugins\"\n                      :is=\"name\"\n                      :user=\"user\"\n                      :errorMessages=\"errorMessages\"\n                      :saving=\"saving\"\n                      :config=\"config\"\n                      :notificationChannel=\"value.isNotificationChannel ? value : {}\"\n                      @createNotificationChannel=\"createNotificationChannel\"\n                      @updateNotificationChannel=\"patchNotificationChannel\"\n                      @deleteNotificationChannel=\"deleteNotificationChannel\"\n                      @clearErrorMessages=\"clearErrorMessages\"\n                      @addErrorMessage=\"addErrorMessage\"\n                      @updateSetting=\"updateSetting\"\n                      @errorAlert=\"errorAlert\"\n                    ></component>\n                  </b-tab>\n                </template>\n                <template #tabs-end>\n                  <li class=\"nav-item\">\n                    <a class=\"nav-link\" href=\"#\" @click.prevent=\"logout\">\n                      <i :class=\"['fas fa-sign-out-alt', 'mr-2']\"></i>\n                      Logout\n                    </a>\n                  </li>\n                </template>\n              </b-tabs>\n            </div>\n            <div v-else class=\"text-center\">\n              <b-spinner class=\"mt-5\" label=\"Loading...\"></b-spinner>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport urls from '@config/server-urls'\nimport Layout from '@src/components/Layout.vue'\nimport { inMobileWebView, onlyNotifications } from '@src/lib/page_context'\nimport sections from '@config/user-preferences/sections'\nimport routes from '@config/user-preferences/routes'\nimport { mobilePlatform } from '@src/lib/page_context'\nimport { getNotificationSettingKey } from '@src/lib/utils'\n\nexport default {\n  name: 'UserPreferencesPage',\n\n  props: {\n    config: {\n      default() {return {}},\n      type: Object,\n    },\n  },\n\n  components: {\n    Layout,\n    ...Object.keys(sections).reduce((obj, name) => {\n      return Object.assign(obj, { [name]: sections[name].importComponent })\n    }, {}),\n  },\n\n  data() {\n    return {\n      sections,\n      availableNotificationPlugins: null,\n      configuredNotificationChannels: null,\n      onlyNotifications,\n      user: null,\n      saving: {},\n      errorMessages: {},\n      delayedSubmit: { // Make pause before sending new value to API\n        'first_name': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n        'last_name': {\n          'delay': 1000,\n          'timeoutId': null\n        },\n      },\n      combinedInputs: {}, // Send changes to API only if all the other values in the array have data\n      useMobileLayout: false,\n    }\n  },\n\n  computed: {\n    visibleSections() {\n      return Object.values(sections).filter(item => !item.isHidden)\n    },\n    currentRouteComponent() {\n      for (const [component, route] of Object.entries(routes)) {\n        if (this.$route.path === route) {\n          return component\n        }\n      }\n      return null\n    },\n    currentSection() {\n      for (const section of Object.values(this.sections)) {\n        if (section.route === this.$route.path) {\n          return section\n        }\n      }\n      return null\n    },\n    inMobileWebView() {\n      return inMobileWebView()\n    },\n    clientIsThemeable() {\n      return !inMobileWebView() || (new URLSearchParams(window.location.search).get('themeable') === 'true')\n    },\n    firstName: {\n      get: function() {\n        return this.user ? this.user.first_name : undefined\n      },\n      set: function(newValue) {\n        this.user.first_name = newValue\n      }\n    },\n    lastName: {\n      get: function() {\n        return this.user ? this.user.last_name : undefined\n      },\n      set: function(newValue) {\n        this.user.last_name = newValue\n      }\n    },\n  },\n\n  watch: {\n    firstName: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('first_name')\n      }\n    },\n    lastName: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('last_name')\n      }\n    },\n  },\n\n  created() {\n    this.fetchNotificationPlugins()\n    this.fetchNotificationChannels()\n    this.fetchUser()\n  },\n\n  methods: {\n    updateRoute(newTabIndex) {\n      const section = Object.values(this.visibleSections)[newTabIndex]\n      this.$router.replace({ path: section.route })\n    },\n    logout() {\n      this.$swal.Confirm.fire({\n        title: 'Confirmation',\n        html: '<p class=\"text-center\">You a going to logout from your account</p>',\n        confirmButtonText: 'Logout',\n        cancelButtonText: 'Cancel',\n      }).then((result) => {\n        if(result.isConfirmed) {\n          window.location.replace('/accounts/logout/')\n        }\n      })\n    },\n    checkMobileLayout() {\n      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n      this.useMobileLayout = inMobileWebView() || vw < 1140\n    },\n    fetchUser() {\n      return axios\n        .get(urls.user())\n        .then(response => {\n          this.user = response.data\n        })\n    },\n    fetchNotificationPlugins() {\n      return axios\n        .get(urls.notificationPlugins())\n        .then(response => {\n          const plugins = response.data.plugins || {}\n          this.availableNotificationPlugins = plugins\n          for (const [key, val] of Object.entries(this.sections)) {\n            if (val.isNotificationChannel) {\n              this.sections[key].pluginInfo = plugins[val.channelName]\n            }\n          }\n        })\n    },\n    fetchNotificationChannels() {\n      return axios\n        .get(urls.notificationChannels())\n        .then(response => {\n          const channels = response.data\n          this.configuredNotificationChannels = channels\n          for (const [key, val] of Object.entries(this.sections)) {\n            if (val.isNotificationChannel) {\n              this.sections[key].channelInfo = channels.filter(channel => channel.name === val.channelName)[0]\n            }\n          }\n        })\n    },\n    createNotificationChannel(section, config, opts={}) {\n      const data = {\n        user: this.user.id,\n        name: section.channelName,\n        config,\n        ...opts,\n      }\n\n      const key = getNotificationSettingKey(section, 'config')\n      this.setSavingStatus(key, true)\n\n      return axios\n        .post(urls.notificationChannels(), data)\n        .then(() => {\n          this.setSavingStatus(key, false)\n          this.$router.go()\n        })\n        .catch(err => {\n          this.setSavingStatus(key, false)\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            let errors = []\n            for (const error of Object.values(err.response.data)) {\n              if (typeof error === 'object') {\n                for (const innnerError of Object.values(error)) {\n                  errors.push(innnerError)\n                }\n              } else if (typeof error === 'string') {\n                errors.push(error)\n              } else {\n                console.warn('Undefined error object structure')\n                console.log(err.response)\n              }\n            }\n            const key = getNotificationSettingKey(section, 'config')\n            this.$set(this.errorMessages, key, errors)\n          } else {\n            console.log(err.response)\n            this.errorAlert()\n          }\n        })\n    },\n    patchNotificationChannel(section, propNames) {\n      let data = {\n        name: section.channelName\n      }\n\n      for (const prop of propNames) {\n        data[prop] = section.channelInfo[prop]\n      }\n\n      for (const prop of propNames) {\n        const key = getNotificationSettingKey(section, prop)\n        this.setSavingStatus(key, true)\n      }\n\n      return axios\n        .patch(urls.updateNotificationChannel(section.channelInfo.id), data)\n        .then(() => {\n          for (const prop of propNames) {\n            const key = getNotificationSettingKey(section, prop)\n            this.setSavingStatus(key, false)\n          }\n        })\n        .catch(err => {\n          for (const prop of propNames) {\n            const key = getNotificationSettingKey(section, prop)\n            this.setSavingStatus(key, false)\n          }\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            let errors = []\n            for (const error of Object.values(err.response.data)) {\n              if (typeof error === 'object') {\n                for (const innnerError of Object.values(error)) {\n                  errors.push(innnerError)\n                }\n              } else if (typeof error === 'string') {\n                errors.push(error)\n              } else {\n                console.warn('Undefined error object structure')\n                console.log(err.response)\n              }\n            }\n            for (const prop of propNames) {\n              const key = getNotificationSettingKey(section, prop)\n              this.$set(this.errorMessages, key, errors)\n            }\n          } else {\n            console.log(err.response)\n            this.errorAlert()\n          }\n        })\n    },\n    deleteNotificationChannel(section) {\n      return axios\n        .delete(urls.updateNotificationChannel(section.channelInfo.id))\n        .then(() => {\n          this.$router.go()\n        })\n        .catch(err => {\n          console.log(err.response)\n          this.errorAlert()\n        })\n    },\n    clearErrorMessages(propName) {\n      this.errorMessages[propName] = []\n    },\n    addErrorMessage(propName, message) {\n      this.errorMessages[propName] ? this.errorMessages[propName].push(message) : this.errorMessages[propName] = [message]\n    },\n    patchUser(propName, propValue) {\n      let data = {}\n      let key = propName\n      const combinedInputs = this.checkForCombinedValues(propName)\n      if (combinedInputs) {\n        // Must include all the inputs from the array\n        // or don't send if some of them have no data\n        for (const input of combinedInputs.inputs) {\n          key = combinedInputs.key\n          const value = this.user[input]\n          data[input] = value\n        }\n        // Allow either completely empty or completely filled data\n        const values = Object.values(data)\n        const emptyValues = values.filter(val => !val)\n        if ((emptyValues.length !== values.length) && (emptyValues.length !== 0)) {\n          return\n        }\n      } else {\n        data = {[propName]: propValue}\n      }\n      this.setSavingStatus(key, true)\n      // Make request to API\n      return axios\n        .patch(urls.user(), data)\n        .catch(err => {\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            if (err.response.data.non_field_errors) {\n              this.errorAlert(err.response.data.non_field_errors)\n            } else {\n              for (const error in err.response.data) {\n                this.errorMessages[key] = err.response.data[error]\n              }\n            }\n          } else {\n            this.errorAlert()\n          }\n        })\n        .then(() => {\n          if (window.ReactNativeWebView) {\n            if (key === 'first_name') {\n              window.ReactNativeWebView.postMessage(JSON.stringify({firstName: this.firstName}))\n            } else if (key === 'last_name') {\n              window.ReactNativeWebView.postMessage(JSON.stringify({lastName: this.lastName}))\n            }\n          }\n\n          this.setSavingStatus(key, false)\n        })\n    },\n    checkForCombinedValues(propName) {\n      for (const [key, inputs] of Object.entries(this.combinedInputs)) {\n        if (inputs.includes(propName)) {\n          return {inputs, key}\n        }\n      }\n      return null\n    },\n    setSavingStatus(propName, status) {\n      if (status) {\n        delete this.errorMessages[propName]\n      }\n      this.$set(this.saving, propName, status)\n    },\n    errorAlert(text=null) {\n      this.$swal({\n        icon: 'error',\n        html: `<p>${text ? text : 'Can not update your preferences.'}</p><p>Get help from <a href=\"https://obico.io/discord\">the Obico app discussion forum</a> if this error persists.</p>`,\n      })\n    },\n    updateSetting(settingsItem) {\n      console.log('updateSetting, ', settingsItem)\n      if (settingsItem in this.delayedSubmit) {\n        const delayInfo = this.delayedSubmit[settingsItem]\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n        this.delayedSubmit[settingsItem]['timeoutId'] = setTimeout(() => {\n          this.patchUser(settingsItem, this.user[settingsItem])\n        }, delayInfo['delay'])\n        return\n      }\n      this.patchUser(settingsItem, this.user[settingsItem])\n    },\n  },\n  mounted() {\n    this.checkMobileLayout()\n    window.onresize = this.checkMobileLayout\n    if (this.useMobileLayout) {\n      document.querySelector('body').style.paddingTop = '0px'\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.flex-full-size\n  display: flex\n  flex-direction: column\n  flex: 1\n.desktop-settings-wrapper\n  margin: 0\n  background-color: var(--color-surface-secondary)\n  border-radius: var(--border-radius-lg)\n  ::v-deep .desktop-settings-content\n    padding: 2rem\n    padding-right: 3rem\n.mobile-settings-wrapper\n  flex: 1\n  background-color: var(--color-surface-secondary)\n  padding: 1.5rem\n  .mobile-settings-content\n    padding-right: 1rem\n  .mobile-settings-categories\n    .categories-title\n      font-weight: bold\n      font-size: 1.5rem\n      margin-bottom: 1rem\n    a\n      color: var(--text-primary)\n      display: flex\n      justify-content: space-between\n      align-items: center\n      padding: .8rem 0\n      border-bottom: 1px solid var(--color-divider)\n      font-size: 1.2em\n      &.subcategory\n        font-size: 1em\n        padding-left: 1.625em\n      i\n        font-size: .8rem\n::v-deep section:not(:first-child) .section-title\n  margin-top: 2rem\n::v-deep .section-title\n  font-weight: bold\n  font-size: 1.5rem\n  padding-bottom: .25rem\n  border-bottom: 1px solid var(--color-text-primary)\n  margin-bottom: 1.5rem\n::v-deep .settings-nav\n  width: 25%\n  background-color: var(--color-surface-primary)\n  min-height: 80vh\n  padding: 1.5rem 1rem\n  border-radius: var(--border-radius-lg) 0 0 var(--border-radius-lg)\n  .subcategory\n    a\n      padding-left: 3.125em\n      font-size: 0.9em\n  .active\n    border-radius: 6px\n  a\n    border: initial\n::v-deep .nav-tabs\n  border-bottom: none\n\n::v-deep .inactive\n  opacity: .3\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreferencesPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreferencesPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPreferencesPage.vue?vue&type=template&id=68d62d49&scoped=true&\"\nimport script from \"./UserPreferencesPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPreferencesPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPreferencesPage.vue?vue&type=style&index=0&id=68d62d49&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68d62d49\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('layout',{scopedSlots:_vm._u([{key:\"topBarRight\",fn:function(){return [_c('div',[_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-filter\"})]},proxy:true}])},[_vm._l((_vm.eventClassFiltering),function(eventClass,index){return _c('b-dropdown-item',{key:eventClass.key,on:{\"click\":function($event){return _vm.toggleEventFiltering('eventClassFiltering', eventClass.key)}}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({visibility: eventClass.selected ? 'visible' : 'hidden'})}),_c('span',{class:_vm.cssClassFromEventClass(eventClass.key)},[_vm._v(_vm._s(eventClass.title))])])}),_c('b-dropdown-divider'),_vm._l((_vm.eventTypeFiltering),function(eventType,index){return _c('b-dropdown-item',{key:eventType.key,on:{\"click\":function($event){return _vm.toggleEventFiltering('eventTypeFiltering', eventType.key)}}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({visibility: eventType.selected ? 'visible' : 'hidden'})}),_vm._v(_vm._s(eventType.title)+\" \")])})],2)],1)]},proxy:true},{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-md-10 col-lg-8\"},[(!_vm.loading && _vm.printerEvents.length === 0)?_c('div',{staticClass:\"text-center\"},[_c('img',{staticClass:\"w-25 my-4\",attrs:{\"src\":require('@static/img/vacation.gif')}}),_c('h5',{staticClass:\"text-primary\"},[_vm._v(\"Nothing to look here. Enjoy your vacation!\")])]):_c('div',[_vm._l((_vm.printerEvents),function(item){return _c('printer-event-card',{key:item.id,attrs:{\"printer-event\":item}})}),_c('mugen-scroll',{staticClass:\"text-center p-4\",attrs:{\"handler\":_vm.fetchMoreData,\"should-handle\":!_vm.loading}},[(_vm.noMoreData)?_c('div',{staticClass:\"text-center p-2\"},[_vm._v(\"No more notifications.\")]):_vm._e(),(!_vm.noMoreData)?_c('b-spinner',{attrs:{\"label\":\"Loading...\"}}):_vm._e()],1)],2)])])],1)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"printer-event-card my-3\",class:_vm.tintBorderClass},[_c('div',{staticClass:\"printer-event-text\",class:{link: _vm.printerEvent.info_url},on:{\"click\":_vm.onTextClick}},[_c('div',{staticClass:\"title font-weight-bold my-2\",class:_vm.tintClass},[_vm._v(\" \"+_vm._s(_vm.eventTitle)+\" \"),(_vm.printerEvent.info_url)?_c('i',{staticClass:\"fas fa-external-link-alt\"}):_vm._e()]),_c('div',{staticClass:\"description\",domProps:{\"innerHTML\":_vm._s(_vm.printerEvent.event_text)}}),_c('div',{staticClass:\"my-2 text-muted font-weight-light small\"},[_vm._v(\" \"+_vm._s(_vm.printerEvent.created_at.format('LLLL'))+\" \")])]),(_vm.printerEvent.image_url)?_c('div',{staticClass:\"printer-event-snapshot\",style:({backgroundImage: (\"url(\" + (_vm.printerEvent.image_url) + \")\")})}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"printer-event-card my-3\" :class=\"tintBorderClass\">\n    <div class=\"printer-event-text\" :class=\"{link: printerEvent.info_url}\" v-on:click=\"onTextClick\">\n      <div class=\"title font-weight-bold my-2\" :class=\"tintClass\">\n        {{ eventTitle }}\n        <i v-if=\"printerEvent.info_url\" class=\"fas fa-external-link-alt\"></i>\n      </div>\n      <div v-html=\"printerEvent.event_text\" class=\"description\"></div>\n      <div class=\"my-2 text-muted font-weight-light small\">\n        {{ printerEvent.created_at.format('LLLL') }}\n      </div>\n    </div>\n    <div v-if=\"printerEvent.image_url\" :style=\"{backgroundImage: `url(${printerEvent.image_url})`}\" class=\"printer-event-snapshot\">\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PrinterEventCard',\n\n  components: {\n  },\n\n  props: {\n    printerEvent: Object\n  },\n\n  computed: {\n    eventTitle() {\n      return this.printerEvent.event_title || 'Unknown event'\n    },\n    tintClass() {\n      switch (this.printerEvent.event_class) {\n        case 'ERROR':\n          return 'text-danger'\n        case 'WARNING':\n          return 'text-warning'\n        case 'SUCCESS':\n          return 'text-success'\n        default:\n          return ''\n      }\n    },\n    tintBorderClass() {\n      switch (this.printerEvent.event_class) {\n        case 'ERROR':\n          return 'border-danger'\n        case 'WARNING':\n          return 'border-warning'\n        case 'SUCCESS':\n          return 'border-success'\n        default:\n          return ''\n      }\n    },\n  },\n\n  methods: {\n    onTextClick() {\n      if (this.printerEvent.info_url) {\n        window.open(this.printerEvent.info_url, '_blank');\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.printer-event-card\n  display: flex\n  justify-content: space-between\n  border-radius: var(--border-radius-sm)\n  background-color: var(--color-surface-secondary)\n  border-left: solid thick\n\n  >:last-child\n    border-top-right-radius: inherit\n    border-bottom-right-radius: inherit\n\n.printer-event-text\n  flex: 1\n  padding: 0px 14px\n  overflow: hidden\n\n  .title\n    display: flex\n    justify-content: space-between\n\n  &.link\n    &:hover\n      cursor: pointer\n      opacity: .9\n\n  .description ::v-deep div\n    text-overflow: ellipsis\n    overflow: hidden\n    white-space: nowrap\n\n.printer-event-snapshot\n  flex: 0 0 120px\n  background-size: cover\n  background-repeat: no-repeat\n  background-position: center center\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterEventCard.vue?vue&type=template&id=1671f474&scoped=true&\"\nimport script from \"./PrinterEventCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterEventCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterEventCard.vue?vue&type=style&index=0&id=1671f474&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1671f474\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <layout>\n    <template v-slot:topBarRight>\n      <div>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-filter\"></i>\n          </template>\n          <b-dropdown-item v-for=\"(eventClass, index) in eventClassFiltering\" @click=\"toggleEventFiltering('eventClassFiltering', eventClass.key)\" :key=\"eventClass.key\">\n            <i class=\"fas fa-check text-primary\" :style=\"{visibility: eventClass.selected ? 'visible' : 'hidden'}\"></i><span :class=\"cssClassFromEventClass(eventClass.key)\">{{eventClass.title}}</span>\n          </b-dropdown-item>\n          <b-dropdown-divider />\n          <b-dropdown-item v-for=\"(eventType, index) in eventTypeFiltering\" @click=\"toggleEventFiltering('eventTypeFiltering', eventType.key)\" :key=\"eventType.key\">\n            <i class=\"fas fa-check text-primary\" :style=\"{visibility: eventType.selected ? 'visible' : 'hidden'}\"></i>{{eventType.title}}\n          </b-dropdown-item>\n        </b-dropdown>\n      </div>\n    </template>\n    <template v-slot:content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <div class=\"col-sm-12 col-md-10 col-lg-8\">\n            <div v-if=\"!loading && printerEvents.length === 0\" class=\"text-center\">\n              <img :src=\"require('@static/img/vacation.gif')\" class=\"w-25 my-4\" />\n              <h5 class=\"text-primary\">Nothing to look here. Enjoy your vacation!</h5>\n            </div>\n            <div v-else>\n              <printer-event-card v-for=\"item in printerEvents\" :key=\"item.id\" :printer-event=\"item\" />\n              <mugen-scroll :handler=\"fetchMoreData\" :should-handle=\"!loading\" class=\"text-center p-4\">\n                <div v-if=\"noMoreData\" class=\"text-center p-2\">No more notifications.</div>\n                <b-spinner v-if=\"!noMoreData\" label=\"Loading...\"></b-spinner>\n              </mugen-scroll>\n            </div>\n          </div>\n        </b-row>\n      </b-container>\n    </template>\n  </layout>\n</template>\n\n<script>\nimport filter from 'lodash/filter'\nimport map from 'lodash/map'\nimport axios from 'axios'\nimport MugenScroll from 'vue-mugen-scroll'\n\nimport urls from '@config/server-urls'\nimport Layout from '@src/components/Layout.vue'\nimport PrinterEventCard from '@src/components/printer-events/PrinterEventCard.vue'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport { normalizedPrinterEvent } from '@src/lib/normalizers'\nimport findIndex from 'lodash/findIndex'\n\n\nconst LOCAL_PREF_NAMES = {\n  eventClassFiltering: 'printer-event-class-filtering',\n  eventTypeFiltering: 'printer-event-type-filtering',\n}\n\nconst localPrefKey = (prefix, key) => {\n  return `${LOCAL_PREF_NAMES['prefix']}.${key}`\n}\n\nconst localPref = (prefix, key, defaultValue) => {\n  return getLocalPref(localPrefKey(prefix, key), defaultValue)\n}\n\nconst PAGE_SIZE = 12\n\nexport default {\n  name: 'PrinterEventsPage',\n\n  components: {\n    MugenScroll,\n    Layout,\n    PrinterEventCard,\n  },\n\n  props: {\n  },\n\n  data() {\n    return {\n      printerEvents: [],\n      loading: false,\n      noMoreData: false,\n      eventClassFiltering: [\n        { key: 'ERROR', title: 'Error', selected: localPref('eventClassFiltering', 'ERROR', true) },\n        { key: 'WARNING', title: 'Warning', selected: localPref('eventClassFiltering', 'WARNING', true) },\n        { key: 'SUCCESS', title: 'Successs', selected: localPref('eventClassFiltering', 'SUCCESS', true) },\n        { key: 'INFO', title: 'Other', selected: localPref('eventClassFiltering', 'INFO', true) },\n      ],\n      eventTypeFiltering: [\n        { key: 'ALERT', title: 'Failure Detection', selected: localPref('eventTypeFiltering', 'ALERT', true) },\n        { key: 'ENDED', title: 'Print Job Ended', selected: localPref('eventTypeFiltering', 'ENDED', true) },\n        { key: 'STARTED', title: 'Print Job Started', selected: localPref('eventTypeFiltering', 'STARTED', true) },\n        { key: 'PAUSE_RESUME', title: 'Print Job Paused/Resumed', selected: localPref('eventTypeFiltering', 'PAUSE_RESUME', true) },\n        { key: 'FILAMENT_CHANGE', title: 'Filament Change', selected: localPref('eventTypeFiltering', 'FILAMENT_CHANGE', true) },\n        { key: 'PRINTER_ERROR', title: 'Printer Error', selected: localPref('eventTypeFiltering', 'PRINTER_ERROR', true) },\n      ]\n    }\n  },\n\n  created() {\n    this.refetchData()\n  },\n\n  methods: {\n    fetchMoreData() {\n      if (this.noMoreData) {\n        return\n      }\n\n      this.loading = true\n      const filter_by_classes = map(filter(this.eventClassFiltering, 'selected'), 'key')\n      const filter_by_types = map(filter(this.eventTypeFiltering, 'selected'), 'key')\n      axios\n        .get(urls.printerEvents(), {\n          params: {\n            start: this.printerEvents.length,\n            limit: PAGE_SIZE,\n            filter_by_classes,\n            filter_by_types,\n          }\n        })\n        .then(response => {\n          this.loading = false\n          this.noMoreData = response.data.length < PAGE_SIZE\n          this.printerEvents.push(...response.data.map(data => normalizedPrinterEvent(data)))\n        })\n    },\n    refetchData() {\n      this.printerEvents = []\n      this.noMoreData = false\n      this.fetchMoreData()\n    },\n    cssClassFromEventClass(eventClass) {\n      switch(eventClass) {\n        case 'ERROR':\n          return 'text-danger'\n          break\n        case 'INFO':\n          return ''\n          break\n        default:\n          return `text-${eventClass.toLowerCase()}`\n      }\n    },\n    toggleEventFiltering(filter, key) {\n      const i = findIndex(this[filter], f => f.key == key)\n      const original = this[filter][i]\n      this.$set(this[filter], i, {...original, selected: !original.selected})\n      setLocalPref(localPrefKey('eventClassFiltering', filter.key), !original.selected)\n      this.refetchData()\n    },\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterEventsPage.vue?vue&type=template&id=4dbbbf7a&scoped=true&\"\nimport script from \"./PrinterEventsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterEventsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dbbbf7a\",\n  null\n  \n)\n\nexport default component.exports","import VueRouter from 'vue-router'\nimport routes from '@config/user-preferences/routes'\nimport wizardRoutes from '@src/views/printer-wizard/wizard-routes'\n\nimport NewOctoPrintTunnelPage from '@src/views/NewOctoPrintTunnelPage.vue'\nimport OctoPrintTunnelPage from '@src/views/OctoPrintTunnelPage.vue'\nimport PrintShotFeedbackApp from '@src/views/PrintShotFeedbackApp.vue'\nimport PrintsPage from '@src/views/PrintsPage.vue'\nimport PrintPage from '@src/views/PrintPage.vue'\nimport UploadPrintPage from '@src/views/UploadPrintPage.vue'\nimport PrinterListPage from '@src/views/PrinterListPage.vue'\nimport SharedPrinterPage from '@src/views/SharedPrinterPage.vue'\nimport PrinterSettingsPage from '@src/views/PrinterSettingsPage.vue'\nimport PrinterWizardPage from '@src/views/printer-wizard/PrinterWizardPage.vue'\nimport PrinterControlPage from '@src/views/PrinterControlPage.vue'\nimport GCodesPage from '@src/views/GCodesPage.vue'\nimport UserPreferencesPage from '@src/views/UserPreferencesPage.vue'\nimport PrinterEventsPage from '@src/views/PrinterEventsPage.vue'\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes: [\n    {\n      path: '/user_preferences',\n      component: UserPreferencesPage,\n    },\n    ...Object.values(routes).map(route => ({\n      path: route,\n      component: UserPreferencesPage,\n    })),\n\n    ...Object.values(wizardRoutes).map(route => ({\n      path: route,\n      component: PrinterWizardPage,\n    })),\n  ]\n})\n\nconst components = {\n  NewOctoPrintTunnelPage,\n  OctoPrintTunnelPage,\n  PrintShotFeedbackApp,\n  PrinterListPage,\n  SharedPrinterPage,\n  PrinterSettingsPage,\n  PrinterWizardPage,\n  PrinterControlPage,\n  GCodesPage,\n  PrintsPage,\n  PrintPage,\n  UploadPrintPage,\n  UserPreferencesPage,\n  PrinterEventsPage,\n}\n\nexport {\n  router,\n  components,\n}\n","import mountVue from '@src/mount'\nimport { router, components } from '@src/pages'\n\nmountVue(router, components)\n","import { isLocalStorageSupported } from './utils.js'\n\n\nconst Themes = {\n  Light: 'Light',\n  Dark: 'Dark',\n  System: 'System',\n}\n\nconst defaultTheme = (isLocalStorageSupported() ? localStorage.getItem('colorTheme') : Themes.Dark) || Themes.Dark\n\n\n// CSS Vars\n\nconst colors = [\n  {\n    name: 'primary',\n    values: {[Themes.Light]: '#01A299', [Themes.Dark]: '#03DAC5'},\n  },\n  {\n    name: 'primary-hover',\n    values: {[Themes.Light]: '#019592', [Themes.Dark]: '#70EFDE'},\n  },\n  {\n    name: 'primary-muted',\n    values: {[Themes.Light]: '#03DAC5', [Themes.Dark]: '#018786'},\n  },\n  {\n    name: 'on-primary',\n    values: {[Themes.Light]: '#FFFFFF', [Themes.Dark]: '#001210'},\n  },\n  {\n    name: 'secondary',\n    values: {[Themes.Light]: '#28303A', [Themes.Dark]: '#EBEBEB'},\n  },\n  {\n    name: 'secondary-hover',\n    values: {[Themes.Light]: '#424A54', [Themes.Dark]: '#D0D0D0'},\n  },\n  {\n    name: 'on-secondary',\n    values: {[Themes.Light]: '#EBEBEB', [Themes.Dark]: '#28303A'},\n  },\n  {\n    name: 'success',\n    values: {[Themes.Light]: '#5CB85C', [Themes.Dark]: '#5CB85C'},\n  },\n  {\n    name: 'success-hover',\n    values: {[Themes.Light]: '#4CAE4C', [Themes.Dark]: '#4CAE4C'},\n  },\n  {\n    name: 'on-success',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#ffffff'},\n  },\n  {\n    name: 'danger',\n    values: {[Themes.Light]: '#D9534F', [Themes.Dark]: '#D9534F'},\n  },\n  {\n    name: 'danger-hover',\n    values: {[Themes.Light]: '#C2413D', [Themes.Dark]: '#C2413D'},\n  },\n  {\n    name: 'on-danger',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#ffffff'},\n  },\n  {\n    name: 'warning',\n    values: {[Themes.Light]: '#F0AD4E', [Themes.Dark]: '#F0AD4E'},\n  },\n  {\n    name: 'warning-hover',\n    values: {[Themes.Light]: '#DB9A3F', [Themes.Dark]: '#DB9A3F'},\n  },\n  {\n    name: 'on-warning',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#ffffff'},\n  },\n  {\n    name: 'on-warning-2',\n    values: {[Themes.Light]: '#000000', [Themes.Dark]: '#000000'},\n  },\n  {\n    name: 'background',\n    values: {[Themes.Light]: '#EBEBEB', [Themes.Dark]: '#233141'},\n  },\n  {\n    name: 'surface-primary',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#485B71'},\n  },\n  {\n    name: 'surface-secondary',\n    values: {[Themes.Light]: '#F5F5F5', [Themes.Dark]: '#2D3E4F'},\n  },\n  {\n    name: 'overlay',\n    values: {[Themes.Light]: '#F5F5F5CC', [Themes.Dark]: '#000000CC'},\n  },\n  {\n    name: 'hover',\n    values: {[Themes.Light]: '#66666613', [Themes.Dark]: '#FFFFFF13'},\n  },\n  {\n    name: 'divider',\n    values: {[Themes.Light]: '#ABB6C2', [Themes.Dark]: '#6A7B8A'},\n  },\n  {\n    name: 'text-primary',\n    values: {[Themes.Light]: '#28303A', [Themes.Dark]: '#EBEBEB'},\n  },\n  {\n    name: 'text-secondary',\n    values: {[Themes.Light]: '#8A94A2', [Themes.Dark]: '#AAACB0'},\n  },\n  {\n    name: 'text-help',\n    values: {[Themes.Light]: '#4C9BE8', [Themes.Dark]: '#4C9BE8'},\n  },\n\n  {\n    name: 'input-background',\n    values: {[Themes.Light]: '#E2E8ED', [Themes.Dark]: '#42566B'},\n  },\n  {\n    name: 'input-placeholder',\n    values: {[Themes.Light]: '#28303A80', [Themes.Dark]: '#EBEBEB80'},\n  },\n\n  {\n    name: 'table-accent',\n    values: {[Themes.Light]: '#E3E3E3', [Themes.Dark]: '#283848'},\n  },\n\n  // Icon colors\n  {\n    name: 'icon-tunneling-1',\n    values: {[Themes.Light]: '#4E5D6C', [Themes.Dark]: '#EAEAEA'},\n  },\n  {\n    name: 'icon-tunneling-2',\n    values: {[Themes.Light]: '#1D2935', [Themes.Dark]: '#CDCDCD'},\n  },\n]\n\nconst urls = [\n  {\n    name: 'loader',\n    values: {[Themes.Light]: 'url(\"/static/img/loader/loader_light-scheme.svg\")', [Themes.Dark]: 'url(\"/static/img/loader/loader_dark-scheme.svg\")'},\n  },\n]\n\nconst shadows = [\n  {\n    name: 'top-nav',\n    values: {[Themes.Light]: '0px 2px 10px rgb(0 0 0 / .1)', [Themes.Dark]: '0px 2px 10px rgb(0 0 0 / .3)'},\n  },\n]\n\n\n// Get theme value (exclude \"System\")\nfunction currentThemeValue(theme) {\n  // Get system settings\n  if (theme.value === Themes.System) {\n    if (window.matchMedia('(prefers-color-scheme)').media !== 'not all' && window.matchMedia('(prefers-color-scheme: light)').matches) {\n      return Themes.Light\n    } else {\n      return Themes.Dark\n    }\n  }\n  // Return saved value since it's not \"System\"\n  return theme.value\n}\n\n\nfunction initTheme(themeValue) {\n  colors.forEach(function(color) {\n    document.documentElement.style.setProperty(`--color-${color.name}`, color.values[themeValue])\n\n    if (color.name === 'surface-secondary') {\n      // Set the <meta name=\"theme-color\"> tag to theme the browser nav bar (Safari)\n      let meta = document.querySelector('meta[name=\"theme-color\"]')\n      meta.content = color.values[themeValue]\n    }\n  })\n\n  urls.forEach(function(url) {\n    document.documentElement.style.setProperty(`--url-${url.name}`, url.values[themeValue])\n  })\n\n  shadows.forEach(function(shadow) {\n    document.documentElement.style.setProperty(`--shadow-${shadow.name}`, shadow.values[themeValue])\n  })\n}\n\n\nexport {\n  Themes,\n  defaultTheme,\n\n  colors,\n  urls,\n  shadows,\n\n  currentThemeValue,\n  initTheme,\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreferencesPage.vue?vue&type=style&index=0&id=68d62d49&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreferencesPage.vue?vue&type=style&index=0&id=68d62d49&lang=sass&scoped=true&\"","// Check if localStorage available\nexport function isLocalStorageSupported() {\n  try {\n    const key = '__random_key_we_are_not_going_to_use__'\n    localStorage.setItem(key, key)\n    localStorage.removeItem(key)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#00c4b4\",\"white\":\"#fff\"};","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveredPrinter.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveredPrinter.vue?vue&type=style&index=0&lang=sass&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=style&index=0&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=style&index=0&lang=sass&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=style&index=0&id=bba016c8&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=style&index=0&id=bba016c8&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:{'saving-in-progress': _vm.savingClass, 'successfully-saved': _vm.savingDoneClass, 'failed-to-save': _vm.savingFailedClass, 'small-height': _vm.smallHeightClass}},[_vm._t(\"default\")],2),(_vm.errors && _vm.errors.length > 0)?_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errorMsg))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div :class=\"{'saving-in-progress': savingClass, 'successfully-saved': savingDoneClass, 'failed-to-save': savingFailedClass, 'small-height': smallHeightClass}\">\n      <slot></slot>\n    </div>\n    <small v-if=\"errors && errors.length > 0\" class=\"text-danger\">{{errorMsg}}</small>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SavingAnimation',\n\n  data() {\n    return {\n      savingTimeout: null,\n      savingDoneTimeout: null,\n    }\n  },\n\n  props: {\n    saving: {\n      default() {return false},\n      type: Boolean,\n    },\n    errors: {\n      type: Array,\n    },\n    height: {\n      default() {return 'normal'}, // normal, small\n      type: String\n    }\n  },\n\n  watch: {\n    saving: function(nowSaving, prevSaving) { // watch it\n      if (!prevSaving && nowSaving) {\n        this.clearSavingTimeout()\n        this.savingTimeout = setTimeout(this.clearSavingTimeout, 15*1000)\n      } else if (prevSaving && !nowSaving) {\n        this.clearSavingTimeout()\n        this.savingDoneTimeout = setTimeout(() => {\n          clearTimeout(this.savingDoneTimeout)\n          this.savingDoneTimeout = null\n        }, 2*1000)\n      }\n    },\n  },\n\n  computed: {\n    savingClass() {\n      return this.saving && this.savingTimeout\n    },\n    savingDoneClass() {\n      return !this.saving && this.savingDoneTimeout && !this.errors\n    },\n    savingFailedClass() {\n      return !this.saving && this.savingDoneTimeout && this.errors && this.errors.length > 0\n    },\n    smallHeightClass() {\n      return this.height === 'small'\n    },\n    errorMsg() {\n      return this.errors ? this.errors.join(' ') : ''\n    }\n  },\n\n  methods: {\n    clearSavingTimeout() {\n      if (this.savingTimeout) {\n        clearTimeout(this.savingTimeout)\n        this.savingTimeout = null\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.saving-in-progress, .successfully-saved, .failed-to-save\n  $indicatorSize: 16px\n\n  &:before\n    content: \"\"\n    background-size: $indicatorSize $indicatorSize\n    width: $indicatorSize\n    height: $indicatorSize\n    display: block\n    position: absolute\n    top: 0\n    bottom: 0\n    right: -#{$indicatorSize + 12px}\n    margin: auto\n    z-index: 9\n\n  &.saving-in-progress\n    position: relative\n\n    &:before\n      background-image: var(--url-loader)\n\n  &.successfully-saved\n    position: relative\n\n    &:before\n      background-image: url('/static/img/tick.svg')\n\n  &.failed-to-save\n    position: relative\n\n    &:before\n      background-image: url('/static/img/cross.svg')\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingAnimation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingAnimation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SavingAnimation.vue?vue&type=template&id=4606a7ec&scoped=true&\"\nimport script from \"./SavingAnimation.vue?vue&type=script&lang=js&\"\nexport * from \"./SavingAnimation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SavingAnimation.vue?vue&type=style&index=0&id=4606a7ec&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4606a7ec\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/klipper_logo.jpg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPrintPage.vue?vue&type=style&index=0&id=74b3f054&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPrintPage.vue?vue&type=style&index=0&id=74b3f054&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotFeedbackApp.vue?vue&type=style&index=0&id=26c8d4dc&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotFeedbackApp.vue?vue&type=style&index=0&id=26c8d4dc&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberInput.vue?vue&type=style&index=0&id=3cf24ad5&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberInput.vue?vue&type=style&index=0&id=3cf24ad5&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/raspberry_pi.png\";","module.exports = __webpack_public_path__ + \"img/fluidd_logo.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=style&index=0&id=66809798&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=style&index=0&id=66809798&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/plugin_rerun_setup.png\";","import startCase from 'lodash/startCase'\nimport toLower from 'lodash/toLower'\nimport replace from 'lodash/replace'\nimport get from 'lodash/get'\n\nexport function getNotificationSettingKey(notificationChannel, key) {\n  return `${notificationChannel.channelName}_${key}`\n}\n\nexport function temperatureDisplayName(name) {\n  return startCase(toLower(replace(name, /_/g, ' ')))\n}\n\nexport const getNormalizedP = (predictions, currentPosition, isPublic) => {\n  const num = Math.round(predictions.length * currentPosition)\n  const propName = isPublic ? 'p' : 'fields.normalized_p'\n  return get(predictions[num], `${propName}`, 0)\n}\n\nexport const toArrayBuffer = (maybeBin, onData) => {\n  if (!maybeBin) {\n    return\n  }\n\n  if (maybeBin instanceof Blob) {\n    const reader = new FileReader()\n    reader.addEventListener('loadend', (e) => {\n      if (!e.srcElement) {\n        return\n      }\n      onData(e.srcElement.result);\n    })\n    reader.readAsArrayBuffer(maybeBin)\n  } else {\n    onData(maybeBin)\n  }\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBox.vue?vue&type=style&index=0&id=6f83ffbe&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBox.vue?vue&type=style&index=0&id=6f83ffbe&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterControlPage.vue?vue&type=style&index=0&id=1e285107&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterControlPage.vue?vue&type=style&index=0&id=1e285107&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterCard.vue?vue&type=style&index=0&id=01008915&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterCard.vue?vue&type=style&index=0&id=01008915&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedPrinterPage.vue?vue&type=style&index=0&id=0554ad52&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedPrinterPage.vue?vue&type=style&index=0&id=0554ad52&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=style&index=1&id=7be2dcb6&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=style&index=1&id=7be2dcb6&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullScreenPrintCard.vue?vue&type=style&index=0&id=6c992524&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullScreenPrintCard.vue?vue&type=style&index=0&id=6c992524&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterSettingsPage.vue?vue&type=style&index=0&id=3b3386e6&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterSettingsPage.vue?vue&type=style&index=0&id=3b3386e6&lang=sass&scoped=true&\"","import entries from 'lodash/entries'\nimport map from 'lodash/map'\n\nexport default {\n  // APIs\n  printShotFeedback: (shotId, printId) => `/api/v1/printshotfeedbacks/${shotId}/?print_id=${printId}`,\n  print: printId => `/api/v1/prints/${printId}/`,\n  prints: () => '/api/v1/prints/',\n  printsBulkDelete: () => '/api/v1/prints/bulk_delete/',\n  printers: () => '/api/v1/printers/',\n  printer: printerId => `/api/v1/printers/${printerId}/`,\n  printerAction: (printerId, path) => `/api/v1/printers/${printerId}${path}`,\n  pubPrinter: () => '/api/v1p/printer/',\n  gcodes: (page, page_size) => `/api/v1/g_code_files/?page=${page}&page_size=${page_size ? page_size : 24}`,\n  gcode: gcodeId => `/api/v1/g_code_files/${gcodeId}/`,\n  tunnels: () => '/api/v1/tunnels/',\n  tunnel: (id) => `/api/v1/tunnels/${id}/`,\n  tunnelUsage: () => '/api/v1/tunnelusage/',\n  verificationCode: () => '/api/v1/onetimeverificationcodes/',\n  user: () => '/api/v1/users/me/',\n  sharedResources: (paramsObj) => '/api/v1/sharedresources/?'\n    + map(entries(paramsObj), (entry) => entry.join('=')).join('&'),\n  sharedResource: (resourceId) => `/api/v1/sharedresources/${resourceId}/`,\n  printerDiscovery: () => '/api/v1/printer_discovery/',\n  printerEvents: () => '/api/v1/printer_events/',\n\n  // Notifications\n  notificationPlugins: () => '/api/v1/notification_settings/available_plugins/',\n  notificationChannels: () => '/api/v1/notification_settings/',\n  updateNotificationChannel: (id) => `/api/v1/notification_settings/${id}/`,\n  testNotificationChannel: (id) => `/api/v1/notification_settings/${id}/send_test_message/`,\n\n  // App urls\n  printerControl: printerId => `/printers/${printerId}/control/`,\n  printerWebSocket: printerId => `/ws/web/${printerId}/`,\n  printerSharedWebSocket: token => `/ws/share_token/web/${token}/`,\n  printerWizard: printerId => `/printers/wizard/?printerId=${printerId}`\n}\n","module.exports = __webpack_public_path__ + \"img/octoapp.webp\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=style&index=1&lang=sass&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=style&index=1&lang=sass&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharePrinter.vue?vue&type=style&index=0&id=584a6b50&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharePrinter.vue?vue&type=style&index=0&id=584a6b50&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=style&index=0&id=56aac94c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=style&index=0&id=56aac94c&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/generic-app.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=style&index=1&lang=sass&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=style&index=1&lang=sass&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingAnimation.vue?vue&type=style&index=0&id=4606a7ec&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingAnimation.vue?vue&type=style&index=0&id=4606a7ec&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consent.vue?vue&type=style&index=0&id=05780852&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consent.vue?vue&type=style&index=0&id=05780852&lang=sass&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoLinkPopup.vue?vue&type=style&index=0&id=d8533ae2&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoLinkPopup.vue?vue&type=style&index=0&id=d8533ae2&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/plugin_verification_code.png\";","module.exports = __webpack_public_path__ + \"img/vacation.gif\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodesPage.vue?vue&type=style&index=0&id=0c1dc080&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodesPage.vue?vue&type=style&index=0&id=0c1dc080&lang=sass&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewOctoPrintTunnelPage.vue?vue&type=style&index=0&id=963b7958&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewOctoPrintTunnelPage.vue?vue&type=style&index=0&id=963b7958&lang=sass&scoped=true&\""],"sourceRoot":""}