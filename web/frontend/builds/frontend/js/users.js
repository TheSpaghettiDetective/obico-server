(function(e){function t(t){for(var a,r,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(a=!1)}a&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},i={users:0},n=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/static/frontend/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([7,"chunk-vendors"]),s()})({"0e20":function(e,t,s){"use strict";var a=s("490e"),i=s.n(a);i.a},1807:function(e,t,s){"use strict";s("99af"),s("a15b");var a=s("0b49"),i=s.n(a),n=s("dd61"),r=s.n(n);t["a"]={publicTimelapse:function(){return"/api/v1/publictimelapse/"},printShotFeedback:function(e,t){return"/api/v1/printshotfeedbacks/".concat(e,"/?print_id=").concat(t)},print:function(e){return"/api/v1/prints/".concat(e,"/")},prints:function(){return"/api/v1/prints/"},printsBulkDelete:function(){return"/api/v1/prints/bulk_delete/"},printAlertOverwrite:function(e){return"/api/v1/prints/".concat(e,"/alert_overwrite/")},printers:function(){return"/api/v1/printers/"},printer:function(e){return"/api/v1/printers/".concat(e,"/")},printerAction:function(e,t){return"/api/v1/printers/".concat(e).concat(t)},pubPrinter:function(){return"/api/v1p/printer/"},gcodes:function(e,t){return"/api/v1/gcodes/?page=".concat(e,"&page_size=").concat(t||24)},gcode:function(e){return"/api/v1/gcodes/".concat(e,"/")},tunnelUsage:function(){return"/api/v1/tunnelusage/"},verificationCode:function(){return"/api/v1/onetimeverificationcodes/"},user:function(){return"/api/v1/users/me/"},sharedResources:function(e){return"/api/v1/sharedresources/?"+r()(i()(e),(function(e){return e.join("=")})).join("&")},sharedResource:function(e){return"/api/v1/sharedresources/".concat(e,"/")},printerDiscovery:function(){return"/api/v1/printer_discovery/"},printerControl:function(e){return"/printers/".concat(e,"/control/")},printerWebSocket:function(e){return"/ws/web/".concat(e,"/")},printerSharedWebSocket:function(e){return"/ws/share_token/web/".concat(e,"/")},printerWizard:function(e){return"/printers/wizard/?printerId=".concat(e)}}},1853:function(e,t,s){},"3c33":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return i}));var a=function(e,t){var s=localStorage.getItem(e)||t;try{return JSON.parse(s)}catch(a){return s}},i=function(e,t){return localStorage.setItem(e,t)}},"471f":function(e,t,s){"use strict";var a=s("6e31"),i=s.n(a);i.a},"474e":function(e,t,s){"use strict";var a=s("b521"),i=s.n(a);i.a},"490e":function(e,t,s){},"648b":function(e,t,s){"use strict";s.d(t,"a",(function(){return I})),s.d(t,"d",(function(){return W})),s.d(t,"b",(function(){return H})),s.d(t,"c",(function(){return F}));s("99af"),s("4160"),s("b0c0"),s("d3b7"),s("ac1f"),s("159b"),s("ddb0");var a,i,n,r,o,c,l,u,d,m,f,_,p,h,v,b,g,y,C,w,k,S,x,O,j,T,D,E,$,A,L,N,P,B=s("fc11"),M=s("a026"),I={Light:"Light",Dark:"Dark",System:"System"},W=M["default"].observable({value:I.Dark,system:!1}),U=[{name:"primary-variant",values:(a={},Object(B["a"])(a,I.Light,"#B289F8"),Object(B["a"])(a,I.Dark,"#9A6AEF"),a)},{name:"primary",values:(i={},Object(B["a"])(i,I.Light,"#9965f4"),Object(B["a"])(i,I.Dark,"#A57BEE"),i)},{name:"on-primary",values:(n={},Object(B["a"])(n,I.Light,"#ffffff"),Object(B["a"])(n,I.Dark,"#ffffff"),n)},{name:"secondary",values:(r={},Object(B["a"])(r,I.Light,"#28303A"),Object(B["a"])(r,I.Dark,"#EBEBEB"),r)},{name:"on-secondary",values:(o={},Object(B["a"])(o,I.Light,"#EBEBEB"),Object(B["a"])(o,I.Dark,"#28303A"),o)},{name:"success",values:(c={},Object(B["a"])(c,I.Light,"#5cb85c"),Object(B["a"])(c,I.Dark,"#5cb85c"),c)},{name:"success-variant",values:(l={},Object(B["a"])(l,I.Light,"#4CAE4C"),Object(B["a"])(l,I.Dark,"#4CAE4C"),l)},{name:"on-success",values:(u={},Object(B["a"])(u,I.Light,"#ffffff"),Object(B["a"])(u,I.Dark,"#ffffff"),u)},{name:"danger",values:(d={},Object(B["a"])(d,I.Light,"#d9534f"),Object(B["a"])(d,I.Dark,"#d9534f"),d)},{name:"danger-variant",values:(m={},Object(B["a"])(m,I.Light,"#C2413D"),Object(B["a"])(m,I.Dark,"#C2413D"),m)},{name:"on-danger",values:(f={},Object(B["a"])(f,I.Light,"#ffffff"),Object(B["a"])(f,I.Dark,"#ffffff"),f)},{name:"warning",values:(_={},Object(B["a"])(_,I.Light,"#f0ad4e"),Object(B["a"])(_,I.Dark,"#f0ad4e"),_)},{name:"warning-variant",values:(p={},Object(B["a"])(p,I.Light,"#DB9A3F"),Object(B["a"])(p,I.Dark,"#DB9A3F"),p)},{name:"on-warning",values:(h={},Object(B["a"])(h,I.Light,"#ffffff"),Object(B["a"])(h,I.Dark,"#ffffff"),h)},{name:"on-warning-2",values:(v={},Object(B["a"])(v,I.Light,"#000000"),Object(B["a"])(v,I.Dark,"#000000"),v)},{name:"background",values:(b={},Object(B["a"])(b,I.Light,"#EBEBEB"),Object(B["a"])(b,I.Dark,"#233141"),b)},{name:"surface-primary",values:(g={},Object(B["a"])(g,I.Light,"#ffffff"),Object(B["a"])(g,I.Dark,"#485B71"),g)},{name:"surface-secondary",values:(y={},Object(B["a"])(y,I.Light,"#f5f5f5"),Object(B["a"])(y,I.Dark,"#2D3E4F"),y)},{name:"overlay",values:(C={},Object(B["a"])(C,I.Light,"#f5f5f5"),Object(B["a"])(C,I.Dark,"#000000"),C)},{name:"hover",values:(w={},Object(B["a"])(w,I.Light,"#666666"),Object(B["a"])(w,I.Dark,"#ffffff"),w)},{name:"divider",values:(k={},Object(B["a"])(k,I.Light,"#ABB6C2"),Object(B["a"])(k,I.Dark,"#6A7B8A"),k)},{name:"text-primary",values:(S={},Object(B["a"])(S,I.Light,"#28303A"),Object(B["a"])(S,I.Dark,"#EBEBEB"),S)},{name:"text-secondary",values:(x={},Object(B["a"])(x,I.Light,"#8A94A2"),Object(B["a"])(x,I.Dark,"#AAACB0"),x)},{name:"text-help",values:(O={},Object(B["a"])(O,I.Light,"#4c9be8"),Object(B["a"])(O,I.Dark,"#4c9be8"),O)},{name:"input-background",values:(j={},Object(B["a"])(j,I.Light,"#E2E8ED"),Object(B["a"])(j,I.Dark,"#42566B"),j)},{name:"table-accent-1",values:(T={},Object(B["a"])(T,I.Light,"#E3E3E3"),Object(B["a"])(T,I.Dark,"#27323F"),T)},{name:"table-accent-2",values:(D={},Object(B["a"])(D,I.Light,"#EDEDED"),Object(B["a"])(D,I.Dark,"#1B242E"),D)},{name:"icon-tunneling-1",values:(E={},Object(B["a"])(E,I.Light,"#4e5d6c"),Object(B["a"])(E,I.Dark,"#EAEAEA"),E)},{name:"icon-tunneling-2",values:($={},Object(B["a"])($,I.Light,"#1d2935"),Object(B["a"])($,I.Dark,"#CDCDCD"),$)},{name:"icon-navbar-brand",values:(A={},Object(B["a"])(A,I.Light,"#7B8993"),Object(B["a"])(A,I.Dark,"#ffffff"),A)}],R=[{name:"logo-bg",values:(L={},Object(B["a"])(L,I.Light,'url("/static/img/logo-bg/logo-bg_light.svg")'),Object(B["a"])(L,I.Dark,'url("/static/img/logo-bg/logo-bg_dark.svg")'),L)},{name:"tail-spin",values:(N={},Object(B["a"])(N,I.Light,'url("/static/img/tail-spin/tail-spin_light.svg")'),Object(B["a"])(N,I.Dark,'url("/static/img/tail-spin/tail-spin_dark.svg")'),N)}],q=[{name:"widget",values:(P={},Object(B["a"])(P,I.Light,"0px 3px 30px rgba(0, 0, 0, 0.5)"),Object(B["a"])(P,I.Dark,"0px 3px 30px rgba(0, 0, 0, 0.5)"),P)}];function V(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.log("Wrong HEX value!"),[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}function H(){var e=localStorage.getItem("colorTheme"),t=e===I.System;t&&(e="not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: light)").matches?I.Light:I.Dark),null===e&&(e=W.value),U.forEach((function(t){var s=V(t.values[e]);document.documentElement.style.setProperty("--color-".concat(t.name),"".concat(s[0]," ").concat(s[1]," ").concat(s[2]))})),R.forEach((function(t){document.documentElement.style.setProperty("--url-".concat(t.name),t.values[e])})),q.forEach((function(t){document.documentElement.style.setProperty("--shadow-".concat(t.name),t.values[e])})),W.value=e,W.system=t}function F(e){localStorage.setItem("colorTheme",e),H()}},"6bb8":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a=function(){return""!==JSON.parse(document.querySelector("#app-platform-json").text)["platform"]}},"6e31":function(e,t,s){},7:function(e,t,s){e.exports=s("e639")},"785f":function(e,t,s){"use strict";s("99af"),s("fb6a"),s("b0c0"),s("d3b7"),s("ac1f"),s("25f0"),s("5319");var a=s("0122"),i=/(?:^|[-_/])(\w)/g,n="root",r="anonymous component",o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/,c=function(e){var t=o.exec(e);return t?t.slice(1):[]},l=function(e,t){var s=c(e)[2];return t&&s.substr(-1*t.length)===t&&(s=s.substr(0,s.length-t.length)),s},u=function(e){if(!e)return r;if(e.$root===e)return n;if(!e.$options)return r;if(e.$options.name)return e.$options.name;if(e.$options._componentTag)return e.$options._componentTag;if(e.$options.__file){var t=e.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),s=l(t,".vue");return s.replace(i,(function(e,t){return t?t.toUpperCase():""}))}return r},d=function e(t,s,i,n,r,o){var c=0;for(var l in s){if(c+=1,c>o)break;"object"==Object(a["a"])(s[l])?r>n&&e(t,s[l],i+"."+l,n+1,r,o):t[i+"."+l]=s[l]}},m=function(e){var t=e.config.errorHandler;e.config.errorHandler=function(s,a,i){if(window.Sentry){var n={},r=a;if(a._original&&(r=a._original),r)try{n.componentName=u(r),d(n,JSON.parse(JSON.stringify(r.$options.propsData)),"props",0,2,10)}catch(o){console.log("Unable to extract metadata from Vue component.")}i&&(n.lifecycleHook=i),setTimeout((function(){window.Sentry.getCurrentHub().withScope((function(e){e.setContext("vue",n),window.Sentry.getCurrentHub().captureException(s)}))}))}"function"===typeof t&&t.call(e,s,a,i),e.util&&e.util.warn("Error in ".concat(i,': "').concat(s.toString(),'"'),a),console.error(s)}};t["a"]=m},"8ffe":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isInMobile?e._e():s("nav",{staticClass:"navbar navbar-expand-xl bg-dark static-top flex-column",class:{"navbar-dark":e.theme===e.themes.Dark,"navbar-light":e.theme===e.themes.Light}},[s("div",{staticClass:"container"},[s("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[s("svg",{attrs:{viewBox:"0 0 1965 240",width:"232",height:"28.34"}},[s("use",{attrs:{href:"#svg-navbar-brand"}})])]),s("button",{ref:"mobileDropdown",staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})]),s("div",{ref:"mobileDropdownContent",staticClass:"collapse navbar-collapse",attrs:{id:"navbarResponsive"}},[s("ul",{staticClass:"navbar-nav"},[e.user?s("li",{staticClass:"nav-item",class:{active:e.viewName.includes("printers")}},[s("a",{staticClass:"nav-link",attrs:{href:"/printers/"}},[e._v("Printer ")])]):e._e(),e.user?s("li",{staticClass:"nav-item",class:{active:e.viewName.includes("prints")}},[s("a",{staticClass:"nav-link",attrs:{href:"/prints/"}},[e._v("Time-lapse ")])]):e._e(),e.user?s("li",{staticClass:"nav-item",class:{active:e.viewName.includes("gcodes")}},[s("a",{staticClass:"nav-link",attrs:{href:"/gcodes/"}},[e._v("G-Code ")])]):e._e(),e.user?e._e():s("li",{staticClass:"nav-item",class:{active:"publictimelapse_list"===e.viewName}},[s("a",{staticClass:"nav-link glowing",attrs:{href:"/publictimelapses/"}},[e._v("Spaghetti Gallery")])]),e.isEnt?s("li",{staticClass:"nav-item",class:{active:"pricing"===e.viewName}},[s("a",{staticClass:"nav-link",attrs:{href:"/ent/pricing/"}},[e._v("Pricing")])]):e._e(),e._m(0),e._m(1)]),s("ul",{staticClass:"navbar-nav ml-auto"},[e.user?e._e():s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/accounts/login/"}},[e._v("Sign In")])]),!e.user&&e.allowSignUp?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"/accounts/signup/"}},[e._v("Sign up")])]):e._e(),e.isEnt&&e.user?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link badge-btn",attrs:{href:"/ent/subscription/#detective-hour-balance"}},[s("svg",{attrs:{viewBox:"0 0 384 550",width:"14.66",height:"21"}},[s("use",{attrs:{href:"#svg-detective-hours"}})]),s("span",{staticClass:"badge badge-light",attrs:{id:"user-credits"}},[e._v(e._s(e.dhBadgeNum))]),s("span",{staticClass:"sr-only"},[e._v("Detective Hours")])])]):e._e(),e.user?s("li",{ref:"accountDropdown",staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle user-menu",attrs:{"data-toggle":"dropdown",href:"#",id:e.user.id,"aria-expanded":"false"}},[e._v(" "+e._s(e.user.first_name||e.user.email)+" "),s("span",{staticClass:"caret"})]),s("div",{ref:"accountDropdownContent",staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"themes"}},[e._m(2),e.isEnt?s("a",{staticClass:"dropdown-item",attrs:{href:"/ent/subscription/"}},[s("i",{staticClass:"far fa-user-circle"}),e._v("Account")]):e._e(),s("div",{staticClass:"dropdown-divider"}),e._m(3)])]):e._e()])])])]),e.needsEmailVerification?s("div",{staticClass:"alert alert-warning text-center",attrs:{role:"alert"}},[e._v(" You will not get notified by email on print failure, as your primary email address is not verified. "),s("a",{attrs:{href:"/accounts/email/"}},[e._v("Verify your email address.")])]):e._e()])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://www.thespaghettidetective.com/help/"}},[e._v("Help")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"https://discord.gg/hsMwGpD"}},[e._v("Forum")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"dropdown-item",attrs:{href:"/user_preferences/"}},[s("i",{staticClass:"fas fa-sliders-h"}),e._v("Preferences")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"dropdown-item",attrs:{href:"/accounts/logout/"}},[s("i",{staticClass:"fas fa-sign-out-alt"}),e._v("Log out")])}],n=(s("d3b7"),s("ac1f"),s("3ca3"),s("841c"),s("2ca0"),s("ddb0"),s("2b3d"),s("c1df")),r=s.n(n),o=s("6bb8"),c=s("648b"),l={name:"Navbar",components:{},data:function(){return{user:null,allowSignUp:!1,isEnt:!1,isInMobile:!1,themes:c["a"]}},props:{viewName:{default:function(){return""},type:String}},created:function(){var e=JSON.parse(document.querySelector("#settings-json").text),t=e.ACCOUNT_ALLOW_SIGN_UP,s=e.IS_ENT;this.allowSignUp=!!t,this.isEnt=!!s,this.user=JSON.parse(document.querySelector("#user-json").text),this.isInMobile=Object(o["a"])()||window.location.pathname.startsWith("/mobile/")||"true"===new URLSearchParams(window.location.search).get("inMobile")},computed:{theme:function(){return c["d"].value},dhBadgeNum:function(){return this.user&&this.user.is_dh_unlimited?"âˆž":Math.round(this.user.dh_balance)},needsEmailVerification:function(){if(!this.user)return!1;var e=r()(this.user.date_joined).isBefore(r()().subtract(15,"days"));return this.isEnt&&!this.user.is_primary_email_verified&&e}},methods:{hideDropdowns:function(){var e=this.$refs.accountDropdown;e.classList.contains("show")&&(e.classList.remove("show"),this.$refs.accountDropdownContent.classList.remove("show"));var t=this.$refs.mobileDropdown;t.getAttribute("aria-expanded")&&(t.classList.add("collapsed"),this.$refs.mobileDropdownContent.classList.remove("show"))}}},u=l,d=(s("0e20"),s("2877")),m=Object(d["a"])(u,a,i,!1,null,"fa6736c4",null);t["a"]=m.exports},b521:function(e,t,s){},b768:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"pullToRevealWrapper",staticClass:"wrapper"},[s("div",[s("div",{staticClass:"pull-to-reveal"},[e.enable?e._t("default"):e._e()],2),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showEdge,expression:"showEdge"}],staticClass:"showing-edge"}),s("div",{staticClass:"spaceholder"})]),s("div",{ref:"staticWrapper"},[e.enable?e._e():e._t("default")],2)])},i=[],n={name:"PullToReveal",props:{showEdge:{default:function(){return!1},type:Boolean},shiftContent:{default:function(){return!0},type:Boolean},enable:{default:function(){return!1},type:Boolean}},data:function(){return{status:"closed",animationTime:.5}},watch:{enable:function(e){e?(this.destroyDisabled(),this.initEnabled()):(this.destroyEnabled(),this.initDisabled())}},mounted:function(){this.enable?this.initEnabled():this.initDisabled()},destroyed:function(){this.enable?this.destroyEnabled():this.destroyDisabled()},methods:{initEnabled:function(){window.addEventListener("scroll",this.handleScroll),document.querySelector("body").style.minHeight="101vh";var e=this.$refs.pullToRevealWrapper.querySelector(".pull-to-reveal"),t=this.$refs.pullToRevealWrapper.querySelector(".spaceholder"),s=this.animationTime;e.style.transition="all ".concat(s,"s"),t.style.transition="all ".concat(s,"s"),0===window.scrollY&&window.scrollBy({top:1,behavior:"smooth"}),window.onload=function(){var t=parseInt(window.getComputedStyle(e).height);e.style.top="-".concat(2*t,"px")}},destroyEnabled:function(){if(window&&window.removeEventListener("scroll",this.handleScroll),document&&(document.querySelector("body").style.minHeight=""),this.$refs.pullToRevealWrapper){var e=this.$refs.pullToRevealWrapper.querySelector(".pull-to-reveal");e.style.transition="none",e.style.top="-999px";var t=this.$refs.pullToRevealWrapper.querySelector(".spaceholder");t.style.transition="none"}},initDisabled:function(){var e=this.$refs.pullToRevealWrapper.querySelector(".showing-edge");e.style.display="none";var t=this.$refs.staticWrapper;t.style.position="absolute",t.style.width="100%",t.style.top="0",t.style.left="0",t.style.zIndex="10",document.querySelector("body").style.paddingTop="56px",window.onload=function(){var e=parseInt(window.getComputedStyle(t).height);document.querySelector("body").style.paddingTop="".concat(e,"px")}},destroyDisabled:function(){var e=this.$refs.pullToRevealWrapper;e&&(e.querySelector(".showing-edge").style.display="block");var t=this.$refs.staticWrapper;t&&(t.style.display="none"),document&&(document.querySelector("body").style.paddingTop=0)},handleScroll:function(){var e=window.pageYOffset,t=this.$refs.pullToRevealWrapper.querySelector(".pull-to-reveal"),s=parseInt(window.getComputedStyle(t).height);if(0===e){if("opened"===this.status)return;t.style.top=0,this.status="opened",this.shiftContent&&(this.$refs.pullToRevealWrapper.querySelector(".spaceholder").style.height="".concat(s,"px"))}else{if("closed"===this.status)return;this.$emit("hide"),t.style.top="-".concat(2*s,"px"),this.status="closed",this.shiftContent&&(this.$refs.pullToRevealWrapper.querySelector(".spaceholder").style.height=0)}}}},r=n,o=(s("cd2f"),s("2877")),c=Object(o["a"])(r,a,i,!1,null,"aef3fa0c",null);t["a"]=c.exports},cb3d:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"saving-in-progress":e.savingClass,"successfully-saved":e.savingDoneClass,"failed-to-save":e.savingFailedClass,"small-height":e.smallHeightClass}},[e._t("default"),e.errors&&e.errors.length>0?s("small",{staticClass:"text-danger"},[e._v(e._s(e.errorMsg))]):e._e()],2)},i=[],n=(s("a15b"),{name:"SavingAnimation",data:function(){return{savingTimeout:null,savingDoneTimeout:null}},props:{saving:{default:function(){return!1},type:Boolean},errors:{type:Array},height:{default:function(){return"normal"},type:String}},watch:{saving:function(e,t){var s=this;!t&&e?(this.clearSavingTimeout(),this.savingTimeout=setTimeout(this.clearSavingTimeout,15e3)):t&&!e&&(this.clearSavingTimeout(),this.savingDoneTimeout=setTimeout((function(){clearTimeout(s.savingDoneTimeout),s.savingDoneTimeout=null}),2e3))}},computed:{savingClass:function(){return this.saving&&this.savingTimeout},savingDoneClass:function(){return!this.saving&&this.savingDoneTimeout&&!this.errors},savingFailedClass:function(){return!this.saving&&this.savingDoneTimeout&&this.errors&&this.errors.length>0},smallHeightClass:function(){return"small"===this.height},errorMsg:function(){return this.errors.join(" ")}},methods:{clearSavingTimeout:function(){this.savingTimeout&&(clearTimeout(this.savingTimeout),this.savingTimeout=null)}}}),r=n,o=(s("471f"),s("2877")),c=Object(o["a"])(r,a,i,!1,null,"64ab9070",null);t["a"]=c.exports},cd2f:function(e,t,s){"use strict";var a=s("1853"),i=s.n(a);i.a},e639:function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),i=s("f357"),n=s("785f"),r=s("5f5b"),o=s("648b"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-content-center"},[s("pull-to-reveal",[s("navbar",{attrs:{"view-name":"app.views.web_views.user_preferences"}})],1),s("div",{staticClass:"col-sm-11 col-md-10 col-lg-8"},[e.user?s("div",{staticClass:"form-container"},[e.isInMobile?e._e():s("section",{staticClass:"personalization"},[s("h2",{staticClass:"section-title"},[e._v("Personalization")]),s("div",{staticClass:"form-group row mt-3"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label"},[e._v("Theme")]),s("div",{staticClass:"col-sm-9 col-md-10"},[s("div",{staticClass:"theme-controls"},[s("div",{staticClass:"theme-toggle",class:[e.themeValue],on:{click:e.toggleTheme}},[s("svg",{staticClass:"icon",class:{active:e.themeValue===e.themes.Dark},attrs:{viewBox:"0 0 39.68 39.68",fill:"currentColor"}},[s("use",{attrs:{href:"#svg-moon-icon"}})]),s("div",{staticClass:"label"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.themeValue===e.themes.Dark,expression:"themeValue === themes.Dark"}],staticClass:"dark"},[e._v("DARK")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.themeValue===e.themes.Light,expression:"themeValue === themes.Light"}],staticClass:"light"},[e._v("LIGHT")])]),s("svg",{staticClass:"icon",class:{active:e.themeValue===e.themes.Light},attrs:{viewBox:"0 0 42.07 42.07",fill:"currentColor"}},[s("use",{attrs:{href:"#svg-sun-icon"}})]),s("div",{staticClass:"active-indicator",class:{right:e.themeValue===e.themes.Light}},[s("div",{staticClass:"circle"})])])])]),s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline system-theme-control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.systemTheme,expression:"systemTheme"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_theme_system"},domProps:{checked:Array.isArray(e.systemTheme)?e._i(e.systemTheme,null)>-1:e.systemTheme},on:{change:function(t){var s=e.systemTheme,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&(e.systemTheme=s.concat([n])):r>-1&&(e.systemTheme=s.slice(0,r).concat(s.slice(r+1)))}else e.systemTheme=i}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_theme_system"}},[e._v(" Sync theme with system settings ")])])])])]),s("section",{staticClass:"profile"},[s("h2",{staticClass:"section-title"},[e._v("Profile")]),e._m(0),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label",attrs:{for:"id_first_name"}},[e._v("First Name")]),s("div",{staticClass:"col-md-10 col-sm-9"},[s("saving-animation",{attrs:{errors:e.errorMessages.first_name,saving:e.saving.first_name}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.first_name,expression:"user.first_name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"30",id:"id_first_name"},domProps:{value:e.user.first_name},on:{input:function(t){t.target.composing||e.$set(e.user,"first_name",t.target.value)}}})])],1)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label",attrs:{for:"id_last_name"}},[e._v("Last Name")]),s("div",{staticClass:"col-md-10 col-sm-9"},[s("saving-animation",{attrs:{errors:e.errorMessages.last_name,saving:e.saving.last_name}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.last_name,expression:"user.last_name"}],staticClass:"form-control",attrs:{type:"text",maxlength:"30",id:"id_last_name"},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value)}}})])],1)])]),s("section",{staticClass:"notifications"},[s("h2",{staticClass:"section-title"},[e._v("Notifications")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.notify_on_done,saving:e.saving.notify_on_done}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.notify_on_done,expression:"user.notify_on_done"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_notify_on_done"},domProps:{checked:Array.isArray(e.user.notify_on_done)?e._i(e.user.notify_on_done,null)>-1:e.user.notify_on_done},on:{change:[function(t){var s=e.user.notify_on_done,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"notify_on_done",s.concat([n])):r>-1&&e.$set(e.user,"notify_on_done",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"notify_on_done",i)},function(t){return e.updateSetting("notify_on_done")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_notify_on_done"}},[e._v(" Notify me when print job is done ")])])])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.notify_on_canceled,saving:e.saving.notify_on_canceled}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.notify_on_canceled,expression:"user.notify_on_canceled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_notify_on_canceled"},domProps:{checked:Array.isArray(e.user.notify_on_canceled)?e._i(e.user.notify_on_canceled,null)>-1:e.user.notify_on_canceled},on:{change:[function(t){var s=e.user.notify_on_canceled,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"notify_on_canceled",s.concat([n])):r>-1&&e.$set(e.user,"notify_on_canceled",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"notify_on_canceled",i)},function(t){return e.updateSetting("notify_on_canceled")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_notify_on_canceled"}},[e._v(" Notify me when print job is cancelled ")])])])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.account_notification_by_email,saving:e.saving.account_notification_by_email}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.account_notification_by_email,expression:"user.account_notification_by_email"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_account_notification_by_email"},domProps:{checked:Array.isArray(e.user.account_notification_by_email)?e._i(e.user.account_notification_by_email,null)>-1:e.user.account_notification_by_email},on:{change:[function(t){var s=e.user.account_notification_by_email,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"account_notification_by_email",s.concat([n])):r>-1&&e.$set(e.user,"account_notification_by_email",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"account_notification_by_email",i)},function(t){return e.updateSetting("account_notification_by_email")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_account_notification_by_email"}},[e._v(" Notify me on account events (such as running out of Detective Hours) ")])])])],1)])]),s("section",{staticClass:"email"},[s("h2",{staticClass:"section-title"},[e._v("Email")]),s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label",attrs:{for:"id_email"}},[e._v("Primary Email")]),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label text-muted"},[e._v(e._s(e.user.email)+" ("+e._s(e.user.is_primary_email_verified?"Verified":"Unverified")+") "),e._m(1)])]),s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label"}),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.alert_by_email,saving:e.saving.alert_by_email}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.alert_by_email,expression:"user.alert_by_email"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_alert_by_email"},domProps:{checked:Array.isArray(e.user.alert_by_email)?e._i(e.user.alert_by_email,null)>-1:e.user.alert_by_email},on:{change:[function(t){var s=e.user.alert_by_email,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"alert_by_email",s.concat([n])):r>-1&&e.$set(e.user,"alert_by_email",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"alert_by_email",i)},function(t){return e.updateSetting("alert_by_email")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_alert_by_email"}},[e._v(" Send failure alerts to all verified email addresses ")])])])],1)]),s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label"}),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.print_notification_by_email,saving:e.saving.print_notification_by_email}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.print_notification_by_email,expression:"user.print_notification_by_email"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_print_notification_by_email"},domProps:{checked:Array.isArray(e.user.print_notification_by_email)?e._i(e.user.print_notification_by_email,null)>-1:e.user.print_notification_by_email},on:{change:[function(t){var s=e.user.print_notification_by_email,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"print_notification_by_email",s.concat([n])):r>-1&&e.$set(e.user,"print_notification_by_email",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"print_notification_by_email",i)},function(t){return e.updateSetting("print_notification_by_email")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_print_notification_by_email"}},[e._v(" Send print job notifications to all verified email addresses ")])])])],1)])]),s("section",{staticClass:"sms"},[s("h2",{staticClass:"section-title"},[e._v("SMS")]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label",attrs:{for:"id_email"}},[e._v("Phone Number")]),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label"},[e.twilioEnabled?s("div",[s("saving-animation",{attrs:{errors:e.errorMessages.phone,saving:e.saving.phone}},[s("div",{staticClass:"form-group form-row"},[s("div",{staticClass:"col-sm-6 col-md-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone_country_code,expression:"user.phone_country_code"}],staticClass:"form-control",attrs:{type:"text",id:"id_phone_code",placeholder:"Country Code"},domProps:{value:e.user.phone_country_code},on:{input:function(t){t.target.composing||e.$set(e.user,"phone_country_code",t.target.value)}}})]),s("div",{staticClass:"col-sm-6 col-md-8"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone_number,expression:"user.phone_number"}],staticClass:"form-control",attrs:{type:"text",id:"id_phone_number",placeholder:"Phone Number"},domProps:{value:e.user.phone_number},on:{input:function(t){t.target.composing||e.$set(e.user,"phone_number",t.target.value)}}})])])]),e._m(2)],1):s("p",{staticClass:"text-muted"},[e._v("Please configure TWILIO_* items in settings to enable phone alert.")])])]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.alert_by_sms,saving:e.saving.alert_by_sms}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.alert_by_sms,expression:"user.alert_by_sms"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_alert_by_sms"},domProps:{checked:Array.isArray(e.user.alert_by_sms)?e._i(e.user.alert_by_sms,null)>-1:e.user.alert_by_sms},on:{change:[function(t){var s=e.user.alert_by_sms,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"alert_by_sms",s.concat([n])):r>-1&&e.$set(e.user,"alert_by_sms",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"alert_by_sms",i)},function(t){return e.updateSetting("alert_by_sms")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_alert_by_sms"}},[e._v(" Alert me via SMS when print failures are detected ")])])]),e.user.is_pro?e._e():s("small",{staticClass:"text-warning"},[e._v("Note: You won't be alerted via SMS because this is a Pro feature and you are on the Free plan.")])],1)])]),s("section",{staticClass:"pushbullet"},[s("h2",{staticClass:"section-title"},[e._v("Pushbullet")]),e._m(3),s("br"),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label",attrs:{for:"id_pushbullet_access_token"}},[e._v("Access Token")]),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.pushbullet_access_token,saving:e.saving.pushbullet_access_token}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pushbullet_access_token,expression:"user.pushbullet_access_token"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",placeholder:"Pushbullet Access Token",id:"id_pushbullet_access_token"},domProps:{value:e.user.pushbullet_access_token},on:{input:function(t){t.target.composing||e.$set(e.user,"pushbullet_access_token",t.target.value)}}})])],1)]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.print_notification_by_pushbullet,saving:e.saving.print_notification_by_pushbullet}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.print_notification_by_pushbullet,expression:"user.print_notification_by_pushbullet"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_print_notification_by_pushbullet"},domProps:{checked:Array.isArray(e.user.print_notification_by_pushbullet)?e._i(e.user.print_notification_by_pushbullet,null)>-1:e.user.print_notification_by_pushbullet},on:{change:[function(t){var s=e.user.print_notification_by_pushbullet,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"print_notification_by_pushbullet",s.concat([n])):r>-1&&e.$set(e.user,"print_notification_by_pushbullet",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"print_notification_by_pushbullet",i)},function(t){return e.updateSetting("print_notification_by_pushbullet")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_print_notification_by_pushbullet"}},[e._v(" Send print job notifications via PushPullet ")])])]),s("small",{staticClass:"text-muted"},[e._v("You will always be alerted via PushPullet on print failures.")])],1)])]),s("section",{staticClass:"discord"},[s("h2",{staticClass:"section-title"},[e._v("Discord")]),e._m(4),s("br"),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label",attrs:{for:"id_discord_webhook"}},[e._v("Webhook URL")]),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.discord_webhook,saving:e.saving.discord_webhook}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.discord_webhook,expression:"user.discord_webhook"}],staticClass:"form-control",attrs:{type:"text",maxlength:"256",placeholder:"Discord Webhook",id:"id_discord_webhook"},domProps:{value:e.user.discord_webhook},on:{input:function(t){t.target.composing||e.$set(e.user,"discord_webhook",t.target.value)}}})])],1)]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.print_notification_by_discord,saving:e.saving.print_notification_by_discord}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.print_notification_by_discord,expression:"user.print_notification_by_discord"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_print_notification_by_discord"},domProps:{checked:Array.isArray(e.user.print_notification_by_discord)?e._i(e.user.print_notification_by_discord,null)>-1:e.user.print_notification_by_discord},on:{change:[function(t){var s=e.user.print_notification_by_discord,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"print_notification_by_discord",s.concat([n])):r>-1&&e.$set(e.user,"print_notification_by_discord",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"print_notification_by_discord",i)},function(t){return e.updateSetting("print_notification_by_discord")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_print_notification_by_discord"}},[e._v(" Send print job notifications via Discord Webhook ")])])]),s("small",{staticClass:"text-muted"},[e._v("You will always be alerted via Discord on print failures.")])],1)])]),e.config.telegramBotName?s("section",{staticClass:"telegram"},[s("h2",{staticClass:"section-title"},[e._v("Telegram")]),s("small",{staticClass:"form-text text-muted"},[e._v(" Login to be notified by our Telegram bot. ")]),s("br"),s("div",{staticClass:"form-group row"},[e.user.telegram_chat_id?s("div",[s("div",{staticClass:"col-md-50"},[s("div",{staticClass:"btn btn-sm btn-primary float-left mr-2",attrs:{id:"id_telegram_logout_btn"},on:{click:e.onTelegramLogout}},[e._v("Unlink Telegram")]),s("div",{staticClass:"btn btn-sm btn-primary float-left",attrs:{id:"id_telegram_test_btn"},on:{click:function(t){return e.onTelegramTest(t)}}},[e._v("Test Telegram Notification")])])]):s("div",[s("vue-telegram-login",{attrs:{mode:"callback","telegram-login":e.config.telegramBotName,"request-access":"write"},on:{callback:e.onTelegramAuth}})],1)]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.print_notification_by_telegram,saving:e.saving.print_notification_by_telegram}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.print_notification_by_telegram,expression:"user.print_notification_by_telegram"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_print_notification_by_telegram"},domProps:{checked:Array.isArray(e.user.print_notification_by_telegram)?e._i(e.user.print_notification_by_telegram,null)>-1:e.user.print_notification_by_telegram},on:{change:[function(t){var s=e.user.print_notification_by_telegram,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"print_notification_by_telegram",s.concat([n])):r>-1&&e.$set(e.user,"print_notification_by_telegram",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"print_notification_by_telegram",i)},function(t){return e.updateSetting("print_notification_by_telegram")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_print_notification_by_telegram"}},[e._v(" Send print job notifications via Telegram ")])])]),s("small",{staticClass:"text-muted"},[e._v("You will always be alerted via Telegram on print failures.")])],1)])]):e._e(),e.pushOverEnabled?s("section",{staticClass:"pushover"},[s("h2",[e._v("Pushover")]),e._m(5),s("br"),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label",attrs:{for:"id_pushover_user_token"}},[e._v("User Key")]),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.pushover_user_token,saving:e.saving.pushover_user_token}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.pushover_user_token,expression:"user.pushover_user_token"}],staticClass:"form-control",attrs:{type:"text",maxlength:"256",placeholder:"Pushover User Key",id:"id_pushover_user_token"},domProps:{value:e.user.pushover_user_token},on:{input:function(t){t.target.composing||e.$set(e.user,"pushover_user_token",t.target.value)}}})])],1)]),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[s("saving-animation",{attrs:{errors:e.errorMessages.print_notification_by_pushover,saving:e.saving.print_notification_by_pushover}},[s("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.print_notification_by_pushover,expression:"user.print_notification_by_pushover"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_print_notification_by_pushover"},domProps:{checked:Array.isArray(e.user.print_notification_by_pushover)?e._i(e.user.print_notification_by_pushover,null)>-1:e.user.print_notification_by_pushover},on:{change:[function(t){var s=e.user.print_notification_by_pushover,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.user,"print_notification_by_pushover",s.concat([n])):r>-1&&e.$set(e.user,"print_notification_by_pushover",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.user,"print_notification_by_pushover",i)},function(t){return e.updateSetting("print_notification_by_pushover")}]}}),s("label",{staticClass:"custom-control-label",attrs:{for:"id_print_notification_by_pushover"}},[e._v(" Send print job notifications via Pushover ")])])]),s("small",{staticClass:"text-muted"},[e._v("You will always be alerted via Pushover on print failures.")])],1)])]):e._e(),e.slackEnabled?s("section",{staticClass:"slack"},[s("h2",{staticClass:"section-title"},[e._v("Slack")]),s("a",{attrs:{href:"/ent/slack_setup/"}},[e._v("Set up Slack integration >>>")])]):e._e()]):s("div",{staticClass:"text-center"},[s("b-spinner",{staticClass:"mt-5",attrs:{label:"Loading..."}})],1)])],1)},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-2 col-sm-3 col-form-label"},[e._v("Password")]),s("div",{staticClass:"col-md-10 col-sm-9 col-form-label text-muted"},[s("a",{attrs:{href:"/accounts/password/change"}},[e._v("Change")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-text"},[s("a",{attrs:{href:"/accounts/email"}},[e._v("Manage email addresses")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"text-muted"},[s("div",[e._v("Can't find your country code?")]),s("div",[e._v("The Spaghetti Detective Team is currently self-funded. Therefore we can't afford to open to countries with high SMS cost. We will add more countries once we find a cost-effective SMS solution, or secure sufficient funding.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"form-text text-muted"},[e._v(" If you have a Pushbullet account, you can "),s("a",{attrs:{href:"https://www.pushbullet.com/#settings"}},[e._v("generate an access token")]),e._v(" and enter it here. ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"form-text text-muted"},[e._v(" If you have a Discord channel you wish to receive notifications on, you can "),s("a",{attrs:{href:"https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks"}},[e._v("generate webhook url")]),e._v(" and enter it here. ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("small",{staticClass:"form-text text-muted"},[e._v(" If you have a Pushover account, you can "),s("a",{attrs:{href:"https://support.pushover.net/i7-what-is-pushover-and-how-do-i-use-it"}},[e._v("get your User Key")]),e._v(" and enter it here. ")])}],u=(s("4de4"),s("caad"),s("4fad"),s("d3b7"),s("07ac"),s("ac1f"),s("2532"),s("3ca3"),s("5319"),s("841c"),s("2ca0"),s("ddb0"),s("2b3d"),s("d0af")),d=s("0122"),m=s("fc11"),f=s("54f8"),_=s("bc3a"),p=s.n(_),h=s("1807"),v=s("cb3d"),b=s("b768"),g=s("8ffe"),y=s("d226"),C=s("6bb8"),w={name:"UserPreferencesPage",components:{SavingAnimation:v["a"],vueTelegramLogin:y["vueTelegramLogin"],PullToReveal:b["a"],Navbar:g["a"]},data:function(){return{user:null,saving:{},errorMessages:{},delayedSubmit:{first_name:{delay:1e3,timeoutId:null},last_name:{delay:1e3,timeoutId:null},pushbullet_access_token:{delay:1e3,timeoutId:null},discord_webhook:{delay:1e3,timeoutId:null},phone_number:{delay:1e3,timeoutId:null},pushover_user_token:{delay:1e3,timeoutId:null},telegram_chat_id:{delay:1e3,timeoutId:null}},twilioEnabled:!1,slackEnabled:!1,pushOverEnabled:!1,combinedInputs:{phone:["phone_country_code","phone_number"]},themes:o["a"],systemTheme:o["d"].system}},computed:{themeValue:{get:function(){return o["d"].value},set:function(e){o["d"].value=e}},firstName:{get:function(){return this.user?this.user.first_name:void 0},set:function(e){this.user.first_name=e}},lastName:{get:function(){return this.user?this.user.last_name:void 0},set:function(e){this.user.last_name=e}},phoneCountryCode:{get:function(){return this.user?this.user.phone_country_code:void 0},set:function(e){this.user.phone_country_code=e}},phoneNumber:{get:function(){return this.user?this.user.phone_number:void 0},set:function(e){this.user.phone_number=e}},pushbulletToken:{get:function(){return this.user?this.user.pushbullet_access_token:void 0},set:function(e){this.user.pushbullet_access_token=e}},discordWebhook:{get:function(){return this.user?this.user.discord_webhook:void 0},set:function(e){this.user.discord_webhook=e}},pushoverUserToken:{get:function(){return this.user?this.user.pushover_user_token:void 0},set:function(e){this.user.pushover_user_token=e}},telegramChatId:{get:function(){return this.user?this.user.telegram_chat_id:void 0},set:function(e){this.user.telegram_chat_id=e}}},watch:{systemTheme:function(e){e&&Object(o["c"])(this.themes.System)},firstName:function(e,t){void 0!==t&&this.updateSetting("first_name")},lastName:function(e,t){void 0!==t&&this.updateSetting("last_name")},phoneCountryCode:function(e,t){if(void 0!==t){if(this.errorMessages.phone=[],""===e)return void this.updateSetting("phone_country_code");var s=parseInt(e.replace(/\s/g,""));if(isNaN(s))return;this.config.twilioCountryCodes&&0!==this.config.twilioCountryCodes.length&&!this.config.twilioCountryCodes.includes(s)?this.errorMessages.phone=["Oops, we don't send SMS to this country code"]:this.updateSetting("phone_country_code")}},phoneNumber:function(e,t){void 0!==t&&this.updateSetting("phone_number")},pushbulletToken:function(e,t){void 0!==t&&this.updateSetting("pushbullet_access_token")},discordWebhook:function(e,t){void 0!==t&&this.updateSetting("discord_webhook")},pushoverUserToken:function(e,t){void 0!==t&&this.updateSetting("pushover_user_token")},telegramChatId:function(e,t){void 0!==t&&this.updateSetting("telegram_chat_id")}},props:{config:{default:function(){return{}},type:Object}},created:function(){if(document.querySelector("#settings-json")){var e=JSON.parse(document.querySelector("#settings-json").text),t=e.TWILIO_ENABLED,s=e.SLACK_CLIENT_ID,a=e.PUSHOVER_APP_TOKEN;this.twilioEnabled=!!t,this.slackEnabled=!!s,this.pushOverEnabled=!!a}this.isInMobile=Object(C["a"])()||window.location.pathname.startsWith("/mobile/")||"true"===new URLSearchParams(window.location.search).get("inMobile"),this.fetchUser()},methods:{toggleTheme:function(){var e=this.themeValue===this.themes.Light?this.themes.Dark:this.themes.Light;this.systemTheme=!1,Object(o["c"])(e)},fetchUser:function(){var e=this;return p.a.get(h["a"].user()).then((function(t){e.user=t.data}))},patchUser:function(e,t){var s=this,a={},i=e,n=this.checkForCombinedValues(e);if(n){var r,o=Object(f["a"])(n.inputs);try{for(o.s();!(r=o.n()).done;){var c=r.value;i=n.key;var l=this.user[c];a[c]=l}}catch(v){o.e(v)}finally{o.f()}var u=Object.values(a),_=u.filter((function(e){return!e}));if(_.length!==u.length&&0!==_.length)return}else a=Object(m["a"])({},e,t);return this.setSavingStatus(i,!0),p.a.patch(h["a"].user(),a).catch((function(e){if(e.response&&e.response.data&&"object"===Object(d["a"])(e.response.data))if(e.response.data.non_field_errors)s.errorAlert(e.response.data.non_field_errors);else for(var t in e.response.data)s.errorMessages[i]=e.response.data[t];else s.errorAlert()})).then((function(){s.setSavingStatus(i,!1)}))},checkForCombinedValues:function(e){for(var t=0,s=Object.entries(this.combinedInputs);t<s.length;t++){var a=Object(u["a"])(s[t],2),i=a[0],n=a[1];if(n.includes(e))return{inputs:n,key:i}}return null},setSavingStatus:function(e,t){t&&delete this.errorMessages[e],this.$set(this.saving,e,t)},errorAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$swal({icon:"error",html:"<p>".concat(e||"Can not update your preferences.",'</p><p>Get help from <a href="https://discord.com/invite/NcZkQfj">TSD discussion forum</a> if this error persists.</p>')})},updateSetting:function(e){var t=this;if(e in this.delayedSubmit){var s=this.delayedSubmit[e];return s["timeoutId"]&&clearTimeout(s["timeoutId"]),void(this.delayedSubmit[e]["timeoutId"]=setTimeout((function(){t.patchUser(e,t.user[e])}),s["delay"]))}this.patchUser(e,this.user[e])},onTelegramAuth:function(e){this.user.telegram_chat_id=JSON.stringify(e.id),this.updateSetting("telegram_chat_id")},onTelegramLogout:function(){this.user.telegram_chat_id=null,this.updateSetting("telegram_chat_id")},onTelegramTest:function(e){var t=this;return e.target.classList.add("disabled"),p.a.post("/test_telegram").then((function(){e.target.classList.add("btn-success")})).catch((function(e){t.errorAlert("Telegram test failed."),console.log(e)}))}}},k=w,S=(s("474e"),s("2877")),x=Object(S["a"])(k,c,l,!1,null,"1dac6805",null),O=x.exports;Object(o["b"])(),Object(n["a"])(a["default"]),a["default"].use(i["a"]),a["default"].use(r["a"]),new a["default"]({components:{UserPreferencesPage:O}}).$mount("#user-preferences-mount")},f357:function(e,t,s){"use strict";var a=s("f3f3"),i=s("a026"),n=s("5886"),r=s("3c33"),o=function(e,t,s){var n=document.createElement("div"),r=new i["default"]({render:function(s){return s(e,{props:t})}}).$mount(n);return i["default"].swal(Object(a["a"])(Object(a["a"])({},s),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(e){e.querySelector("#replace-here").replaceWith(r.$el)},onDestroy:function(){r.$destroy(),n.remove()}}))},c=function(e,t,s){return i["default"].swal(Object(a["a"])(Object(a["a"])({},s),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(t){t.querySelector("#replace-here").replaceWith(e)}}))},l=function(e,t){e.use(n["a"],t);var s=e.swal.mixin({title:"Are you sure?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{container:"dark-backdrop"}}),i=e.swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3}),l=function(t,s){if(!Object(r["a"])(s,!1)){var i=Object(a["a"])(Object(a["a"])({},t),{},{position:"top-end",confirmButtonText:"Gotcha! Don't show this again."});return e.swal(i).then((function(e){e.value&&(Object(r["b"])(s,!0),console.log(e))}))}};e.prototype.$swal["openModalWithComponent"]=o,e.prototype.$swal["openModalWithElement"]=c,e.prototype.$swal["Confirm"]=s,e.prototype.$swal["Toast"]=i,e.prototype.$swal["DismissableToast"]=l};t["a"]={install:l}}});
//# sourceMappingURL=users.js.map