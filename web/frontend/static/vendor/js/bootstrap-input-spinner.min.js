!function(k){"use strict";var B=!1,e=k.fn.val;function S(t,n){t.addEventListener("mousedown",function(t){t.preventDefault(),n(t)}),t.addEventListener("touchstart",function(t){t.cancelable&&t.preventDefault(),n(t)}),t.addEventListener("keydown",function(t){32!==t.keyCode||B||(B=!0,n(t))})}k.fn.val=function(t){if(1<=arguments.length&&this[0]&&this[0]["bootstrap-input-spinner"]&&this[0].setValue){var n=this[0];setTimeout(function(){n.setValue(t)})}return e.apply(this,arguments)},k.fn.InputSpinner=k.fn.inputSpinner=function(t){var T={decrementButton:"<strong>-</strong>",incrementButton:"<strong>+</strong>",groupClass:"",buttonsClass:"btn-outline-secondary",buttonsWidth:"2.5rem",textAlign:"center",autoDelay:500,autoInterval:100,boostThreshold:10,boostMultiplier:"auto",locale:null};for(var n in t)T[n]=t[n];var D='<div class="input-group '+T.groupClass+'"><div class="input-group-prepend"><button style="min-width: '+T.buttonsWidth+'" class="btn btn-decrement '+T.buttonsClass+'" type="button">'+T.decrementButton+'</button></div><input type="text" style="text-align: '+T.textAlign+'" class="form-control"/><div class="input-group-append"><button style="min-width: '+T.buttonsWidth+'" class="btn btn-increment '+T.buttonsClass+'" type="button">'+T.incrementButton+"</button></div></div>",L=T.locale||navigator.language||"en-US";return this.each(function(){var i=k(this);i[0]["bootstrap-input-spinner"]=!0,i.hide();var n=null,e=null,o="auto"===T.boostMultiplier,a=o?1:T.boostMultiplier,p=k(D),s=p.find(".btn-decrement"),l=p.find(".btn-increment"),c=p.find("input"),d=null,f=null,v=null,m=null,g=null,b=null,h=null;C();var r=parseFloat(i[0].value),u=0,t=i.attr("data-prefix")||"",y=i.attr("data-suffix")||"";if(t){var x=k('<span class="input-group-text">'+t+"</span>");p.find(".input-group-prepend").append(x)}if(y){var E=k('<span class="input-group-text">'+y+"</span>");p.find(".input-group-append").prepend(E)}function w(t,n){void 0===n&&(n=!0),r=isNaN(t)||""===t?(i[0].value="",n&&(c[0].value=""),NaN):(t=parseFloat(t),t=Math.min(Math.max(t,d),f),t=Math.round(t*Math.pow(10,g))/Math.pow(10,g),i[0].value=t,n&&(c[0].value=h.format(t)),t)}function M(n,e){e&&setTimeout(function(){var t;"function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!0),n[0].dispatchEvent(t)})}function F(t){c[0].disabled||c[0].readOnly||(N(t),I(),n=setTimeout(function(){e=setInterval(function(){u>T.boostThreshold?o?(N(t*parseInt(a,10)),a<1e8&&(a*=1.1),m&&(a=Math.min(m,a))):N(t*a):N(t),u++},T.autoInterval)},T.autoDelay))}function N(t){isNaN(r)&&(r=0),w(Math.round(r/t)*t+t),M(i,"input"),M(i,"change")}function I(){u=0,a=a=o?1:T.boostMultiplier,clearTimeout(n),clearTimeout(e)}function C(){c.prop("required",i.prop("required")),c.prop("placeholder",i.prop("placeholder"));var t=i.prop("disabled"),n=i.prop("readonly");c.prop("disabled",t),c.prop("readonly",n),l.prop("disabled",t||n),s.prop("disabled",t||n),(t||n)&&I();var e=i.prop("class"),o="";/form-control-sm/g.test(e)?o="input-group-sm":/form-control-lg/g.test(e)&&(o="input-group-lg");var a=e.replace(/form-control(-(sm|lg))?/g,"");p.prop("class","input-group "+o+" "+T.groupClass),c.prop("class","form-control "+a),d=parseFloat(i.prop("min"))||0,f=isNaN(i.prop("max"))||""===i.prop("max")?1/0:parseFloat(i.prop("max")),v=parseFloat(i.prop("step"))||1,m=parseInt(i.attr("data-step-max"))||0;var r=parseInt(i.attr("data-decimals"))||0,u=!("false"===i.attr("data-digit-grouping"));g===r&&b===u||(g=r,b=u,h=new Intl.NumberFormat(L,{minimumFractionDigits:g,maximumFractionDigits:g,useGrouping:b}))}i[0].setValue=function(t){w(t)},new MutationObserver(function(){C(),w(r,!0)}).observe(i[0],{attributes:!0}),i.after(p),w(r),c.on("paste input change focusout",function(t){var n=c[0].value,e="focusout"===t.type;w(n=function(t){var n=new Intl.NumberFormat(L),e=n.format(1111).replace(/1/g,""),o=n.format(1.1).replace(/1/g,"");return parseFloat(t.replace(new RegExp("\\"+e,"g"),"").replace(new RegExp("\\"+o),"."))}(n),e),M(i,t.type)}),S(s[0],function(){F(-v)}),S(l[0],function(){F(v)}),function(t,n){t.addEventListener("mouseup",function(t){n(t)}),t.addEventListener("touchend",function(t){n(t)}),t.addEventListener("keyup",function(t){32===t.keyCode&&(B=!1,n(t))})}(document.body,function(){I()})}),this}}(jQuery);
